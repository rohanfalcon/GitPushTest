<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="8">
  <HTTPTask id="902" hostname="es00vqweb15.qa.appdev" path="/starsclassroom/SchoolAdmin/PIPOList.aspx" url="https://es00vqweb15.qa.appdev/starsclassroom/SchoolAdmin/PIPOList.aspx" ip="10.2.55.154" port="443" connectionId="54" origin="Primary" frame="1" startDateTime="2017-08-29T16:57:15.125-04:00" startTime="1236436749" endTime="1236437217">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24veC1tcy1hcHBsaWNhdGlvbiwgaW1hZ2UvanBlZywgYXBwbGljYXRpb24veGFtbCt4bWwsIGltYWdlL2dpZiwgaW1hZ2UvcGpwZWcsIGFwcGxpY2F0aW9uL3gtbXMteGJhcCwgYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLCBhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludCwgYXBwbGljYXRpb24vbXN3b3JkLCAqLyo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9lczAwdnF3ZWIxNS5xYS5hcHBkZXYvc3RhcnNjbGFzc3Jvb20vU2Nob29sQWRtaW4vZGVmYXVsdC5hc3B4</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IFRyaWRlbnQvNy4wOyBTTENDMjsgLk5FVCBDTFIgMi4wLjUwNzI3OyAuTkVUIENMUiAzLjUuMzA3Mjk7IC5ORVQgQ0xSIDMuMC4zMDcyOTsgTWVkaWEgQ2VudGVyIFBDIDYuMDsgLk5FVDQuMEM7IC5ORVQ0LjBFOyBJbmZvUGF0aC4zOyAuTkVUIENMUiAxLjEuNDMyMik=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZXMwMHZxd2ViMTUucWEuYXBwZGV2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="DNT" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LkFTUFhBVVRIPTFGOTcyMzE1MUFEMzQzNUU4M0QzNEYzNUE0MzI5M0Y0REE0QjVBRkI1QUZENzlGNTkwQTMxMTlFQzJBQjE0OEIxNkMwODI1MzNBMTNFN0NCOTk1RTkyOEM3RkZBM0QyNzMxMTU2MjI4Q0IzN0Y4MUU4RUEyRURDMEQwODhEMUI0NDg0QTgwMjEyQkIzRTY3QTgzNzc0OTAzMDc3Q0NGRTNCNEIzNjc5MUJBNzY2OTM5MEQ5RTY3MEZDODYxNkJGRDI5NjY3MENEQTY5QzM5QkZBNjRFODI3Mzg5QTFENzA0MkE3NTMzNDA3NUZFQkE3NzRDNjc1RDlBREMwNkM2OUI3RjNDOEFCMkE4MjYzOTIxNUExQjA2RkE1MDUwQjdCRTQxNDYwNTk4Qzc4Qzk0REVGMTgwNTI3NUFDQzJBQjM3NzM1MkNGMTIxQ0EzRjQzMThEMjcxRDFFMDMzODc0OUJFMTNBRDc2NDVBQjUyNjc2ODkxRUFEMzJEODRBMDUxQzZBRjgwMzI5NjJCQUVCOERGQ0ExOEUyMzlENENCMDdFRkJCQzMzMUIwQzU4MThBQjYwNUEwOThFNDAxMUUzNERCRjhEMEUxQTkyN0MwMjQ0NkM3Mjc3NjlBRDlEMjg2NzVERDZCOUREQjk1RjNBRDgxMjIwMTQ1NTExOTk4MjFGNDRDMTQ5MDUzMkQzOTFGQkIwRkYxRkUzNzc0Qzg0NzRDQjI5NzYzRTkyOUZEQTlCRTJGRTQ2M0IzQTU1ODY2M0IwMjg2RUFEQjlDMjkyRTZFMEE4OTREOEMxQUNFQjE4MzFFM0UxQzI5N0ZEMDY2MTIyMDI2MzJDM0IwMEI1OTY5NDM2N0EwOUE3MzBBRTlERjNEMkRBQ0E2OUE2Qzk1RkYwMjUyMkJCNjQzMjFGQkIxNkExNDVERjY0MTkxOTVFQTRCRTY0QkI1RDM0NTNDNjNDRUFGQjRCOEJFODJCOUUyODYxRkFGNDExN0M4Q0NEQTM2REE0QTEyRjUwQThBQTI2RkVDOUZDOEYzMTY3QTc5NzBCNzA3RDBGQjNGM0I4MzY5NTYxMUU5M0U4QzI0QzA5QTAxRTFCMUE0NjFBMjQ2RDUwMDk0MDU4MTQ0ODVCNTA2NEE1RTVFQ0Y5M0JDRDM4MkIzQTYyQzYzNzk5MzNGNTQ4REU3REFDNzRGN0U2MUI4RTE4QUY5NTRBNENFMTZFNURDOEI1Qzk0MUZBRUNCQUZERTZEQkQwNjhGQURGNEI2MDRFNjAzRjM3Q0Q0NDVGRUMwREE4Q0Q3QTk2MTY5MjgwREFCNTUzMDlCQTk4MEJCQjA1RDU2MDU1NzhEMzlCOTBCMzI3QkJDRDdCM0YzNEUxMEJGMTI2RjNGOUE1RkE1MkM5MzI3NDQ1NkI2M0ZGQTI2QkU1MjY1NEUyNEUyNjREQTY2NTg0NEU4RDJDM0I4M0UzMjg4RjI0ODZDQkU5QTk5MTY4QUZCM0REMDZCQUUwMEZFRDQwOEYwRTg1OTYxOTVBNURBQjA2REFFNUY2QkY0QTdBNDYzMDFFQzU2RjI2ODNEOERFRDhBQkRFQjYzOUJFMjg2REU1NkFBQzk4Q0UzQTFBM0E3MzgxMjgyNEMwNDQwNURFMzNEQkRFQzE2RUMyQTdBOEYzNzIyNURGNjM3NzVDOTVFRjQxMTVBQzI1OEFFQzVCRDhFMTRGNEEzRkM3NzI1NDQwNjY4RThBRENERjRFRUFCNzUxM0NGOTEyMUIxMzsgQVNQLk5FVF9TZXNzaW9uSWQ9ZHdyemVjMWxpZmx2M2lsd3dkdGlxNGN6</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9zdGFyc2NsYXNzcm9vbS9TY2hvb2xBZG1pbi9QSVBPTGlzdC5hc3B4IEhUVFAvMS4xDQpBY2NlcHQ6IGFwcGxpY2F0aW9uL3gtbXMtYXBwbGljYXRpb24sIGltYWdlL2pwZWcsIGFwcGxpY2F0aW9uL3hhbWwreG1sLCBpbWFnZS9naWYsIGltYWdlL3BqcGVnLCBhcHBsaWNhdGlvbi94LW1zLXhiYXAsIGFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCwgYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnQsIGFwcGxpY2F0aW9uL21zd29yZCwgKi8qDQpSZWZlcmVyOiBodHRwczovL2VzMDB2cXdlYjE1LnFhLmFwcGRldi9zdGFyc2NsYXNzcm9vbS9TY2hvb2xBZG1pbi9kZWZhdWx0LmFzcHgNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA2LjE7IFdPVzY0OyBUcmlkZW50LzcuMDsgU0xDQzI7IC5ORVQgQ0xSIDIuMC41MDcyNzsgLk5FVCBDTFIgMy41LjMwNzI5OyAuTkVUIENMUiAzLjAuMzA3Mjk7IE1lZGlhIENlbnRlciBQQyA2LjA7IC5ORVQ0LjBDOyAuTkVUNC4wRTsgSW5mb1BhdGguMzsgLk5FVCBDTFIgMS4xLjQzMjIpDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IGVzMDB2cXdlYjE1LnFhLmFwcGRldg0KRE5UOiAxDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IC5BU1BYQVVUSD0xRjk3MjMxNTFBRDM0MzVFODNEMzRGMzVBNDMyOTNGNERBNEI1QUZCNUFGRDc5RjU5MEEzMTE5RUMyQUIxNDhCMTZDMDgyNTMzQTEzRTdDQjk5NUU5MjhDN0ZGQTNEMjczMTE1NjIyOENCMzdGODFFOEVBMkVEQzBEMDg4RDFCNDQ4NEE4MDIxMkJCM0U2N0E4Mzc3NDkwMzA3N0NDRkUzQjRCMzY3OTFCQTc2NjkzOTBEOUU2NzBGQzg2MTZCRkQyOTY2NzBDREE2OUMzOUJGQTY0RTgyNzM4OUExRDcwNDJBNzUzMzQwNzVGRUJBNzc0QzY3NUQ5QURDMDZDNjlCN0YzQzhBQjJBODI2MzkyMTVBMUIwNkZBNTA1MEI3QkU0MTQ2MDU5OEM3OEM5NERFRjE4MDUyNzVBQ0MyQUIzNzczNTJDRjEyMUNBM0Y0MzE4RDI3MUQxRTAzMzg3NDlCRTEzQUQ3NjQ1QUI1MjY3Njg5MUVBRDMyRDg0QTA1MUM2QUY4MDMyOTYyQkFFQjhERkNBMThFMjM5RDRDQjA3RUZCQkMzMzFCMEM1ODE4QUI2MDVBMDk4RTQwMTFFMzREQkY4RDBFMUE5MjdDMDI0NDZDNzI3NzY5QUQ5RDI4Njc1REQ2QjlEREI5NUYzQUQ4MTIyMDE0NTUxMTk5ODIxRjQ0QzE0OTA1MzJEMzkxRkJCMEZGMUZFMzc3NEM4NDc0Q0IyOTc2M0U5MjlGREE5QkUyRkU0NjNCM0E1NTg2NjNCMDI4NkVBREI5QzI5MkU2RTBBODk0RDhDMUFDRUIxODMxRTNFMUMyOTdGRDA2NjEyMjAyNjMyQzNCMDBCNTk2OTQzNjdBMDlBNzMwQUU5REYzRDJEQUNBNjlBNkM5NUZGMDI1MjJCQjY0MzIxRkJCMTZBMTQ1REY2NDE5MTk1RUE0QkU2NEJCNUQzNDUzQzYzQ0VBRkI0QjhCRTgyQjlFMjg2MUZBRjQxMTdDOENDREEzNkRBNEExMkY1MEE4QUEyNkZFQzlGQzhGMzE2N0E3OTcwQjcwN0QwRkIzRjNCODM2OTU2MTFFOTNFOEMyNEMwOUEwMUUxQjFBNDYxQTI0NkQ1MDA5NDA1ODE0NDg1QjUwNjRBNUU1RUNGOTNCQ0QzODJCM0E2MkM2Mzc5OTMzRjU0OERFN0RBQzc0RjdFNjFCOEUxOEFGOTU0QTRDRTE2RTVEQzhCNUM5NDFGQUVDQkFGREU2REJEMDY4RkFERjRCNjA0RTYwM0YzN0NENDQ1RkVDMERBOENEN0E5NjE2OTI4MERBQjU1MzA5QkE5ODBCQkIwNUQ1NjA1NTc4RDM5QjkwQjMyN0JCQ0Q3QjNGMzRFMTBCRjEyNkYzRjlBNUZBNTJDOTMyNzQ0NTZCNjNGRkEyNkJFNTI2NTRFMjRFMjY0REE2NjU4NDRFOEQyQzNCODNFMzI4OEYyNDg2Q0JFOUE5OTE2OEFGQjNERDA2QkFFMDBGRUQ0MDhGMEU4NTk2MTk1QTVEQUIwNkRBRTVGNkJGNEE3QTQ2MzAxRUM1NkYyNjgzRDhERUQ4QUJERUI2MzlCRTI4NkRFNTZBQUM5OENFM0ExQTNBNzM4MTI4MjRDMDQ0MDVERTMzREJERUMxNkVDMkE3QThGMzcyMjVERjYzNzc1Qzk1RUY0MTE1QUMyNThBRUM1QkQ4RTE0RjRBM0ZDNzcyNTQ0MDY2OEU4QURDREY0RUVBQjc1MTNDRjkxMjFCMTM7IEFTUC5ORVRfU2Vzc2lvbklkPWR3cnplYzFsaWZsdjNpbHd3ZHRpcTRjeg0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name=".ASPXAUTH" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MUY5NzIzMTUxQUQzNDM1RTgzRDM0RjM1QTQzMjkzRjREQTRCNUFGQjVBRkQ3OUY1OTBBMzExOUVDMkFCMTQ4QjE2QzA4MjUzM0ExM0U3Q0I5OTVFOTI4QzdGRkEzRDI3MzExNTYyMjhDQjM3RjgxRThFQTJFREMwRDA4OEQxQjQ0ODRBODAyMTJCQjNFNjdBODM3NzQ5MDMwNzdDQ0ZFM0I0QjM2NzkxQkE3NjY5MzkwRDlFNjcwRkM4NjE2QkZEMjk2NjcwQ0RBNjlDMzlCRkE2NEU4MjczODlBMUQ3MDQyQTc1MzM0MDc1RkVCQTc3NEM2NzVEOUFEQzA2QzY5QjdGM0M4QUIyQTgyNjM5MjE1QTFCMDZGQTUwNTBCN0JFNDE0NjA1OThDNzhDOTRERUYxODA1Mjc1QUNDMkFCMzc3MzUyQ0YxMjFDQTNGNDMxOEQyNzFEMUUwMzM4NzQ5QkUxM0FENzY0NUFCNTI2NzY4OTFFQUQzMkQ4NEEwNTFDNkFGODAzMjk2MkJBRUI4REZDQTE4RTIzOUQ0Q0IwN0VGQkJDMzMxQjBDNTgxOEFCNjA1QTA5OEU0MDExRTM0REJGOEQwRTFBOTI3QzAyNDQ2QzcyNzc2OUFEOUQyODY3NURENkI5RERCOTVGM0FEODEyMjAxNDU1MTE5OTgyMUY0NEMxNDkwNTMyRDM5MUZCQjBGRjFGRTM3NzRDODQ3NENCMjk3NjNFOTI5RkRBOUJFMkZFNDYzQjNBNTU4NjYzQjAyODZFQURCOUMyOTJFNkUwQTg5NEQ4QzFBQ0VCMTgzMUUzRTFDMjk3RkQwNjYxMjIwMjYzMkMzQjAwQjU5Njk0MzY3QTA5QTczMEFFOURGM0QyREFDQTY5QTZDOTVGRjAyNTIyQkI2NDMyMUZCQjE2QTE0NURGNjQxOTE5NUVBNEJFNjRCQjVEMzQ1M0M2M0NFQUZCNEI4QkU4MkI5RTI4NjFGQUY0MTE3QzhDQ0RBMzZEQTRBMTJGNTBBOEFBMjZGRUM5RkM4RjMxNjdBNzk3MEI3MDdEMEZCM0YzQjgzNjk1NjExRTkzRThDMjRDMDlBMDFFMUIxQTQ2MUEyNDZENTAwOTQwNTgxNDQ4NUI1MDY0QTVFNUVDRjkzQkNEMzgyQjNBNjJDNjM3OTkzM0Y1NDhERTdEQUM3NEY3RTYxQjhFMThBRjk1NEE0Q0UxNkU1REM4QjVDOTQxRkFFQ0JBRkRFNkRCRDA2OEZBREY0QjYwNEU2MDNGMzdDRDQ0NUZFQzBEQThDRDdBOTYxNjkyODBEQUI1NTMwOUJBOTgwQkJCMDVENTYwNTU3OEQzOUI5MEIzMjdCQkNEN0IzRjM0RTEwQkYxMjZGM0Y5QTVGQTUyQzkzMjc0NDU2QjYzRkZBMjZCRTUyNjU0RTI0RTI2NERBNjY1ODQ0RThEMkMzQjgzRTMyODhGMjQ4NkNCRTlBOTkxNjhBRkIzREQwNkJBRTAwRkVENDA4RjBFODU5NjE5NUE1REFCMDZEQUU1RjZCRjRBN0E0NjMwMUVDNTZGMjY4M0Q4REVEOEFCREVCNjM5QkUyODZERTU2QUFDOThDRTNBMUEzQTczODEyODI0QzA0NDA1REUzM0RCREVDMTZFQzJBN0E4RjM3MjI1REY2Mzc3NUM5NUVGNDExNUFDMjU4QUVDNUJEOEUxNEY0QTNGQzc3MjU0NDA2NjhFOEFEQ0RGNEVFQUI3NTEzQ0Y5MTIxQjEz</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ASP.NET_SessionId" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZHdyemVjMWxpZmx2M2lsd3dkdGlxNGN6</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Cache-Control" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY2FjaGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Pragma" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY2FjaGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy84LjA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-AspNet-Version" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NC4wLjMwMzE5</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-UA-Compatible" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SUU9ZWRnZSxjaHJvbWU9MQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAyOSBBdWcgMjAxNyAyMDo1MDozMSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NTA2MDQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDYWNoZS1Db250cm9sOiBuby1jYWNoZQ0KUHJhZ21hOiBuby1jYWNoZQ0KQ29udGVudC1UeXBlOiB0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgNCkV4cGlyZXM6IC0xDQpTZXJ2ZXI6IE1pY3Jvc29mdC1JSVMvOC4wDQpYLUFzcE5ldC1WZXJzaW9uOiA0LjAuMzAzMTkNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KWC1VQS1Db21wYXRpYmxlOiBJRT1lZGdlLGNocm9tZT0xDQpEYXRlOiBUdWUsIDI5IEF1ZyAyMDE3IDIwOjUwOjMxIEdNVA0KQ29udGVudC1MZW5ndGg6IDUwNjA0DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>DQoNCjwhRE9DVFlQRSBodG1sIFBVQkxJQyAiLS8vVzNDLy9EVEQgWEhUTUwgMS4wIFN0cmljdC8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9UUi94aHRtbDEvRFREL3hodG1sMS1zdHJpY3QuZHRkIj4NCjxodG1sIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiB4bWw6bGFuZz0iZW4iPg0KPGhlYWQ+PHRpdGxlPg0KCVB1c2gtSW4vUHVsbC1PdXQgSW5zdHJ1Y3Rpb24NCjwvdGl0bGU+PG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlLGNocm9tZT0xIiAvPjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04IiAvPjxsaW5rIGlkPSJDaGVja0JveFNsaWRlckNzcyIgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL3VpL2FwcHMvc2l0ZXMvc3RhcnNfY2xhc3Nyb29tL2NoZWNrYm94U2xpZGVyLmNzcz92ZXI9Mi4zMS4xLjIiIC8+PGxpbmsgaWQ9Ikl2b3J5Q3NzIiByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSIvdWkvYXBwcy9zaXRlcy9zdGFyc19jbGFzc3Jvb20vaXZvcnkuY3NzP3Zlcj0yLjMxLjEuMiIgLz48bGluayBpZD0iRWxlbWVudGFyeVNjaG9vbFNjaGVkdWxpbmdDc3MiIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Ii91aS9hcHBzL3NpdGVzL3N0YXJzX2NsYXNzcm9vbS9lbGVtZW50YXJ5c2Nob29sc2NoZWR1bGluZy5jc3M/dmVyPTIuMzEuMS4yIiAvPjxsaW5rIGlkPSJLZW5kb0NvbW1vbkNzcyIgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIvdWkvYXBwcy9zaXRlcy9zdGFyc19jbGFzc3Jvb20va2VuZG8va2VuZG8uY29tbW9uLmNzcz92ZXI9Mi4zMS4xLjIiIC8+PGxpbmsgaWQ9IktlbmRvRGVmYXVsdENzcyIgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIvdWkvYXBwcy9zaXRlcy9zdGFyc19jbGFzc3Jvb20va2VuZG8va2VuZG8uZGVmYXVsdC5jc3M/dmVyPTIuMzEuMS4yIiAvPjxsaW5rIGlkPSJLZW5kb01ldHJvQ3NzIiByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii91aS9hcHBzL3NpdGVzL3N0YXJzX2NsYXNzcm9vbS9rZW5kby9rZW5kby5tZXRyby5taW4uY3NzP3Zlcj0yLjMxLjEuMiIgLz48bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSIuLi9Db250ZW50L3RvYXN0ci5jc3MiIC8+PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVBUK1NhbnM6NDAwLDcwMCw0MDBpdGFsaWMsNzAwaXRhbGljIiAvPjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iL3VpL2FwcHMvcmVzb3VyY2VzL2ZvbnQtYXdlc29tZS9jc3MvZm9udC1hd2Vzb21lLm1pbi5jc3MiIHR5cGU9InRleHQvY3NzIiAvPjxsaW5rIGlkPSJNYWluQ3NzIiByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSIvdWkvYXBwcy9zaXRlcy9zdGFyc19jbGFzc3Jvb20vbWFpbi5jc3M/dmVyPTIuMzEuMS4yIiAvPg0KDQogICAgPCEtLVtpZiBsdGUgSUUgOF0+DQogICAgPGxpbmsgaWQ9IkllOENzcyIgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL3VpL2FwcHMvc2l0ZXMvc3RhcnNfY2xhc3Nyb29tL2llOC5jc3M/dmVyPTIuMzEuMS4yIiAvPiAgICANCiAgICA8IVtlbmRpZl0tLT4NCg0KICAgIDxzY3JpcHQgc3JjPSIvc3RhcnNjbGFzc3Jvb20vU2NyaXB0cy9rZW5kby9qcXVlcnkubWluLmpzP3Zlcj0yLjMxLjEuMiIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4NCiAgICA8c2NyaXB0IHNyYz0iL3N0YXJzY2xhc3Nyb29tL1NjcmlwdHMva2VuZG8va2VuZG8uYWxsLm1pbi5qcz92ZXI9Mi4zMS4xLjIiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQogICAgPHNjcmlwdCBzcmM9Ii9zdGFyc2NsYXNzcm9vbS9TY3JpcHRzL3RvYXN0ci5taW4uanM/dmVyPTIuMzEuMS4yIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pg0KICAgIDxzY3JpcHQgc3JjPSIvc3RhcnNjbGFzc3Jvb20vU2NyaXB0cy91bnNhdmVkY29uZmlybWF0aW9uLmpzP3Zlcj0yLjMxLjEuMiIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4NCg0KICAgIDwhLS1baWYgbHRlIElFIDhdPg0KICAgIDxzY3JpcHQgc3JjPSIvc3RhcnNjbGFzc3Jvb20vU2NyaXB0cy9pZThGYWxsYmFjay5qcz92ZXI9Mi4zMS4xLjIiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQogICAgPCFbZW5kaWZdLS0+DQoNCiAgICA8c2NyaXB0IHNyYz0iL3N0YXJzY2xhc3Nyb29tL1NjcmlwdHMvdmFsaWRhdGUubWluLmpzP3Zlcj0yLjMxLjEuMiIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4NCg0KICAgIA0KPGxpbmsgaHJlZj0iL3N0YXJzY2xhc3Nyb29tL1dlYlJlc291cmNlLmF4ZD9kPXVyQ0FDVWFVWmVUNm9Qb0laWFNoYnE5TFEteWgxYjhOQy10TkFteHZ1dlVkSWNxRzFHNU5saG9XdUlHSGZZaGc2SWhZR0JMVU5DZFpEbFJzMjlCbF91N0sxWW1ZOTNFWkdXNWc0c1pQU1pkd3RvRUgwJmFtcDt0PTYzNjM2MDU4OTU2NDM2NzYwMyIgdHlwZT0idGV4dC9jc3MiIHJlbD0ic3R5bGVzaGVldCIgY2xhc3M9IlRlbGVyaWtfc3R5bGVzaGVldCIgLz48bGluayBocmVmPSIvc3RhcnNjbGFzc3Jvb20vV2ViUmVzb3VyY2UuYXhkP2Q9YXVwTG9yejN3OEE4ME9KRUVLSXdvSVljSjJWWVI3cFZQcmZEcFJoS3k3U2pzVlpCYjE5c1k2cm1HUU1oSzlzTF94UkJXR0FWcXJoSG1XLUFPc3hsUThTY3BEaU9yQzdkUFNEbEpCb0FtZGJPTFhlLUxpYy0zOXFiS1Y0Zk5zbk5VNVdlYlEyJmFtcDt0PTYzNjM2MDU4OTU1OTA3NzYwMyIgdHlwZT0idGV4dC9jc3MiIHJlbD0ic3R5bGVzaGVldCIgY2xhc3M9IlRlbGVyaWtfc3R5bGVzaGVldCIgLz48bGluayBocmVmPSIvc3RhcnNjbGFzc3Jvb20vV2ViUmVzb3VyY2UuYXhkP2Q9ZnFDUHJLdm9QSlZjMXJWN0ljakhqUzd5UWl0ckpSZzItMFFTdnpiaEZySUVoYk8yUlBHU1RFSkhkLXdZaTdYdDcxemlhSzVMQWEwSU1mS0pTWXNBc1RfY3BCTl9jWnV3NXJPazJmVFdKai1jTkZwWGhCU3FHZG81X3dBX2g2WHpKanFOencyJmFtcDt0PTYzNjM2MDU4OTU2NDM2NzYwMyIgdHlwZT0idGV4dC9jc3MiIHJlbD0ic3R5bGVzaGVldCIgY2xhc3M9IlRlbGVyaWtfc3R5bGVzaGVldCIgLz48bGluayBocmVmPSIvc3RhcnNjbGFzc3Jvb20vV2ViUmVzb3VyY2UuYXhkP2Q9a3lfakUxeHVpSTU5S2IwS0hWeEtPcExtNnJBU3RLUGZZTXl4UHhHQzhnUHd0VC0wMjB4dnJlRUR0dU9JNC1ZRVoweUJ3dTFOTWxjX3c2Q2FzSmZjQnZfcVpTejdyZzY2Q0NhTXdFU1Ytblh4VUgwWndtRzA2VFQ2anlpMThobTNMNGNFN3A4SmdGUDRuZlRCWlJmcWdVWDdXZFkxJmFtcDt0PTYzNjM2MDU4OTU1OTA3NzYwMyIgdHlwZT0idGV4dC9jc3MiIHJlbD0ic3R5bGVzaGVldCIgY2xhc3M9IlRlbGVyaWtfc3R5bGVzaGVldCIgLz48bGluayBocmVmPSIvc3RhcnNjbGFzc3Jvb20vV2ViUmVzb3VyY2UuYXhkP2Q9YjhhZFdZYWswdEltTGVmNEEzZmM5WWJNdUhsNVUyNFZ4X3FkdGdYdmNTMm1rQ1hpOVhzUUlMUkNfTWI1SUNERWt0aDF3YkdQNWY4YWozQnc3dk4tUjQ3QVE2bUowV1VRdzdhdWE0Mm1XUmpCTUxDRnRrWlpKWlZiNHFqQ1JlNVRXa1ducFEyJmFtcDt0PTYzNjM2MDU4OTU2NDM2NzYwMyIgdHlwZT0idGV4dC9jc3MiIHJlbD0ic3R5bGVzaGVldCIgY2xhc3M9IlRlbGVyaWtfc3R5bGVzaGVldCIgLz48bGluayBocmVmPSIvc3RhcnNjbGFzc3Jvb20vV2ViUmVzb3VyY2UuYXhkP2Q9OTRsemQweXl2Qzg5SnNWOU41NE50U1BxMF91UGQzaWhGcFp4TWlqYlVQYWJCNGlPLVJGSmpwdWR5WDVNTFVuT3pFXzNEX0p5N1RJTFltdmFscmdPN2hES01kLU14U29jRjZra0ZoMWF2ZW1JV3FucnlUTnNiV3dGamxnb1JETVpKUUcyVnZ5bUZ1eWsySndieE1nRDFPV1I2dlExJmFtcDt0PTYzNjM2MDU4OTU1OTA3NzYwMyIgdHlwZT0idGV4dC9jc3MiIHJlbD0ic3R5bGVzaGVldCIgY2xhc3M9IlRlbGVyaWtfc3R5bGVzaGVldCIgLz48bGluayBocmVmPSIvc3RhcnNjbGFzc3Jvb20vV2ViUmVzb3VyY2UuYXhkP2Q9TmhmNlRwVWoxOUtaOXJoRWoyeHRkZjh1aENuRFpJM1YzbDV5VUZTcktJcjJ5YVEyX1g1Uk5FckZXOXlKVWlUdlZjNE1BOVFHTDUzLXBSVlFYUV9TUE4zOTRoNUt3c3hVcFdqTTFFSzNJeHo1eW14RjAmYW1wO3Q9NjM2MzYwNTg5NTY0MzY3NjAzIiB0eXBlPSJ0ZXh0L2NzcyIgcmVsPSJzdHlsZXNoZWV0IiBjbGFzcz0iVGVsZXJpa19zdHlsZXNoZWV0IiAvPjxsaW5rIGhyZWY9Ii9zdGFyc2NsYXNzcm9vbS9XZWJSZXNvdXJjZS5heGQ/ZD10QXMxUHpENlhfMXlsYkNOZ0s5czFhUFZobGdQUTgzcXQxM3ZXWjQtRnI3bW1vOGdUbWFHTXR0eGdjd01XRml2RnNiOHdETDFWUGJKQThFVld0Qk5qaDFyMzlINU9iR2VTdmlDelZNWWxxVmJELVdKZkxoY3lSX3lpcDdfcENCUkt1WEktZzImYW1wO3Q9NjM2MzYwNTg5NTU5MDc3NjAzIiB0eXBlPSJ0ZXh0L2NzcyIgcmVsPSJzdHlsZXNoZWV0IiBjbGFzcz0iVGVsZXJpa19zdHlsZXNoZWV0IiAvPjwvaGVhZD4NCjxib2R5Pg0KICAgIDxkaXYgaWQ9ImxvYWRpbmdkaXYiPg0KICAgIDwvZGl2Pg0KDQogICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249Ii4vUElQT0xpc3QuYXNweCIgb25zdWJtaXQ9ImphdmFzY3JpcHQ6cmV0dXJuIFdlYkZvcm1fT25TdWJtaXQoKTsiIGlkPSJjdGwwMSI+DQo8ZGl2IGNsYXNzPSJhc3BOZXRIaWRkZW4iPg0KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iUmFkU2NyaXB0TWFuYWdlcjFfVFNNIiBpZD0iUmFkU2NyaXB0TWFuYWdlcjFfVFNNIiB2YWx1ZT0iIiAvPg0KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iX19FVkVOVFRBUkdFVCIgaWQ9Il9fRVZFTlRUQVJHRVQiIHZhbHVlPSIiIC8+DQo8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJfX0VWRU5UQVJHVU1FTlQiIGlkPSJfX0VWRU5UQVJHVU1FTlQiIHZhbHVlPSIiIC8+DQo8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJfX1ZJRVdTVEFURSIgaWQ9Il9fVklFV1NUQVRFIiB2YWx1ZT0iczJHVFFScGZ5MnFkUGplY2h5bWl1ckYwRjZXQXFnSGtQVURzbFBHeGdPM1BKZjJPeVp2SzdGelU0cWFucXd1eVhlSjRWR0poMnhNUnlZQXFndUhlTlUxamEyNDhvTGMzcDRXb2YwSkZuY01SZEREdm8yRGFReDVFaWk4NXZ0TXY0Z0R4SHRlaHcxMFZzTkZqUjV2KzRFS3lIeDk4akp5c2hVTDNxN2dwN0M3Q2tKUzh4NzcwNE9SSWY1TVJabGNSaTBFckVuUEJPRlp2cXp5TGE3bDg1cThvbzNIRHY2dklZWXdFdmZlS1JSaXhGT3FIaVcyVis1dVFrcVU0YXFZVDhRMGIxeUJXM1pOcGtHWVNkTUFadmRsTmtIc0Z1VTdxMHI1SWFUSXZoUjNldEtiMmVhb2ZFMDJZWkNHNmxQbGwzOHpMTk9yUlZteUdVenQzYWtoUnlxenp3V3k2Q2pWVyt6OG1tcnlheUlmMmFsT1pFVkh6NTNIcnRPS2JueTlvdSs5WkVrcjZjZGtnZlBPZ05Qa2ZORExraldoL0NSSWRMemRoSzh4R3R2eG1nNmxtOElCdHBpM1FaTkJjcEZHaFJ2RG5vbmN3cUdxL3IzbUIvNHE1SzFQOUdHbU9McTM3UUxFaHRDUzc5YnJQVjRBd2RsYTFuNWc4NHpPdXVYSVJKTk95YWd0bWgvNWs1TExyMWlBUmdHd3kvNDhvZDNqOFA2UWNHbERRQU5zcnIxR1ROdzZ2SjJCWUJ6WTRib0h6LzJQalF6dDJOeXpSWkVIek1TU1hlVTVRUnZpTEVxa0VORjhRNHZobWM1ZDVPeW1yMGhYOTM5WUQ3VTFLOG92L0xHUHF3enZidUMrN0RwcUtRNmFRZlpPRG95Wlc3eVA2TDhzaElMU01weEhHaHhiVnV5cXI2dEpJN2YreEpsbVBUWDhDaC9vWG5aS0YwNEE2WVNoQ0poSlVId3grQ0xwUm9yS0VOMDJ3NEFZVkZ0KzM3UTVqTlR4M3puMTZkbGw3bk5pSzI0VU5XNGxjVGZ4eEowMUhUYWRtWGxtWkUwSm5PV0I3UUpQZGJDZ1ljNHBtSDlueXcrZmE1MlpablBYQ1p5T3JWaENlc2prYzJXN3N1Vy9VbTNWdWxqQTNVaEtYblFiZ1RpS0dmQWtFclFWQ1BXV2Z2UU5GbGw4VXBwVi9MS003OHcwaU14T0ZVeHlzUndtanU0dGpocnAzUzlvL05sajRqUk5zVmpiVkQrRG9CUUxqZGZIb3FpNnZ0bU9GNzU1ZklFTCt6YlBNY3dtWDJBRFF0Q2hDODJhaERvQlhHc0srUHZBeUQyUUt0SmV4RjdsZWxCR2pPTndLZVNBWnpLRDhKbCs4cXA1NkIxc3dRMzhvUVp5Y2JXSlM0VURCNnNRdWFHNWQ5d3JtZ3cxWTVKT1hRaFZudWFyV3hWOURzQm54OFlkdWlTOGdpa1J4TVBrZjJEYTRrN0xWdmdBNzIxN1Blc2ZuZVRpaHArQjI1VVZ1ZWpWZjZuaUdFdWlrODJOZTB3NWRxTHRFblpHbUh4amRTSEQyRWthbTVuTXBoOHU4eVlBczNxUHFxMjB1a3Z2RGZDcGU0dDFNMmUzNllaWUVTOFdZTGZoeG1uR3daSEtZeHVwT2pydWlTWjFJRkErNjlHenhmM0Ztd3Yvb0NGOGVMTWd2c2JoclRLK011ZWpDVGpSTFFUMzFuSllmcFQzQy9WbkVEcG9hQ3JnQ3UwUlp3ZDZPTFZubHVqK082YjdZLzYrOFhTQzRZSnBlZUxoSWxNT3E4MEJvYzNaRGFWbmNpVExQakt5WUI1dnJDcGFHMWxMWUllZFU3d2lrMVZrbGZuQVJNVGUzY0ducWFIa2doVGtHT3BVem8yQlRGM0JxTGJ0aVhwamtTYXY3S3FvTnU1MmZybHlKOVVkVjZ0Q3B0TVJpbWw2eWFSTmxpQ0liNHBzNG5kRUlGak0yT3FWNy9TVXEzSDFIcmlVOTc2aGMveHZIcU95TEJzRnhrT0pTR2tSU1hMcThqMUxhamhCbkNkQ1k0alhSVjhXc1ZMb2pPbHJLUTdlekE5ZDBSbzBHSy9EOEIyZGdBeFppZGlrdFR0UnJqZzNPSU9aWnZkY1BDdkxUOUQxUzdFenRHdWFPOHJlQ01OQUQvU0ppWVI4V1lmWm1HTkUyZ2ZJeW1ybSs4d3pIb2MxNkFxc3h4cXpoemNvaWFaU2x5dFA5RzdybVB6ZERYS09XaHZUYzlMUVN4Q2laZDJxRUlqWno1cWNkdDhPVGRPTGN6VVN2QjE2REdqTkxJdFlITjRobFd5bnRZLzF3NU9MQmhya1NxVEdYSkdkUUQxMkI1blV2Mkx6L0FxVUdRSEw0TVJlb21yak56MmRXY3dpcDlrMTRuL3RtZ09KS3ZVYURrMXBHTkVWUEhGeWI2RzlCdmYzMTIvSHR4ZFh4cnhCY0swZ2lMUW1LS2xMeC9QMjNQc01TZ2IwMW8zVThDS2F2cGp5OGFlZjVyWktMZkt3UUNkNUhucjA1RUpqWXhERUl5dVpDRWFRd1pLRzQrcHM4U0xMV0ROMVRFa0VudVJMS0thZGxJN0NDdk1PaVRjRUxCZUJvV1hnZTFBRDUyM0NKdVk1VVdWTkptTUNqQUUzK3BBbEFOSk02R1h5QkVLemVXNGM5ZTdOcGxRNkJ6MGRzalo2UkxodGxvYy9PbFhFTUU5UHR1dDM0Mkp0K3hkY3htbE85aEFmUWRJandlWVFIdHBYTmZ1bnVJK0hpb3B1UXJxMVU0VElqS1h1T1Fvek55WlFRSHJ0bkpBU2hjc1kxRlVqdzJLdUpLb3lHNWtsVVpDV0srbnhYSE1qaWtvTnZ0bkhtZndVajZVNzVIeW8ybElzQ1d0YnpjR0FLK1Zmek5UN0xnK3JLckdIeGMwb0FPbklzbFR4ckUxMkhna1hjM2orOThnbUlENUFPVEt3VU9CdTdxcWtzOEZqZ2lyYUpWMXl1by9HdG9qbnZTelZocnZJeUN3ZDVmdVJnR2pMN1czRkVUUGxBTGlPbXpJQWNqWnd2TlNDN3FnSHdIUXhyTnJNMWpFWU5hMDcyaSs3MmF2djRYdlFpYU96WTJ4Zk1FcUZIajRFcGdZMFlIMk1TcTN4SGFEWWNLb21kdzM3dlRyeFN0bnRVT0ZwNUZKSTdPbGJEdFliUlZ3M0RoeE1VbHRZYzkvdURnWnNyV2pVOWtBT3VEUVl3ZGVSWE5WSzYwTXlIVWpNNjdacTY3cVA3cEdxSWtnWFhwaWhCMGhWMmxlNERmK0dZZXk1M0xuQWxEbDBqbkhJclp3aDI4L2JSQXJUNGFjRjJEYi9mREwveURlcmUwS0xhQmFrMCtYbEhRUFdVQys1Z2VMTTlCT3VIbWNOam5tY21xVC9TcE03L082bXI0Q2NNV1VYY3BwRDNpL00rVnRjdzliV1B1SzVXcjh5c1R5d01JeTJkV253MmtKOVVnMUJvUDltTnlBN0NiVDZVZWd1VHZLQlk5bDBkU1BjT0MzKzd4ZHRJSDJobU92bGZRQytCdVN1RGF1ZDgzM1k4WFJWWC8yc1BHUE5Zc2s3ekNTR1NQS0Iya2d6N2JqNXYrNHlYYzg2Z1pLcGlDRWJ0QXMyL0J1YkUydms4RCtnWDlzdFRkbnZ1ZERndmJSeURmSVZSSVBRN3RsdnMvell2NHlpZFVLMDJFRE9RUGxORW1BMmR3dHROQnh6Z3NBK1h6bHQ4d3R4QjErUzFuUm44dE5ITlZaUDRBZ2lRbHVGRms1YzBRMjMwTDcvdk44a2dFQko1dFpwMU85cTBxWnNJVjRvMlF2SGtaWVVhU3A4L3NPcmlUMzBiU0VMVUMwNDd2SHJueVc2QWl1Y1NqWmZ2OVF5VzRYdXR6dU1wSjJPVGQ2TXZ4NzIyY1ArcHdQL2xyZTBKVSttSVlhZTBDWDNGcmlPejhTdHZ4d2ZzVkNVcHBoVG01bUM3K3ZIc3pBUkZ2VHNyb1R4WmNIOU5IcWllYVRjdEhRVlREK3ZvRG5oNm1LS3RSamN2bHlkVUp6Y3U3SitEL1NBQVRxRDU3TjY3djh4b1U5cG1LeVdoY2E0cFliOXVjTWozbzAwREY1ZHJOTVMvdm1sWEEvYlFRM2ZNSU5iNXNRVGQwOXhGQm4rSGNheVV2TXVmT0ZJNzBSOEJjSkFRUnFFSWViTnVYSmk5OXB3RlNHVXNrYXZkU0J2dDhCRjhFOHZ0MWtYa2ZESmVzd0dhaGxWbmpWMnpiKzA1SEZYUWtxVGZEVTZxcVRxZjcyM2Jjb1gxeU53L29vc3k5bklNd21TNjR5SWRFQXE3NGVzTys0RG5yb1J3SVlaVDc0QUlsVEEveTE5SjJMZTluMjVGeEl4MHZWcXREV1ZuQnlZV1ZHaW55S1JUNkdaQ3MwSTRhNk1wM3dzTFJWcG9vYzVYOE9nNmFXc1J2UlhKK3RKdVJKTjlkdCtXc2lSNDBMeXcxVzhsd3dIbkJZVVQvTWZneU1YSTdNaXNSVU1mQTNVV1I3V1ZSbGVaMWVrd1dHUDVEWW1EZTN5ejBBUFBsYVAreGtybXN5K2JwemRvcXN4Z0hxM0l0aks5NktqMWVRbFlmUDlNVzVKbVJDd1BJRUppcklyN1RQQTVDeERBa2YyM04xeGtYaGZGY3d0djBRZCtMRStzM2NxcnV5N3pVYTE1YVVqYXAzWlV1Y3V6blpxSkZZcXVyOE9WQ2ZCQ3BZT3BHaW53eFZkdTZvc0ZBc3FIbVY2TzNMK3hWQlNFVGM2MFMyYjZDWVVmek4yR1ZuRjBpZHJRTUJDUm5rOFk5V0JWUG5sdGczNGgxWDlsWEo3dk9pWkd5d0FlT1Zqck1qYlhHNGNrcldBQ25lRzVqRHdKcmlVb0R6cWJJR2JYQVBuRHZzOXN0VEdZUmc1cXZ5TzFoekRKK2QyTjl5eHFXLzJ6WUZvaWtHSmZOcllpSElOVTZ3VHlLeE1Na3hnY1VaSmN4eUNKYXY2eVFEcTBCN3JYNnpaaEljMzd3RjJ0K2x4NHZmQm5uL3F4RFhiaGtEVUhwMHdvaEdFT3FodDhRTjFrMmlib0JaUmEvekxoWHo5Nmd4aUFnMmVlS0w2OVJRbTdUclFYY0FHa0JkZWZzZncwT1FITmhRN1dvZ2I2S2pwd3BwUktUdk0zK0wwcTBJMXVKOEtSTHg0SlhrYm9xY0hKMEsrRXh4dllxWXAvdTBjeHhxSVRpNVNPaDRXNCtjQS9nMmNWYkdvd2dQanYyMlQwYjYwNGdrNFMrbHV2dVVsR3lacHVSczZYT1k5NTIyRnY3QUkxTlpjZUMrUnJrd0ZIT3ZHUndTeWhvUzlxdlp0V2dGWStTTWZ0UHVRUkNyR1NoZFpLQ1lneGNEMDFzaXVRanhiWTloaU5hSC9jeDdReEJ0RkhEUXZCdG45NldFUkNLTkJoUFNjUlJoRkdjcFNQRlczeW41SFhoVTR1K0ZqcUErMUJaNmZTY3BGM1M1K3ppRFVpQmtiYnd4SE9HdlQ4UHBGRjZpNlR2UGpyMFhvM2dVMkpuVjRvWnlHM1BHZHV3OW1qajFGcUYvNGhLdm5NVE43OTFXS0tBbXlvdXEvd1kzQ1g2UklXWXN0S2kvc3R0d0VPL0gwaXZRUzV5VXo3V2NIcVl6Y04zRDgzVEZvRndBZSswakczTyt3VERBdHhwcmdoSjdZeUw2Sll1SVh6aEFhL2ZXM01vd0Zmb1lzQmtSbjM0ZS85RDhRSENGYWc3WUg2elB6OHpFbUlLNWVXWDFTaDNrbGpESEM2dmJlb3hGWFpVSVc0MkdGVE1rdXFiZWtmWjMxSkU3em5kUnYrTEh5QUJwaU5MS0FkVkhweHNRaHVQbzZ5dWFiZ2dYOEtJdnRicGtoQWxXZGgybGhRVHVCQ0lNNjBBbXdrNDhVSG12ZEJUbnFsYmdacjE5YUFYaVRwKzZuSUlIdUViS2ZmWEdIKzR5UTBMUkJVTXJyRk5GTElYUVlvb2F1NUM1YWJ4Smppd0F3KzMycHhrZ3ZJUDgweCtLRW0rUEFUeHNIOWppa1c2a09UaFd0ZXN6Y0xEM2kvS2hPbnlHRjFicyt6bUdXQlBUZXZXS3NTQ0hZVmpNdkN3U2lwV2syMmhYamJCZTlqRjVtNktnRzY1bWJaS2U4bG41elhTREh4cFVmMzFLaXVEWGp2TUo1TUZveUdJdFdQY0dteFFWN3hHb1pFZXlwVmhpZnp0elQ3ZCtCYlZoSi9MWnNvRWU1cGpxUmExMi9xMFgzVHlKSUkzMHVyN3dPVGJZckFISE9BYUJyR05ISW5JdmVYdCtub2xLR05adHBtZkNmT3lkb1BEdDFLT3ZGU0hoOWR0UHU1MU5lTVFuSGErcGx6aGE0Z2s4N0NhU3RmM3Z3NXNlNFJ6dDhFRkgwYURWVDJEc0lKN2huZkoxeWVQdmVjWVJVNkh5dkhGV3JMdGQ4ckJQa1hNUWt3MzRGUnI2aHFPcWFiNjdMY2NSbDgrVkFsK2xNc05nQlJicmpGZDhrQ05Pd204RHBnOW1HR2RRYUZiTFBMSDRscEFyNjIwSzVxWmZGL1Y4bk1WZWpVV3U2Sk1ZTDkzRTZ3aTVtS3BMMTVidkRUZnZhb2wrdE5KS1NSMCtPckZ4cWNBTTkwSmRmM1NkY1Fsc3dLdjlBUXZVQktRMmhsbXZQbjFUMy9kZkhzMzhySXJvaHhwWERCMTQvVXNYUTg4aVdMMWhzL3VoQ2tIM0YrRlo3WlRwNnBsdHZaRnI5d0IzSlRIZndLUERjZERxSWdJNjZTMmR3cTI3Nk0yVFM0MzlyaUZlTk1QbWE1cEUzTEE5NXhZMWZQRUhBNXNMcVFFc1ZJQThIVEhqd0pxNVZBK2c5a0hGMUdhN1RuYUlGVGVuejYwQWozd253NUM3SUJWNjNjUmJGbGNzV1FWN01rOUZuenpxckpHT3ZuQmg2bU9tV0d1RmdqdjZRZGlTMXNoNHRGNFRHTzRwWm1XbGduYkdDT2N3YWVCVFdtK0syNkdZenFJY0ZZaGFkVXd3M0VPV1htOG9FQ1ByckVkVHY5U3NLV2xaNUlRMWhRdnZ0ejB1WjcxRW9Oc214a1lkeDVNaTlUMGpTWVY3ckxaYXhSb1hZT1BDRVkyZWNsSlF2TGRpNWRWVnd5WXIzM1AySVh1UUpON1NCajVEbkNkUERRc0lmNFVSWEFNWTJKSmlya2p6Zlk5dHg0UTVSV1h3N3BaMW43eE5XTUg4eXVISWlXTzQrUXRGdXd4R3diYnNiMS95TlFhWE4yZmd3dUZnZ1hVdlpKSjc3ZkNxZ2ZwQkNMODNBU2ZkRGowVlN6QUY2RmF0OHgyazJleXZqcmc4ZFRvSFBVanFhMUxvZm5iNUh5MWFQYVplSlJqV0Y1MnBOTTlEQlFRUlBnWUlxQXF5dDhGdXN2dzJGYTJxVExYdkw3eUtNZWkwWHUxNWtLNFd2TlpsckgwNWxRK1dHRW9OcU9qdjVMT3V5eHV1RmxqZ2lxUm04am56NGE0SEdQZzVEemtoRTc4YldmZm1sL05FT0x4Vktqc0dNK1NLSWRoYjFzYkpvZjVoRGlka3VVWGxSZmdML2Z0RUVLaVdJVEFVKzF0REMwS0N3dHhWUmxmR0dIaSt1MGpmUjZYalllVzlaeHhWcjJwbmRMMzBOUkZCcS9IQ1N1WjF3ZGhmMHBkR1lTRGhpOUlWeEdUR2NwVWRuTUhwSjJPbWw1RmlaNjliTTBlOHNQK0EyWkIrU1UrakFveG1LVXVncFFNOXQ2VmY4WEZaSEtXTU5rOXVSSUJjemNDWDRIcGE4VVJTUlIxR1JsZmsxV3NtbVJVQ2ZqNDlJbDVrOHg4aHFXZDdwZ1g5TXpXSXQwaU1VQUFMcTBTUEo1ZldjeTFkSWxxZ1NaM3UwZnFpNVpPY1cxSVE0VWlmd1ZPU1V6ZVM2bmdCMmt0VXgvcU9xemlRbllzTG5LSytxbU9MdTdwWEZPc3NVeWpTc1NEWXF2VmxWRzlyOThqV20vdFlWcEJiTkJzUW53bm5tS1NHSzFTSXlrL0dPck1OTUhVdm1jNnZYaXlQQXV2ekRXOHB2cjdFOEwweDRodGdpc3ZmOExseFhLT0kvY2p4T2k5QUJxTTIyWktvQ0pSdjMrVXBSUCtVeFlDNGs5d3lJMnZ4cmtkMW9oNU9JQlpZcGhwNXJjOStibFptVUNTRmFKRWx6QXZNQy9XdjVlZVR2a2hjOExNWmJ5dWhFbGNMbmF6VDhTM0prQmduaG82OWVaTFROa0puc1F0UzM0Q2tUV3YvZjRRd1lRRWk2MDFRZG5HVXJtNDlEd1RjSHF1a3hwejhIM3RVU3ZwVm5MK1RjQ1J1K0dLSVMwdWV0dlFGNDN3bDlIQUFKaDFZRXRuOUJJSThWem0vdlpTT25tMWJmZVBKLzJhZUdDeWhKOFhTYkpJUzEzSHA2bUoxVzF2MXgzdTN5RnlqS0tBYUxNQmdtU2NRS095Uk96UHQra2k0M05adWNEK2ZWUkFFWVVHMGZmaW9yNTgwQ2R4U3pOYW9VT2xBMDBhR0poUU9URGtWckVVTDdUTE81SWtxdmVHYmtXQXd1Y0IxSEt5NjdvUGF0U1NQRHFmbGxHQmFLcnQ2SEtsbG15ckpqOGVuL0RLVFZkVnh3TWRmSkRsdnZ5ZytSZm9FcW5DYWJNQldWc1dmWldTbUY3VlZ5eE5QSmJ4THRCSlJuU1JFK0tpRnZsL0RRc2tWZmFGemNRV1NsSCtLNzFlVTNUSlBoKzNUNVhuOXBnd1ROaVozRHZrS0F0MlVRMGlMRHg5OUNscDV3WVdBeFl6TG51dlJEY1gxL09LcUIwRS9LSmVyT1NVcXErNTM4Z0tNQTdFK0ZzT0J2c09qWHRBZUxtRnc2TW1ha3Nhc3lJUCtMT3U1TUJ1V2FQb2tpOXViVVNrazVvTGlDeWkrbmRnU2RRdUNOeG81VXg2alhaNWJSMExJdGFlUjV3NGFhRndhQ3ZNYXVJQTAyMTVTQStEMldYL3EwalhNRVNjbERHZzdBTDU2amJ2T0E2cDZYYVAzTzRueXhMRTBOdUVCckU5M1p0eGljejNiK3FXbkJObUxWaVVTNkZ1ZWZzUWlkVTcvdkdYU2dINWI5eExvWUZPeklQQkUyYzdXbUZqc1puM3FoUWhUdzUzbXhMZXp4VEJ6a2NEeWVEUG0xS09OMTUvWkNDRzZHUkN6QmFzSzhJVDBsMitZTTdjQ3FEMkRIZldnai9QNGkrbnRjT1ZVWkZneklXemt1bEtwcGFqR3RULzNaMjdzSjVuR2ZnR1dXU1M2MDRMbnYzcWZtc0xHYUFpWkkzdFJHRTNXczVXcmMrNmQvck5zRWpLb3lyL1NMKzhHZ1paRk9ja05lSkV0NGx6KzlSaExpczg2MHpVTWdHL1pMYnJyVzZrWlRGd0NabXkwTHNqc3NYTlpYM1dYa2M3UUpoMWFIWWdHL0RFaVdYZkd6SW5SSGtCbFBHRFJKVlVUa0sxczZGdUYrZm1yZnViQjF1T3hoWGZXUmRKMnFiWTVBV3E3Ym1zWmNlVUJQV2o0eDhLNGdxSWZ3cSs3dGhSVUx1SkhJOFlMNDRwbmplaEE4T2xJTEZ4THVVQnViYXYwb1pNTzlYNnBwQnJIdXBTQzMzV2MrNlh3NVR4RjllNUwxK1gzSTlpNHAzWDhnMnBGbDlXenRteWMzV2pmaFJ1a0loSmZCTkFTd0tkbHZ1QlpnamNSaWVHNnYzdzZ3UXFsb0RRQXljMUppV29FbjBQTCtZcXIyY1A4ZXdDbGwxM3RxaWRoWjNZK0xsdlNqaDZKeFhTNmE1SisycTVDa3I3MUUyUjVzOEVRQkFWZHR4SjNQRmdJejdKNnBEU1ZQRHoyWmxRTEVCUVV2UWNpWUZIUXVJWUxna25meWdjdTFYa1hPWkNyMDFBaTZrajNXK0lLVmp4dDNPS0pROXdCRDNzbEdFRzVGTHI3TzhLTWVJdEc4RmZITUhoWVl2YmhLOHJvU0pPNHJIT0x3OE1STFppQ2cwaStGOEZRRmRRdnZIN2FJRSs3Y3hJRmNxRkVNbDVHN0VjUDc4RUQrNEhPOVkxbU1yRW9wc1ZyZEJCVWEzeVkrNExuV0xydnUyMThCL29sVXRSdzFOOEd2Z1U5YnB6T01kTkNHelVLY1IyVzFEQkRWdWQzODlEcmVPdmxzUkxHb0pnMktYVmErOG5VQ1B1ODFmM3dQRndTU2QxR1E2bXRCd2pRTGhYMzlCNVNDQzIvcGtYNS82OXJBTWpKSXdZWTdnaTV0bnJmVlZBMzZjZ1Y4RzVINkp0eGx5bTNTM1RWMytYbGMrREVWVkp4Mm1MTTFJeE0zeVdCTWpEWEozT01weWpsclFCU1pGczgxRVNkTWUzbWU4eUFlZTFtam5yS2orN2lwNTVyalZ0N0FNcUFpRjJxeGZ1d2xhdGtlZ1VjWDVSbDdaaXArcXlPczRKYXVZQ3VsYUFwNWR4c1JGUVVNQldSR20zVmdhU2Y5YUtRVk5QNHlKbHhBYWFxQm1WL2FJMndrVlFxbWtnZS9XUkp0SHVHZDdvaG1ZWmZVNk9BWFcyTFBYeHlCL0FWaUM1RlZPZzFxMDNkQi9yMHhJbWNQSUMxN1VPTStjdkRqSUdBY3ZaQ2cwVnNlQ2ZrQTdWOWxtRml2Q1ZBUEhjMHdLeWYycE1aV2RxYnB5SnFzamkrRUUybWhIYUdaem5jSXVlWkx2RzZRZDkzdEhXc0FwUFk1aXlzR3V2ZEd5ZkpSUzRwUG0xQmJKUC9meUdyVi9wZWRDQmJMc3hHNFg5d3l2Mk1UWmIraDlOWlh4V2NmZi8xRDh5Ynd3Um1Za2JvRHhFZSt1VlRHVFczejhyTy8xMGtHRTdUVm5vTm12Z0NpQm1PaEM3SDBidUJYRXV3ZUFwcFd0RGIwMEVsLzBuVGRKQUFScWlMOUlQZW5DKy9EVnArdGljSC9MdnUzb3FTeVJ6TU5BYlErNnRSTXpnRDdNQnNRN20zUkFCOVJDVUNTRHR4bld1UjF1czVGS0pPTk9Md2pkYWpDTTJaZ0hrTnEwaVd6ODA3Y3FyV2Vxc1FoOHlYYkhHeVhlMkNNT1Iya0Evb1F5ckk2M2ZVa2lxY0xLNHg1ck9wVmd5NXNOQ3BwSVFaREFGVitpbnhBc3lYWFQxR0RWRFhiRm1SNHVQRWVSb0Jac0NPTHpjRWlWMFFFRXJHZnhqeVJxZlZBS3NBREFsRUxoTStvOTh6NUFNZy9peEY5WlhsQlJXYzRuNWNyQjhoMW9XclhPZHVhZWJ2MndWcUMxeWdjSVR6SW1tQnF2ay9VZ3ZkSnJLQWlaaWd0OGJtRUFUZFJkbkhxaVk4ZXFyQmtDMGpST0NWTWw4N2tMVGxJd2hZUWdWY2phOXk5RW0yYkIyY1dKUUJ5QWhpd1A2dUpIMXhldFlnUGx4SWFpR2lId2NiYnQ1UGxUWTZvV0RJM3M3T2MrOXJ3aXJaSUdPVGxVNmtvdjZldG5STDQvVVlNWXZHTExEUS9EUXlpVllPbkI2R3JXVU4yL3diYjl6MUZ1T2ZFZ09JM1psRmJqUHgzSHYrSlo0V3g3WDRBczVMUmFrMnl5UjN2ZkVKYUtVWC9IZC9SY3NPTEdHa1VFcHpmcTNyNEoySkVqaGNsaGVoNFArQkR5N0YxeHZBN0puTi9jT2lJYWxBM2lORGNQaTNjNmVOL0plS1dGU1NPRUVGc3RjSER2SGVSczF4WUsyTzBYUXNteVhvbkZLdmtQMHBkNE9oZWhEQlFOVmxXNUVndXF6VUtmWkpxeE5nalh6RWNUcjUreXV5YUlKdTRSd0o0a2dTeVQrellhTC91ZThNZFpLeGNBanprSC9vaTJqaXoxSTd1REk0YnQzcGc4d0FnNkpuK3BqOTNLOWdxKzJiL1J6dUVXbHJPTHN4OXlpK29rbERTZjRkbUlVbU5mTHp4WHFvODJ3NCt3L0oxanUyZ3N6emQ4Y2pYNit3TmljTmVtUXFEVDEyeVRWbitKU1hzWEUzbnVMYkFTWU1RTEFDanphbEJjQStEOVpiekJiU3phbVordnRCVT0iIC8+DQo8L2Rpdj4NCg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KLy88IVtDREFUQVsNCnZhciB0aGVGb3JtID0gZG9jdW1lbnQuZm9ybXNbJ2N0bDAxJ107DQppZiAoIXRoZUZvcm0pIHsNCiAgICB0aGVGb3JtID0gZG9jdW1lbnQuY3RsMDE7DQp9DQpmdW5jdGlvbiBfX2RvUG9zdEJhY2soZXZlbnRUYXJnZXQsIGV2ZW50QXJndW1lbnQpIHsNCiAgICBpZiAoIXRoZUZvcm0ub25zdWJtaXQgfHwgKHRoZUZvcm0ub25zdWJtaXQoKSAhPSBmYWxzZSkpIHsNCiAgICAgICAgdGhlRm9ybS5fX0VWRU5UVEFSR0VULnZhbHVlID0gZXZlbnRUYXJnZXQ7DQogICAgICAgIHRoZUZvcm0uX19FVkVOVEFSR1VNRU5ULnZhbHVlID0gZXZlbnRBcmd1bWVudDsNCiAgICAgICAgdGhlRm9ybS5zdWJtaXQoKTsNCiAgICB9DQp9DQovL11dPg0KPC9zY3JpcHQ+DQoNCg0KPHNjcmlwdCBzcmM9Ii9zdGFyc2NsYXNzcm9vbS9XZWJSZXNvdXJjZS5heGQ/ZD1weW5Ha21jRlVWMTNIZTFRZDZfVFpJdFVjN3VPWFZRX0pKU0YzbnFXSFRzc1ZmODZJOFQ2RGRVS19ydDZncEJXUUdMTDZnMiZhbXA7dD02MzYxNjA2NjQ1NjAwMDAwMDAiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQoNCg0KPHNjcmlwdCBzcmM9Ii9zdGFyc2NsYXNzcm9vbS9TY3JpcHRSZXNvdXJjZS5heGQ/ZD0xSHBWM09WQjBDYUVYb2FhZmNxbWhxSlphMmJlYkY4el9GRjAtRWxkd0JIMjFJYXhmR2xBYmFWakRGMnVuaDZSRTgweEpTdWwzdC1yYjhjOTdZWXF3UE5GazJOZVVHYTVudXNKZ09OSW5jVms3Ty0zZkdxOUNzNVJfSlA0bXpCOFZwOXNTUTImYW1wO3Q9ZmZmZmZmZmZiYzIwMTUzZCIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4NCjxzY3JpcHQgc3JjPSIvc3RhcnNjbGFzc3Jvb20vVGVsZXJpay5XZWIuVUkuV2ViUmVzb3VyY2UuYXhkP19UU01fSGlkZGVuRmllbGRfPVJhZFNjcmlwdE1hbmFnZXIxX1RTTSZhbXA7Y29tcHJlc3M9MSZhbXA7X1RTTV9Db21iaW5lZFNjcmlwdHNfPSUzYiUzYlN5c3RlbS5XZWIuRXh0ZW5zaW9ucyUyYytWZXJzaW9uJTNkNC4wLjAuMCUyYytDdWx0dXJlJTNkbmV1dHJhbCUyYytQdWJsaWNLZXlUb2tlbiUzZDMxYmYzODU2YWQzNjRlMzUlM2Flbi1VUyUzYTRiZDhmYWY4LTU1NGQtNDZiZS1iMmZmLWM5ZDU3YWRiNjEyYyUzYWVhNTk3ZDRiJTNhYjI1Mzc4ZDIiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9kMmkyd2FoendybTFuNS5jbG91ZGZyb250Lm5ldC9hamF4ei8yMDE3LjIuNjIxL0NvbW1vbi9Db3JlLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pg0KPHNjcmlwdCBzcmM9Imh0dHBzOi8vZDJpMndhaHp3cm0xbjUuY2xvdWRmcm9udC5uZXQvYWpheHovMjAxNy4yLjYyMS9BamF4L0FqYXguanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9kMmkyd2FoendybTFuNS5jbG91ZGZyb250Lm5ldC9hamF4ei8yMDE3LjIuNjIxL0NvbW1vbi9qUXVlcnkuanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9kMmkyd2FoendybTFuNS5jbG91ZGZyb250Lm5ldC9hamF4ei8yMDE3LjIuNjIxL0NvbW1vbi9OYXZpZ2F0aW9uL092ZXJsYXlTY3JpcHQuanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9kMmkyd2FoendybTFuNS5jbG91ZGZyb250Lm5ldC9hamF4ei8yMDE3LjIuNjIxL0NvbW1vbi9NYXRlcmlhbFJpcHBsZS9NYXRlcmlhbFJpcHBsZVNjcmlwdHMuanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9kMmkyd2FoendybTFuNS5jbG91ZGZyb250Lm5ldC9hamF4ei8yMDE3LjIuNjIxL0NvbW1vbi9qUXVlcnlQbHVnaW5zLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pg0KPHNjcmlwdCBzcmM9Imh0dHBzOi8vZDJpMndhaHp3cm0xbjUuY2xvdWRmcm9udC5uZXQvYWpheHovMjAxNy4yLjYyMS9Db21tb24vQW5pbWF0aW9uRnJhbWV3b3JrL0FuaW1hdGlvbkZyYW1ld29yay5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4NCjxzY3JpcHQgc3JjPSJodHRwczovL2QyaTJ3YWh6d3JtMW41LmNsb3VkZnJvbnQubmV0L2FqYXh6LzIwMTcuMi42MjEvQ29tbW9uL05hdmlnYXRpb24vTmF2aWdhdGlvblNjcmlwdHMuanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9kMmkyd2FoendybTFuNS5jbG91ZGZyb250Lm5ldC9hamF4ei8yMDE3LjIuNjIxL0NvbW1vbi9Ub3VjaFNjcm9sbEV4dGVuZGVyLmpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pg0KPHNjcmlwdCBzcmM9Imh0dHBzOi8vZDJpMndhaHp3cm0xbjUuY2xvdWRmcm9udC5uZXQvYWpheHovMjAxNy4yLjYyMS9Ecm9wRG93bkxpc3QvUmFkRHJvcERvd25MaXN0U2NyaXB0cy5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4NCjxzY3JpcHQgc3JjPSJodHRwczovL2QyaTJ3YWh6d3JtMW41LmNsb3VkZnJvbnQubmV0L2FqYXh6LzIwMTcuMi42MjEvQ29tbW9uL05hdmlnYXRpb24vT0RhdGEvT0RhdGEuanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9kMmkyd2FoendybTFuNS5jbG91ZGZyb250Lm5ldC9hamF4ei8yMDE3LjIuNjIxL0NvbWJvQm94L1JhZENvbWJvQm94U2NyaXB0cy5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4NCjxzY3JpcHQgc3JjPSJodHRwczovL2QyaTJ3YWh6d3JtMW41LmNsb3VkZnJvbnQubmV0L2FqYXh6LzIwMTcuMi42MjEvQ29tYm9Cb3gvVmlld3MvQ2xhc3NpY1ZpZXcuanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9kMmkyd2FoendybTFuNS5jbG91ZGZyb250Lm5ldC9hamF4ei8yMDE3LjIuNjIxL0dyaWQvUmFkR3JpZFNjcmlwdHMuanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQovLzwhW0NEQVRBWw0KZnVuY3Rpb24gV2ViRm9ybV9PblN1Ym1pdCgpIHsNCmlmICh0eXBlb2YoVmFsaWRhdG9yT25TdWJtaXQpID09ICJmdW5jdGlvbiIgJiYgVmFsaWRhdG9yT25TdWJtaXQoKSA9PSBmYWxzZSkgcmV0dXJuIGZhbHNlOw0KcmV0dXJuIHRydWU7DQp9DQovL11dPg0KPC9zY3JpcHQ+DQoNCjxkaXYgY2xhc3M9ImFzcE5ldEhpZGRlbiI+DQoNCgk8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJfX1ZJRVdTVEFURUdFTkVSQVRPUiIgaWQ9Il9fVklFV1NUQVRFR0VORVJBVE9SIiB2YWx1ZT0iNzZGNjUyMUIiIC8+DQoJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iX19TQ1JPTExQT1NJVElPTlgiIGlkPSJfX1NDUk9MTFBPU0lUSU9OWCIgdmFsdWU9IjAiIC8+DQoJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iX19TQ1JPTExQT1NJVElPTlkiIGlkPSJfX1NDUk9MTFBPU0lUSU9OWSIgdmFsdWU9IjAiIC8+DQo8L2Rpdj4NCiAgICAgICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KLy88IVtDREFUQVsNClN5cy5XZWJGb3Jtcy5QYWdlUmVxdWVzdE1hbmFnZXIuX2luaXRpYWxpemUoJ2N0bDAwJFJhZFNjcmlwdE1hbmFnZXIxJywgJ2N0bDAxJywgWyd0Y3RsMDAkUmFkQWpheE1hbmFnZXIxU1UnLCdSYWRBamF4TWFuYWdlcjFTVSddLCBbXSwgW10sIDkwLCAnY3RsMDAnKTsNCi8vXV0+DQo8L3NjcmlwdD4NCg0KDQogICAgICAgIDwhLS0gMjAxNy4yLjYyMS40NSAtLT48ZGl2IGlkPSJSYWRBamF4TWFuYWdlcjFTVSI+DQoJPHNwYW4gaWQ9ImN0bDAwX1JhZEFqYXhNYW5hZ2VyMSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPjwvc3Bhbj4NCjwvZGl2Pg0KDQogICAgICAgIDxkaXYgaWQ9IlJhZEFqYXhMb2FkaW5nUGFuZWwxIiBjbGFzcz0iUmFkQWpheCBSYWRBamF4X01ldHJvIiBzdHlsZT0iZGlzcGxheTpub25lOyI+DQoJPGRpdiBjbGFzcz0icmFEaXYiPg0KDQoJPC9kaXY+PGRpdiBjbGFzcz0icmFDb2xvciByYVRyYW5zcCI+DQoNCgk8L2Rpdj4NCjwvZGl2Pg0KDQogICAgICAgIDwhLS0gQmVnaW4gQ29udGFpbmVyIC0tPg0KICAgICAgICA8ZGl2IGlkPSJjb250YWluZXIiPg0KICAgICAgICAgICAgPCEtLSBCZWdpbiBIZWFkZXIgLS0+DQogICAgICAgICAgICA8ZGl2IGlkPSJoZWFkZXIiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxlZnQiPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJpZ2h0Ij4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPCEtLSBFbmQgSGVhZGVyIC0tPg0KICAgICAgICAgICAgPCEtLSBCZWdpbiBIZWFkZXIgTmF2IC0tPg0KICAgICAgICAgICAgPGRpdiBpZD0iaGVhZGVybmF2Ij4NCiAgICAgICAgICAgICAgICA8IS0tIEJlZ2luIEhlYWRlciBOYXYtcmlnaHQgLS0+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmlnaHQiPg0KICAgICAgICAgICAgICAgICAgICA8IS0tIEJlZ2luIFVzZXJsb2dpbiAtLT4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0idXNlcnJvbGVzIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICZuYnNwOzxhIGlkPSJMb2dPZmZMaW5rQnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0Ol9fZG9Qb3N0QmFjaygmIzM5O2N0bDAwJExvZ09mZkxpbmtCdXR0b24mIzM5OywmIzM5OyYjMzk7KSI+TG9nIE9mZjwvYT4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InVzZXJzdGF0dXMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9IkxvZ2luTmFtZTEiPldlbGNvbWUsIGNtc3VzZXIxPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPCEtLSBFbmQgVXNlcmxvZ2luIC0tPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8IS0tIEVuZCBIZWFkZXIgTmF2IC0tPg0KICAgICAgICAgICAgPCEtLSBCZWdpbiBBcHBsaWNhdGlvbiBBcmVhIC0tPg0KICAgICAgICAgICAgPGRpdiBpZD0iYXBwYXJlYSI+DQogICAgICAgICAgICAgICAgDQogICAgDQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJyZWFkY3J1bWJzIHRvcCI+DQogICAgICAgICAgICAgICAgICAgICAgICA8YSBpZD0iTWFpbkNvbnRlbnRfTG9naW5WaWV3VG9wX0hvbWVMaW5rVG9wIiBocmVmPSIuLi9kZWZhdWx0LmFzcHgiPkhvbWU8L2E+DQogICAgICAgICAgICAgICAgICAgICAgICA8YSBpZD0iTWFpbkNvbnRlbnRfTG9naW5WaWV3VG9wX0FkbWluTGlua1RvcCIgaHJlZj0iZGVmYXVsdC5hc3B4Ij4+IFNjaG9vbCBBZG1pbmlzdHJhdG9yPC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Jmd0OyBQdXNoLUluL1B1bGwtT3V0IEluc3RydWN0aW9uPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICANCiAgICANCg0KPGgyIGNsYXNzPSJoZWxwIj4NCiAgICA8YSBocmVmPSdodHRwczovL3dpa2kubnljZW5ldC5lZHUvZGlzcGxheS9IU1NUL1NUQVJTK0NsYXNzcm9vbStQdXNoLUluK1N1cHBvcnRzK1B1bGwtT3V0K0luc3RydWN0aW9uJyB0YXJnZXQ9Il9ibGFuayI+DQogICAgICAgIDxpbWcgc3JjPSIvdWkvZG9lL2ltYWdlcy9zcGFjZXIuZ2lmIiB3aWR0aD0iMjQiIGhlaWdodD0iMjMiIGFsdD0iIiAvPg0KICAgIDwvYT4NCjwvaDI+DQo8aDIgY2xhc3M9ImNvbnRhY3QiPg0KICAgIDxhIGhyZWY9IiMiIG9uY2xpY2s9InJldHVybiBvcGVuV2luZG93KCcvc3RhcnNjbGFzc3Jvb20vQ29udGFjdFVzLmFzcHgnKTsiPg0KICAgICAgICA8aW1nIHNyYz0iL3VpL2FwcHMvc2l0ZXMvc3RhcnNfY2xhc3Nyb29tL2ltYWdlcy9jb250YWN0dXNfaWNvLnBuZyIgLz4NCiAgICA8L2E+DQo8L2gyPg0KDQogICAgPGRpdiBjbGFzcz0iY2xlYXIiPg0KICAgIDwvZGl2Pg0KICAgIDxkaXY+DQogICAgICAgIDxoMT4NCiAgICAgICAgICAgIFB1c2gtSW4vUHVsbC1PdXQgSW5zdHJ1Y3Rpb24NCiAgICAgICAgPC9oMT4NCiAgICAgICAgDQo8ZGl2IGNsYXNzPSJ0ZWFjaGVyLWxpc3QgZmlsdGVycyI+DQogICAgPGRpdiBjbGFzcz0iZmlsdGVyIHNjaG9vbCI+DQogICAgICAgIA0KICAgICAgICANCiAgICAgICAgPHNwYW4gaWQ9Ik1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2U2Nob29sIiBjbGFzcz0icmVxdWlyZWQiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48YnIvPlNlbGVjdCBhIFNjaG9vbDwvc3Bhbj4NCiAgICAgICAgPGRpdiBpZD0iY3RsMDBfTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9TY2hvb2xEYm5SYWRDb21ib0JveCIgY2xhc3M9IlJhZENvbWJvQm94IFJhZENvbWJvQm94X01ldHJvIFJhZENvbWJvQm94V2l0aExhYmVsIHNjaG9vbC1zZWxlY3Rpb24tcmFkY29tYm9ib3giIHN0eWxlPSJmb250LXNpemU6MTJweDsiPg0KCTxsYWJlbCBmb3I9ImN0bDAwX01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfU2Nob29sRGJuUmFkQ29tYm9Cb3hfSW5wdXQiIGNsYXNzPSJyY2JMYWJlbCBzY2hvb2wtc2VsZWN0aW9uLWxhYmVsIj5TY2hvb2w8L2xhYmVsPjx0YWJsZSBzdW1tYXJ5PSJjb21ib2JveCIgc3R5bGU9ImJvcmRlci13aWR0aDowO2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTt0YWJsZS1sYXlvdXQ6Zml4ZWQ7d2lkdGg6MTYwcHgiPg0KCQk8dHI+DQoJCQk8dGQgY2xhc3M9InJjYklucHV0Q2VsbCByY2JJbnB1dENlbGxMZWZ0IiBzdHlsZT0ibWFyZ2luLXRvcDotMXB4O21hcmdpbi1ib3R0b206LTFweDt3aWR0aDoxMDAlOyI+PGlucHV0IG5hbWU9ImN0bDAwJE1haW5Db250ZW50JFNlbGVjdENvbnRyb2wkU2Nob29sRGJuUmFkQ29tYm9Cb3giIHR5cGU9InRleHQiIGNsYXNzPSJyY2JJbnB1dCByYWRQcmV2ZW50RGVjb3JhdGUgcmNiRW1wdHlNZXNzYWdlIiBpZD0iY3RsMDBfTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9TY2hvb2xEYm5SYWRDb21ib0JveF9JbnB1dCIgdmFsdWU9Ii0tIFR5cGUgYSBTY2hvb2wgLS0iIHN0eWxlPSJkaXNwbGF5OmJsb2NrO2ZvbnQtc2l6ZToxMnB4OyIgLz48L3RkPjx0ZCBjbGFzcz0icmNiQXJyb3dDZWxsIHJjYkFycm93Q2VsbFJpZ2h0IiBzdHlsZT0ibWFyZ2luLXRvcDotMXB4O21hcmdpbi1ib3R0b206LTFweDsiPjxhIGlkPSJjdGwwMF9NYWluQ29udGVudF9TZWxlY3RDb250cm9sX1NjaG9vbERiblJhZENvbWJvQm94X0Fycm93IiBzdHlsZT0ib3ZlcmZsb3c6IGhpZGRlbjtkaXNwbGF5OiBibG9jaztwb3NpdGlvbjogcmVsYXRpdmU7b3V0bGluZTogbm9uZTsiPnNlbGVjdDwvYT48L3RkPg0KCQk8L3RyPg0KCTwvdGFibGU+PGRpdiBjbGFzcz0icmNiU2xpZGUiIHN0eWxlPSJ6LWluZGV4OjYwMDA7ZGlzcGxheTpub25lOyI+PGRpdiBpZD0iY3RsMDBfTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9TY2hvb2xEYm5SYWRDb21ib0JveF9Ecm9wRG93biIgY2xhc3M9IlJhZENvbWJvQm94RHJvcERvd24gUmFkQ29tYm9Cb3hEcm9wRG93bl9NZXRybyAiIHN0eWxlPSJmbG9hdDpsZWZ0OyI+PGRpdiBjbGFzcz0icmNiU2Nyb2xsIHJjYldpZHRoIj48L2Rpdj48ZGl2IGNsYXNzPSJyY2JNb3JlUmVzdWx0cyIgaWQ9ImN0bDAwX01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfU2Nob29sRGJuUmFkQ29tYm9Cb3hfTW9yZVJlc3VsdHNCb3giPjxhIGlkPSJjdGwwMF9NYWluQ29udGVudF9TZWxlY3RDb250cm9sX1NjaG9vbERiblJhZENvbWJvQm94X01vcmVSZXN1bHRzQm94SW1hZ2UiIHRpdGxlPSJTaG93IG1vcmUgcmVzdWx0cyI+PHNwYW4gY2xhc3M9InAtaWNvbiBwLWktYXJyb3ctNjAtZG93biI+PC9zcGFuPjwvYT48c3Bhbj48L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PGlucHV0IGlkPSJjdGwwMF9NYWluQ29udGVudF9TZWxlY3RDb250cm9sX1NjaG9vbERiblJhZENvbWJvQm94X0NsaWVudFN0YXRlIiBuYW1lPSJjdGwwMF9NYWluQ29udGVudF9TZWxlY3RDb250cm9sX1NjaG9vbERiblJhZENvbWJvQm94X0NsaWVudFN0YXRlIiB0eXBlPSJoaWRkZW4iIC8+DQo8L2Rpdj4NCiAgICAgICAgPHNwYW4gaWQ9Ik1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2U2Nob29sMSIgY2xhc3M9InJlcXVpcmVkIiBzdHlsZT0iZGlzcGxheTpub25lOyI+PGJyLz5TZWxlY3QgYSBTY2hvb2w8L3NwYW4+DQogICAgPC9kaXY+DQogICAgPGRpdiBjbGFzcz0iZmlsdGVyIj4NCiAgICAgICAgPGxhYmVsIGZvcj0iY3RsMDBfTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9TY2hvb2xZZWFyUmFkRHJvcERvd25MaXN0IiBjbGFzcz0ic2VsZWN0aW9uLWxhYmVsIj5ZZWFyPC9sYWJlbD4NCiAgICAgICAgPGRpdiBpZD0iY3RsMDBfTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9TY2hvb2xZZWFyUmFkRHJvcERvd25MaXN0IiBjbGFzcz0iUmFkRHJvcERvd25MaXN0IFJhZERyb3BEb3duTGlzdF9NZXRybyB5ZWFyLXJhZGRyb3Bkb3dubGlzdCI+DQoJPHNwYW4gY2xhc3M9InJkZGxJbm5lciI+PHNwYW4gY2xhc3M9InJkZGxGYWtlSW5wdXQgcmRkbERlZmF1bHRNZXNzYWdlIj4tLSBTZWxlY3QgYSBZZWFyIC0tPC9zcGFuPjxzcGFuIGNsYXNzPSJyZGRsSWNvbiI+PCEtLSAmbmJzcDsgLS0+PC9zcGFuPjwvc3Bhbj48ZGl2IGNsYXNzPSJyZGRsU2xpZGUiIGlkPSJjdGwwMF9NYWluQ29udGVudF9TZWxlY3RDb250cm9sX1NjaG9vbFllYXJSYWREcm9wRG93bkxpc3RfRHJvcERvd24iIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4NCgkJPGRpdiBjbGFzcz0icmRkbFBvcHVwIHJkZGxQb3B1cF9NZXRybyI+DQoNCgkJPC9kaXY+DQoJPC9kaXY+PGlucHV0IGlkPSJjdGwwMF9NYWluQ29udGVudF9TZWxlY3RDb250cm9sX1NjaG9vbFllYXJSYWREcm9wRG93bkxpc3RfQ2xpZW50U3RhdGUiIG5hbWU9ImN0bDAwX01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfU2Nob29sWWVhclJhZERyb3BEb3duTGlzdF9DbGllbnRTdGF0ZSIgdHlwZT0iaGlkZGVuIiAvPg0KPC9kaXY+DQogICAgICAgIDxzcGFuIGlkPSJNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlllYXIiIGNsYXNzPSJyZXF1aXJlZCIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPjxici8+U2VsZWN0IGEgWWVhcjwvc3Bhbj4NCiAgICA8L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJmaWx0ZXIiPg0KICAgICAgICA8bGFiZWwgZm9yPSJjdGwwMF9NYWluQ29udGVudF9TZWxlY3RDb250cm9sX1NjaG9vbFRlcm1SYWREcm9wRG93bkxpc3QiIGlkPSJNYWluQ29udGVudF9TZWxlY3RDb250cm9sX1Rlcm1MYWJlbCIgY2xhc3M9InNlbGVjdGlvbi1sYWJlbCI+VGVybTwvbGFiZWw+DQogICAgICAgIDxkaXYgaWQ9ImN0bDAwX01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfU2Nob29sVGVybVJhZERyb3BEb3duTGlzdCIgY2xhc3M9IlJhZERyb3BEb3duTGlzdCBSYWREcm9wRG93bkxpc3RfTWV0cm8gdGVybS1yYWRkcm9wZG93bmxpc3QiPg0KCTxzcGFuIGNsYXNzPSJyZGRsSW5uZXIiPjxzcGFuIGNsYXNzPSJyZGRsRmFrZUlucHV0IHJkZGxEZWZhdWx0TWVzc2FnZSI+LS0gU2VsZWN0IGEgVGVybSAtLTwvc3Bhbj48c3BhbiBjbGFzcz0icmRkbEljb24iPjwhLS0gJm5ic3A7IC0tPjwvc3Bhbj48L3NwYW4+PGRpdiBjbGFzcz0icmRkbFNsaWRlIiBpZD0iY3RsMDBfTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9TY2hvb2xUZXJtUmFkRHJvcERvd25MaXN0X0Ryb3BEb3duIiBzdHlsZT0iZGlzcGxheTpub25lOyI+DQoJCTxkaXYgY2xhc3M9InJkZGxQb3B1cCByZGRsUG9wdXBfTWV0cm8iPg0KDQoJCTwvZGl2Pg0KCTwvZGl2PjxpbnB1dCBpZD0iY3RsMDBfTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9TY2hvb2xUZXJtUmFkRHJvcERvd25MaXN0X0NsaWVudFN0YXRlIiBuYW1lPSJjdGwwMF9NYWluQ29udGVudF9TZWxlY3RDb250cm9sX1NjaG9vbFRlcm1SYWREcm9wRG93bkxpc3RfQ2xpZW50U3RhdGUiIHR5cGU9ImhpZGRlbiIgLz4NCjwvZGl2Pg0KICAgICAgICA8c3BhbiBpZD0iTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZUZXJtIiBjbGFzcz0icmVxdWlyZWQiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48YnIvPlNlbGVjdCBhIFRlcm08L3NwYW4+DQogICAgPC9kaXY+DQo8L2Rpdj4NCg0KPGlucHV0IHR5cGU9InN1Ym1pdCIgbmFtZT0iY3RsMDAkTWFpbkNvbnRlbnQkU2VsZWN0Q29udHJvbCRjaHJvbWVFbnRlcklzc3VlQnV0dG9uIiB2YWx1ZT0iIiBpZD0iTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9jaHJvbWVFbnRlcklzc3VlQnV0dG9uIiBjbGFzcz0iaGlkZGVuIiAvPg0KDQoNCg0KDQoNCg0KDQogICAgICAgIDxkaXYgaWQ9Im1hcmtub3RlIj4NCiAgICAgICAgICAgIDxwPkFkZCBhIG5ldyBzdHVkZW50IHJlY29yZCBieSBjbGlja2luZyDigJhBZGQgU3R1ZGVudCBSZWNvcmTigJk8L3A+DQogICAgICAgICAgICA8cD5UbyBtb2RpZnkgZXhpc3RpbmcgcmVjb3JkcyBjbGljayBvbiB0aGUg4oCYRWRpdOKAmSBsaW5rPC9wPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgDQo8ZGl2IGNsYXNzPSJwaXBvYWRtaW4iPg0KICAgIDxkaXYgY2xhc3M9InJhZGJ1dHRvbiI+DQogICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIG5hbWU9ImN0bDAwJE1haW5Db250ZW50JFBJUE9MaXN0Q29udHJvbCRUb3BBZGRTY2hlZHVsaW5nIiB2YWx1ZT0iQWRkIFN0dWRlbnQgUmVjb3JkIiBvbmNsaWNrPSJqYXZhc2NyaXB0OldlYkZvcm1fRG9Qb3N0QmFja1dpdGhPcHRpb25zKG5ldyBXZWJGb3JtX1Bvc3RCYWNrT3B0aW9ucygmcXVvdDtjdGwwMCRNYWluQ29udGVudCRQSVBPTGlzdENvbnRyb2wkVG9wQWRkU2NoZWR1bGluZyZxdW90OywgJnF1b3Q7JnF1b3Q7LCB0cnVlLCAmcXVvdDtGb3JtVmFsaWRhdGlvbkdyb3VwJnF1b3Q7LCAmcXVvdDsmcXVvdDssIGZhbHNlLCBmYWxzZSkpIiBpZD0iTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX1RvcEFkZFNjaGVkdWxpbmciIHRpdGxlPSJBZGQgU3R1ZGVudCBSZWNvcmQiIGNsYXNzPSJsb2dpbmJ1dHRvbiIgLz4NCiAgICA8L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJjbGVhciI+DQogICAgPC9kaXY+DQogICAgPGRpdiBjbGFzcz0iZmlsdGVycyI+DQogICAgICAgIDxkaXYgaWQ9ImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxTdHVkZW50IiBjbGFzcz0iUmFkQ29tYm9Cb3ggUmFkQ29tYm9Cb3hfTWV0cm8gUmFkQ29tYm9Cb3hXaXRoTGFiZWwiPg0KCTxsYWJlbCBmb3I9ImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxTdHVkZW50X0lucHV0IiBjbGFzcz0icmNiTGFiZWwgcGlwb2ZpbHRlciI+U3R1ZGVudDwvbGFiZWw+PHRhYmxlIHN1bW1hcnk9ImNvbWJvYm94IiBzdHlsZT0iYm9yZGVyLXdpZHRoOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3RhYmxlLWxheW91dDpmaXhlZDt3aWR0aDoxNTBweCI+DQoJCTx0ciBjbGFzcz0icmNiUmVhZE9ubHkiPg0KCQkJPHRkIGNsYXNzPSJyY2JJbnB1dENlbGwgcmNiSW5wdXRDZWxsTGVmdCIgc3R5bGU9Im1hcmdpbi10b3A6LTFweDttYXJnaW4tYm90dG9tOi0xcHg7d2lkdGg6MTAwJTsiPjxpbnB1dCBuYW1lPSJjdGwwMCRNYWluQ29udGVudCRQSVBPTGlzdENvbnRyb2wkZGRsU3R1ZGVudCIgdHlwZT0idGV4dCIgY2xhc3M9InJjYklucHV0IHJhZFByZXZlbnREZWNvcmF0ZSIgaWQ9ImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxTdHVkZW50X0lucHV0IiB2YWx1ZT0iQWxsIiBzdHlsZT0iZGlzcGxheTogYmxvY2s7IiByZWFkb25seT0icmVhZG9ubHkiIC8+PC90ZD48dGQgY2xhc3M9InJjYkFycm93Q2VsbCByY2JBcnJvd0NlbGxSaWdodCIgc3R5bGU9Im1hcmdpbi10b3A6LTFweDttYXJnaW4tYm90dG9tOi0xcHg7Ij48YSBpZD0iY3RsMDBfTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX2RkbFN0dWRlbnRfQXJyb3ciIHN0eWxlPSJvdmVyZmxvdzogaGlkZGVuO2Rpc3BsYXk6IGJsb2NrO3Bvc2l0aW9uOiByZWxhdGl2ZTtvdXRsaW5lOiBub25lOyI+c2VsZWN0PC9hPjwvdGQ+DQoJCTwvdHI+DQoJPC90YWJsZT48ZGl2IGNsYXNzPSJyY2JTbGlkZSIgc3R5bGU9InotaW5kZXg6NjAwMDtkaXNwbGF5Om5vbmU7Ij48ZGl2IGlkPSJjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfZGRsU3R1ZGVudF9Ecm9wRG93biIgY2xhc3M9IlJhZENvbWJvQm94RHJvcERvd24gUmFkQ29tYm9Cb3hEcm9wRG93bl9NZXRybyAiIHN0eWxlPSJmbG9hdDpsZWZ0OyI+PGRpdiBjbGFzcz0icmNiU2Nyb2xsIHJjYldpZHRoIj48dWwgY2xhc3M9InJjYkxpc3QiPjxsaSBjbGFzcz0icmNiSXRlbSI+QWxsPC9saT48L3VsPjwvZGl2PjwvZGl2PjwvZGl2PjxpbnB1dCBpZD0iY3RsMDBfTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX2RkbFN0dWRlbnRfQ2xpZW50U3RhdGUiIG5hbWU9ImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxTdHVkZW50X0NsaWVudFN0YXRlIiB0eXBlPSJoaWRkZW4iIC8+DQo8L2Rpdj4NCiAgICAgICAgPGRpdiBpZD0iY3RsMDBfTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX2RkbFRlYWNoZXIiIGNsYXNzPSJSYWRDb21ib0JveCBSYWRDb21ib0JveF9NZXRybyBSYWRDb21ib0JveFdpdGhMYWJlbCI+DQoJPGxhYmVsIGZvcj0iY3RsMDBfTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX2RkbFRlYWNoZXJfSW5wdXQiIGNsYXNzPSJyY2JMYWJlbCBwaXBvZmlsdGVyIj5UZWFjaGVyPC9sYWJlbD48dGFibGUgc3VtbWFyeT0iY29tYm9ib3giIHN0eWxlPSJib3JkZXItd2lkdGg6MDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7dGFibGUtbGF5b3V0OmZpeGVkO3dpZHRoOjE1MHB4Ij4NCgkJPHRyIGNsYXNzPSJyY2JSZWFkT25seSI+DQoJCQk8dGQgY2xhc3M9InJjYklucHV0Q2VsbCByY2JJbnB1dENlbGxMZWZ0IiBzdHlsZT0ibWFyZ2luLXRvcDotMXB4O21hcmdpbi1ib3R0b206LTFweDt3aWR0aDoxMDAlOyI+PGlucHV0IG5hbWU9ImN0bDAwJE1haW5Db250ZW50JFBJUE9MaXN0Q29udHJvbCRkZGxUZWFjaGVyIiB0eXBlPSJ0ZXh0IiBjbGFzcz0icmNiSW5wdXQgcmFkUHJldmVudERlY29yYXRlIiBpZD0iY3RsMDBfTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX2RkbFRlYWNoZXJfSW5wdXQiIHZhbHVlPSJBbGwiIHN0eWxlPSJkaXNwbGF5OiBibG9jazsiIHJlYWRvbmx5PSJyZWFkb25seSIgLz48L3RkPjx0ZCBjbGFzcz0icmNiQXJyb3dDZWxsIHJjYkFycm93Q2VsbFJpZ2h0IiBzdHlsZT0ibWFyZ2luLXRvcDotMXB4O21hcmdpbi1ib3R0b206LTFweDsiPjxhIGlkPSJjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfZGRsVGVhY2hlcl9BcnJvdyIgc3R5bGU9Im92ZXJmbG93OiBoaWRkZW47ZGlzcGxheTogYmxvY2s7cG9zaXRpb246IHJlbGF0aXZlO291dGxpbmU6IG5vbmU7Ij5zZWxlY3Q8L2E+PC90ZD4NCgkJPC90cj4NCgk8L3RhYmxlPjxkaXYgY2xhc3M9InJjYlNsaWRlIiBzdHlsZT0iei1pbmRleDo2MDAwO2Rpc3BsYXk6bm9uZTsiPjxkaXYgaWQ9ImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxUZWFjaGVyX0Ryb3BEb3duIiBjbGFzcz0iUmFkQ29tYm9Cb3hEcm9wRG93biBSYWRDb21ib0JveERyb3BEb3duX01ldHJvICIgc3R5bGU9ImZsb2F0OmxlZnQ7Ij48ZGl2IGNsYXNzPSJyY2JTY3JvbGwgcmNiV2lkdGgiPjx1bCBjbGFzcz0icmNiTGlzdCI+PGxpIGNsYXNzPSJyY2JJdGVtIj5BbGw8L2xpPjwvdWw+PC9kaXY+PC9kaXY+PC9kaXY+PGlucHV0IGlkPSJjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfZGRsVGVhY2hlcl9DbGllbnRTdGF0ZSIgbmFtZT0iY3RsMDBfTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX2RkbFRlYWNoZXJfQ2xpZW50U3RhdGUiIHR5cGU9ImhpZGRlbiIgLz4NCjwvZGl2Pg0KICAgICAgICA8ZGl2IGlkPSJjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfZGRsQ291cnNlQ29kZSIgY2xhc3M9IlJhZENvbWJvQm94IFJhZENvbWJvQm94X01ldHJvIFJhZENvbWJvQm94V2l0aExhYmVsIj4NCgk8bGFiZWwgZm9yPSJjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfZGRsQ291cnNlQ29kZV9JbnB1dCIgY2xhc3M9InJjYkxhYmVsIHBpcG9maWx0ZXIiPkNvdXJzZUNvZGU8L2xhYmVsPjx0YWJsZSBzdW1tYXJ5PSJjb21ib2JveCIgc3R5bGU9ImJvcmRlci13aWR0aDowO2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTt0YWJsZS1sYXlvdXQ6Zml4ZWQ7d2lkdGg6MTAwcHgiPg0KCQk8dHIgY2xhc3M9InJjYlJlYWRPbmx5Ij4NCgkJCTx0ZCBjbGFzcz0icmNiSW5wdXRDZWxsIHJjYklucHV0Q2VsbExlZnQiIHN0eWxlPSJtYXJnaW4tdG9wOi0xcHg7bWFyZ2luLWJvdHRvbTotMXB4O3dpZHRoOjEwMCU7Ij48aW5wdXQgbmFtZT0iY3RsMDAkTWFpbkNvbnRlbnQkUElQT0xpc3RDb250cm9sJGRkbENvdXJzZUNvZGUiIHR5cGU9InRleHQiIGNsYXNzPSJyY2JJbnB1dCByYWRQcmV2ZW50RGVjb3JhdGUiIGlkPSJjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfZGRsQ291cnNlQ29kZV9JbnB1dCIgdmFsdWU9IkFsbCIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrOyIgcmVhZG9ubHk9InJlYWRvbmx5IiAvPjwvdGQ+PHRkIGNsYXNzPSJyY2JBcnJvd0NlbGwgcmNiQXJyb3dDZWxsUmlnaHQiIHN0eWxlPSJtYXJnaW4tdG9wOi0xcHg7bWFyZ2luLWJvdHRvbTotMXB4OyI+PGEgaWQ9ImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxDb3Vyc2VDb2RlX0Fycm93IiBzdHlsZT0ib3ZlcmZsb3c6IGhpZGRlbjtkaXNwbGF5OiBibG9jaztwb3NpdGlvbjogcmVsYXRpdmU7b3V0bGluZTogbm9uZTsiPnNlbGVjdDwvYT48L3RkPg0KCQk8L3RyPg0KCTwvdGFibGU+PGRpdiBjbGFzcz0icmNiU2xpZGUiIHN0eWxlPSJ6LWluZGV4OjYwMDA7ZGlzcGxheTpub25lOyI+PGRpdiBpZD0iY3RsMDBfTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX2RkbENvdXJzZUNvZGVfRHJvcERvd24iIGNsYXNzPSJSYWRDb21ib0JveERyb3BEb3duIFJhZENvbWJvQm94RHJvcERvd25fTWV0cm8gIiBzdHlsZT0iZmxvYXQ6bGVmdDsiPjxkaXYgY2xhc3M9InJjYlNjcm9sbCByY2JXaWR0aCI+PHVsIGNsYXNzPSJyY2JMaXN0Ij48bGkgY2xhc3M9InJjYkl0ZW0iPkFsbDwvbGk+PC91bD48L2Rpdj48L2Rpdj48L2Rpdj48aW5wdXQgaWQ9ImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxDb3Vyc2VDb2RlX0NsaWVudFN0YXRlIiBuYW1lPSJjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfZGRsQ291cnNlQ29kZV9DbGllbnRTdGF0ZSIgdHlwZT0iaGlkZGVuIiAvPg0KPC9kaXY+DQogICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIG5hbWU9ImN0bDAwJE1haW5Db250ZW50JFBJUE9MaXN0Q29udHJvbCRidG5SZXNldCIgdmFsdWU9IlJlc2V0IiBpZD0iTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX2J0blJlc2V0IiAvPg0KICAgIDwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9ImNsZWFyIj4NCiAgICA8L2Rpdj4NCiAgICA8ZGl2IGlkPSJjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfUElQT0xpc3RHcmlkIiBjbGFzcz0iUmFkR3JpZCBSYWRHcmlkX01ldHJvIj4NCg0KPHRhYmxlIGNlbGxzcGFjaW5nPSIwIiBjbGFzcz0icmdNYXN0ZXJUYWJsZSIgaWQ9ImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9QSVBPTGlzdEdyaWRfY3RsMDAiIHN0eWxlPSJ3aWR0aDoxMDAlO3RhYmxlLWxheW91dDphdXRvO2VtcHR5LWNlbGxzOnNob3c7Ij4NCgk8Y29sZ3JvdXA+DQoJCTxjb2wgc3R5bGU9IndpZHRoOjExMHB4IiAvPg0KCQk8Y29sICAvPg0KCQk8Y29sICAvPg0KCQk8Y29sICAvPg0KCQk8Y29sICAvPg0KCQk8Y29sICAvPg0KCQk8Y29sICAvPg0KCQk8Y29sICAvPg0KCQk8Y29sICAvPg0KCQk8Y29sICAvPg0KCQk8Y29sICAvPg0KCTwvY29sZ3JvdXA+DQo8dGhlYWQ+DQoJCTx0ciBjbGFzcz0icmdDb21tYW5kUm93Ij4NCgkJCTx0ZCBjbGFzcz0icmdDb21tYW5kQ2VsbCIgY29sc3Bhbj0iMTEiPjx0YWJsZSBjbGFzcz0icmdDb21tYW5kVGFibGUiIHN1bW1hcnk9IkNvbW1hbmQgaXRlbSBmb3IgYWRkaXRpb25hbCBmdW5jdGlvbmFsaXRpZXMgZm9yIHRoZSBncmlkIGxpa2UgYWRkaW5nIGEgbmV3IHJlY29yZCBhbmQgZXhwb3J0aW5nLiIgc3R5bGU9IndpZHRoOjEwMCU7Ij4NCgkJCQk8Y2FwdGlvbj4NCgkJCQkJPHNwYW4gc3R5bGU9J2Rpc3BsYXk6IG5vbmUnPkNvbW1hbmQgaXRlbTwvc3Bhbj4NCgkJCQk8L2NhcHRpb24+PHRoZWFkPg0KCQkJCQk8dHI+DQoJCQkJCQk8dGggc2NvcGU9ImNvbCI+Q29tbWFuZCBpdGVtPC90aD4NCgkJCQkJPC90cj4NCgkJCQk8L3RoZWFkPjx0Ym9keT4NCgkJCQkJPHRyPg0KCQkJCQkJPHRkIGFsaWduPSJsZWZ0Ij4mbmJzcDs8L3RkPjx0ZCBhbGlnbj0icmlnaHQiPjxhIGlkPSJjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfUElQT0xpc3RHcmlkX2N0bDAwX2N0bDAyX2N0bDAwX1JlYmluZEdyaWRCdXR0b24iIGhyZWY9ImphdmFzY3JpcHQ6X19kb1Bvc3RCYWNrKCYjMzk7Y3RsMDAkTWFpbkNvbnRlbnQkUElQT0xpc3RDb250cm9sJFBJUE9MaXN0R3JpZCRjdGwwMCRjdGwwMiRjdGwwMCRSZWJpbmRHcmlkQnV0dG9uJiMzOTssJiMzOTsmIzM5OykiPjxpbWcgc3R5bGU9ImJvcmRlcjowcHgiIGFsdD0iIiBzcmM9Ii9zdGFyc2NsYXNzcm9vbS9JbWFnZXMvUmVmcmVzaDEucG5nIiAvPiBSZWZyZXNoPC9hPjwvdGQ+DQoJCQkJCTwvdHI+DQoJCQkJPC90Ym9keT4NCgkJCTwvdGFibGU+PC90ZD4NCgkJPC90cj48dHI+DQoJCQk8dGggc2NvcGU9ImNvbCIgY2xhc3M9InJnSGVhZGVyIj48YSBvbmNsaWNrPSJUZWxlcmlrLldlYi5VSS5HcmlkLlNvcnQoJGZpbmQoJiMzOTtjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfUElQT0xpc3RHcmlkX2N0bDAwJiMzOTspLCAmIzM5O1NlcnZpY2VUeXBlJiMzOTspOyByZXR1cm4gZmFsc2U7IiB0aXRsZT0iQ2xpY2sgaGVyZSB0byBzb3J0IiBocmVmPSJqYXZhc2NyaXB0Ol9fZG9Qb3N0QmFjaygmIzM5O2N0bDAwJE1haW5Db250ZW50JFBJUE9MaXN0Q29udHJvbCRQSVBPTGlzdEdyaWQkY3RsMDAkY3RsMDIkY3RsMDIkY3RsMDAmIzM5OywmIzM5OyYjMzk7KSI+U2VydmljZTwvYT48L3RoPjx0aCBzY29wZT0iY29sIiBjbGFzcz0icmdIZWFkZXIiPlN0dWRlbnQgTmFtZTwvdGg+PHRoIHNjb3BlPSJjb2wiIGNsYXNzPSJyZ0hlYWRlciI+Q291cnNlPC90aD48dGggc2NvcGU9ImNvbCIgY2xhc3M9InJnSGVhZGVyIj5UZWFjaGVyPC90aD48dGggc2NvcGU9ImNvbCIgY2xhc3M9InJnSGVhZGVyIj5TdGFydCBEYXRlPC90aD48dGggc2NvcGU9ImNvbCIgY2xhc3M9InJnSGVhZGVyIj5FbmQgRGF0ZTwvdGg+PHRoIHNjb3BlPSJjb2wiIGNsYXNzPSJyZ0hlYWRlciI+TWludXRlcyBQZXIgV2VlazwvdGg+PHRoIHNjb3BlPSJjb2wiIGNsYXNzPSJyZ0hlYWRlciI+TWVldCBUaW1lPC90aD48dGggc2NvcGU9ImNvbCIgY2xhc3M9InJnSGVhZGVyIj5Sb29tPC90aD48dGggc2NvcGU9ImNvbCIgY2xhc3M9InJnSGVhZGVyIj5EZWxldGU8L3RoPjx0aCBzY29wZT0iY29sIiBjbGFzcz0icmdIZWFkZXIiPk1vZGlmeTwvdGg+DQoJCTwvdHI+DQoJPC90aGVhZD48dGJvZHk+DQoJPHRyIGNsYXNzPSJyZ05vUmVjb3JkcyI+DQoJCTx0ZCBjb2xzcGFuPSIxMSIgc3R5bGU9InRleHQtYWxpZ246bGVmdDsiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5vcmVjb3Jkc2luZ3JpZCI+DQogICAgICAgICAgICAgICAgICAgIE5vIHJlY29yZHMgdG8gZGlzcGxheS4gVmVyaWZ5IHRoYXQgYSBzY2hvb2wgaXMgc2VsZWN0ZWQuDQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L3RkPg0KCTwvdHI+DQoJPC90Ym9keT4NCg0KPC90YWJsZT48ZGl2IGlkPSJjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfUElQT0xpc3RHcmlkX1NoYXJlZENhbGVuZGFyQ29udGFpbmVyIiBzdHlsZT0iZGlzcGxheTpub25lOyI+DQoNCjwvZGl2PjxpbnB1dCBpZD0iY3RsMDBfTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX1BJUE9MaXN0R3JpZF9DbGllbnRTdGF0ZSIgbmFtZT0iY3RsMDBfTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX1BJUE9MaXN0R3JpZF9DbGllbnRTdGF0ZSIgdHlwZT0iaGlkZGVuIiAvPgk8L2Rpdj4NCg0KICAgIDxiciAvPg0KICAgIDxkaXYgY2xhc3M9InJhZGJ1dHRvbiI+DQogICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIG5hbWU9ImN0bDAwJE1haW5Db250ZW50JFBJUE9MaXN0Q29udHJvbCRCb3R0b21BZGRTY2hlZHVsaW5nIiB2YWx1ZT0iQWRkIFN0dWRlbnQgUmVjb3JkIiBvbmNsaWNrPSJqYXZhc2NyaXB0OldlYkZvcm1fRG9Qb3N0QmFja1dpdGhPcHRpb25zKG5ldyBXZWJGb3JtX1Bvc3RCYWNrT3B0aW9ucygmcXVvdDtjdGwwMCRNYWluQ29udGVudCRQSVBPTGlzdENvbnRyb2wkQm90dG9tQWRkU2NoZWR1bGluZyZxdW90OywgJnF1b3Q7JnF1b3Q7LCB0cnVlLCAmcXVvdDtGb3JtVmFsaWRhdGlvbkdyb3VwJnF1b3Q7LCAmcXVvdDsmcXVvdDssIGZhbHNlLCBmYWxzZSkpIiBpZD0iTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX0JvdHRvbUFkZFNjaGVkdWxpbmciIHRpdGxlPSJBZGQgU3R1ZGVudCBSZWNvcmQiIGNsYXNzPSJsb2dpbmJ1dHRvbiIgLz4NCiAgICA8L2Rpdj4NCjwvZGl2Pg0KDQoNCiAgICA8L2Rpdj4NCiAgICANCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnJlYWRjcnVtYnMgYm90dG9tIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGlkPSJNYWluQ29udGVudF9Mb2dpblZpZXdCb3R0b21fSG9tZUxpbmtCb3R0b20iIGhyZWY9Ii4uL2RlZmF1bHQuYXNweCI+SG9tZTwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGlkPSJNYWluQ29udGVudF9Mb2dpblZpZXdCb3R0b21fQWRtaW5MaW5rQm90dG9tIiBocmVmPSJkZWZhdWx0LmFzcHgiPj4gU2Nob29sIEFkbWluaXN0cmF0b3I8L2E+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4mZ3Q7IFB1c2gtSW4vUHVsbC1PdXQgSW5zdHJ1Y3Rpb248L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIA0KDQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPCEtLSBFbmQgQXBwbGljYXRpb24gQXJlYSAtLT4NCiAgICAgICAgICAgIDwhLS0gQmVnaW4gRm9vdGVyIC0tPg0KICAgICAgICAgICAgPGRpdiBpZD0iZm9vdGVyIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsZWZ0Ij4NCiAgICAgICAgICAgICAgICAgICAgJmNvcHk7IDIwMTMgVGhlIE5ldyBZb3JrIENpdHkgRGVwYXJ0bWVudCBvZiBFZHVjYXRpb24NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyaWdodCI+DQogICAgICAgICAgICAgICAgICAgIFByaXZhY3kgUG9saWN5IGFuZCBUZXJtcyBvZiBVc2UNCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjbGVhciBzcGFjZS1ib3QiPiZuYnNwOzwvZGl2Pg0KICAgICAgICAgICAgPCEtLSBFbmQgRm9vdGVyIC0tPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPCEtLSBFbmQgQ29udGFpbmVyIC0tPg0KDQogICAgICAgIA0KICAgICAgICAgICAgPHNjcmlwdCBzcmM9Ii9zdGFyc2NsYXNzcm9vbS9TY3JpcHRzL01hc3RlclBhZ2VGdW5jdGlvbnMuanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+ICAgICAgICANCiAgICAgICAgICAgIDwvc2NyaXB0Pg0KICAgICAgICANCg0KICAgICAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQogICAgICAgICAgIA0KICAgICAgICAgICAgLy8gV2ViIEFQSSBVUkwgcGFydCANCiAgICAgICAgICAgICRzZXJ2aWNlX3VybCA9ICcvc3RhcnNjbGFzc3Jvb20vc3RhcnNhcGknOw0KICAgICAgICAgICANCiAgICAgICAgICAgIChmdW5jdGlvbiAoaSwgcywgbywgZywgciwgYSwgbSkgew0KICAgICAgICAgICAgICAgIGlbJ0dvb2dsZUFuYWx5dGljc09iamVjdCddID0gcjsgaVtyXSA9IGlbcl0gfHwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAoaVtyXS5xID0gaVtyXS5xIHx8IFtdKS5wdXNoKGFyZ3VtZW50cykNCiAgICAgICAgICAgICAgICB9LCBpW3JdLmwgPSAxICogbmV3IERhdGUoKTsgYSA9IHMuY3JlYXRlRWxlbWVudChvKSwNCiAgICAgICAgICAgIG0gPSBzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG8pWzBdOyBhLmFzeW5jID0gMTsgYS5zcmMgPSBnOyBtLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsIG0pDQogICAgICAgICAgICB9KSh3aW5kb3csIGRvY3VtZW50LCAnc2NyaXB0JywgJy8vd3d3Lmdvb2dsZS1hbmFseXRpY3MuY29tL2FuYWx5dGljcy5qcycsICdnYScpOw0KICAgICAgICAgICAgZ2EoJ2NyZWF0ZScsICdVQS00MDI2MjYwNC0xJywgJ255Y2VuZXQuZWR1Jyk7DQogICAgICAgICAgICBnYSgnc2VuZCcsICdwYWdldmlldycpOw0KICAgICAgICA8L3NjcmlwdD4NCiAgICANCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCi8vPCFbQ0RBVEFbDQp2YXIgUGFnZV9WYWxpZGF0b3JzID0gIG5ldyBBcnJheShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZTY2hvb2wiKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2U2Nob29sMSIpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZZZWFyIiksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlRlcm0iKSk7DQovL11dPg0KPC9zY3JpcHQ+DQoNCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCi8vPCFbQ0RBVEFbDQp2YXIgTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZTY2hvb2wgPSBkb2N1bWVudC5hbGwgPyBkb2N1bWVudC5hbGxbIk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2U2Nob29sIl0gOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZTY2hvb2wiKTsNCk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2U2Nob29sLmNvbnRyb2x0b3ZhbGlkYXRlID0gImN0bDAwX01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfU2Nob29sRGJuUmFkRHJvcERvd25MaXN0IjsNCk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2U2Nob29sLmVycm9ybWVzc2FnZSA9ICI8YnIvPlNlbGVjdCBhIFNjaG9vbCI7DQpNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlNjaG9vbC5kaXNwbGF5ID0gIkR5bmFtaWMiOw0KTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZTY2hvb2wudmFsaWRhdGlvbkdyb3VwID0gIkZvcm1WYWxpZGF0aW9uR3JvdXAiOw0KTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZTY2hvb2wuZXZhbHVhdGlvbmZ1bmN0aW9uID0gIlJlcXVpcmVkRmllbGRWYWxpZGF0b3JFdmFsdWF0ZUlzVmFsaWQiOw0KTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZTY2hvb2wuaW5pdGlhbHZhbHVlID0gIiI7DQp2YXIgTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZTY2hvb2wxID0gZG9jdW1lbnQuYWxsID8gZG9jdW1lbnQuYWxsWyJNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlNjaG9vbDEiXSA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlNjaG9vbDEiKTsNCk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2U2Nob29sMS5jb250cm9sdG92YWxpZGF0ZSA9ICJjdGwwMF9NYWluQ29udGVudF9TZWxlY3RDb250cm9sX1NjaG9vbERiblJhZENvbWJvQm94IjsNCk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2U2Nob29sMS5lcnJvcm1lc3NhZ2UgPSAiPGJyLz5TZWxlY3QgYSBTY2hvb2wiOw0KTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZTY2hvb2wxLmRpc3BsYXkgPSAiRHluYW1pYyI7DQpNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlNjaG9vbDEudmFsaWRhdGlvbkdyb3VwID0gIkZvcm1WYWxpZGF0aW9uR3JvdXAiOw0KTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZTY2hvb2wxLmV2YWx1YXRpb25mdW5jdGlvbiA9ICJSZXF1aXJlZEZpZWxkVmFsaWRhdG9yRXZhbHVhdGVJc1ZhbGlkIjsNCk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2U2Nob29sMS5pbml0aWFsdmFsdWUgPSAiIjsNCnZhciBNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlllYXIgPSBkb2N1bWVudC5hbGwgPyBkb2N1bWVudC5hbGxbIk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2WWVhciJdIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2WWVhciIpOw0KTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZZZWFyLmNvbnRyb2x0b3ZhbGlkYXRlID0gImN0bDAwX01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfU2Nob29sRGJuUmFkQ29tYm9Cb3giOw0KTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZZZWFyLmVycm9ybWVzc2FnZSA9ICI8YnIvPlNlbGVjdCBhIFllYXIiOw0KTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZZZWFyLmRpc3BsYXkgPSAiRHluYW1pYyI7DQpNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlllYXIudmFsaWRhdGlvbkdyb3VwID0gIkZvcm1WYWxpZGF0aW9uR3JvdXAiOw0KTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZZZWFyLmV2YWx1YXRpb25mdW5jdGlvbiA9ICJSZXF1aXJlZEZpZWxkVmFsaWRhdG9yRXZhbHVhdGVJc1ZhbGlkIjsNCk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2WWVhci5pbml0aWFsdmFsdWUgPSAiIjsNCnZhciBNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlRlcm0gPSBkb2N1bWVudC5hbGwgPyBkb2N1bWVudC5hbGxbIk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2VGVybSJdIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2VGVybSIpOw0KTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZUZXJtLmNvbnRyb2x0b3ZhbGlkYXRlID0gImN0bDAwX01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfU2Nob29sVGVybVJhZERyb3BEb3duTGlzdCI7DQpNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlRlcm0uZXJyb3JtZXNzYWdlID0gIjxici8+U2VsZWN0IGEgVGVybSI7DQpNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlRlcm0uZGlzcGxheSA9ICJEeW5hbWljIjsNCk1haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2VGVybS52YWxpZGF0aW9uR3JvdXAgPSAiRm9ybVZhbGlkYXRpb25Hcm91cCI7DQpNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlRlcm0uZXZhbHVhdGlvbmZ1bmN0aW9uID0gIlJlcXVpcmVkRmllbGRWYWxpZGF0b3JFdmFsdWF0ZUlzVmFsaWQiOw0KTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZUZXJtLmluaXRpYWx2YWx1ZSA9ICIiOw0KLy9dXT4NCjwvc2NyaXB0Pg0KDQoNCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCi8vPCFbQ0RBVEFbDQoNCnZhciBQYWdlX1ZhbGlkYXRpb25BY3RpdmUgPSBmYWxzZTsNCmlmICh0eXBlb2YoVmFsaWRhdG9yT25Mb2FkKSA9PSAiZnVuY3Rpb24iKSB7DQogICAgVmFsaWRhdG9yT25Mb2FkKCk7DQp9DQoNCmZ1bmN0aW9uIFZhbGlkYXRvck9uU3VibWl0KCkgew0KICAgIGlmIChQYWdlX1ZhbGlkYXRpb25BY3RpdmUpIHsNCiAgICAgICAgcmV0dXJuIFZhbGlkYXRvckNvbW1vbk9uU3VibWl0KCk7DQogICAgfQ0KICAgIGVsc2Ugew0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQp9DQogICAgICAgIA0KdGhlRm9ybS5vbGRTdWJtaXQgPSB0aGVGb3JtLnN1Ym1pdDsNCnRoZUZvcm0uc3VibWl0ID0gV2ViRm9ybV9TYXZlU2Nyb2xsUG9zaXRpb25TdWJtaXQ7DQoNCnRoZUZvcm0ub2xkT25TdWJtaXQgPSB0aGVGb3JtLm9uc3VibWl0Ow0KdGhlRm9ybS5vbnN1Ym1pdCA9IFdlYkZvcm1fU2F2ZVNjcm9sbFBvc2l0aW9uT25TdWJtaXQ7DQpTeXMuQXBwbGljYXRpb24uYWRkX2luaXQoZnVuY3Rpb24oKSB7DQogICAgJGNyZWF0ZShUZWxlcmlrLldlYi5VSS5SYWRBamF4TWFuYWdlciwgeyJfdXBkYXRlUGFuZWxzIjoiIiwiYWpheFNldHRpbmdzIjpbXSwiY2xpZW50RXZlbnRzIjp7T25SZXF1ZXN0U3RhcnQ6IiIsT25SZXNwb25zZUVuZDoiIn0sImRlZmF1bHRMb2FkaW5nUGFuZWxJRCI6IlJhZEFqYXhMb2FkaW5nUGFuZWwxIiwiZW5hYmxlQUpBWCI6dHJ1ZSwiZW5hYmxlSGlzdG9yeSI6ZmFsc2UsImxpbmtzIjpbXSwic3R5bGVzIjpbXSwidW5pcXVlSUQiOiJjdGwwMCRSYWRBamF4TWFuYWdlcjEiLCJ1cGRhdGVQYW5lbHNSZW5kZXJNb2RlIjowfSwgbnVsbCwgbnVsbCwgJGdldCgiY3RsMDBfUmFkQWpheE1hbmFnZXIxIikpOw0KfSk7DQpTeXMuQXBwbGljYXRpb24uYWRkX2luaXQoZnVuY3Rpb24oKSB7DQogICAgJGNyZWF0ZShUZWxlcmlrLldlYi5VSS5SYWRBamF4TG9hZGluZ1BhbmVsLCB7ImluaXRpYWxEZWxheVRpbWUiOjAsImlzU3RpY2t5IjpmYWxzZSwibWluRGlzcGxheVRpbWUiOjAsInNraW4iOiJNZXRybyIsInVuaXF1ZUlEIjoiY3RsMDAkUmFkQWpheExvYWRpbmdQYW5lbDEiLCJ6SW5kZXgiOjkwMDAwfSwgbnVsbCwgbnVsbCwgJGdldCgiUmFkQWpheExvYWRpbmdQYW5lbDEiKSk7DQp9KTsNCg0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2U2Nob29sJykuZGlzcG9zZSA9IGZ1bmN0aW9uKCkgew0KICAgIEFycmF5LnJlbW92ZShQYWdlX1ZhbGlkYXRvcnMsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlNjaG9vbCcpKTsNCn0NCg0KdmFyIGNhbGxCYWNrRnJhbWVVcmw9Jy9zdGFyc2NsYXNzcm9vbS9XZWJSZXNvdXJjZS5heGQ/ZD1iZVRvU0FFM3Zkc0wxUVVRVXhqV2RhenBYdHpMNEZjcDFRU1hlQ1R1V2x5dFBhdHV0cmhkR1V3d0dtS0FjNjZxVXFLb1lRMiZ0PTYzNjE2MDY2NDU2MDAwMDAwMCc7DQpXZWJGb3JtX0luaXRDYWxsYmFjaygpO1N5cy5BcHBsaWNhdGlvbi5hZGRfaW5pdChmdW5jdGlvbigpIHsNCiAgICAkY3JlYXRlKFRlbGVyaWsuV2ViLlVJLlJhZENvbWJvQm94LCB7Il9kcm9wRG93bkF1dG9XaWR0aCI6MSwiX2Ryb3BEb3duV2lkdGgiOjAsIl9oZWlnaHQiOjAsIl9sb2RJc0F1dG9tYXRpYyI6dHJ1ZSwiX3Bvc3RCYWNrUmVmZXJlbmNlIjoiX19kb1Bvc3RCYWNrKFx1MDAyN2N0bDAwJE1haW5Db250ZW50JFNlbGVjdENvbnRyb2wkU2Nob29sRGJuUmFkQ29tYm9Cb3hcdTAwMjcsXHUwMDI3YXJndW1lbnRzXHUwMDI3KSIsIl9zaG93TW9yZVJlc3VsdHNCb3giOnRydWUsIl9za2luIjoiTWV0cm8iLCJfdW5pcXVlSWQiOiJjdGwwMCRNYWluQ29udGVudCRTZWxlY3RDb250cm9sJFNjaG9vbERiblJhZENvbWJvQm94IiwiX3ZpcnR1YWxTY3JvbGwiOnRydWUsImNsaWVudFN0YXRlRmllbGRJRCI6ImN0bDAwX01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfU2Nob29sRGJuUmFkQ29tYm9Cb3hfQ2xpZW50U3RhdGUiLCJjb2xsYXBzZUFuaW1hdGlvbiI6IntcImR1cmF0aW9uXCI6NDUwfSIsImVtcHR5TWVzc2FnZSI6Ii0tIFR5cGUgYSBTY2hvb2wgLS0iLCJlbmFibGVMb2FkT25EZW1hbmQiOnRydWUsImV4cGFuZEFuaW1hdGlvbiI6IntcImR1cmF0aW9uXCI6NDUwfSIsImZpbHRlciI6MSwiaXRlbURhdGEiOltdLCJpdGVtUmVxdWVzdFRpbWVvdXQiOjIwMCwibG9jYWxpemF0aW9uIjoie1wiQWxsSXRlbXNDaGVja2VkU3RyaW5nXCI6XCJBbGwgaXRlbXMgY2hlY2tlZFwiLFwiSXRlbXNDaGVja2VkU3RyaW5nXCI6XCJpdGVtcyBjaGVja2VkXCIsXCJDaGVja0FsbFN0cmluZ1wiOlwiQ2hlY2sgQWxsXCJ9IiwibWFya0ZpcnN0TWF0Y2giOnRydWV9LCBudWxsLCBudWxsLCAkZ2V0KCJjdGwwMF9NYWluQ29udGVudF9TZWxlY3RDb250cm9sX1NjaG9vbERiblJhZENvbWJvQm94IikpOw0KfSk7DQoNCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlNjaG9vbDEnKS5kaXNwb3NlID0gZnVuY3Rpb24oKSB7DQogICAgQXJyYXkucmVtb3ZlKFBhZ2VfVmFsaWRhdG9ycywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfcmZ2U2Nob29sMScpKTsNCn0NClN5cy5BcHBsaWNhdGlvbi5hZGRfaW5pdChmdW5jdGlvbigpIHsNCiAgICAkY3JlYXRlKFRlbGVyaWsuV2ViLlVJLlJhZERyb3BEb3duTGlzdCwgeyJfcG9zdEJhY2tSZWZlcmVuY2UiOiJfX2RvUG9zdEJhY2soXHUwMDI3Y3RsMDAkTWFpbkNvbnRlbnQkU2VsZWN0Q29udHJvbCRTY2hvb2xZZWFyUmFkRHJvcERvd25MaXN0XHUwMDI3LFx1MDAyN2FyZ3VtZW50c1x1MDAyNykiLCJfdW5pcXVlSWQiOiJjdGwwMCRNYWluQ29udGVudCRTZWxlY3RDb250cm9sJFNjaG9vbFllYXJSYWREcm9wRG93bkxpc3QiLCJhdXRvUG9zdEJhY2siOnRydWUsImNsaWVudFN0YXRlRmllbGRJRCI6ImN0bDAwX01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfU2Nob29sWWVhclJhZERyb3BEb3duTGlzdF9DbGllbnRTdGF0ZSIsImRlZmF1bHRNZXNzYWdlIjoiLS0gU2VsZWN0IGEgWWVhciAtLSIsIml0ZW1EYXRhIjpbXX0sIG51bGwsIG51bGwsICRnZXQoImN0bDAwX01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfU2Nob29sWWVhclJhZERyb3BEb3duTGlzdCIpKTsNCn0pOw0KDQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZZZWFyJykuZGlzcG9zZSA9IGZ1bmN0aW9uKCkgew0KICAgIEFycmF5LnJlbW92ZShQYWdlX1ZhbGlkYXRvcnMsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlllYXInKSk7DQp9DQpTeXMuQXBwbGljYXRpb24uYWRkX2luaXQoZnVuY3Rpb24oKSB7DQogICAgJGNyZWF0ZShUZWxlcmlrLldlYi5VSS5SYWREcm9wRG93bkxpc3QsIHsiX3Bvc3RCYWNrUmVmZXJlbmNlIjoiX19kb1Bvc3RCYWNrKFx1MDAyN2N0bDAwJE1haW5Db250ZW50JFNlbGVjdENvbnRyb2wkU2Nob29sVGVybVJhZERyb3BEb3duTGlzdFx1MDAyNyxcdTAwMjdhcmd1bWVudHNcdTAwMjcpIiwiX3VuaXF1ZUlkIjoiY3RsMDAkTWFpbkNvbnRlbnQkU2VsZWN0Q29udHJvbCRTY2hvb2xUZXJtUmFkRHJvcERvd25MaXN0IiwiYXV0b1Bvc3RCYWNrIjp0cnVlLCJjbGllbnRTdGF0ZUZpZWxkSUQiOiJjdGwwMF9NYWluQ29udGVudF9TZWxlY3RDb250cm9sX1NjaG9vbFRlcm1SYWREcm9wRG93bkxpc3RfQ2xpZW50U3RhdGUiLCJkZWZhdWx0TWVzc2FnZSI6Ii0tIFNlbGVjdCBhIFRlcm0gLS0iLCJkcm9wRG93bldpZHRoIjoiMTVlbSIsIml0ZW1EYXRhIjpbXX0sIG51bGwsIG51bGwsICRnZXQoImN0bDAwX01haW5Db250ZW50X1NlbGVjdENvbnRyb2xfU2Nob29sVGVybVJhZERyb3BEb3duTGlzdCIpKTsNCn0pOw0KDQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnTWFpbkNvbnRlbnRfU2VsZWN0Q29udHJvbF9yZnZUZXJtJykuZGlzcG9zZSA9IGZ1bmN0aW9uKCkgew0KICAgIEFycmF5LnJlbW92ZShQYWdlX1ZhbGlkYXRvcnMsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdNYWluQ29udGVudF9TZWxlY3RDb250cm9sX3JmdlRlcm0nKSk7DQp9DQpTeXMuQXBwbGljYXRpb24uYWRkX2luaXQoZnVuY3Rpb24oKSB7DQogICAgJGNyZWF0ZShUZWxlcmlrLldlYi5VSS5SYWRDb21ib0JveCwgeyJfZHJvcERvd25XaWR0aCI6MCwiX2hlaWdodCI6MTUwLCJfcG9zdEJhY2tSZWZlcmVuY2UiOiJfX2RvUG9zdEJhY2soXHUwMDI3Y3RsMDAkTWFpbkNvbnRlbnQkUElQT0xpc3RDb250cm9sJGRkbFN0dWRlbnRcdTAwMjcsXHUwMDI3YXJndW1lbnRzXHUwMDI3KSIsIl9za2luIjoiTWV0cm8iLCJfdGV4dCI6IkFsbCIsIl91bmlxdWVJZCI6ImN0bDAwJE1haW5Db250ZW50JFBJUE9MaXN0Q29udHJvbCRkZGxTdHVkZW50IiwiX3ZhbHVlIjoiMCIsImNsaWVudFN0YXRlRmllbGRJRCI6ImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxTdHVkZW50X0NsaWVudFN0YXRlIiwiY29sbGFwc2VBbmltYXRpb24iOiJ7XCJkdXJhdGlvblwiOjQ1MH0iLCJlbXB0eU1lc3NhZ2UiOiJBbGwiLCJleHBhbmRBbmltYXRpb24iOiJ7XCJkdXJhdGlvblwiOjQ1MH0iLCJpdGVtRGF0YSI6W3sidmFsdWUiOiIwIiwic2VsZWN0ZWQiOnRydWV9XSwibG9jYWxpemF0aW9uIjoie1wiQWxsSXRlbXNDaGVja2VkU3RyaW5nXCI6XCJBbGwgaXRlbXMgY2hlY2tlZFwiLFwiSXRlbXNDaGVja2VkU3RyaW5nXCI6XCJpdGVtcyBjaGVja2VkXCIsXCJDaGVja0FsbFN0cmluZ1wiOlwiQ2hlY2sgQWxsXCJ9Iiwic2VsZWN0ZWRJbmRleCI6MH0sIG51bGwsIG51bGwsICRnZXQoImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxTdHVkZW50IikpOw0KfSk7DQpTeXMuQXBwbGljYXRpb24uYWRkX2luaXQoZnVuY3Rpb24oKSB7DQogICAgJGNyZWF0ZShUZWxlcmlrLldlYi5VSS5SYWRDb21ib0JveCwgeyJfZHJvcERvd25XaWR0aCI6MCwiX2hlaWdodCI6MTUwLCJfcG9zdEJhY2tSZWZlcmVuY2UiOiJfX2RvUG9zdEJhY2soXHUwMDI3Y3RsMDAkTWFpbkNvbnRlbnQkUElQT0xpc3RDb250cm9sJGRkbFRlYWNoZXJcdTAwMjcsXHUwMDI3YXJndW1lbnRzXHUwMDI3KSIsIl9za2luIjoiTWV0cm8iLCJfdGV4dCI6IkFsbCIsIl91bmlxdWVJZCI6ImN0bDAwJE1haW5Db250ZW50JFBJUE9MaXN0Q29udHJvbCRkZGxUZWFjaGVyIiwiX3ZhbHVlIjoiMCIsImNsaWVudFN0YXRlRmllbGRJRCI6ImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxUZWFjaGVyX0NsaWVudFN0YXRlIiwiY29sbGFwc2VBbmltYXRpb24iOiJ7XCJkdXJhdGlvblwiOjQ1MH0iLCJlbXB0eU1lc3NhZ2UiOiJBbGwiLCJleHBhbmRBbmltYXRpb24iOiJ7XCJkdXJhdGlvblwiOjQ1MH0iLCJpdGVtRGF0YSI6W3sidmFsdWUiOiIwIiwic2VsZWN0ZWQiOnRydWV9XSwibG9jYWxpemF0aW9uIjoie1wiQWxsSXRlbXNDaGVja2VkU3RyaW5nXCI6XCJBbGwgaXRlbXMgY2hlY2tlZFwiLFwiSXRlbXNDaGVja2VkU3RyaW5nXCI6XCJpdGVtcyBjaGVja2VkXCIsXCJDaGVja0FsbFN0cmluZ1wiOlwiQ2hlY2sgQWxsXCJ9Iiwic2VsZWN0ZWRJbmRleCI6MH0sIG51bGwsIG51bGwsICRnZXQoImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxUZWFjaGVyIikpOw0KfSk7DQpTeXMuQXBwbGljYXRpb24uYWRkX2luaXQoZnVuY3Rpb24oKSB7DQogICAgJGNyZWF0ZShUZWxlcmlrLldlYi5VSS5SYWRDb21ib0JveCwgeyJfZHJvcERvd25XaWR0aCI6MCwiX2hlaWdodCI6MTUwLCJfcG9zdEJhY2tSZWZlcmVuY2UiOiJfX2RvUG9zdEJhY2soXHUwMDI3Y3RsMDAkTWFpbkNvbnRlbnQkUElQT0xpc3RDb250cm9sJGRkbENvdXJzZUNvZGVcdTAwMjcsXHUwMDI3YXJndW1lbnRzXHUwMDI3KSIsIl9za2luIjoiTWV0cm8iLCJfdGV4dCI6IkFsbCIsIl91bmlxdWVJZCI6ImN0bDAwJE1haW5Db250ZW50JFBJUE9MaXN0Q29udHJvbCRkZGxDb3Vyc2VDb2RlIiwiX3ZhbHVlIjoiMCIsImNsaWVudFN0YXRlRmllbGRJRCI6ImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxDb3Vyc2VDb2RlX0NsaWVudFN0YXRlIiwiY29sbGFwc2VBbmltYXRpb24iOiJ7XCJkdXJhdGlvblwiOjQ1MH0iLCJlbXB0eU1lc3NhZ2UiOiJBbGwiLCJleHBhbmRBbmltYXRpb24iOiJ7XCJkdXJhdGlvblwiOjQ1MH0iLCJpdGVtRGF0YSI6W3sidmFsdWUiOiIwIiwic2VsZWN0ZWQiOnRydWV9XSwibG9jYWxpemF0aW9uIjoie1wiQWxsSXRlbXNDaGVja2VkU3RyaW5nXCI6XCJBbGwgaXRlbXMgY2hlY2tlZFwiLFwiSXRlbXNDaGVja2VkU3RyaW5nXCI6XCJpdGVtcyBjaGVja2VkXCIsXCJDaGVja0FsbFN0cmluZ1wiOlwiQ2hlY2sgQWxsXCJ9Iiwic2VsZWN0ZWRJbmRleCI6MH0sIG51bGwsIG51bGwsICRnZXQoImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9kZGxDb3Vyc2VDb2RlIikpOw0KfSk7DQpTeXMuQXBwbGljYXRpb24uYWRkX2luaXQoZnVuY3Rpb24oKSB7DQogICAgJGNyZWF0ZShUZWxlcmlrLldlYi5VSS5SYWRHcmlkLCB7IkNsaWVudElEIjoiY3RsMDBfTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX1BJUE9MaXN0R3JpZCIsIkNsaWVudFNldHRpbmdzIjp7IkFsbG93QXV0b1Njcm9sbE9uRHJhZ0Ryb3AiOnRydWUsIlNob3VsZENyZWF0ZVJvd3MiOnRydWUsIkRhdGFCaW5kaW5nIjp7fSwiU2VsZWN0aW5nIjp7IkNlbGxTZWxlY3Rpb25Nb2RlIjowfSwiU2Nyb2xsaW5nIjp7fSwiUmVzaXppbmciOnt9LCJDbGllbnRNZXNzYWdlcyI6e30sIktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzIjp7IkFsbG93QWN0aXZlUm93Q3ljbGUiOmZhbHNlLCJFbmFibGVLZXlib2FyZFNob3J0Y3V0cyI6dHJ1ZSwiRm9jdXNLZXkiOjg5LCJJbml0SW5zZXJ0S2V5Ijo3MywiUmViaW5kS2V5Ijo4MiwiRXhpdEVkaXRJbnNlcnRNb2RlS2V5IjoyNywiVXBkYXRlSW5zZXJ0SXRlbUtleSI6MTMsIkRlbGV0ZUFjdGl2ZVJvdyI6MTI3LCJFeHBhbmREZXRhaWxUYWJsZUtleSI6MzksIkNvbGxhcHNlRGV0YWlsVGFibGVLZXkiOjM3LCJNb3ZlRG93bktleSI6NDAsIk1vdmVVcEtleSI6MzgsIlNhdmVDaGFuZ2VzS2V5Ijo4NSwiQ2FuY2VsQ2hhbmdlc0tleSI6ODF9LCJBbmltYXRpb24iOnt9LCJWaXJ0dWFsaXphdGlvbiI6e319LCJTa2luIjoiTWV0cm8iLCJTb3J0aW5nU2V0dGluZ3MiOnsiU29ydFRvb2xUaXAiOiJDbGljayBoZXJlIHRvIHNvcnQiLCJTb3J0ZWRBc2NUb29sVGlwIjoiU29ydGVkIGFzYyIsIlNvcnRlZERlc2NUb29sVGlwIjoiU29ydGVkIGRlc2MiLCJTb3J0ZWRCYWNrQ29sb3IiOnsiUiI6MCwiRyI6MCwiQiI6MCwiQSI6MCwiSXNLbm93bkNvbG9yIjpmYWxzZSwiSXNFbXB0eSI6dHJ1ZSwiSXNOYW1lZENvbG9yIjpmYWxzZSwiSXNTeXN0ZW1Db2xvciI6ZmFsc2UsIk5hbWUiOiIwIn0sIkVuYWJsZVNraW5Tb3J0U3R5bGVzIjp0cnVlLCJWaWV3U3RhdGUiOnt9fSwiVW5pcXVlSUQiOiJjdGwwMCRNYWluQ29udGVudCRQSVBPTGlzdENvbnRyb2wkUElQT0xpc3RHcmlkIiwiX2FjdGl2ZVJvd0luZGV4IjoiIiwiX2NvbnRyb2xUb0ZvY3VzIjoiIiwiX2N1cnJlbnRQYWdlSW5kZXgiOjAsIl9kZWZhdWx0RGF0ZVRpbWVGb3JtYXQiOiJNL2QveXl5eSBoOm1tOnNzIHR0IiwiX2VkaXRJbmRleGVzIjoiW10iLCJfZW1iZWRkZWRTa2luIjp0cnVlLCJfZnJlZXplVGV4dCI6IkZyZWV6ZSIsIl9ncmlkVGFibGVWaWV3c0RhdGEiOiJbe1wiQ2xpZW50SURcIjpcImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9QSVBPTGlzdEdyaWRfY3RsMDBcIixcIlVuaXF1ZUlEXCI6XCJjdGwwMCRNYWluQ29udGVudCRQSVBPTGlzdENvbnRyb2wkUElQT0xpc3RHcmlkJGN0bDAwXCIsXCJQYWdlU2l6ZVwiOjIwLFwiUGFnZUNvdW50XCI6MSxcIkVkaXRNb2RlXCI6XCJFZGl0Rm9ybXNcIixcIkFsbG93UGFnaW5nXCI6dHJ1ZSxcIkN1cnJlbnRQYWdlSW5kZXhcIjowLFwiVmlydHVhbEl0ZW1Db3VudFwiOjAsXCJBbGxvd011bHRpQ29sdW1uU29ydGluZ1wiOmZhbHNlLFwiQWxsb3dOYXR1cmFsU29ydFwiOnRydWUsXCJBbGxvd0ZpbHRlcmluZ0J5Q29sdW1uXCI6ZmFsc2UsXCJQYWdlQnV0dG9uQ291bnRcIjoxMCxcIkhhc0RldGFpbFRhYmxlc1wiOmZhbHNlLFwiSGFzTXVsdGlIZWFkZXJzXCI6ZmFsc2UsXCJDaGVja0xpc3RXZWJTZXJ2aWNlUGF0aFwiOlwiXCIsXCJHcm91cExvYWRNb2RlXCI6XCJTZXJ2ZXJcIixcIlBhZ2VyQWx3YXlzVmlzaWJsZVwiOmZhbHNlLFwiSXNJdGVtSW5zZXJ0ZWRcIjpmYWxzZSxcImNsaWVudERhdGFLZXlOYW1lc1wiOltdLFwiaGFzRGV0YWlsSXRlbVRlbXBsYXRlXCI6ZmFsc2UsXCJfZGF0YUJpbmRUZW1wbGF0ZXNcIjpmYWxzZSxcIl9zZWxlY3RlZEl0ZW1TdHlsZVwiOlwiXCIsXCJfc2VsZWN0ZWRJdGVtU3R5bGVDbGFzc1wiOlwicmdTZWxlY3RlZFJvd1wiLFwiX2NvbHVtbnNEYXRhXCI6W3tcIlVuaXF1ZU5hbWVcIjpcIlNlcnZpY2VUeXBlXCIsXCJSZXNpemFibGVcIjp0cnVlLFwiUmVvcmRlcmFibGVcIjp0cnVlLFwiU2VsZWN0YWJsZVwiOnRydWUsXCJHcm91cGFibGVcIjp0cnVlLFwiQ29sdW1uVHlwZVwiOlwiR3JpZEJvdW5kQ29sdW1uXCIsXCJDb2x1bW5Hcm91cE5hbWVcIjpcIlwiLFwiRWRpdGFibGVcIjp0cnVlLFwiU29ydEV4cHJlc3Npb25cIjpcIlNlcnZpY2VUeXBlXCIsXCJEYXRhVHlwZU5hbWVcIjpcIlN5c3RlbS5TdHJpbmdcIixcIkRhdGFGaWVsZFwiOlwiU2VydmljZVR5cGVcIixcIkRpc3BsYXlcIjp0cnVlfSx7XCJVbmlxdWVOYW1lXCI6XCJTdHVkZW50TmFtZVwiLFwiUmVzaXphYmxlXCI6dHJ1ZSxcIlJlb3JkZXJhYmxlXCI6dHJ1ZSxcIlNlbGVjdGFibGVcIjp0cnVlLFwiR3JvdXBhYmxlXCI6dHJ1ZSxcIkNvbHVtblR5cGVcIjpcIkdyaWRCb3VuZENvbHVtblwiLFwiQ29sdW1uR3JvdXBOYW1lXCI6XCJcIixcIkVkaXRhYmxlXCI6dHJ1ZSxcIkRhdGFUeXBlTmFtZVwiOlwiU3lzdGVtLlN0cmluZ1wiLFwiRGF0YUZpZWxkXCI6XCJTdHVkZW50TmFtZVwiLFwiRGlzcGxheVwiOnRydWV9LHtcIlVuaXF1ZU5hbWVcIjpcIkNvdXJzZU5hbWVcIixcIlJlc2l6YWJsZVwiOnRydWUsXCJSZW9yZGVyYWJsZVwiOnRydWUsXCJTZWxlY3RhYmxlXCI6dHJ1ZSxcIkdyb3VwYWJsZVwiOnRydWUsXCJDb2x1bW5UeXBlXCI6XCJHcmlkQm91bmRDb2x1bW5cIixcIkNvbHVtbkdyb3VwTmFtZVwiOlwiXCIsXCJFZGl0YWJsZVwiOnRydWUsXCJEYXRhVHlwZU5hbWVcIjpcIlN5c3RlbS5TdHJpbmdcIixcIkRhdGFGaWVsZFwiOlwiQ291cnNlTmFtZVwiLFwiRGlzcGxheVwiOnRydWV9LHtcIlVuaXF1ZU5hbWVcIjpcIlRlYWNoZXJOYW1lXCIsXCJSZXNpemFibGVcIjp0cnVlLFwiUmVvcmRlcmFibGVcIjp0cnVlLFwiU2VsZWN0YWJsZVwiOnRydWUsXCJHcm91cGFibGVcIjp0cnVlLFwiQ29sdW1uVHlwZVwiOlwiR3JpZEJvdW5kQ29sdW1uXCIsXCJDb2x1bW5Hcm91cE5hbWVcIjpcIlwiLFwiRWRpdGFibGVcIjp0cnVlLFwiRGF0YVR5cGVOYW1lXCI6XCJTeXN0ZW0uU3RyaW5nXCIsXCJEYXRhRmllbGRcIjpcIlRlYWNoZXJOYW1lXCIsXCJEaXNwbGF5XCI6dHJ1ZX0se1wiVW5pcXVlTmFtZVwiOlwiU3RhcnREYXRlXCIsXCJSZXNpemFibGVcIjp0cnVlLFwiUmVvcmRlcmFibGVcIjp0cnVlLFwiU2VsZWN0YWJsZVwiOnRydWUsXCJHcm91cGFibGVcIjp0cnVlLFwiQ29sdW1uVHlwZVwiOlwiR3JpZEJvdW5kQ29sdW1uXCIsXCJDb2x1bW5Hcm91cE5hbWVcIjpcIlwiLFwiRWRpdGFibGVcIjp0cnVlLFwiRGF0YVR5cGVOYW1lXCI6XCJTeXN0ZW0uRGF0ZVRpbWVcIixcIkRhdGFGaWVsZFwiOlwiU3RhcnREYXRlXCIsXCJEYXRhRm9ybWF0U3RyaW5nXCI6XCJ7MDpNTS9kZC95eXl5fVwiLFwiRGlzcGxheVwiOnRydWV9LHtcIlVuaXF1ZU5hbWVcIjpcIkVuZERhdGVcIixcIlJlc2l6YWJsZVwiOnRydWUsXCJSZW9yZGVyYWJsZVwiOnRydWUsXCJTZWxlY3RhYmxlXCI6dHJ1ZSxcIkdyb3VwYWJsZVwiOnRydWUsXCJDb2x1bW5UeXBlXCI6XCJHcmlkQm91bmRDb2x1bW5cIixcIkNvbHVtbkdyb3VwTmFtZVwiOlwiXCIsXCJFZGl0YWJsZVwiOnRydWUsXCJEYXRhVHlwZU5hbWVcIjpcIlN5c3RlbS5EYXRlVGltZVwiLFwiRGF0YUZpZWxkXCI6XCJFbmREYXRlXCIsXCJEYXRhRm9ybWF0U3RyaW5nXCI6XCJ7MDpNTS9kZC95eXl5fVwiLFwiRGlzcGxheVwiOnRydWV9LHtcIlVuaXF1ZU5hbWVcIjpcIk1pbnV0ZXNQZXJXZWVrXCIsXCJSZXNpemFibGVcIjp0cnVlLFwiUmVvcmRlcmFibGVcIjp0cnVlLFwiU2VsZWN0YWJsZVwiOnRydWUsXCJHcm91cGFibGVcIjp0cnVlLFwiQ29sdW1uVHlwZVwiOlwiR3JpZEJvdW5kQ29sdW1uXCIsXCJDb2x1bW5Hcm91cE5hbWVcIjpcIlwiLFwiRWRpdGFibGVcIjp0cnVlLFwiRGF0YVR5cGVOYW1lXCI6XCJTeXN0ZW0uSW50MzJcIixcIkRhdGFGaWVsZFwiOlwiTWludXRlc1BlcldlZWtcIixcIkRpc3BsYXlcIjp0cnVlfSx7XCJVbmlxdWVOYW1lXCI6XCJNZWV0VGltZVwiLFwiUmVzaXphYmxlXCI6dHJ1ZSxcIlJlb3JkZXJhYmxlXCI6dHJ1ZSxcIlNlbGVjdGFibGVcIjp0cnVlLFwiR3JvdXBhYmxlXCI6dHJ1ZSxcIkNvbHVtblR5cGVcIjpcIkdyaWRCb3VuZENvbHVtblwiLFwiQ29sdW1uR3JvdXBOYW1lXCI6XCJcIixcIkVkaXRhYmxlXCI6dHJ1ZSxcIkRhdGFUeXBlTmFtZVwiOlwiU3lzdGVtLlN0cmluZ1wiLFwiRGF0YUZpZWxkXCI6XCJNZWV0VGltZVwiLFwiRGlzcGxheVwiOnRydWV9LHtcIlVuaXF1ZU5hbWVcIjpcIlJvb21cIixcIlJlc2l6YWJsZVwiOnRydWUsXCJSZW9yZGVyYWJsZVwiOnRydWUsXCJTZWxlY3RhYmxlXCI6dHJ1ZSxcIkdyb3VwYWJsZVwiOnRydWUsXCJDb2x1bW5UeXBlXCI6XCJHcmlkQm91bmRDb2x1bW5cIixcIkNvbHVtbkdyb3VwTmFtZVwiOlwiXCIsXCJFZGl0YWJsZVwiOnRydWUsXCJEYXRhVHlwZU5hbWVcIjpcIlN5c3RlbS5TdHJpbmdcIixcIkRhdGFGaWVsZFwiOlwiUm9vbVwiLFwiRGlzcGxheVwiOnRydWV9LHtcIlVuaXF1ZU5hbWVcIjpcImNvbHVtblwiLFwiUmVzaXphYmxlXCI6dHJ1ZSxcIlJlb3JkZXJhYmxlXCI6dHJ1ZSxcIlNlbGVjdGFibGVcIjpmYWxzZSxcIkdyb3VwYWJsZVwiOmZhbHNlLFwiQ29sdW1uVHlwZVwiOlwiR3JpZEJ1dHRvbkNvbHVtblwiLFwiQ29sdW1uR3JvdXBOYW1lXCI6XCJcIixcIkVkaXRhYmxlXCI6ZmFsc2UsXCJEYXRhVHlwZU5hbWVcIjpcIlN5c3RlbS5TdHJpbmdcIixcIkJ1dHRvblR5cGVcIjpcIkxpbmtCdXR0b25cIixcIkNvbW1hbmROYW1lXCI6XCJEZWxldGVcIixcIkNvbW1hbmRBcmd1bWVudFwiOlwiXCIsXCJUZXh0XCI6XCJEZWxldGVcIixcIkRhdGFUZXh0RmllbGRcIjpcIlwiLFwiRGF0YVRleHRGb3JtYXRTdHJpbmdcIjpcIlwiLFwiSW1hZ2VVcmxcIjpcIi9zdGFyc2NsYXNzcm9vbS9XZWJSZXNvdXJjZS5heGQ/ZD0tWlhRLUlyVHRlaFZFck1SWFRadHZhVDJpRktUMVFpemdvTjR3OElaRGZFRzJISF9uTktTZVcwZTVHQ1BGakRNbXA2R0FaLVZEeXdYcGRndjRqbmRVREFjRV9xTklwUEtkLUd1Y2FvQVhVVUdDVHI1M2RwTHQzdTNLaE9PS25scTY2cGIzdWMyTHdsWGR3aFNIV2JsR2N2bTdDdzFcXHUwMDI2dD02MzYzNjA1ODk1NTkwNzc2MDNcIixcIkRpc3BsYXlcIjp0cnVlfSx7XCJVbmlxdWVOYW1lXCI6XCJWaWV3Q291cnNlU2VjdGlvblwiLFwiUmVzaXphYmxlXCI6dHJ1ZSxcIlJlb3JkZXJhYmxlXCI6dHJ1ZSxcIlNlbGVjdGFibGVcIjp0cnVlLFwiR3JvdXBhYmxlXCI6dHJ1ZSxcIkNvbHVtblR5cGVcIjpcIkdyaWRIeXBlckxpbmtDb2x1bW5cIixcIkNvbHVtbkdyb3VwTmFtZVwiOlwiXCIsXCJFZGl0YWJsZVwiOmZhbHNlLFwiRGF0YVR5cGVOYW1lXCI6XCJTeXN0ZW0uSW50NjRcIixcIkRhdGFUZXh0RmllbGRcIjpcIklkXCIsXCJEYXRhVGV4dEZvcm1hdFN0cmluZ1wiOlwiRWRpdFwiLFwiRGF0YU5hdmlnYXRlVXJsRmllbGRzXCI6W1wiSWRcIixcIlNjaG9vbFwiLFwiWWVhclwiLFwiVGVybVwiXSxcIkRhdGFOYXZpZ2F0ZVVybEZvcm1hdFN0cmluZ1wiOlwiL3N0YXJzY2xhc3Nyb29tL1NjaG9vbEFkbWluL1BJUE9Bc3NpZ25tZW50LmFzcHg/aWQ9ezB9XFx1MDAyNlNjaG9vbD17MX1cXHUwMDI2WWVhcj17Mn1cXHUwMDI2VGVybT17M31cIixcIkRpc3BsYXlcIjp0cnVlfV19XSIsIl9sb2FkaW5nVGV4dCI6IkxvYWRpbmcuLi4iLCJfbWFzdGVyQ2xpZW50SUQiOiJjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfUElQT0xpc3RHcmlkX2N0bDAwIiwiX3JlYWR5VGV4dCI6IlJlYWR5IiwiX3Nob3VsZEZvY3VzT25QYWdlIjpmYWxzZSwiX3N0YXR1c0xhYmVsSUQiOiJjdGwwMF9NYWluQ29udGVudF9QSVBPTGlzdENvbnRyb2xfUElQT0xpc3RHcmlkX2N0bDAwX2N0bDAzX2N0bDAxX3N0YXR1c1BhbmVsIiwiX3VuZnJlZXplVGV4dCI6IlVuZnJlZXplIiwiYWxsb3dNdWx0aVJvd1NlbGVjdGlvbiI6ZmFsc2UsImNsaWVudFN0YXRlRmllbGRJRCI6ImN0bDAwX01haW5Db250ZW50X1BJUE9MaXN0Q29udHJvbF9QSVBPTGlzdEdyaWRfQ2xpZW50U3RhdGUiLCJyZW5kZXJNb2RlIjoxfSwgbnVsbCwgbnVsbCwgJGdldCgiY3RsMDBfTWFpbkNvbnRlbnRfUElQT0xpc3RDb250cm9sX1BJUE9MaXN0R3JpZCIpKTsNCn0pOw0KLy9dXT4NCjwvc2NyaXB0Pg0KPC9mb3JtPg0KPC9ib2R5Pg0KPC9odG1sPg0K</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="1236437217" offset="0" length="16384" />
        <PacketInfo time="1236437232" offset="16384" length="16384" />
        <PacketInfo time="1236437232" offset="32768" length="16384" />
        <PacketInfo time="1236437232" offset="49152" length="1741" />
      </TcpPackets>
    </HTTPResponse>
    <HTTPTask id="907" hostname="es00vqweb15.qa.appdev" path="/starsclassroom/WebResource.axd?d=Nhf6TpUj19KZ9rhEj2xtdf8uhCnDZI3V3l5yUFSrKIr2yaQ2_X5RNErFW9yJUiTvVc4MA9QGL53-pRVQXQ_SPN394h5KwsxUpWjM1EK3Ixz5ymxF0&amp;t=636360589564367603" url="https://es00vqweb15.qa.appdev/starsclassroom/WebResource.axd?d=Nhf6TpUj19KZ9rhEj2xtdf8uhCnDZI3V3l5yUFSrKIr2yaQ2_X5RNErFW9yJUiTvVc4MA9QGL53-pRVQXQ_SPN394h5KwsxUpWjM1EK3Ixz5ymxF0&amp;t=636360589564367603" ip="10.2.55.154" port="443" connectionId="54" origin="HTML" frame="1" startDateTime="2017-08-29T16:57:15.141-04:00" startTime="1236437263" endTime="1236437279">
      <QueryString>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>ZD1OaGY2VHBVajE5S1o5cmhFajJ4dGRmOHVoQ25EWkkzVjNsNXlVRlNyS0lyMnlhUTJfWDVSTkVyRlc5eUpVaVR2VmM0TUE5UUdMNTMtcFJWUVhRX1NQTjM5NGg1S3dzeFVwV2pNMUVLM0l4ejV5bXhGMCZ0PTYzNjM2MDU4OTU2NDM2NzYwMw==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </QueryString>
      <HTTPSplittedQueryStrings>
        <HTTPHeaderEntity name="d" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TmhmNlRwVWoxOUtaOXJoRWoyeHRkZjh1aENuRFpJM1YzbDV5VUZTcktJcjJ5YVEyX1g1Uk5FckZXOXlKVWlUdlZjNE1BOVFHTDUzLXBSVlFYUV9TUE4zOTRoNUt3c3hVcFdqTTFFSzNJeHo1eW14RjA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="t" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NjM2MzYwNTg5NTY0MzY3NjAz</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
      </HTTPSplittedQueryStrings>
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Accept" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cHM6Ly9lczAwdnF3ZWIxNS5xYS5hcHBkZXYvc3RhcnNjbGFzc3Jvb20vU2Nob29sQWRtaW4vUElQT0xpc3QuYXNweA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IFRyaWRlbnQvNy4wOyBTTENDMjsgLk5FVCBDTFIgMi4wLjUwNzI3OyAuTkVUIENMUiAzLjUuMzA3Mjk7IC5ORVQgQ0xSIDMuMC4zMDcyOTsgTWVkaWEgQ2VudGVyIFBDIDYuMDsgLk5FVDQuMEM7IC5ORVQ0LjBFOyBJbmZvUGF0aC4zOyAuTkVUIENMUiAxLjEuNDMyMik=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Host" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZXMwMHZxd2ViMTUucWEuYXBwZGV2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="DNT" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Cookie" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LkFTUFhBVVRIPTFGOTcyMzE1MUFEMzQzNUU4M0QzNEYzNUE0MzI5M0Y0REE0QjVBRkI1QUZENzlGNTkwQTMxMTlFQzJBQjE0OEIxNkMwODI1MzNBMTNFN0NCOTk1RTkyOEM3RkZBM0QyNzMxMTU2MjI4Q0IzN0Y4MUU4RUEyRURDMEQwODhEMUI0NDg0QTgwMjEyQkIzRTY3QTgzNzc0OTAzMDc3Q0NGRTNCNEIzNjc5MUJBNzY2OTM5MEQ5RTY3MEZDODYxNkJGRDI5NjY3MENEQTY5QzM5QkZBNjRFODI3Mzg5QTFENzA0MkE3NTMzNDA3NUZFQkE3NzRDNjc1RDlBREMwNkM2OUI3RjNDOEFCMkE4MjYzOTIxNUExQjA2RkE1MDUwQjdCRTQxNDYwNTk4Qzc4Qzk0REVGMTgwNTI3NUFDQzJBQjM3NzM1MkNGMTIxQ0EzRjQzMThEMjcxRDFFMDMzODc0OUJFMTNBRDc2NDVBQjUyNjc2ODkxRUFEMzJEODRBMDUxQzZBRjgwMzI5NjJCQUVCOERGQ0ExOEUyMzlENENCMDdFRkJCQzMzMUIwQzU4MThBQjYwNUEwOThFNDAxMUUzNERCRjhEMEUxQTkyN0MwMjQ0NkM3Mjc3NjlBRDlEMjg2NzVERDZCOUREQjk1RjNBRDgxMjIwMTQ1NTExOTk4MjFGNDRDMTQ5MDUzMkQzOTFGQkIwRkYxRkUzNzc0Qzg0NzRDQjI5NzYzRTkyOUZEQTlCRTJGRTQ2M0IzQTU1ODY2M0IwMjg2RUFEQjlDMjkyRTZFMEE4OTREOEMxQUNFQjE4MzFFM0UxQzI5N0ZEMDY2MTIyMDI2MzJDM0IwMEI1OTY5NDM2N0EwOUE3MzBBRTlERjNEMkRBQ0E2OUE2Qzk1RkYwMjUyMkJCNjQzMjFGQkIxNkExNDVERjY0MTkxOTVFQTRCRTY0QkI1RDM0NTNDNjNDRUFGQjRCOEJFODJCOUUyODYxRkFGNDExN0M4Q0NEQTM2REE0QTEyRjUwQThBQTI2RkVDOUZDOEYzMTY3QTc5NzBCNzA3RDBGQjNGM0I4MzY5NTYxMUU5M0U4QzI0QzA5QTAxRTFCMUE0NjFBMjQ2RDUwMDk0MDU4MTQ0ODVCNTA2NEE1RTVFQ0Y5M0JDRDM4MkIzQTYyQzYzNzk5MzNGNTQ4REU3REFDNzRGN0U2MUI4RTE4QUY5NTRBNENFMTZFNURDOEI1Qzk0MUZBRUNCQUZERTZEQkQwNjhGQURGNEI2MDRFNjAzRjM3Q0Q0NDVGRUMwREE4Q0Q3QTk2MTY5MjgwREFCNTUzMDlCQTk4MEJCQjA1RDU2MDU1NzhEMzlCOTBCMzI3QkJDRDdCM0YzNEUxMEJGMTI2RjNGOUE1RkE1MkM5MzI3NDQ1NkI2M0ZGQTI2QkU1MjY1NEUyNEUyNjREQTY2NTg0NEU4RDJDM0I4M0UzMjg4RjI0ODZDQkU5QTk5MTY4QUZCM0REMDZCQUUwMEZFRDQwOEYwRTg1OTYxOTVBNURBQjA2REFFNUY2QkY0QTdBNDYzMDFFQzU2RjI2ODNEOERFRDhBQkRFQjYzOUJFMjg2REU1NkFBQzk4Q0UzQTFBM0E3MzgxMjgyNEMwNDQwNURFMzNEQkRFQzE2RUMyQTdBOEYzNzIyNURGNjM3NzVDOTVFRjQxMTVBQzI1OEFFQzVCRDhFMTRGNEEzRkM3NzI1NDQwNjY4RThBRENERjRFRUFCNzUxM0NGOTEyMUIxMzsgQVNQLk5FVF9TZXNzaW9uSWQ9ZHdyemVjMWxpZmx2M2lsd3dkdGlxNGN6</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zdGFyc2NsYXNzcm9vbS9XZWJSZXNvdXJjZS5heGQ/ZD1OaGY2VHBVajE5S1o5cmhFajJ4dGRmOHVoQ25EWkkzVjNsNXlVRlNyS0lyMnlhUTJfWDVSTkVyRlc5eUpVaVR2VmM0TUE5UUdMNTMtcFJWUVhRX1NQTjM5NGg1S3dzeFVwV2pNMUVLM0l4ejV5bXhGMCZ0PTYzNjM2MDU4OTU2NDM2NzYwMyBIVFRQLzEuMQ0KQWNjZXB0OiAqLyoNClJlZmVyZXI6IGh0dHBzOi8vZXMwMHZxd2ViMTUucWEuYXBwZGV2L3N0YXJzY2xhc3Nyb29tL1NjaG9vbEFkbWluL1BJUE9MaXN0LmFzcHgNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA2LjE7IFdPVzY0OyBUcmlkZW50LzcuMDsgU0xDQzI7IC5ORVQgQ0xSIDIuMC41MDcyNzsgLk5FVCBDTFIgMy41LjMwNzI5OyAuTkVUIENMUiAzLjAuMzA3Mjk7IE1lZGlhIENlbnRlciBQQyA2LjA7IC5ORVQ0LjBDOyAuTkVUNC4wRTsgSW5mb1BhdGguMzsgLk5FVCBDTFIgMS4xLjQzMjIpDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IGVzMDB2cXdlYjE1LnFhLmFwcGRldg0KRE5UOiAxDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IC5BU1BYQVVUSD0xRjk3MjMxNTFBRDM0MzVFODNEMzRGMzVBNDMyOTNGNERBNEI1QUZCNUFGRDc5RjU5MEEzMTE5RUMyQUIxNDhCMTZDMDgyNTMzQTEzRTdDQjk5NUU5MjhDN0ZGQTNEMjczMTE1NjIyOENCMzdGODFFOEVBMkVEQzBEMDg4RDFCNDQ4NEE4MDIxMkJCM0U2N0E4Mzc3NDkwMzA3N0NDRkUzQjRCMzY3OTFCQTc2NjkzOTBEOUU2NzBGQzg2MTZCRkQyOTY2NzBDREE2OUMzOUJGQTY0RTgyNzM4OUExRDcwNDJBNzUzMzQwNzVGRUJBNzc0QzY3NUQ5QURDMDZDNjlCN0YzQzhBQjJBODI2MzkyMTVBMUIwNkZBNTA1MEI3QkU0MTQ2MDU5OEM3OEM5NERFRjE4MDUyNzVBQ0MyQUIzNzczNTJDRjEyMUNBM0Y0MzE4RDI3MUQxRTAzMzg3NDlCRTEzQUQ3NjQ1QUI1MjY3Njg5MUVBRDMyRDg0QTA1MUM2QUY4MDMyOTYyQkFFQjhERkNBMThFMjM5RDRDQjA3RUZCQkMzMzFCMEM1ODE4QUI2MDVBMDk4RTQwMTFFMzREQkY4RDBFMUE5MjdDMDI0NDZDNzI3NzY5QUQ5RDI4Njc1REQ2QjlEREI5NUYzQUQ4MTIyMDE0NTUxMTk5ODIxRjQ0QzE0OTA1MzJEMzkxRkJCMEZGMUZFMzc3NEM4NDc0Q0IyOTc2M0U5MjlGREE5QkUyRkU0NjNCM0E1NTg2NjNCMDI4NkVBREI5QzI5MkU2RTBBODk0RDhDMUFDRUIxODMxRTNFMUMyOTdGRDA2NjEyMjAyNjMyQzNCMDBCNTk2OTQzNjdBMDlBNzMwQUU5REYzRDJEQUNBNjlBNkM5NUZGMDI1MjJCQjY0MzIxRkJCMTZBMTQ1REY2NDE5MTk1RUE0QkU2NEJCNUQzNDUzQzYzQ0VBRkI0QjhCRTgyQjlFMjg2MUZBRjQxMTdDOENDREEzNkRBNEExMkY1MEE4QUEyNkZFQzlGQzhGMzE2N0E3OTcwQjcwN0QwRkIzRjNCODM2OTU2MTFFOTNFOEMyNEMwOUEwMUUxQjFBNDYxQTI0NkQ1MDA5NDA1ODE0NDg1QjUwNjRBNUU1RUNGOTNCQ0QzODJCM0E2MkM2Mzc5OTMzRjU0OERFN0RBQzc0RjdFNjFCOEUxOEFGOTU0QTRDRTE2RTVEQzhCNUM5NDFGQUVDQkFGREU2REJEMDY4RkFERjRCNjA0RTYwM0YzN0NENDQ1RkVDMERBOENEN0E5NjE2OTI4MERBQjU1MzA5QkE5ODBCQkIwNUQ1NjA1NTc4RDM5QjkwQjMyN0JCQ0Q3QjNGMzRFMTBCRjEyNkYzRjlBNUZBNTJDOTMyNzQ0NTZCNjNGRkEyNkJFNTI2NTRFMjRFMjY0REE2NjU4NDRFOEQyQzNCODNFMzI4OEYyNDg2Q0JFOUE5OTE2OEFGQjNERDA2QkFFMDBGRUQ0MDhGMEU4NTk2MTk1QTVEQUIwNkRBRTVGNkJGNEE3QTQ2MzAxRUM1NkYyNjgzRDhERUQ4QUJERUI2MzlCRTI4NkRFNTZBQUM5OENFM0ExQTNBNzM4MTI4MjRDMDQ0MDVERTMzREJERUMxNkVDMkE3QThGMzcyMjVERjYzNzc1Qzk1RUY0MTE1QUMyNThBRUM1QkQ4RTE0RjRBM0ZDNzcyNTQ0MDY2OEU4QURDREY0RUVBQjc1MTNDRjkxMjFCMTM7IEFTUC5ORVRfU2Vzc2lvbklkPWR3cnplYzFsaWZsdjNpbHd3ZHRpcTRjeg0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
          <HTTPCookies>
            <HTTPHeaderEntity name=".ASPXAUTH" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MUY5NzIzMTUxQUQzNDM1RTgzRDM0RjM1QTQzMjkzRjREQTRCNUFGQjVBRkQ3OUY1OTBBMzExOUVDMkFCMTQ4QjE2QzA4MjUzM0ExM0U3Q0I5OTVFOTI4QzdGRkEzRDI3MzExNTYyMjhDQjM3RjgxRThFQTJFREMwRDA4OEQxQjQ0ODRBODAyMTJCQjNFNjdBODM3NzQ5MDMwNzdDQ0ZFM0I0QjM2NzkxQkE3NjY5MzkwRDlFNjcwRkM4NjE2QkZEMjk2NjcwQ0RBNjlDMzlCRkE2NEU4MjczODlBMUQ3MDQyQTc1MzM0MDc1RkVCQTc3NEM2NzVEOUFEQzA2QzY5QjdGM0M4QUIyQTgyNjM5MjE1QTFCMDZGQTUwNTBCN0JFNDE0NjA1OThDNzhDOTRERUYxODA1Mjc1QUNDMkFCMzc3MzUyQ0YxMjFDQTNGNDMxOEQyNzFEMUUwMzM4NzQ5QkUxM0FENzY0NUFCNTI2NzY4OTFFQUQzMkQ4NEEwNTFDNkFGODAzMjk2MkJBRUI4REZDQTE4RTIzOUQ0Q0IwN0VGQkJDMzMxQjBDNTgxOEFCNjA1QTA5OEU0MDExRTM0REJGOEQwRTFBOTI3QzAyNDQ2QzcyNzc2OUFEOUQyODY3NURENkI5RERCOTVGM0FEODEyMjAxNDU1MTE5OTgyMUY0NEMxNDkwNTMyRDM5MUZCQjBGRjFGRTM3NzRDODQ3NENCMjk3NjNFOTI5RkRBOUJFMkZFNDYzQjNBNTU4NjYzQjAyODZFQURCOUMyOTJFNkUwQTg5NEQ4QzFBQ0VCMTgzMUUzRTFDMjk3RkQwNjYxMjIwMjYzMkMzQjAwQjU5Njk0MzY3QTA5QTczMEFFOURGM0QyREFDQTY5QTZDOTVGRjAyNTIyQkI2NDMyMUZCQjE2QTE0NURGNjQxOTE5NUVBNEJFNjRCQjVEMzQ1M0M2M0NFQUZCNEI4QkU4MkI5RTI4NjFGQUY0MTE3QzhDQ0RBMzZEQTRBMTJGNTBBOEFBMjZGRUM5RkM4RjMxNjdBNzk3MEI3MDdEMEZCM0YzQjgzNjk1NjExRTkzRThDMjRDMDlBMDFFMUIxQTQ2MUEyNDZENTAwOTQwNTgxNDQ4NUI1MDY0QTVFNUVDRjkzQkNEMzgyQjNBNjJDNjM3OTkzM0Y1NDhERTdEQUM3NEY3RTYxQjhFMThBRjk1NEE0Q0UxNkU1REM4QjVDOTQxRkFFQ0JBRkRFNkRCRDA2OEZBREY0QjYwNEU2MDNGMzdDRDQ0NUZFQzBEQThDRDdBOTYxNjkyODBEQUI1NTMwOUJBOTgwQkJCMDVENTYwNTU3OEQzOUI5MEIzMjdCQkNEN0IzRjM0RTEwQkYxMjZGM0Y5QTVGQTUyQzkzMjc0NDU2QjYzRkZBMjZCRTUyNjU0RTI0RTI2NERBNjY1ODQ0RThEMkMzQjgzRTMyODhGMjQ4NkNCRTlBOTkxNjhBRkIzREQwNkJBRTAwRkVENDA4RjBFODU5NjE5NUE1REFCMDZEQUU1RjZCRjRBN0E0NjMwMUVDNTZGMjY4M0Q4REVEOEFCREVCNjM5QkUyODZERTU2QUFDOThDRTNBMUEzQTczODEyODI0QzA0NDA1REUzM0RCREVDMTZFQzJBN0E4RjM3MjI1REY2Mzc3NUM5NUVGNDExNUFDMjU4QUVDNUJEOEUxNEY0QTNGQzc3MjU0NDA2NjhFOEFEQ0RGNEVFQUI3NTEzQ0Y5MTIxQjEz</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ASP.NET_SessionId" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZHdyemVjMWxpZmx2M2lsd3dkdGlxNGN6</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
          </HTTPCookies>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Cache-Control" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>cHVibGlj</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGV4dC9jc3M=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Expires" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2VkLCAyOSBBdWcgMjAxOCAyMDo1MDozMSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2VkLCAxOSBKdWwgMjAxNyAxNTowMjozNiBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Server" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TWljcm9zb2Z0LUlJUy84LjA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="X-AspNet-Version" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NC4wLjMwMzE5</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="X-Powered-By" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QVNQLk5FVA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="X-UA-Compatible" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SUU9ZWRnZSxjaHJvbWU9MQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Date" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>VHVlLCAyOSBBdWcgMjAxNyAyMDo1MDozMSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTI1NzU=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDYWNoZS1Db250cm9sOiBwdWJsaWMNCkNvbnRlbnQtVHlwZTogdGV4dC9jc3MNCkV4cGlyZXM6IFdlZCwgMjkgQXVnIDIwMTggMjA6NTA6MzEgR01UDQpMYXN0LU1vZGlmaWVkOiBXZWQsIDE5IEp1bCAyMDE3IDE1OjAyOjM2IEdNVA0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzguMA0KWC1Bc3BOZXQtVmVyc2lvbjogNC4wLjMwMzE5DQpYLVBvd2VyZWQtQnk6IEFTUC5ORVQNClgtVUEtQ29tcGF0aWJsZTogSUU9ZWRnZSxjaHJvbWU9MQ0KRGF0ZTogVHVlLCAyOSBBdWcgMjAxNyAyMDo1MDozMSBHTVQNCkNvbnRlbnQtTGVuZ3RoOiAxMjU3NQ0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>77u/LlJhZEdyaWR7Ym9yZGVyLXdpZHRoOjFweDtib3JkZXItc3R5bGU6c29saWR9LlJhZEdyaWQgLnJnTWFzdGVyVGFibGUsLlJhZEdyaWQgLnJnRGV0YWlsVGFibGUsLlJhZEdyaWQgLnJnRWRpdEZvcm0gdGFibGV7Ym9yZGVyLWNvbGxhcHNlOnNlcGFyYXRlO2JvcmRlci1zcGFjaW5nOjB9LlJhZEdyaWQgLnJnUm93LC5SYWRHcmlkIC5yZ0FsdFJvdywuUmFkR3JpZCAucmdIZWFkZXIsLlJhZEdyaWQgLnJnUmVzaXplQ29sLC5SYWRHcmlkIC5yZ1BhZ2VyLC5SYWRHcmlkIC5yZ0dyb3VwUGFuZWwsLlJhZEdyaWQgLnJnR3JvdXBIZWFkZXJ7Y3Vyc29yOmRlZmF1bHR9LlJhZEdyaWQgaW5wdXR7bGluZS1oZWlnaHQ6bm9ybWFsfS5SYWRHcmlkIC5yZ0lucHV0e2JvcmRlci13aWR0aDoxcHg7Ym9yZGVyLXN0eWxlOnNvbGlkfS5SYWRHcmlkIGlucHV0W3R5cGU9ImltYWdlIl17Y3Vyc29yOnBvaW50ZXJ9LlJhZEdyaWQgLnJnUm93PnRkLC5SYWRHcmlkIC5yZ0FsdFJvdz50ZCwuUmFkR3JpZCAucmdFZGl0Um93PnRkLC5SYWRHcmlkIC5yZ0Zvb3Rlcj50ZCwuUmFkR3JpZCAucmdGaWx0ZXJSb3c+dGQsLlJhZEdyaWQgLnJnSGVhZGVyLC5SYWRHcmlkIC5yZ1Jlc2l6ZUNvbCwuUmFkR3JpZCAucmdHcm91cEhlYWRlciB0ZHtwYWRkaW5nLWxlZnQ6N3B4O3BhZGRpbmctcmlnaHQ6N3B4fS5SYWRHcmlkIC5yZ0NsaXBDZWxscyAucmdIZWFkZXIsLlJhZEdyaWQgLnJnQ2xpcENlbGxzIC5yZ0ZpbHRlclJvdz50ZCwuUmFkR3JpZCAucmdDbGlwQ2VsbHMgLnJnUm93PnRkLC5SYWRHcmlkIC5yZ0NsaXBDZWxscyAucmdBbHRSb3c+dGQsLlJhZEdyaWQgLnJnQ2xpcENlbGxzIC5yZ0VkaXRSb3c+dGQsLlJhZEdyaWQgLnJnQ2xpcENlbGxzIC5yZ0Zvb3Rlcj50ZHtvdmVyZmxvdzpoaWRkZW59LlJhZEdyaWQgLnJnRWRpdFJvdz50ZCBbdHlwZT0iaW1hZ2UiXXt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9LlJhZEdyaWQgLnJnRWRpdEZvcm0gLnJnSGVhZGVye2JveC1zaXppbmc6Y29udGVudC1ib3h9LlJhZEdyaWQgLnJnRWRpdFBvcHVwe2JvcmRlci13aWR0aDoxcHg7Ym9yZGVyLXN0eWxlOnNvbGlkfS5SYWRHcmlkIC5yZ1NhdmUsLlJhZEdyaWQgLnJnQWRkLC5SYWRHcmlkIC5yZ1JlZnJlc2gsLlJhZEdyaWQgLnJnRWRpdCwuUmFkR3JpZCAucmdEZWwsLlJhZEdyaWQgLnJnRHJhZywuUmFkR3JpZCAucmdGaWx0ZXIsLlJhZEdyaWQgLnJnUGFnZVByZXYsLlJhZEdyaWQgLnJnUGFnZU5leHQsLlJhZEdyaWQgLnJnUGFnZUZpcnN0LC5SYWRHcmlkIC5yZ1BhZ2VMYXN0LC5SYWRHcmlkIC5yZ0V4cGFuZCwuUmFkR3JpZCAucmdDb2xsYXBzZSwuUmFkR3JpZCAucmdTb3J0QXNjLC5SYWRHcmlkIC5yZ1NvcnREZXNjLC5SYWRHcmlkIC5yZ1VwZGF0ZSwuUmFkR3JpZCAucmdDYW5jZWwsLlJhZEdyaWQgLnJnVW5ncm91cCwuUmFkR3JpZCAucmdFeHBYTFMsLlJhZEdyaWQgLnJnRXhwRE9DLC5SYWRHcmlkIC5yZ0V4cFBERiwuUmFkR3JpZCAucmdFeHBDU1Z7d2lkdGg6MTZweDtoZWlnaHQ6MTZweDtib3JkZXI6MDttYXJnaW46MDtwYWRkaW5nOjA7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7dmVydGljYWwtYWxpZ246bWlkZGxlO2ZvbnQtc2l6ZToxcHg7Y3Vyc29yOnBvaW50ZXJ9LlJhZEdyaWQgLnJnQmF0Y2hDaGFuZ2Vke2JhY2tncm91bmQtaW1hZ2U6dXJsKCdXZWJSZXNvdXJjZS5heGQ/ZD05d0lDX1JPRjlOeW5MSWswdWFwcHl3dGI3eFZQVmxtNWtTaS1OakdKMklDUjQ1bGpVLWIya0JCZVVvMnlFcU1ydEo1M1dvMlRFNDdHWk9wTkJ4cjdPRjVEM3o2N1hBNjB0LXc5OFpvNVJaMUVfdkVWMS1wbXowam1jeHJCN2l6dWI2eDVZdzImdD02MzYzNjA1ODk1NjQzNjc2MDMnKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgMDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXR9LlJhZEdyaWQgLnJnRGVsZXRlZFJvdywuUmFkR3JpZCAucmdEZWxldGVkUm93IHRke2JhY2tncm91bmQ6dHJhbnNwYXJlbnQhaW1wb3J0YW50fS5SYWRHcmlkIC5yZ0RlbGV0ZWRSb3cgLnJnSWNvbiwuUmFkR3JpZCAucmdEZWxldGVkUm93IC5yZ0J1dHRvblRleHR7dmVydGljYWwtYWxpZ246bWlkZGxlfS5SYWRHcmlkIC5yZ0RlbGV0ZWRSb3cgLnJnQmF0Y2hVbmRvRGVsZXRlQnV0dG9ue2N1cnNvcjpwb2ludGVyfS5SYWRHcmlkIC5yZ0JhdGNoT3ZlcmxheXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwMDtsZWZ0OjA7cmlnaHQ6MH0uUmFkR3JpZCAucmdCYXRjaFVuZG9EZWxldGVCdXR0b257cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJX0uUmFkR3JpZCAucmdCYXRjaFVuZG9EZWxldGVCdXR0b246YmVmb3Jle2NvbnRlbnQ6Jyc7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MjJweDtoZWlnaHQ6MjJweH0uUmFkR3JpZCAucmdTYXZle2JhY2tncm91bmQtcG9zaXRpb246MCAtMTgyNXB4O2hlaWdodDoxOHB4O3dpZHRoOjE4cHh9LlJhZEdyaWQgLnJnU2F2ZSwuUmFkR3JpZCAucmdDYW5jZWx7bWFyZ2luOjAgM3B4IDAgMTBweH0uUmFkR3JpZCAucmdCYXRjaENvbnRhaW5lcnttYXgtd2lkdGg6OTAlfS5SYWRHcmlkIC5yZ0dyb3VwSXRlbSBpbnB1dCwuUmFkR3JpZCAucmdDb21tYW5kUm93IGltZywuUmFkR3JpZCAucmdDb21tYW5kUm93IGEsLlJhZEdyaWQgLnJnSGVhZGVyIGlucHV0e3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0uUmFkR3JpZCAucmdGaWx0ZXJSb3cgaW1nLC5SYWRHcmlkIC5yZ0ZpbHRlclJvdyBpbnB1dHt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9LlJhZEdyaWQgLnJnRmlsdGVyUm93IC5SYWRBdXRvQ29tcGxldGVCb3h7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlfSoraHRtbCAuUmFkR3JpZCAucmdGaWx0ZXJSb3cgLlJhZEF1dG9Db21wbGV0ZUJveHtkaXNwbGF5OmlubGluZX0uUmFkR3JpZCAucmdQYWdlciBpbWd7dmVydGljYWwtYWxpZ246bWlkZGxlfS5SYWRHcmlkIC5yZ1Jvdz50ZCwuUmFkR3JpZCAucmdBbHRSb3c+dGQsLlJhZEdyaWQgLnJnRWRpdFJvdz50ZCwuUmFkR3JpZCAucmdGb290ZXI+dGR7cGFkZGluZy10b3A6NHB4O3BhZGRpbmctYm90dG9tOjNweH0uUmFkR3JpZCB0YWJsZS5yZ01hc3RlclRhYmxlIHRyIC5yZ0RyYWdDb2x7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowO3RleHQtYWxpZ246Y2VudGVyfS5SYWRHcmlkIC5yZ0RyYWd7d2lkdGg6MTVweDtoZWlnaHQ6MTVweDtjdXJzb3I6dXJsKCdXZWJSZXNvdXJjZS5heGQ/ZD16eWd5bjViUHVTeDRLMUY1VnZkbFFPaXRScTA1MlRrQ3dYWGg2SmFxS0l4UFc0YUFuTm5YaTMzRUlOUGFFNHJGVnBaQkNvdFNyWGpUdWdkN1hBaU5EYV9JUVBxSUxfYmx1dVZvNnVOU0hGUGNmN0hkY1RYX0tVaFpZOEtJcjgxMGtBWUM2ZzImdD02MzYzNjA1ODk1NjQzNjc2MDMnKSxtb3ZlfS5SYWRHcmlkIC5yZ1BhZ2VyIC5yZ1N0YXR1c3t3aWR0aDozNXB4O3BhZGRpbmc6M3B4IDAgMnB4fS5SYWRHcmlkIC5yZ1N0YXR1cyBkaXZ7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyOjA7bWFyZ2luOjAgYXV0bztwYWRkaW5nOjA7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlciBjZW50ZXI7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O3RleHQtaW5kZW50Oi0yMjIycHh9LlJhZEdyaWQgLnJnUGFnZXI+dGR7cGFkZGluZzowfS5SYWRHcmlkIHRkLnJnUGFnZXJDZWxse2JvcmRlcjowO3BhZGRpbmc6NXB4IDAgNHB4fS5SYWRHcmlkIC5yZ1dyYXB7ZmxvYXQ6bGVmdDtwYWRkaW5nOjAgMTBweDtsaW5lLWhlaWdodDoyMnB4O3doaXRlLXNwYWNlOm5vd3JhcH0uUmFkR3JpZCAucmdBcnJQYXJ0MXtwYWRkaW5nLXJpZ2h0OjB9LlJhZEdyaWQgLnJnQXJyUGFydDJ7cGFkZGluZy1sZWZ0OjB9LlJhZEdyaWQgLnJnSW5mb1BhcnR7ZmxvYXQ6cmlnaHR9LlJhZEdyaWQgLnJnSW5mb1BhcnQgc3Ryb25ne2ZvbnQtd2VpZ2h0Om5vcm1hbH0uUmFkR3JpZCAucmdBcnJQYXJ0MSBpbWcsLlJhZEdyaWQgLnJnQXJyUGFydDIgaW1ne2JvcmRlcjowO21hcmdpbjowIDFweH0uUmFkR3JpZCAucmdQYWdlRmlyc3QsLlJhZEdyaWQgLnJnUGFnZVByZXYsLlJhZEdyaWQgLnJnUGFnZU5leHQsLlJhZEdyaWQgLnJnUGFnZUxhc3R7d2lkdGg6MjJweDtoZWlnaHQ6MjJweDt2ZXJ0aWNhbC1hbGlnbjp0b3B9LlJhZEdyaWQgLk5leHRQcmV2IC5yZ1BhZ2VGaXJzdCwuUmFkR3JpZCAuTmV4dFByZXYgLnJnUGFnZVByZXYsLlJhZEdyaWQgLk5leHRQcmV2IC5yZ1BhZ2VOZXh0LC5SYWRHcmlkIC5OZXh0UHJldiAucmdQYWdlTGFzdHt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9LlJhZEdyaWQgLnJnUGFnZUZpcnN0LC5SYWRHcmlkIC5yZ1BhZ2VQcmV2e21hcmdpbi1yaWdodDoxcHh9LlJhZEdyaWQgLnJnUGFnZU5leHQsLlJhZEdyaWQgLnJnUGFnZUxhc3R7bWFyZ2luLWxlZnQ6MXB4fS5SYWRHcmlkIC5yZ1BhZ2VyIC5yZ1BhZ2VyQnV0dG9ue2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmlubGluZS1ibG9jaztoZWlnaHQ6MjJweDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLXdpZHRoOjFweDttYXJnaW46MCAxNHB4IDAgMDtwYWRkaW5nOjAgNHB4IDJweDtmb250LXNpemU6MTJweDtsaW5lLWhlaWdodDoxOHB4O3ZlcnRpY2FsLWFsaWduOnRvcDtjdXJzb3I6cG9pbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZX0uUmFkR3JpZCAucmdQYWdlciBhLnJnUGFnZXJCdXR0b257cGFkZGluZzowIDdweCAycHh9LlJhZEdyaWQgLnJnTnVtUGFydHtwYWRkaW5nOjB9LlJhZEdyaWQgLk51bWVyaWNQYWdlcyAucmdOdW1QYXJ0e3BhZGRpbmc6MCAxMHB4fS5SYWRHcmlkIC5yZ051bVBhcnQgYXtmbG9hdDpsZWZ0O2xpbmUtaGVpZ2h0OjIycHg7bWFyZ2luOjA7cGFkZGluZzowIDVweCAwIDA7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LlJhZEdyaWQgLnJnTnVtUGFydCBzcGFue2Zsb2F0OmxlZnQ7cGFkZGluZzowIDAgMCA1cHh9LlJhZEdyaWQgLnJnTnVtUGFydCBhOmhvdmVyIHNwYW57Y3Vyc29yOnBvaW50ZXJ9LlJhZEdyaWQgLnJnTnVtUGFydCBhLnJnQ3VycmVudFBhZ2V7Y3Vyc29yOmRlZmF1bHR9LlJhZEdyaWQgLnJnTnVtUGFydCBhLnJnQ3VycmVudFBhZ2U6aG92ZXIsLlJhZEdyaWQgLnJnTnVtUGFydCBhLnJnQ3VycmVudFBhZ2Ugc3BhbiwuUmFkR3JpZCAucmdOdW1QYXJ0IGEucmdDdXJyZW50UGFnZTpob3ZlciBzcGFue2N1cnNvcjpkZWZhdWx0fS5SYWRHcmlkIC5OZXh0UHJldk51bWVyaWNBbmRBZHZhbmNlZCAucmdBZHZQYXJ0e2Zsb2F0Om5vbmU7dGV4dC1hbGlnbjpjZW50ZXJ9LlJhZEdyaWQgLnJnUGFnZXIgLlJhZFNsaWRlcntmbG9hdDpsZWZ0O21hcmdpbjowIDEwcHggMCAwfS5SYWRHcmlkIC5yZ1BhZ2VyTGFiZWx7bWFyZ2luOjAgNHB4IDAgMDt2ZXJ0aWNhbC1hbGlnbjp0b3B9LlJhZEdyaWQgLnJnUGFnZXIgLlJhZENvbWJvQm94e21hcmdpbjowIDRweCAwIDA7dmVydGljYWwtYWxpZ246dG9wfS5SYWRHcmlkIC5yZ1BhZ2VyIC5SYWRJbnB1dHttYXJnaW46MCA0cHggMCAwO3ZlcnRpY2FsLWFsaWduOnRvcDtkaXNwbGF5OmlubGluZS1ibG9ja30uUmFkR3JpZCAucmdQYWdlciAucmlUZXh0Qm94e2hlaWdodDoxNXB4fS5SYWRHcmlkIGRpdi5yZ0hlYWRlcldyYXBwZXJ7Ym9yZGVyLWxlZnQ6MCBub25lO2JvcmRlci1yaWdodDowIG5vbmU7cGFkZGluZzowO292ZXJmbG93OmhpZGRlbn0uUmFkR3JpZCAucmdGb290ZXJXcmFwcGVye2JvcmRlci10b3Atc3R5bGU6c29saWQ7b3ZlcmZsb3c6aGlkZGVufS5SYWRHcmlkIC5yZ1ByZXYsLlJhZEdyaWQgLnJnTmV4dHtkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmNlbnRlcjtib3JkZXItd2lkdGg6MXB4O2JvcmRlci1zdHlsZTpzb2xpZH0uUmFkR3JpZCAucmdQcmV2IHNwYW4sLlJhZEdyaWQgLnJnTmV4dCBzcGFue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfSoraHRtbCAuUmFkR3JpZCAucmdQcmV2IHNwYW4sKitodG1sIC5SYWRHcmlkIC5yZ05leHQgc3Bhbnt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9LlJhZEdyaWQgLnJnRGlzYWJsZWR7b3BhY2l0eTouNTtjdXJzb3I6ZGVmYXVsdH0ucmdDZWxsU2VsZWN0b3JBcmVhe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTAwMDEwMDtmaWx0ZXI6YWxwaGEob3BhY2l0eT0xMCk7b3BhY2l0eTouMX0ucmdOb1Njcm9sbEltYWdlIGRpdi5yZ0hlYWRlckRpdntiYWNrZ3JvdW5kLWltYWdlOm5vbmV9LnJnTXVsdGlIZWFkZXJ7b3ZlcmZsb3c6aGlkZGVufS5yZ011bHRpSGVhZGVyIC5yZ0hlYWRlckRpdnttYXJnaW4tbGVmdDotMXB4fS5yZ0hlYWRlcldyYXBwZXIgLnJnSGVhZGVyRGl2e21hcmdpbi1ib3R0b206LTFweDttYXJnaW4tcmlnaHQ6LTFweDtib3JkZXItcmlnaHQ6MXB4IHNvbGlkIHRyYW5zcGFyZW50fS5yZ0Zvb3RlcldyYXBwZXIgLnJnRm9vdGVyRGl2e21hcmdpbi10b3A6LTFweH0uUmFkR3JpZCAucmdIZWFkZXIsLlJhZEdyaWQgdGgucmdSZXNpemVDb2x7cGFkZGluZy10b3A6NXB4O3BhZGRpbmctYm90dG9tOjRweDt0ZXh0LWFsaWduOmxlZnQ7Zm9udC13ZWlnaHQ6bm9ybWFsfS5SYWRHcmlkIC5yZ0hlYWRlciBhe3RleHQtZGVjb3JhdGlvbjpub25lfS5SYWRHcmlkIC5yZ0NoZWNrIGlucHV0e2hlaWdodDoxNXB4O21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7cGFkZGluZy10b3A6MDtwYWRkaW5nLWJvdHRvbTowO2N1cnNvcjpkZWZhdWx0fS5SYWRHcmlkIC5yZ1JvdGF0ZUhlYWRlcnt2ZXJ0aWNhbC1hbGlnbjp0b3B9LlJhZEdyaWQgLnJnUm90YXRlSGVhZGVyIGEsLlJhZEdyaWQgLnJnUm90YXRlSGVhZGVyIHNwYW57LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MTFweCAxMXB4O3RyYW5zZm9ybS1vcmlnaW46MTFweCAxMXB4O3dyaXRpbmctbW9kZTp0Yi1ybDtkaXNwbGF5OmlubGluZS1ibG9ja30uX1RlbGVyaWtfSUU5IC5SYWRHcmlkIC5yZ1JvdGF0ZUhlYWRlciBhLC5fVGVsZXJpa19JRTkgLlJhZEdyaWQgLnJnUm90YXRlSGVhZGVyIHNwYW57dHJhbnNmb3JtOnJvdGF0ZSgwKX0ucmZkQ2hlY2tib3ggLlJhZEdyaWQgLnJnQ2hlY2sgaW5wdXR7aGVpZ2h0OjIwcHh9LnJnUGFnZXIgLnJpU2luZ2xlIC5yaVRleHRCb3h7aGVpZ2h0OjIycHh9KitodG1sIC5SYWRHcmlkIC5yZ1BhZ2VyIC5SYWRDb21ib0JveHttYXJnaW4tdG9wOi0xcHh9LlJhZEdyaWQgLnJnUGFnZXJUZXh0Qm94e3RleHQtYWxpZ246Y2VudGVyfS5HcmlkUmVvcmRlclRvcCwuR3JpZFJlb3JkZXJCb3R0b217d2lkdGg6OXB4O2hlaWdodDo5cHg7bWFyZ2luOjAgMCAwIC01cHg7cGFkZGluZzowfS5SYWRHcmlkIC5yZ0ZpbHRlclJvdz50ZHtwYWRkaW5nLXRvcDo0cHg7cGFkZGluZy1ib3R0b206N3B4fS5SYWRHcmlkIC5yZ0ZpbHRlcnt3aWR0aDoyMnB4O2hlaWdodDoyMnB4O21hcmdpbjowIDAgMCAycHh9LlJhZEdyaWQgLnJnRmlsdGVyQm94e2JvcmRlci13aWR0aDoxcHg7Ym9yZGVyLXN0eWxlOnNvbGlkO21hcmdpbjowO2hlaWdodDoxNXB4O3BhZGRpbmc6MnB4IDFweCAzcHg7Zm9udC1zaXplOjEycHg7dmVydGljYWwtYWxpZ246bWlkZGxlOy13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveH0ucmdGaWx0ZXJSb3cgLnJpU2luZ2xlIC5yaVRleHRCb3h7aGVpZ2h0OjIycHh9LlJhZEdyaWQgLnJnRmlsdGVyUm93IC5SYWRJbnB1dCwuUmFkR3JpZCAucmdGaWx0ZXJSb3cgLlJhZFJhdGluZ3tkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9KitodG1sIC5SYWRHcmlkIC5yZ0ZpbHRlclJvdyAuUmFkUmF0aW5ne2Rpc3BsYXk6aW5saW5lO3pvb206MX0uR3JpZENvbnRleHRNZW51IGxpLnJnRmlsdGVyTGlzdE1lbnUsLkdyaWRDb250ZXh0TWVudSBsaS5yZ0ZpbHRlck1lbnV7bWF4LXdpZHRoOjIwMHB4O2hlaWdodDphdXRvfWh0bWwgLkdyaWRDb250ZXh0TWVudSBsaS5yZ0ZpbHRlckxpc3RNZW51OmhvdmVyLGh0bWwgLkdyaWRDb250ZXh0TWVudSBsaS5yZ0ZpbHRlck1lbnU6aG92ZXJ7YmFja2dyb3VuZDowfS5HcmlkQ29udGV4dE1lbnUgbGkucmdGaWx0ZXJMaXN0TWVudSAuUmFkSW5wdXQsLkdyaWRDb250ZXh0TWVudSBsaS5yZ0ZpbHRlckxpc3RNZW51IC5SYWRDb21ib0JveCwuR3JpZENvbnRleHRNZW51IGxpLnJnRmlsdGVyTWVudSAuUmFkSW5wdXQsLkdyaWRDb250ZXh0TWVudSBsaS5yZ0ZpbHRlck1lbnUgLlJhZENvbWJvQm94e21hcmdpbi1ib3R0b206NXB4fS5HcmlkQ29udGV4dE1lbnUgbGkucmdGaWx0ZXJMaXN0TWVudSAucm1MZWZ0SW1hZ2UsLkdyaWRDb250ZXh0TWVudSBsaS5yZ0ZpbHRlck1lbnUgLnJtTGVmdEltYWdle2xlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZX0uR3JpZENvbnRleHRNZW51IC5yZ0ZpbHRlckxpc3RNZW51IC5SYWRMaXN0Qm94e3dpZHRoOjE2MHB4fS5HcmlkQ29udGV4dE1lbnUgLnJtVGVtcGxhdGUucmdGaWx0ZXJMaXN0TWVudSBkaXYucm1UZXh0LC5HcmlkQ29udGV4dE1lbnUgLnJtVGVtcGxhdGUucmdGaWx0ZXJNZW51IGRpdi5ybVRleHR7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmctcmlnaHQ6OHB4fS5HcmlkQ29udGV4dE1lbnUgLnJtVGVtcGxhdGUucmdGaWx0ZXJMaXN0TWVudSBkaXYucmdFbXB0eUxpc3R7cGFkZGluZzowfS5HcmlkQ29udGV4dE1lbnUgLnJnRmlsdGVyTWVudSAucmdIQ01GaWx0ZXJ7bWFyZ2luOjAgNXB4IDVweCAwfS5HcmlkQ29udGV4dE1lbnUgLnJnRmlsdGVyTWVudSAucmdIQ01DbGVhciwuR3JpZENvbnRleHRNZW51IC5yZ0ZpbHRlck1lbnUgLnJnSENNRmlsdGVye2JvcmRlci13aWR0aDoxcHg7Ym9yZGVyLXN0eWxlOnNvbGlkfWRpdi5SYWRNZW51LkdyaWRDb250ZXh0TWVudSAucm1Db250ZW50e3doaXRlLXNwYWNlOm5vcm1hbDtwYWRkaW5nLWxlZnQ6MzVweDtwYWRkaW5nLXJpZ2h0OjEwcHh9LkdyaWRDb250ZXh0TWVudSBsaS5yZ0hDTUZpbHRlcntiYWNrZ3JvdW5kOjB9LkdyaWRDb250ZXh0TWVudSAucm1MZWZ0SW1hZ2V7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9LkdyaWRDb250ZXh0TWVudSAucm1BcnJvd3t6LWluZGV4OjIwMDB9LkdyaWRDb250ZXh0TWVudSAucmdGcmVlemUgLnJtTGVmdEltYWdle2JhY2tncm91bmQtcG9zaXRpb246LTJweCAtMzE4cHh9LkdyaWRDb250ZXh0TWVudSAucmdVbkZyZWV6ZSAucm1MZWZ0SW1hZ2V7YmFja2dyb3VuZC1wb3NpdGlvbjotMnB4IC0zNjBweH0uUmFkTWVudSAucm1Hcm91cCAucmdIQ01JdGVtIC5ybVRleHR7d2lkdGg6MTYxcHg7cGFkZGluZzo2cHggNXB4IDVweCAzMHB4fS5yZ0hDTUl0ZW0gLnJnSENNQ2xlYXIsLnJnSENNSXRlbSAucmdIQ01TaG93LC5yZ0hDTUl0ZW0gLnJnSENNQW5kLC5yZ0hDTUl0ZW0gLnJnSENNRmlsdGVye2Rpc3BsYXk6YmxvY2t9LnJnSENNSXRlbSAucmdIQ01TaG93LC5yZ0hDTUl0ZW0gLnJnSENNQW5ke3BhZGRpbmctdG9wOjVweDtsaW5lLWhlaWdodDoxMnB4fS5yZ0hDTUl0ZW0gLnJnSENNQ2xlYXIsLnJnSENNSXRlbSAucmdIQ01TaG93LC5yZ0hDTUl0ZW0gLlJhZENvbWJvQm94e21hcmdpbjowIDAgNXB4fS5yZ0hDTUl0ZW0gLnJnSENNQW5ke21hcmdpbjowIDAgNXB4O21hcmdpbi10b3A6NXB4fS5yZ0hDTUl0ZW0gLnJnSENNRmlsdGVye21hcmdpbi10b3A6MTFweH0ucmdIQ01JdGVtIC5yZ0hDTUNsZWFyLC5yZ0hDTUl0ZW0gLnJnSENNRmlsdGVye3dpZHRoOjE2MHB4O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItd2lkdGg6MXB4O2JvcmRlci1yYWRpdXM6M3B4O3BhZGRpbmc6MXB4IDA7Zm9udC1zaXplOjEycHg7Y3Vyc29yOnBvaW50ZXJ9LlJhZEZpbHRlck1lbnVfQ2hlY2tMaXN0IC5SYWRMaXN0Qm94e2Rpc3BsYXk6YmxvY2s7bWFyZ2luLWJvdHRvbTo3cHg7bWFyZ2luLXRvcDo1cHg7d2lkdGg6MjAwcHg7bWF4LWhlaWdodDoyNTBweDtvdmVyZmxvdzphdXRvO2JvcmRlci1sZWZ0OjAgbm9uZX0uUmFkRmlsdGVyTWVudV9DaGVja0xpc3QgZGl2LnJsYkdyb3Vwe2JhY2tncm91bmQ6MDtib3JkZXItbGVmdDpub25lfS5SYWRGaWx0ZXJNZW51X0NoZWNrTGlzdCB1bC5ybUdyb3VwIGxpLnJtTGFzdHtwYWRkaW5nLWJvdHRvbTo1cHh9LlJhZEZpbHRlck1lbnVfQ2hlY2tMaXN0IC5ybUdyb3VwIGRpdi5ybVRleHR7cGFkZGluZzowIDEwcHggMCAwO21hcmdpbi1sZWZ0OjB9LlJhZEZpbHRlck1lbnVfQ2hlY2tMaXN0IC5yZ0ZpbHRlckFwcGx5LC5SYWRGaWx0ZXJNZW51X0NoZWNrTGlzdCAucmdGaWx0ZXJDYW5jZWx7aGVpZ2h0OjIycHg7bGluZS1oZWlnaHQ6MjJweDttYXJnaW4tcmlnaHQ6MTBweDtwYWRkaW5nOjAgNnB4IDJweDtjdXJzb3I6cG9pbnRlcjtib3JkZXItd2lkdGg6MXB4O2JvcmRlci1zdHlsZTpzb2xpZH0uUmFkRmlsdGVyTWVudV9DaGVja0xpc3QgLnJnRmlsdGVyQXBwbHl7bWFyZ2luLWxlZnQ6NXB4O21hcmdpbi1sZWZ0OjMzcHh9LlJhZEdyaWQgaW5wdXQucmdPcHRpb25ze2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7bWFyZ2luLWxlZnQ6MTBweDtib3JkZXI6MCBub25lO3ZlcnRpY2FsLWFsaWduOnN1YjtjdXJzb3I6cG9pbnRlcn0uUmFkR3JpZCAucmdHcm91cFBhbmVse2hlaWdodDoyNHB4fS5SYWRHcmlkIC5yZ0dyb3VwSXRlbXtwYWRkaW5nOjAgMnB4IDFweCAzcHg7bGluZS1oZWlnaHQ6MjBweDtmb250LXdlaWdodDpub3JtYWw7dmVydGljYWwtYWxpZ246bWlkZGxlfS5SYWRHcmlkIC5yZ0dyb3VwSGVhZGVyIHRke3BhZGRpbmctdG9wOjA7cGFkZGluZy1ib3R0b206MH0uUmFkR3JpZCAucmdHcm91cEhlYWRlciB0ZCBwe2Rpc3BsYXk6aW5saW5lO21hcmdpbjowO3BhZGRpbmc6MCAxMHB4fS5SYWRHcmlkIC5yZ0dyb3VwSGVhZGVyIHRkIGRpdiBkaXZ7dG9wOi0wLjhlbTtwYWRkaW5nOjAgMTBweH0uUmFkR3JpZCB0YWJsZS5yZ01hc3RlclRhYmxlIHRyIC5yZ0dyb3VwQ29sLC5SYWRHcmlkIHRhYmxlLnJnTWFzdGVyVGFibGUgdHIgLnJnRXhwYW5kQ29se3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDt0ZXh0LWFsaWduOmNlbnRlcn0uUmFkR3JpZCAucmdHcm91cEhlYWRlciB0ZCBkaXYgZGl2IGRpdnt0b3A6MDtwYWRkaW5nOjA7Ym9yZGVyOjB9LlJhZEdyaWQgLnJnVXBkYXRlLC5SYWRHcmlkIC5yZ0NhbmNlbHt3aWR0aDoxOHB4O2hlaWdodDoxOHB4fS5SYWRHcmlkIC5yZ0RldGFpbFRhYmxle2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItd2lkdGg6MXB4O2JvcmRlci1yaWdodC13aWR0aDowfS5SYWRHcmlkIC5yZ0FkZCwuUmFkR3JpZCAucmdSZWZyZXNoe3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHg7dmVydGljYWwtYWxpZ246Ym90dG9tfSoraHRtbCAuUmFkR3JpZCAucmdQYWdlciAucmdQYWdlckJ1dHRvbiwqK2h0bWwgLlJhZEdyaWQgLnJnUGFnZXJMYWJlbCwqK2h0bWwgLlJhZEdyaWQgLnJnUGFnZXIgLlJhZENvbWJvQm94LCoraHRtbCAuUmFkR3JpZCAucmdBZGQsKitodG1sIC5SYWRHcmlkIC5yZ1JlZnJlc2h7dmVydGljYWwtYWxpZ246bWlkZGxlfS5SYWRHcmlkIC5yZ0VkaXQsLlJhZEdyaWQgLnJnRGVse3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1pbmRlbnQ6LTk5OTlweH0ucmdQYWdlciB0aGVhZCwucmdQYWdlciBjYXB0aW9uLC5yZ0NvbW1hbmRUYWJsZSB0aGVhZHtkaXNwbGF5Om5vbmV9LlJhZEdyaWRSVEwgLnJnSGVhZGVyLC5SYWRHcmlkUlRMIC5yZ1Jlc2l6ZUNvbHt0ZXh0LWFsaWduOnJpZ2h0fS5SYWRHcmlkUlRMIC5yZ1BhZ2VyIC5yZ1N0YXR1c3tib3JkZXItcmlnaHQ6MDtib3JkZXItbGVmdC13aWR0aDoxcHh9KitodG1sIC5SYWRHcmlkUlRMIC5yZ051bVBhcnQgYXtmbG9hdDpub25lO2Rpc3BsYXk6aW5saW5lO3pvb206MX0uUmFkR3JpZFJUTCAucmdXcmFwe2Zsb2F0OnJpZ2h0fS5SYWRHcmlkUlRMIC5yZ0FyclBhcnQxe3BhZGRpbmc6MCAxMHB4IDAgNXB4fS5SYWRHcmlkUlRMIC5yZ0FyclBhcnQye3BhZGRpbmc6MCA1cHggMCAxMHB4fS5SYWRHcmlkUlRMIC5yZ1BhZ2VGaXJzdCwuUmFkR3JpZFJUTCAucmdQYWdlUHJldnttYXJnaW4tcmlnaHQ6MDttYXJnaW4tbGVmdDoxcHh9LlJhZEdyaWRSVEwgLnJnUGFnZU5leHQsLlJhZEdyaWRSVEwgLnJnUGFnZUxhc3R7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MXB4fS5SYWRHcmlkUlRMIC5yZ0luZm9QYXJ0e2Zsb2F0OmxlZnR9LlJhZEdyaWRSVEwgLnJnTnVtUGFydCBhe2Zsb2F0OnJpZ2h0fS5SYWRHcmlkUlRMIC5yZ0RldGFpbFRhYmxle2JvcmRlci1yaWdodC13aWR0aDoxcHg7Ym9yZGVyLWxlZnQtd2lkdGg6MH0uUmFkR3JpZFJUTCBpbnB1dC5yZ1JlZnJlc2gsLlJhZEdyaWRSVEwgaW5wdXQucmdBZGR7bWFyZ2luOjAgMCAwIDRweH0uUmFkR3JpZFJUTCAucmdJbmZvUGFydHt0ZXh0LWFsaWduOmxlZnR9LlJhZEdyaWRSVEwgLnJnU2xpZGVyTGFiZWx7ZmxvYXQ6cmlnaHR9LlJhZEdyaWRSVEwgLnJnUGFnZXIgZGl2LlJhZFNsaWRlcntmbG9hdDpyaWdodDttYXJnaW46MCAwIDAgMTBweH0=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="1236437279" offset="0" length="12901" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="909" hostname="es00vqweb15.qa.appdev" path="/starsclassroom/Images/Refresh1.png" url="https://es00vqweb15.qa.appdev/starsclassroom/Images/Refresh1.png" ip="10.2.55.154" port="443" connectionId="54" origin="HTML" frame="1" startDateTime="2017-08-29T16:57:15.145-04:00" startTime="1236437310" endTime="1236437326">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Accept" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cHM6Ly9lczAwdnF3ZWIxNS5xYS5hcHBkZXYvc3RhcnNjbGFzc3Jvb20vU2Nob29sQWRtaW4vUElQT0xpc3QuYXNweA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IFRyaWRlbnQvNy4wOyBTTENDMjsgLk5FVCBDTFIgMi4wLjUwNzI3OyAuTkVUIENMUiAzLjUuMzA3Mjk7IC5ORVQgQ0xSIDMuMC4zMDcyOTsgTWVkaWEgQ2VudGVyIFBDIDYuMDsgLk5FVDQuMEM7IC5ORVQ0LjBFOyBJbmZvUGF0aC4zOyAuTkVUIENMUiAxLjEuNDMyMik=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Host" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZXMwMHZxd2ViMTUucWEuYXBwZGV2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="DNT" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Cookie" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LkFTUFhBVVRIPTFGOTcyMzE1MUFEMzQzNUU4M0QzNEYzNUE0MzI5M0Y0REE0QjVBRkI1QUZENzlGNTkwQTMxMTlFQzJBQjE0OEIxNkMwODI1MzNBMTNFN0NCOTk1RTkyOEM3RkZBM0QyNzMxMTU2MjI4Q0IzN0Y4MUU4RUEyRURDMEQwODhEMUI0NDg0QTgwMjEyQkIzRTY3QTgzNzc0OTAzMDc3Q0NGRTNCNEIzNjc5MUJBNzY2OTM5MEQ5RTY3MEZDODYxNkJGRDI5NjY3MENEQTY5QzM5QkZBNjRFODI3Mzg5QTFENzA0MkE3NTMzNDA3NUZFQkE3NzRDNjc1RDlBREMwNkM2OUI3RjNDOEFCMkE4MjYzOTIxNUExQjA2RkE1MDUwQjdCRTQxNDYwNTk4Qzc4Qzk0REVGMTgwNTI3NUFDQzJBQjM3NzM1MkNGMTIxQ0EzRjQzMThEMjcxRDFFMDMzODc0OUJFMTNBRDc2NDVBQjUyNjc2ODkxRUFEMzJEODRBMDUxQzZBRjgwMzI5NjJCQUVCOERGQ0ExOEUyMzlENENCMDdFRkJCQzMzMUIwQzU4MThBQjYwNUEwOThFNDAxMUUzNERCRjhEMEUxQTkyN0MwMjQ0NkM3Mjc3NjlBRDlEMjg2NzVERDZCOUREQjk1RjNBRDgxMjIwMTQ1NTExOTk4MjFGNDRDMTQ5MDUzMkQzOTFGQkIwRkYxRkUzNzc0Qzg0NzRDQjI5NzYzRTkyOUZEQTlCRTJGRTQ2M0IzQTU1ODY2M0IwMjg2RUFEQjlDMjkyRTZFMEE4OTREOEMxQUNFQjE4MzFFM0UxQzI5N0ZEMDY2MTIyMDI2MzJDM0IwMEI1OTY5NDM2N0EwOUE3MzBBRTlERjNEMkRBQ0E2OUE2Qzk1RkYwMjUyMkJCNjQzMjFGQkIxNkExNDVERjY0MTkxOTVFQTRCRTY0QkI1RDM0NTNDNjNDRUFGQjRCOEJFODJCOUUyODYxRkFGNDExN0M4Q0NEQTM2REE0QTEyRjUwQThBQTI2RkVDOUZDOEYzMTY3QTc5NzBCNzA3RDBGQjNGM0I4MzY5NTYxMUU5M0U4QzI0QzA5QTAxRTFCMUE0NjFBMjQ2RDUwMDk0MDU4MTQ0ODVCNTA2NEE1RTVFQ0Y5M0JDRDM4MkIzQTYyQzYzNzk5MzNGNTQ4REU3REFDNzRGN0U2MUI4RTE4QUY5NTRBNENFMTZFNURDOEI1Qzk0MUZBRUNCQUZERTZEQkQwNjhGQURGNEI2MDRFNjAzRjM3Q0Q0NDVGRUMwREE4Q0Q3QTk2MTY5MjgwREFCNTUzMDlCQTk4MEJCQjA1RDU2MDU1NzhEMzlCOTBCMzI3QkJDRDdCM0YzNEUxMEJGMTI2RjNGOUE1RkE1MkM5MzI3NDQ1NkI2M0ZGQTI2QkU1MjY1NEUyNEUyNjREQTY2NTg0NEU4RDJDM0I4M0UzMjg4RjI0ODZDQkU5QTk5MTY4QUZCM0REMDZCQUUwMEZFRDQwOEYwRTg1OTYxOTVBNURBQjA2REFFNUY2QkY0QTdBNDYzMDFFQzU2RjI2ODNEOERFRDhBQkRFQjYzOUJFMjg2REU1NkFBQzk4Q0UzQTFBM0E3MzgxMjgyNEMwNDQwNURFMzNEQkRFQzE2RUMyQTdBOEYzNzIyNURGNjM3NzVDOTVFRjQxMTVBQzI1OEFFQzVCRDhFMTRGNEEzRkM3NzI1NDQwNjY4RThBRENERjRFRUFCNzUxM0NGOTEyMUIxMzsgQVNQLk5FVF9TZXNzaW9uSWQ9ZHdyemVjMWxpZmx2M2lsd3dkdGlxNGN6</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zdGFyc2NsYXNzcm9vbS9JbWFnZXMvUmVmcmVzaDEucG5nIEhUVFAvMS4xDQpBY2NlcHQ6ICovKg0KUmVmZXJlcjogaHR0cHM6Ly9lczAwdnF3ZWIxNS5xYS5hcHBkZXYvc3RhcnNjbGFzc3Jvb20vU2Nob29sQWRtaW4vUElQT0xpc3QuYXNweA0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUw0KVXNlci1BZ2VudDogTW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IFRyaWRlbnQvNy4wOyBTTENDMjsgLk5FVCBDTFIgMi4wLjUwNzI3OyAuTkVUIENMUiAzLjUuMzA3Mjk7IC5ORVQgQ0xSIDMuMC4zMDcyOTsgTWVkaWEgQ2VudGVyIFBDIDYuMDsgLk5FVDQuMEM7IC5ORVQ0LjBFOyBJbmZvUGF0aC4zOyAuTkVUIENMUiAxLjEuNDMyMikNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogZXMwMHZxd2ViMTUucWEuYXBwZGV2DQpETlQ6IDENCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogLkFTUFhBVVRIPTFGOTcyMzE1MUFEMzQzNUU4M0QzNEYzNUE0MzI5M0Y0REE0QjVBRkI1QUZENzlGNTkwQTMxMTlFQzJBQjE0OEIxNkMwODI1MzNBMTNFN0NCOTk1RTkyOEM3RkZBM0QyNzMxMTU2MjI4Q0IzN0Y4MUU4RUEyRURDMEQwODhEMUI0NDg0QTgwMjEyQkIzRTY3QTgzNzc0OTAzMDc3Q0NGRTNCNEIzNjc5MUJBNzY2OTM5MEQ5RTY3MEZDODYxNkJGRDI5NjY3MENEQTY5QzM5QkZBNjRFODI3Mzg5QTFENzA0MkE3NTMzNDA3NUZFQkE3NzRDNjc1RDlBREMwNkM2OUI3RjNDOEFCMkE4MjYzOTIxNUExQjA2RkE1MDUwQjdCRTQxNDYwNTk4Qzc4Qzk0REVGMTgwNTI3NUFDQzJBQjM3NzM1MkNGMTIxQ0EzRjQzMThEMjcxRDFFMDMzODc0OUJFMTNBRDc2NDVBQjUyNjc2ODkxRUFEMzJEODRBMDUxQzZBRjgwMzI5NjJCQUVCOERGQ0ExOEUyMzlENENCMDdFRkJCQzMzMUIwQzU4MThBQjYwNUEwOThFNDAxMUUzNERCRjhEMEUxQTkyN0MwMjQ0NkM3Mjc3NjlBRDlEMjg2NzVERDZCOUREQjk1RjNBRDgxMjIwMTQ1NTExOTk4MjFGNDRDMTQ5MDUzMkQzOTFGQkIwRkYxRkUzNzc0Qzg0NzRDQjI5NzYzRTkyOUZEQTlCRTJGRTQ2M0IzQTU1ODY2M0IwMjg2RUFEQjlDMjkyRTZFMEE4OTREOEMxQUNFQjE4MzFFM0UxQzI5N0ZEMDY2MTIyMDI2MzJDM0IwMEI1OTY5NDM2N0EwOUE3MzBBRTlERjNEMkRBQ0E2OUE2Qzk1RkYwMjUyMkJCNjQzMjFGQkIxNkExNDVERjY0MTkxOTVFQTRCRTY0QkI1RDM0NTNDNjNDRUFGQjRCOEJFODJCOUUyODYxRkFGNDExN0M4Q0NEQTM2REE0QTEyRjUwQThBQTI2RkVDOUZDOEYzMTY3QTc5NzBCNzA3RDBGQjNGM0I4MzY5NTYxMUU5M0U4QzI0QzA5QTAxRTFCMUE0NjFBMjQ2RDUwMDk0MDU4MTQ0ODVCNTA2NEE1RTVFQ0Y5M0JDRDM4MkIzQTYyQzYzNzk5MzNGNTQ4REU3REFDNzRGN0U2MUI4RTE4QUY5NTRBNENFMTZFNURDOEI1Qzk0MUZBRUNCQUZERTZEQkQwNjhGQURGNEI2MDRFNjAzRjM3Q0Q0NDVGRUMwREE4Q0Q3QTk2MTY5MjgwREFCNTUzMDlCQTk4MEJCQjA1RDU2MDU1NzhEMzlCOTBCMzI3QkJDRDdCM0YzNEUxMEJGMTI2RjNGOUE1RkE1MkM5MzI3NDQ1NkI2M0ZGQTI2QkU1MjY1NEUyNEUyNjREQTY2NTg0NEU4RDJDM0I4M0UzMjg4RjI0ODZDQkU5QTk5MTY4QUZCM0REMDZCQUUwMEZFRDQwOEYwRTg1OTYxOTVBNURBQjA2REFFNUY2QkY0QTdBNDYzMDFFQzU2RjI2ODNEOERFRDhBQkRFQjYzOUJFMjg2REU1NkFBQzk4Q0UzQTFBM0E3MzgxMjgyNEMwNDQwNURFMzNEQkRFQzE2RUMyQTdBOEYzNzIyNURGNjM3NzVDOTVFRjQxMTVBQzI1OEFFQzVCRDhFMTRGNEEzRkM3NzI1NDQwNjY4RThBRENERjRFRUFCNzUxM0NGOTEyMUIxMzsgQVNQLk5FVF9TZXNzaW9uSWQ9ZHdyemVjMWxpZmx2M2lsd3dkdGlxNGN6DQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
          <HTTPCookies>
            <HTTPHeaderEntity name=".ASPXAUTH" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MUY5NzIzMTUxQUQzNDM1RTgzRDM0RjM1QTQzMjkzRjREQTRCNUFGQjVBRkQ3OUY1OTBBMzExOUVDMkFCMTQ4QjE2QzA4MjUzM0ExM0U3Q0I5OTVFOTI4QzdGRkEzRDI3MzExNTYyMjhDQjM3RjgxRThFQTJFREMwRDA4OEQxQjQ0ODRBODAyMTJCQjNFNjdBODM3NzQ5MDMwNzdDQ0ZFM0I0QjM2NzkxQkE3NjY5MzkwRDlFNjcwRkM4NjE2QkZEMjk2NjcwQ0RBNjlDMzlCRkE2NEU4MjczODlBMUQ3MDQyQTc1MzM0MDc1RkVCQTc3NEM2NzVEOUFEQzA2QzY5QjdGM0M4QUIyQTgyNjM5MjE1QTFCMDZGQTUwNTBCN0JFNDE0NjA1OThDNzhDOTRERUYxODA1Mjc1QUNDMkFCMzc3MzUyQ0YxMjFDQTNGNDMxOEQyNzFEMUUwMzM4NzQ5QkUxM0FENzY0NUFCNTI2NzY4OTFFQUQzMkQ4NEEwNTFDNkFGODAzMjk2MkJBRUI4REZDQTE4RTIzOUQ0Q0IwN0VGQkJDMzMxQjBDNTgxOEFCNjA1QTA5OEU0MDExRTM0REJGOEQwRTFBOTI3QzAyNDQ2QzcyNzc2OUFEOUQyODY3NURENkI5RERCOTVGM0FEODEyMjAxNDU1MTE5OTgyMUY0NEMxNDkwNTMyRDM5MUZCQjBGRjFGRTM3NzRDODQ3NENCMjk3NjNFOTI5RkRBOUJFMkZFNDYzQjNBNTU4NjYzQjAyODZFQURCOUMyOTJFNkUwQTg5NEQ4QzFBQ0VCMTgzMUUzRTFDMjk3RkQwNjYxMjIwMjYzMkMzQjAwQjU5Njk0MzY3QTA5QTczMEFFOURGM0QyREFDQTY5QTZDOTVGRjAyNTIyQkI2NDMyMUZCQjE2QTE0NURGNjQxOTE5NUVBNEJFNjRCQjVEMzQ1M0M2M0NFQUZCNEI4QkU4MkI5RTI4NjFGQUY0MTE3QzhDQ0RBMzZEQTRBMTJGNTBBOEFBMjZGRUM5RkM4RjMxNjdBNzk3MEI3MDdEMEZCM0YzQjgzNjk1NjExRTkzRThDMjRDMDlBMDFFMUIxQTQ2MUEyNDZENTAwOTQwNTgxNDQ4NUI1MDY0QTVFNUVDRjkzQkNEMzgyQjNBNjJDNjM3OTkzM0Y1NDhERTdEQUM3NEY3RTYxQjhFMThBRjk1NEE0Q0UxNkU1REM4QjVDOTQxRkFFQ0JBRkRFNkRCRDA2OEZBREY0QjYwNEU2MDNGMzdDRDQ0NUZFQzBEQThDRDdBOTYxNjkyODBEQUI1NTMwOUJBOTgwQkJCMDVENTYwNTU3OEQzOUI5MEIzMjdCQkNEN0IzRjM0RTEwQkYxMjZGM0Y5QTVGQTUyQzkzMjc0NDU2QjYzRkZBMjZCRTUyNjU0RTI0RTI2NERBNjY1ODQ0RThEMkMzQjgzRTMyODhGMjQ4NkNCRTlBOTkxNjhBRkIzREQwNkJBRTAwRkVENDA4RjBFODU5NjE5NUE1REFCMDZEQUU1RjZCRjRBN0E0NjMwMUVDNTZGMjY4M0Q4REVEOEFCREVCNjM5QkUyODZERTU2QUFDOThDRTNBMUEzQTczODEyODI0QzA0NDA1REUzM0RCREVDMTZFQzJBN0E4RjM3MjI1REY2Mzc3NUM5NUVGNDExNUFDMjU4QUVDNUJEOEUxNEY0QTNGQzc3MjU0NDA2NjhFOEFEQ0RGNEVFQUI3NTEzQ0Y5MTIxQjEz</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ASP.NET_SessionId" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZHdyemVjMWxpZmx2M2lsd3dkdGlxNGN6</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
          </HTTPCookies>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Cache-Control" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>cHVibGljLG1heC1hZ2U9NjA0ODAw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aW1hZ2UvcG5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAyMiBBdWcgMjAxNiAxNTowOTowMSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Ranges" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ynl0ZXM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>IjM2MTAzOTFkODdmY2QxMTowIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Server" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TWljcm9zb2Z0LUlJUy84LjA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="X-Powered-By" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QVNQLk5FVA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="X-UA-Compatible" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SUU9ZWRnZSxjaHJvbWU9MQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Date" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>VHVlLCAyOSBBdWcgMjAxNyAyMDo1MDozMSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ODQw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDYWNoZS1Db250cm9sOiBwdWJsaWMsbWF4LWFnZT02MDQ4MDANCkNvbnRlbnQtVHlwZTogaW1hZ2UvcG5nDQpMYXN0LU1vZGlmaWVkOiBNb24sIDIyIEF1ZyAyMDE2IDE1OjA5OjAxIEdNVA0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkVUYWc6ICIzNjEwMzkxZDg3ZmNkMTE6MCINClNlcnZlcjogTWljcm9zb2Z0LUlJUy84LjANClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KWC1VQS1Db21wYXRpYmxlOiBJRT1lZGdlLGNocm9tZT0xDQpEYXRlOiBUdWUsIDI5IEF1ZyAyMDE3IDIwOjUwOjMxIEdNVA0KQ29udGVudC1MZW5ndGg6IDg0MA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>iVBORw0KGgoAAAANSUhEUgAAAA0AAAARCAYAAAAG/yacAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAicsAAInLAUoueXgAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAACuElEQVQ4T2NggAKRACk1YReJYhifKFo0TtJNIlv6ibC6MC+aBg4gnw2rIeKpkg1qGxT/C8SKdTNYsjtJF8pP0u7UOW401fCxwTSDB8qNassYzHk0UTRLFkkdtDii999yidl/t1Uu/1Muxf0vvJP1v+Ruzv+cWyn/oy4H/zecYfiRy0fECKZRWK1D9UvgaY//GZcS/tffK/8/4+XE/8u+LPg/5VXf/8aH1f+L72T/j74e/F+tQ/M0WBO7PZ+HxUrj/zFng/8XXsr+3/uw7X/rxaa/ofPDHhg3mK3UrTdcYj3N5oH/Kc//JisN/jJIRssHCkeJLbfaa/I/9ILP/8yrif/rHpf9128wvAs0jxPJDzwKtcrLdDZq/GeQTJT9LhwikSmRLjlXrVHtjsU80/+Bx7z/u2xz/C8SIx6BFmqsCp1K9xlk85X+S6cr6EMlWRl0WY0FosWqFGuVz0vEy+5DD2qZQqU6BqVOzf+yhYqV6JJiCdKHZWvlLwjFitWymPFaAOVB8cUgm6ZkwqDUo/pfoUsJ5H4WZI0i0ZKRVpvM/rsetPtvMEf3v3yD/AOxDPGFImGSBQyypYr3NDao/JetUVgG1MSHpFHAoNnoYem93P+x50P+u520+a+zTfW/YLjYAgaxMPlizaWq/x0PW/23mGr52KDJeJVZi+XGyCVRz9ouN/1ru1f/P+Nc4n+/467/tear/eewELAHGcyq3KZy3ueC8/+M6/H/q++X/p/4quf/4k9z/0962vW/9Fbe/+gzwf/tD5v9l22SeQd3DX+ApLH2VJ0Pvmfd/sdfCQNqTvifei3uf8TpoP82i6z+683T+q+zT+m/eL7ETpQAY7MU1pCvV1qkOUnzttZErbuqLWoHgKm+k8GEw0ooXrxXbT1QU5JkOa4sw4wekoLGSvwS2TKPRKIk7ECaAHMbCjFyOHFwAAAAAElFTkSuQmCC</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="1236437310" offset="0" length="1160" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="927" hostname="es00vqweb15.qa.appdev" path="/starsclassroom/WebResource.axd?d=tAs1PzD6X_1ylbCNgK9s1aPVhlgPQ83qt13vWZ4-Fr7mmo8gTmaGMttxgcwMWFivFsb8wDL1VPbJA8EVWtBNjh1r39H5ObGeSviCzVMYlqVbD-WJfLhcyR_yip7_pCBRKuXI-g2&amp;t=636360589559077603" url="https://es00vqweb15.qa.appdev/starsclassroom/WebResource.axd?d=tAs1PzD6X_1ylbCNgK9s1aPVhlgPQ83qt13vWZ4-Fr7mmo8gTmaGMttxgcwMWFivFsb8wDL1VPbJA8EVWtBNjh1r39H5ObGeSviCzVMYlqVbD-WJfLhcyR_yip7_pCBRKuXI-g2&amp;t=636360589559077603" ip="10.2.55.154" port="443" connectionId="56" origin="HTML" frame="1" startDateTime="2017-08-29T16:57:15.153-04:00" startTime="1236440009" endTime="1236440040">
      <QueryString>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>ZD10QXMxUHpENlhfMXlsYkNOZ0s5czFhUFZobGdQUTgzcXQxM3ZXWjQtRnI3bW1vOGdUbWFHTXR0eGdjd01XRml2RnNiOHdETDFWUGJKQThFVld0Qk5qaDFyMzlINU9iR2VTdmlDelZNWWxxVmJELVdKZkxoY3lSX3lpcDdfcENCUkt1WEktZzImdD02MzYzNjA1ODk1NTkwNzc2MDM=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </QueryString>
      <HTTPSplittedQueryStrings>
        <HTTPHeaderEntity name="d" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dEFzMVB6RDZYXzF5bGJDTmdLOXMxYVBWaGxnUFE4M3F0MTN2V1o0LUZyN21tbzhnVG1hR010dHhnY3dNV0ZpdkZzYjh3REwxVlBiSkE4RVZXdEJOamgxcjM5SDVPYkdlU3ZpQ3pWTVlscVZiRC1XSmZMaGN5Ul95aXA3X3BDQlJLdVhJLWcy</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="t" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NjM2MzYwNTg5NTU5MDc3NjAz</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
      </HTTPSplittedQueryStrings>
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Accept" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cHM6Ly9lczAwdnF3ZWIxNS5xYS5hcHBkZXYvc3RhcnNjbGFzc3Jvb20vU2Nob29sQWRtaW4vUElQT0xpc3QuYXNweA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IFRyaWRlbnQvNy4wOyBTTENDMjsgLk5FVCBDTFIgMi4wLjUwNzI3OyAuTkVUIENMUiAzLjUuMzA3Mjk7IC5ORVQgQ0xSIDMuMC4zMDcyOTsgTWVkaWEgQ2VudGVyIFBDIDYuMDsgLk5FVDQuMEM7IC5ORVQ0LjBFOyBJbmZvUGF0aC4zOyAuTkVUIENMUiAxLjEuNDMyMik=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Host" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZXMwMHZxd2ViMTUucWEuYXBwZGV2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="DNT" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Cookie" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LkFTUFhBVVRIPTFGOTcyMzE1MUFEMzQzNUU4M0QzNEYzNUE0MzI5M0Y0REE0QjVBRkI1QUZENzlGNTkwQTMxMTlFQzJBQjE0OEIxNkMwODI1MzNBMTNFN0NCOTk1RTkyOEM3RkZBM0QyNzMxMTU2MjI4Q0IzN0Y4MUU4RUEyRURDMEQwODhEMUI0NDg0QTgwMjEyQkIzRTY3QTgzNzc0OTAzMDc3Q0NGRTNCNEIzNjc5MUJBNzY2OTM5MEQ5RTY3MEZDODYxNkJGRDI5NjY3MENEQTY5QzM5QkZBNjRFODI3Mzg5QTFENzA0MkE3NTMzNDA3NUZFQkE3NzRDNjc1RDlBREMwNkM2OUI3RjNDOEFCMkE4MjYzOTIxNUExQjA2RkE1MDUwQjdCRTQxNDYwNTk4Qzc4Qzk0REVGMTgwNTI3NUFDQzJBQjM3NzM1MkNGMTIxQ0EzRjQzMThEMjcxRDFFMDMzODc0OUJFMTNBRDc2NDVBQjUyNjc2ODkxRUFEMzJEODRBMDUxQzZBRjgwMzI5NjJCQUVCOERGQ0ExOEUyMzlENENCMDdFRkJCQzMzMUIwQzU4MThBQjYwNUEwOThFNDAxMUUzNERCRjhEMEUxQTkyN0MwMjQ0NkM3Mjc3NjlBRDlEMjg2NzVERDZCOUREQjk1RjNBRDgxMjIwMTQ1NTExOTk4MjFGNDRDMTQ5MDUzMkQzOTFGQkIwRkYxRkUzNzc0Qzg0NzRDQjI5NzYzRTkyOUZEQTlCRTJGRTQ2M0IzQTU1ODY2M0IwMjg2RUFEQjlDMjkyRTZFMEE4OTREOEMxQUNFQjE4MzFFM0UxQzI5N0ZEMDY2MTIyMDI2MzJDM0IwMEI1OTY5NDM2N0EwOUE3MzBBRTlERjNEMkRBQ0E2OUE2Qzk1RkYwMjUyMkJCNjQzMjFGQkIxNkExNDVERjY0MTkxOTVFQTRCRTY0QkI1RDM0NTNDNjNDRUFGQjRCOEJFODJCOUUyODYxRkFGNDExN0M4Q0NEQTM2REE0QTEyRjUwQThBQTI2RkVDOUZDOEYzMTY3QTc5NzBCNzA3RDBGQjNGM0I4MzY5NTYxMUU5M0U4QzI0QzA5QTAxRTFCMUE0NjFBMjQ2RDUwMDk0MDU4MTQ0ODVCNTA2NEE1RTVFQ0Y5M0JDRDM4MkIzQTYyQzYzNzk5MzNGNTQ4REU3REFDNzRGN0U2MUI4RTE4QUY5NTRBNENFMTZFNURDOEI1Qzk0MUZBRUNCQUZERTZEQkQwNjhGQURGNEI2MDRFNjAzRjM3Q0Q0NDVGRUMwREE4Q0Q3QTk2MTY5MjgwREFCNTUzMDlCQTk4MEJCQjA1RDU2MDU1NzhEMzlCOTBCMzI3QkJDRDdCM0YzNEUxMEJGMTI2RjNGOUE1RkE1MkM5MzI3NDQ1NkI2M0ZGQTI2QkU1MjY1NEUyNEUyNjREQTY2NTg0NEU4RDJDM0I4M0UzMjg4RjI0ODZDQkU5QTk5MTY4QUZCM0REMDZCQUUwMEZFRDQwOEYwRTg1OTYxOTVBNURBQjA2REFFNUY2QkY0QTdBNDYzMDFFQzU2RjI2ODNEOERFRDhBQkRFQjYzOUJFMjg2REU1NkFBQzk4Q0UzQTFBM0E3MzgxMjgyNEMwNDQwNURFMzNEQkRFQzE2RUMyQTdBOEYzNzIyNURGNjM3NzVDOTVFRjQxMTVBQzI1OEFFQzVCRDhFMTRGNEEzRkM3NzI1NDQwNjY4RThBRENERjRFRUFCNzUxM0NGOTEyMUIxMzsgQVNQLk5FVF9TZXNzaW9uSWQ9ZHdyemVjMWxpZmx2M2lsd3dkdGlxNGN6</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zdGFyc2NsYXNzcm9vbS9XZWJSZXNvdXJjZS5heGQ/ZD10QXMxUHpENlhfMXlsYkNOZ0s5czFhUFZobGdQUTgzcXQxM3ZXWjQtRnI3bW1vOGdUbWFHTXR0eGdjd01XRml2RnNiOHdETDFWUGJKQThFVld0Qk5qaDFyMzlINU9iR2VTdmlDelZNWWxxVmJELVdKZkxoY3lSX3lpcDdfcENCUkt1WEktZzImdD02MzYzNjA1ODk1NTkwNzc2MDMgSFRUUC8xLjENCkFjY2VwdDogKi8qDQpSZWZlcmVyOiBodHRwczovL2VzMDB2cXdlYjE1LnFhLmFwcGRldi9zdGFyc2NsYXNzcm9vbS9TY2hvb2xBZG1pbi9QSVBPTGlzdC5hc3B4DQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzQuMCAoY29tcGF0aWJsZTsgTVNJRSA3LjA7IFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgVHJpZGVudC83LjA7IFNMQ0MyOyAuTkVUIENMUiAyLjAuNTA3Mjc7IC5ORVQgQ0xSIDMuNS4zMDcyOTsgLk5FVCBDTFIgMy4wLjMwNzI5OyBNZWRpYSBDZW50ZXIgUEMgNi4wOyAuTkVUNC4wQzsgLk5FVDQuMEU7IEluZm9QYXRoLjM7IC5ORVQgQ0xSIDEuMS40MzIyKQ0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBlczAwdnF3ZWIxNS5xYS5hcHBkZXYNCkROVDogMQ0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiAuQVNQWEFVVEg9MUY5NzIzMTUxQUQzNDM1RTgzRDM0RjM1QTQzMjkzRjREQTRCNUFGQjVBRkQ3OUY1OTBBMzExOUVDMkFCMTQ4QjE2QzA4MjUzM0ExM0U3Q0I5OTVFOTI4QzdGRkEzRDI3MzExNTYyMjhDQjM3RjgxRThFQTJFREMwRDA4OEQxQjQ0ODRBODAyMTJCQjNFNjdBODM3NzQ5MDMwNzdDQ0ZFM0I0QjM2NzkxQkE3NjY5MzkwRDlFNjcwRkM4NjE2QkZEMjk2NjcwQ0RBNjlDMzlCRkE2NEU4MjczODlBMUQ3MDQyQTc1MzM0MDc1RkVCQTc3NEM2NzVEOUFEQzA2QzY5QjdGM0M4QUIyQTgyNjM5MjE1QTFCMDZGQTUwNTBCN0JFNDE0NjA1OThDNzhDOTRERUYxODA1Mjc1QUNDMkFCMzc3MzUyQ0YxMjFDQTNGNDMxOEQyNzFEMUUwMzM4NzQ5QkUxM0FENzY0NUFCNTI2NzY4OTFFQUQzMkQ4NEEwNTFDNkFGODAzMjk2MkJBRUI4REZDQTE4RTIzOUQ0Q0IwN0VGQkJDMzMxQjBDNTgxOEFCNjA1QTA5OEU0MDExRTM0REJGOEQwRTFBOTI3QzAyNDQ2QzcyNzc2OUFEOUQyODY3NURENkI5RERCOTVGM0FEODEyMjAxNDU1MTE5OTgyMUY0NEMxNDkwNTMyRDM5MUZCQjBGRjFGRTM3NzRDODQ3NENCMjk3NjNFOTI5RkRBOUJFMkZFNDYzQjNBNTU4NjYzQjAyODZFQURCOUMyOTJFNkUwQTg5NEQ4QzFBQ0VCMTgzMUUzRTFDMjk3RkQwNjYxMjIwMjYzMkMzQjAwQjU5Njk0MzY3QTA5QTczMEFFOURGM0QyREFDQTY5QTZDOTVGRjAyNTIyQkI2NDMyMUZCQjE2QTE0NURGNjQxOTE5NUVBNEJFNjRCQjVEMzQ1M0M2M0NFQUZCNEI4QkU4MkI5RTI4NjFGQUY0MTE3QzhDQ0RBMzZEQTRBMTJGNTBBOEFBMjZGRUM5RkM4RjMxNjdBNzk3MEI3MDdEMEZCM0YzQjgzNjk1NjExRTkzRThDMjRDMDlBMDFFMUIxQTQ2MUEyNDZENTAwOTQwNTgxNDQ4NUI1MDY0QTVFNUVDRjkzQkNEMzgyQjNBNjJDNjM3OTkzM0Y1NDhERTdEQUM3NEY3RTYxQjhFMThBRjk1NEE0Q0UxNkU1REM4QjVDOTQxRkFFQ0JBRkRFNkRCRDA2OEZBREY0QjYwNEU2MDNGMzdDRDQ0NUZFQzBEQThDRDdBOTYxNjkyODBEQUI1NTMwOUJBOTgwQkJCMDVENTYwNTU3OEQzOUI5MEIzMjdCQkNEN0IzRjM0RTEwQkYxMjZGM0Y5QTVGQTUyQzkzMjc0NDU2QjYzRkZBMjZCRTUyNjU0RTI0RTI2NERBNjY1ODQ0RThEMkMzQjgzRTMyODhGMjQ4NkNCRTlBOTkxNjhBRkIzREQwNkJBRTAwRkVENDA4RjBFODU5NjE5NUE1REFCMDZEQUU1RjZCRjRBN0E0NjMwMUVDNTZGMjY4M0Q4REVEOEFCREVCNjM5QkUyODZERTU2QUFDOThDRTNBMUEzQTczODEyODI0QzA0NDA1REUzM0RCREVDMTZFQzJBN0E4RjM3MjI1REY2Mzc3NUM5NUVGNDExNUFDMjU4QUVDNUJEOEUxNEY0QTNGQzc3MjU0NDA2NjhFOEFEQ0RGNEVFQUI3NTEzQ0Y5MTIxQjEzOyBBU1AuTkVUX1Nlc3Npb25JZD1kd3J6ZWMxbGlmbHYzaWx3d2R0aXE0Y3oNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
          <HTTPCookies>
            <HTTPHeaderEntity name=".ASPXAUTH" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MUY5NzIzMTUxQUQzNDM1RTgzRDM0RjM1QTQzMjkzRjREQTRCNUFGQjVBRkQ3OUY1OTBBMzExOUVDMkFCMTQ4QjE2QzA4MjUzM0ExM0U3Q0I5OTVFOTI4QzdGRkEzRDI3MzExNTYyMjhDQjM3RjgxRThFQTJFREMwRDA4OEQxQjQ0ODRBODAyMTJCQjNFNjdBODM3NzQ5MDMwNzdDQ0ZFM0I0QjM2NzkxQkE3NjY5MzkwRDlFNjcwRkM4NjE2QkZEMjk2NjcwQ0RBNjlDMzlCRkE2NEU4MjczODlBMUQ3MDQyQTc1MzM0MDc1RkVCQTc3NEM2NzVEOUFEQzA2QzY5QjdGM0M4QUIyQTgyNjM5MjE1QTFCMDZGQTUwNTBCN0JFNDE0NjA1OThDNzhDOTRERUYxODA1Mjc1QUNDMkFCMzc3MzUyQ0YxMjFDQTNGNDMxOEQyNzFEMUUwMzM4NzQ5QkUxM0FENzY0NUFCNTI2NzY4OTFFQUQzMkQ4NEEwNTFDNkFGODAzMjk2MkJBRUI4REZDQTE4RTIzOUQ0Q0IwN0VGQkJDMzMxQjBDNTgxOEFCNjA1QTA5OEU0MDExRTM0REJGOEQwRTFBOTI3QzAyNDQ2QzcyNzc2OUFEOUQyODY3NURENkI5RERCOTVGM0FEODEyMjAxNDU1MTE5OTgyMUY0NEMxNDkwNTMyRDM5MUZCQjBGRjFGRTM3NzRDODQ3NENCMjk3NjNFOTI5RkRBOUJFMkZFNDYzQjNBNTU4NjYzQjAyODZFQURCOUMyOTJFNkUwQTg5NEQ4QzFBQ0VCMTgzMUUzRTFDMjk3RkQwNjYxMjIwMjYzMkMzQjAwQjU5Njk0MzY3QTA5QTczMEFFOURGM0QyREFDQTY5QTZDOTVGRjAyNTIyQkI2NDMyMUZCQjE2QTE0NURGNjQxOTE5NUVBNEJFNjRCQjVEMzQ1M0M2M0NFQUZCNEI4QkU4MkI5RTI4NjFGQUY0MTE3QzhDQ0RBMzZEQTRBMTJGNTBBOEFBMjZGRUM5RkM4RjMxNjdBNzk3MEI3MDdEMEZCM0YzQjgzNjk1NjExRTkzRThDMjRDMDlBMDFFMUIxQTQ2MUEyNDZENTAwOTQwNTgxNDQ4NUI1MDY0QTVFNUVDRjkzQkNEMzgyQjNBNjJDNjM3OTkzM0Y1NDhERTdEQUM3NEY3RTYxQjhFMThBRjk1NEE0Q0UxNkU1REM4QjVDOTQxRkFFQ0JBRkRFNkRCRDA2OEZBREY0QjYwNEU2MDNGMzdDRDQ0NUZFQzBEQThDRDdBOTYxNjkyODBEQUI1NTMwOUJBOTgwQkJCMDVENTYwNTU3OEQzOUI5MEIzMjdCQkNEN0IzRjM0RTEwQkYxMjZGM0Y5QTVGQTUyQzkzMjc0NDU2QjYzRkZBMjZCRTUyNjU0RTI0RTI2NERBNjY1ODQ0RThEMkMzQjgzRTMyODhGMjQ4NkNCRTlBOTkxNjhBRkIzREQwNkJBRTAwRkVENDA4RjBFODU5NjE5NUE1REFCMDZEQUU1RjZCRjRBN0E0NjMwMUVDNTZGMjY4M0Q4REVEOEFCREVCNjM5QkUyODZERTU2QUFDOThDRTNBMUEzQTczODEyODI0QzA0NDA1REUzM0RCREVDMTZFQzJBN0E4RjM3MjI1REY2Mzc3NUM5NUVGNDExNUFDMjU4QUVDNUJEOEUxNEY0QTNGQzc3MjU0NDA2NjhFOEFEQ0RGNEVFQUI3NTEzQ0Y5MTIxQjEz</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="ASP.NET_SessionId" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZHdyemVjMWxpZmx2M2lsd3dkdGlxNGN6</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
          </HTTPCookies>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Cache-Control" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>cHVibGlj</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGV4dC9jc3M=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Expires" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2VkLCAyOSBBdWcgMjAxOCAyMDo1MDozNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2VkLCAxOSBKdWwgMjAxNyAxNTowMjozNSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Server" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TWljcm9zb2Z0LUlJUy84LjA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="X-AspNet-Version" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NC4wLjMwMzE5</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="X-Powered-By" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QVNQLk5FVA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="X-UA-Compatible" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SUU9ZWRnZSxjaHJvbWU9MQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Date" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>VHVlLCAyOSBBdWcgMjAxNyAyMDo1MDozNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTQ0ODk=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDYWNoZS1Db250cm9sOiBwdWJsaWMNCkNvbnRlbnQtVHlwZTogdGV4dC9jc3MNCkV4cGlyZXM6IFdlZCwgMjkgQXVnIDIwMTggMjA6NTA6MzQgR01UDQpMYXN0LU1vZGlmaWVkOiBXZWQsIDE5IEp1bCAyMDE3IDE1OjAyOjM1IEdNVA0KU2VydmVyOiBNaWNyb3NvZnQtSUlTLzguMA0KWC1Bc3BOZXQtVmVyc2lvbjogNC4wLjMwMzE5DQpYLVBvd2VyZWQtQnk6IEFTUC5ORVQNClgtVUEtQ29tcGF0aWJsZTogSUU9ZWRnZSxjaHJvbWU9MQ0KRGF0ZTogVHVlLCAyOSBBdWcgMjAxNyAyMDo1MDozNCBHTVQNCkNvbnRlbnQtTGVuZ3RoOiAxNDQ4OQ0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>77u/LlJhZEdyaWRfTWV0cm97Ym9yZGVyLWNvbG9yOiNlNmU2ZTY7Y29sb3I6IzMzMztiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Zm9udDpub3JtYWwgMTJweCAiU2Vnb2UgVUkiLEFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2xpbmUtaGVpZ2h0OjE2cHh9LlJhZEdyaWRfTWV0cm8gLnJnTWFzdGVyVGFibGUsLlJhZEdyaWRfTWV0cm8gLnJnRGV0YWlsVGFibGUsLlJhZEdyaWRfTWV0cm8gLnJnR3JvdXBQYW5lbCB0YWJsZSwuUmFkR3JpZF9NZXRybyAucmdDb21tYW5kUm93IHRhYmxlLC5SYWRHcmlkX01ldHJvIC5yZ0VkaXRGb3JtIHRhYmxlLC5SYWRHcmlkX01ldHJvIC5yZ1BhZ2VyIHRhYmxle2ZvbnQ6bm9ybWFsIDEycHggIlNlZ29lIFVJIixBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZjtsaW5lLWhlaWdodDoxNnB4fS5SYWRHcmlkX01ldHJvIC5yZ1NhdmUsLlJhZEdyaWRfTWV0cm8gLnJnQWRkLC5SYWRHcmlkX01ldHJvIC5yZ1JlZnJlc2gsLlJhZEdyaWRfTWV0cm8gLnJnRWRpdCwuUmFkR3JpZF9NZXRybyAucmdEZWwsLlJhZEdyaWRfTWV0cm8gLnJnRmlsdGVyLC5SYWRHcmlkX01ldHJvIC5yZ1BhZ2VQcmV2LC5SYWRHcmlkX01ldHJvIC5yZ1BhZ2VOZXh0LC5SYWRHcmlkX01ldHJvIC5yZ1BhZ2VGaXJzdCwuUmFkR3JpZF9NZXRybyAucmdQYWdlTGFzdCwuUmFkR3JpZF9NZXRybyAucmdFeHBhbmQsLlJhZEdyaWRfTWV0cm8gLnJnQ29sbGFwc2UsLlJhZEdyaWRfTWV0cm8gLnJnU29ydEFzYywuUmFkR3JpZF9NZXRybyAucmdTb3J0RGVzYywuUmFkR3JpZF9NZXRybyAucmdVcGRhdGUsLlJhZEdyaWRfTWV0cm8gLnJnQ2FuY2VsLC5SYWRHcmlkX01ldHJvIC5yZ1VuZ3JvdXB7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1dlYlJlc291cmNlLmF4ZD9kPWlmY2pQVjhhajJ2TXQ5YXotNndXbTA0RTNFTEd2a3FCTl9FXy11ajZ2d2szQWd1VHJWdWxwOGtGY2JUQVJZZ3JPb3c4dWp4bXdJM2Z4VENOVzNwSWRwOVl2dE1TWWo2UnNlLVItdlJObXpYeUZEdlJUWFpSYlJZTUt4UUdfUnJDRTFNeDVDTVdIa3dGdGw4SVpISFFyVnNNWE4wMSZ0PTYzNjM2MDU4OTU1OTA3NzYwMycpfS5SYWRHcmlkX01ldHJvIC5yZ0lucHV0e2JvcmRlci1jb2xvcjojZTBlMGUwO2NvbG9yOiMzMzM7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5HcmlkVG9vbFRpcF9NZXRyb3tmb250Om5vcm1hbCAxMnB4ICJTZWdvZSBVSSIsQXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7bGluZS1oZWlnaHQ6MTZweH0uUmFkR3JpZF9NZXRybyAucmdIZWFkZXI6Zmlyc3QtY2hpbGQsLlJhZEdyaWRfTWV0cm8gdGgucmdSZXNpemVDb2w6Zmlyc3QtY2hpbGQsLlJhZEdyaWRfTWV0cm8gLnJnRmlsdGVyUm93PnRkOmZpcnN0LWNoaWxkLC5SYWRHcmlkX01ldHJvIC5yZ1Jvdz50ZDpmaXJzdC1jaGlsZCwuUmFkR3JpZF9NZXRybyAucmdBbHRSb3c+dGQ6Zmlyc3QtY2hpbGR7Ym9yZGVyLWxlZnQtd2lkdGg6MDtwYWRkaW5nLWxlZnQ6OHB4fS5SYWRHcmlkX01ldHJvIC5yZ0hlYWRlciwuUmFkR3JpZF9NZXRybyB0aC5yZ1Jlc2l6ZUNvbCwuUmFkR3JpZF9NZXRybyAucmdIZWFkZXJXcmFwcGVye2JvcmRlcjowO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNlNmU2ZTY7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICNlNmU2ZTZ9LlJhZEdyaWRfTWV0cm8gLnJnSGVhZGVyRGl2e2JvcmRlci1yaWdodC1jb2xvcjojZTZlNmU2fS5SYWRHcmlkX01ldHJvIC5yZ011bHRpSGVhZGVyUm93IHRoLnJnSGVhZGVyLC5SYWRHcmlkX01ldHJvIC5yZ011bHRpSGVhZGVyUm93IHRoLnJnUmVzaXplQ29se2JvcmRlcjowO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNlNmU2ZTY7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICNlNmU2ZTZ9LlJhZEdyaWRfTWV0cm8gdGgucmdTb3J0ZWR7YmFja2dyb3VuZC1jb2xvcjojZTZlNmU2fS5SYWRHcmlkX01ldHJvIC5yZ0hlYWRlcntjb2xvcjojMDAwfS5SYWRHcmlkX01ldHJvIC5yZ0hlYWRlciBhe2NvbG9yOiMwMDB9LlJhZEdyaWRfTWV0cm8gdGgucmdTb3J0ZWR7Y29sb3I6IzAwMH0uUmFkR3JpZF9NZXRybyB0aC5yZ1NvcnRlZCBhe2NvbG9yOiMwMDB9LlJhZEdyaWRfTWV0cm8gLnJnUm93PnRkLC5SYWRHcmlkX01ldHJvIC5yZ0FsdFJvdz50ZCwuUmFkR3JpZF9NZXRybyAucmdFZGl0Um93PnRke2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItd2lkdGg6MCAwIDFweCAxcHh9LlJhZEdyaWRfTWV0cm8gLnJnUm93PnRke2JvcmRlci1jb2xvcjojZmZmICNlNmU2ZTZ9LlJhZEdyaWRfTWV0cm8gLnJnQWx0Um93e2JhY2tncm91bmQ6I2VkZWRlZH0uUmFkR3JpZF9NZXRybyAucmdBbHRSb3c+dGR7Ym9yZGVyLWNvbG9yOiNlNmU2ZTZ9LlJhZEdyaWRfTWV0cm8gLnJnU2VsZWN0ZWRSb3cgLnJnU29ydGVkLC5SYWRHcmlkX01ldHJvIC5yZ0FjdGl2ZVJvdyAucmdTb3J0ZWQsLlJhZEdyaWRfTWV0cm8gLnJnSG92ZXJlZFJvdyAucmdTb3J0ZWQsLlJhZEdyaWRfTWV0cm8gLnJnRWRpdFJvdyAucmdTb3J0ZWR7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0uUmFkR3JpZF9NZXRybyAucmdSb3cgYSwuUmFkR3JpZF9NZXRybyAucmdBbHRSb3cgYSwuUmFkR3JpZF9NZXRybyB0ci5yZ0VkaXRSb3cgYSwuUmFkR3JpZF9NZXRybyAucmdGb290ZXIgYSwuUmFkR3JpZF9NZXRybyAucmdFZGl0Rm9ybSBhe2NvbG9yOiMwMDB9LlJhZEdyaWRfTWV0cm8gLnJnSG92ZXJlZFJvd3tiYWNrZ3JvdW5kOiNlNmU2ZTZ9LlJhZEdyaWRfTWV0cm8gLnJnTWFzdGVyVGFibGUgLnJnU2VsZWN0ZWRDZWxsLC5SYWRHcmlkX01ldHJvIC5yZ1NlbGVjdGVkUm93e2NvbG9yOiNmZmY7YmFja2dyb3VuZDojMjVhMGRhfS5SYWRHcmlkX01ldHJvIC5yZ1NlbGVjdGVkQ2VsbCBhLC5SYWRHcmlkX01ldHJvIC5yZ1NlbGVjdGVkUm93IGF7Y29sb3I6I2ZmZn0uUmFkR3JpZF9NZXRybyAucmdNYXN0ZXJUYWJsZSAucmdBY3RpdmVDZWxsLC5SYWRHcmlkX01ldHJvIC5yZ0FjdGl2ZVJvd3tiYWNrZ3JvdW5kOndoaXRlIDAgLTUyMDBweCByZXBlYXQteCB1cmwoJ1dlYlJlc291cmNlLmF4ZD9kPWlmY2pQVjhhajJ2TXQ5YXotNndXbTA0RTNFTEd2a3FCTl9FXy11ajZ2d2szQWd1VHJWdWxwOGtGY2JUQVJZZ3JPb3c4dWp4bXdJM2Z4VENOVzNwSWRwOVl2dE1TWWo2UnNlLVItdlJObXpYeUZEdlJUWFpSYlJZTUt4UUdfUnJDRTFNeDVDTVdIa3dGdGw4SVpISFFyVnNNWE4wMSZ0PTYzNjM2MDU4OTU1OTA3NzYwMycpO2NvbG9yOiMwMDB9LlJhZEdyaWRfTWV0cm8gLnJnTWFzdGVyVGFibGUgLnJnQWN0aXZlQ2VsbHtib3JkZXItY29sb3I6IzI1YTBkYTtib3JkZXItcmlnaHQtd2lkdGg6MXB4fS5SYWRHcmlkX01ldHJvIC5yZ0FjdGl2ZUNlbGwgYXtjb2xvcjojMDAwfS5SYWRHcmlkX01ldHJvIC5yZ0FjdGl2ZVJvdyBpbnB1dCwuUmFkR3JpZF9NZXRybyAucmdBY3RpdmVSb3cgYXtjb2xvcjojMDAwfSoraHRtbCAuUmFkR3JpZF9NZXRybyAucmdTZWxlY3RlZFJvdyAucmdTb3J0ZWR7YmFja2dyb3VuZC1jb2xvcjojZmZhNTE3fSoraHRtbCAuUmFkR3JpZF9NZXRybyAucmdBY3RpdmVSb3cgLnJnU29ydGVkLCoraHRtbCAuUmFkR3JpZF9NZXRybyAucmdIb3ZlcmVkUm93IC5yZ1NvcnRlZHtiYWNrZ3JvdW5kLWNvbG9yOiNmZmU3OWN9LlJhZEdyaWRfTWV0cm8gLnJnRWRpdFJvd3tiYWNrZ3JvdW5kOndoaXRlIDAgLTQ5MDBweCByZXBlYXQteCB1cmwoJ1dlYlJlc291cmNlLmF4ZD9kPWlmY2pQVjhhajJ2TXQ5YXotNndXbTA0RTNFTEd2a3FCTl9FXy11ajZ2d2szQWd1VHJWdWxwOGtGY2JUQVJZZ3JPb3c4dWp4bXdJM2Z4VENOVzNwSWRwOVl2dE1TWWo2UnNlLVItdlJObXpYeUZEdlJUWFpSYlJZTUt4UUdfUnJDRTFNeDVDTVdIa3dGdGw4SVpISFFyVnNNWE4wMSZ0PTYzNjM2MDU4OTU1OTA3NzYwMycpfSoraHRtbCAuUmFkR3JpZF9NZXRybyAucmdFZGl0Um93IC5yZ1NvcnRlZHtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LlJhZEdyaWRfTWV0cm8gLnJnSG92ZXJlZFJvdz50ZHtib3JkZXItY29sb3I6I2MzYzNjM30uUmFkR3JpZF9NZXRybyAucmdIb3ZlcmVkUm93PnRkLnJnU29ydGVke2JvcmRlci1jb2xvcjojYzNjM2MzfS5SYWRHcmlkX01ldHJvIC5yZ0FjdGl2ZVJvdz50ZCwuUmFkR3JpZF9NZXRybyAucmdTZWxlY3RlZFJvdz50ZHtib3JkZXItY29sb3I6IzI1YTBkYX0uUmFkR3JpZF9NZXRybyAucmdBY3RpdmVSb3c+dGQucmdTb3J0ZWQsLlJhZEdyaWRfTWV0cm8gLnJnU2VsZWN0ZWRSb3c+dGQucmdTb3J0ZWR7Ym9yZGVyLWNvbG9yOiMyNWEwZGF9LlJhZEdyaWRfTWV0cm8gLnJnRWRpdFJvdz50ZHtib3JkZXItY29sb3I6IzYxNjE2MSAjYzNjM2MzfS5SYWRHcmlkX01ldHJvIC5yZ0VkaXRSb3c+dGQucmdTb3J0ZWR7Ym9yZGVyLWNvbG9yOiM2MTYxNjEgI2MzYzNjM30uUmFkR3JpZF9NZXRybyAucmdFZGl0Um93e2JhY2tncm91bmQ6cmdiYSgyMzAsMjMwLDIzMCwwLjc1KTtjb2xvcjojMzMzfS5SYWRHcmlkX01ldHJvIC5yZ0JhdGNoT3ZlcmxheXtiYWNrZ3JvdW5kOnJnYmEoMjMwLDIzMCwyMzAsMC45KX0uUmFkR3JpZF9NZXRybyAucmdCYXRjaFVuZG9EZWxldGVCdXR0b257cGFkZGluZzowIDdweCAwIDA7bGVmdDo3cHg7Ym9yZGVyOjFweCBzb2xpZDtib3JkZXItY29sb3I6I2UwZTBlMDtjb2xvcjojMDAwO2JhY2tncm91bmQtY29sb3I6I2Y5ZjlmOX0uUmFkR3JpZF9NZXRybyAucmdCYXRjaFVuZG9EZWxldGVCdXR0b246YmVmb3Jle3ZlcnRpY2FsLWFsaWduOi03cHg7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1dlYlJlc291cmNlLmF4ZD9kPTBYVWhkRU5NaDV3dExXRXZyX0dTVlVIaFBhNHVBcHVzd010cnJCZ3RqLVVtZnpTVGZuT3NnN3dWLWk1OFByQXI5VHJDNnhyMmhNdVVzc29BUFNaUVhSTXV3eFkteHBiLTdWeVFlWGFsa2NObllFNlBQbWJ3VkRvaEhWS2x6OEROaTRUdGFzM2EtLWFfUV8yNlJiaXpTMmVlT3VRMSZ0PTYzNjM2MDU4OTU1OTA3NzYwMycpO2JhY2tncm91bmQtcG9zaXRpb246MCAtMjM4MHB4O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdH0uUmFkR3JpZF9NZXRybyAucmdCYXRjaFVuZG9EZWxldGVCdXR0b246aG92ZXJ7Ym9yZGVyLWNvbG9yOiNjZWNlY2U7Y29sb3I6IzAwMDtiYWNrZ3JvdW5kLWNvbG9yOiNlN2U3ZTd9LlJhZEdyaWRfTWV0cm8gLnJnQmF0Y2hVbmRvRGVsZXRlQnV0dG9uOmhvdmVyOmJlZm9yZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0yMHB4IC0yMzgwcHh9LlJhZEdyaWRfTWV0cm8gLnJnRHJhZ3tiYWNrZ3JvdW5kLWltYWdlOnVybCgnV2ViUmVzb3VyY2UuYXhkP2Q9Si1aOHYydERsSzMtWjdzYmdYaDh3RkJhNzNleE9ZbzA1MHltQkhEM1VIMEFCWjZsQ052bGlPUWZQOFU4YkFfZnFLdHJGLXFqSHppZ3Rwa0d0azNoNlZHSVNjZlp5a1p4bk1BY0FDcEpnNWQ1ZW10SzJGZGxjajBpT2lUNXU3RDFvZldkOEY3OXZURFhuVnhMdGM1WFlFSWpseW8xJnQ9NjM2MzYwNTg5NTU5MDc3NjAzJyl9LlJhZEdyaWRfTWV0cm8gZGl2IC5yZ0Zvb3RlckRpdiB0ZCwuUmFkR3JpZF9NZXRybyBkaXYgLnJnRm9vdGVyIHRke2JhY2tncm91bmQ6IzMzM30uUmFkR3JpZF9NZXRybyAucmdGb290ZXI+dGQsLlJhZEdyaWRfTWV0cm8gLnJnRm9vdGVyV3JhcHBlcntib3JkZXItdG9wOjFweCBzb2xpZCAjZTZlNmU2fS5SYWRHcmlkX01ldHJvIC5yZ0Zvb3RlcldyYXBwZXIgLnJnRm9vdGVyPnRke2JvcmRlci1ib3R0b206MH0uUmFkR3JpZF9NZXRybyAucmdQYWdlciAucmdTdGF0dXN7Ym9yZGVyOjFweCBzb2xpZDtib3JkZXItY29sb3I6I2U2ZTZlNjtib3JkZXItbGVmdC13aWR0aDowfS5SYWRHcmlkX01ldHJvIC5yZ1N0YXR1cyBkaXZ7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1dlYlJlc291cmNlLmF4ZD9kPThyb09KV1o3X05leTF6cjNpWVRrVFR5OUNpSjB6MFljZ2hPTDd4QnEzaEZGNGduVE9LVTZTajRWeWp0aDI1cGpLc1hZY0EyQVhkdkFqMmdtWmJZU0xXdGczbzNVZGliRzEwemhSLU9pRmZjaFZZVGliMnZpbGdoV0k4M1U1VVNUd3dPRkhvWmxvR3BZN0o2cDJOM20zeG0taXVvMSZ0PTYzNjM2MDU4OTU1OTA3NzYwMycpfS5SYWRHcmlkX01ldHJvIHRkLnJnUGFnZXJDZWxse2JvcmRlcjoxcHggc29saWQ7Ym9yZGVyLWNvbG9yOiNlNmU2ZTY7Ym9yZGVyLXJpZ2h0LXdpZHRoOjB9LlJhZEdyaWRfTWV0cm8gLnJnSW5mb1BhcnR7Y29sb3I6Izc3N30uUmFkR3JpZF9NZXRybyAucmdJbmZvUGFydCBzdHJvbmd7Y29sb3I6IzAwMH0uUmFkR3JpZF9NZXRybyAucmdQYWdlRmlyc3R7YmFja2dyb3VuZC1wb3NpdGlvbjowIC01NTBweH0uUmFkR3JpZF9NZXRybyAucmdQYWdlRmlyc3Q6aG92ZXJ7YmFja2dyb3VuZC1wb3NpdGlvbjowIC02MDBweH0uUmFkR3JpZF9NZXRybyAucmdQYWdlUHJldntiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTcwMHB4fS5SYWRHcmlkX01ldHJvIC5yZ1BhZ2VQcmV2OmhvdmVye2JhY2tncm91bmQtcG9zaXRpb246MCAtNzUwcHh9LlJhZEdyaWRfTWV0cm8gLnJnUGFnZU5leHR7YmFja2dyb3VuZC1wb3NpdGlvbjowIC04NTBweH0uUmFkR3JpZF9NZXRybyAucmdQYWdlTmV4dDpob3ZlcntiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTkwMHB4fS5SYWRHcmlkX01ldHJvIC5yZ1BhZ2VMYXN0e2JhY2tncm91bmQtcG9zaXRpb246MCAtMTAwMHB4fS5SYWRHcmlkX01ldHJvIC5yZ1BhZ2VMYXN0OmhvdmVye2JhY2tncm91bmQtcG9zaXRpb246MCAtMTA1MHB4fS5SYWRHcmlkX01ldHJvIC5yZ1BhZ2VyIC5yZ1BhZ2VyQnV0dG9ue2JvcmRlci1jb2xvcjojMjVhMGRhO2JhY2tncm91bmQ6IzI1YTBkYTtjb2xvcjojZmZmO2ZvbnQ6MTJweCAic2Vnb2UgdWkiLGFyaWFsLHNhbnMtc2VyaWZ9LlJhZEdyaWRfTWV0cm8gLnJnTnVtUGFydCBhe2JvcmRlcjoxcHggc29saWQgI2ZmZjtsaW5lLWhlaWdodDoyMHB4O2NvbG9yOiMzMzN9LlJhZEdyaWRfTWV0cm8gLnJnTnVtUGFydCBhOmhvdmVye2NvbG9yOiMwMDA7YmFja2dyb3VuZC1jb2xvcjojZTZlNmU2fS5SYWRHcmlkX01ldHJvIC5yZ051bVBhcnQgYS5yZ0N1cnJlbnRQYWdle2JvcmRlci1jb2xvcjojMjVhMGRhO2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9LlJhZEdyaWRfTWV0cm8gLnJnTnVtUGFydCBhLnJnQ3VycmVudFBhZ2U6aG92ZXJ7Ym9yZGVyLWNvbG9yOiMyNWEwZGE7YmFja2dyb3VuZDp0cmFuc3BhcmVudH0uUmFkR3JpZF9NZXRybyAucmdIZWFkZXIgLnJnU29ydEFzY3tiYWNrZ3JvdW5kLXBvc2l0aW9uOjNweCAtMjQ4cHg7aGVpZ2h0OjEwcHh9LlJhZEdyaWRfTWV0cm8gLnJnSGVhZGVyIC5yZ1NvcnREZXNje2JhY2tncm91bmQtcG9zaXRpb246M3B4IC0xOThweDtoZWlnaHQ6MTBweH0uUmFkR3JpZF9NZXRybyAucmdDb21tYW5kUm93IC5yZ1ByZXYsLlJhZEdyaWRfTWV0cm8gLnJnQ29tbWFuZFJvdyAucmdOZXh0e3BhZGRpbmc6MCAxMHB4O2xpbmUtaGVpZ2h0OjIwcHg7Ym9yZGVyLWNvbG9yOiNlMGUwZTA7Y29sb3I6IzAwMDtiYWNrZ3JvdW5kLWNvbG9yOiNmOWY5Zjk7bWFyZ2luLXJpZ2h0OjEwcHh9LlJhZEdyaWRfTWV0cm8gLnJnQ29tbWFuZFJvdyAucmdQcmV2IHNwYW4sLlJhZEdyaWRfTWV0cm8gLnJnQ29tbWFuZFJvdyAucmdOZXh0IHNwYW57d2lkdGg6MTBweDtoZWlnaHQ6MTBweDtiYWNrZ3JvdW5kLWltYWdlOnVybCgnV2ViUmVzb3VyY2UuYXhkP2Q9MFhVaGRFTk1oNXd0TFdFdnJfR1NWVUhoUGE0dUFwdXN3TXRyckJndGotVW1melNUZm5Pc2c3d1YtaTU4UHJBcjlUckM2eHIyaE11VXNzb0FQU1pRWFJNdXd4WS14cGItN1Z5UWVYYWxrY05uWUU2UFBtYndWRG9oSFZLbHo4RE5pNFR0YXMzYS0tYV9RXzI2UmJpelMyZWVPdVExJnQ9NjM2MzYwNTg5NTU5MDc3NjAzJyl9LlJhZEdyaWRfTWV0cm8gLnJnQ29tbWFuZFJvdyAucmdQcmV2OmhvdmVyLC5SYWRHcmlkX01ldHJvIC5yZ0NvbW1hbmRSb3cgLnJnTmV4dDpob3Zlcntib3JkZXItY29sb3I6I2NlY2VjZTtjb2xvcjojMDAwO2JhY2tncm91bmQtY29sb3I6I2U3ZTdlN30uUmFkR3JpZF9NZXRybyAucmdDb21tYW5kUm93IC5yZ1ByZXYucmdEaXNhYmxlZDpob3ZlciwuUmFkR3JpZF9NZXRybyAucmdDb21tYW5kUm93IC5yZ05leHQucmdEaXNhYmxlZDpob3Zlcntib3JkZXItY29sb3I6I2UwZTBlMDtjb2xvcjojMDAwO2JhY2tncm91bmQtY29sb3I6I2Y5ZjlmOX0uUmFkR3JpZF9NZXRybyAucmdQcmV2IHNwYW57bWFyZ2luLXJpZ2h0OjEwcHg7YmFja2dyb3VuZC1wb3NpdGlvbjotNXB4IC00NXB4fS5SYWRHcmlkX01ldHJvIC5yZ05leHQgc3BhbnttYXJnaW4tbGVmdDoxMHB4O2JhY2tncm91bmQtcG9zaXRpb246LTVweCAtNjVweH0uR3JpZFJlb3JkZXJUb3BfTWV0cm97YmFja2dyb3VuZDowIDAgbm8tcmVwZWF0IHVybCgnV2ViUmVzb3VyY2UuYXhkP2Q9aWZjalBWOGFqMnZNdDlhei02d1dtMDRFM0VMR3ZrcUJOX0VfLXVqNnZ3azNBZ3VUclZ1bHA4a0ZjYlRBUllnck9vdzh1anhtd0kzZnhUQ05XM3BJZHA5WXZ0TVNZajZSc2UtUi12Uk5telh5RkR2UlRYWlJiUllNS3hRR19SckNFMU14NUNNV0hrd0Z0bDhJWkhIUXJWc01YTjAxJnQ9NjM2MzYwNTg5NTU5MDc3NjAzJyl9LkdyaWRSZW9yZGVyQm90dG9tX01ldHJve2JhY2tncm91bmQ6MCAwIG5vLXJlcGVhdCB1cmwoJ1dlYlJlc291cmNlLmF4ZD9kPWlmY2pQVjhhajJ2TXQ5YXotNndXbTA0RTNFTEd2a3FCTl9FXy11ajZ2d2szQWd1VHJWdWxwOGtGY2JUQVJZZ3JPb3c4dWp4bXdJM2Z4VENOVzNwSWRwOVl2dE1TWWo2UnNlLVItdlJObXpYeUZEdlJUWFpSYlJZTUt4UUdfUnJDRTFNeDVDTVdIa3dGdGw4SVpISFFyVnNNWE4wMSZ0PTYzNjM2MDU4OTU1OTA3NzYwMycpO2JhY2tncm91bmQtcG9zaXRpb246MCAtNTBweH0uUmFkR3JpZF9NZXRybyAucmdGaWx0ZXJSb3c+dGR7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2U2ZTZlNn0uUmFkR3JpZF9NZXRybyAucmdGaWx0ZXJ7Ym9yZGVyOjFweCBzb2xpZCAjZTZlNmU2O2JhY2tncm91bmQtcG9zaXRpb246LTFweCAtMzAxcHh9LlJhZEdyaWRfTWV0cm8gLnJnRmlsdGVyOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2U2ZTZlNjtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xcHggLTM1MXB4fS5SYWRHcmlkX01ldHJvIC5yZ0ZpbHRlcmVkLC5SYWRHcmlkX01ldHJvIC5yZ0ZpbHRlcmVkOmhvdmVye2JhY2tncm91bmQtcG9zaXRpb246LTFweCAtMzI2cHh9LlJhZEdyaWRfTWV0cm8gLnJnRmlsdGVyQWN0aXZlLC5SYWRHcmlkX01ldHJvIC5yZ0ZpbHRlckFjdGl2ZTpob3ZlcntiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xcHggLTQwMXB4O2JvcmRlci1jb2xvcjojMjVhMGRhO2JhY2tncm91bmQtY29sb3I6IzI1YTBkYX0uUmFkR3JpZF9NZXRybyAucmdGaWx0ZXJCb3h7Ym9yZGVyLWNvbG9yOiNlNmU2ZTY7Zm9udDoxMnB4ICJzZWdvZSB1aSIsYXJpYWwsc2Fucy1zZXJpZjtjb2xvcjojMDAwO2hlaWdodDoxNXB4fS5SYWRHcmlkX01ldHJvIC5yZ09wdGlvbnN7YmFja2dyb3VuZDp1cmwoJ1dlYlJlc291cmNlLmF4ZD9kPTBYVWhkRU5NaDV3dExXRXZyX0dTVlVIaFBhNHVBcHVzd010cnJCZ3RqLVVtZnpTVGZuT3NnN3dWLWk1OFByQXI5VHJDNnhyMmhNdVVzc29BUFNaUVhSTXV3eFkteHBiLTdWeVFlWGFsa2NObllFNlBQbWJ3VkRvaEhWS2x6OEROaTRUdGFzM2EtLWFfUV8yNlJiaXpTMmVlT3VRMSZ0PTYzNjM2MDU4OTU1OTA3NzYwMycpIC0yLjVweCAtMjQwMi41cHggbm8tcmVwZWF0fS5SYWRHcmlkX01ldHJvIC5yZ09wdFNlbGVjdGVke2JhY2tncm91bmQtcG9zaXRpb246LTIyLjVweCAtMjQwMi41cHh9LkdyaWRDb250ZXh0TWVudV9NZXRybyAucmdIQ01DbGVhciwuR3JpZENvbnRleHRNZW51X01ldHJvIC5yZ0hDTUZpbHRlcntoZWlnaHQ6MjFweDtib3JkZXItY29sb3I6I2UwZTBlMDtjb2xvcjojMDAwO2JhY2tncm91bmQtY29sb3I6I2Y5ZjlmOTtib3JkZXItcmFkaXVzOjB9LkdyaWRDb250ZXh0TWVudV9NZXRybyAucmdIQ01DbGVhcjpob3ZlciwuR3JpZENvbnRleHRNZW51X01ldHJvIC5yZ0hDTUZpbHRlcjpob3Zlcntib3JkZXItY29sb3I6I2NlY2VjZTtjb2xvcjojMDAwO2JhY2tncm91bmQtY29sb3I6I2U3ZTdlN30uR3JpZENvbnRleHRNZW51X01ldHJvIC5ybUdyb3VwIC5yZ0hDTUl0ZW0gZGl2LnJtVGV4dHtwYWRkaW5nOjE1cHg7bWFyZ2luOjAgYXV0b30uR3JpZENvbnRleHRNZW51X01ldHJvIC5ybUxlZnRJbWFnZXtiYWNrZ3JvdW5kLWltYWdlOnVybCgnV2ViUmVzb3VyY2UuYXhkP2Q9YXZuSm92ZExKUU51bUJLeFowNUxhQWxLMkVFampuUnhrYURMMG05YTBrdFBGaDNaZHRnVm5VSXNiQmctRmRmaEZnaVJVMHJZNDZLZXc5NllyQmYyWElOZ1IyUDNWcXJsRklaSkNUZ3ZwdEUweU9DeEo4dFZxVWlUMGtiRGlGOUVOZHl0QkJuc3k5VVBhZHd0NzR3UmJHS0dUMzQxJnQ9NjM2MzYwNTg5NTU5MDc3NjAzJyl9LkdyaWRDb250ZXh0TWVudV9NZXRybyAucmdIQ01Tb3J0QXNjIC5ybUxlZnRJbWFnZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgMH0uR3JpZENvbnRleHRNZW51X01ldHJvIC5yZ0hDTVNvcnREZXNjIC5ybUxlZnRJbWFnZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTQwcHh9LkdyaWRDb250ZXh0TWVudV9NZXRybyAucmdIQ01VbnNvcnQgLnJtTGVmdEltYWdle2JhY2tncm91bmQtcG9zaXRpb246MCAtODBweH0uR3JpZENvbnRleHRNZW51X01ldHJvIC5yZ0hDTUdyb3VwIC5ybUxlZnRJbWFnZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTEyMHB4fS5HcmlkQ29udGV4dE1lbnVfTWV0cm8gLnJnSENNVW5ncm91cCAucm1MZWZ0SW1hZ2V7YmFja2dyb3VuZC1wb3NpdGlvbjowIC0xNjBweH0uR3JpZENvbnRleHRNZW51X01ldHJvIC5yZ0hDTUNvbHMgLnJtTGVmdEltYWdle2JhY2tncm91bmQtcG9zaXRpb246MCAtMjAwcHh9LkdyaWRDb250ZXh0TWVudV9NZXRybyAucmdIQ01GaWx0ZXIgLnJtTGVmdEltYWdle2JhY2tncm91bmQtcG9zaXRpb246MCAtMjQwcHh9LkdyaWRDb250ZXh0TWVudV9NZXRybyAucmdIQ01VbmZpbHRlciAucm1MZWZ0SW1hZ2V7YmFja2dyb3VuZC1wb3NpdGlvbjowIC0yODBweH0uUmFkR3JpZF9NZXRybyAucmdHcm91cFBhbmVse2JvcmRlcjowO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICM3YzdjN2N9LlJhZEdyaWRfTWV0cm8gLnJnR3JvdXBQYW5lbCwuUmFkR3JpZF9NZXRybyAucmdHcm91cFBhbmVsIGNhcHRpb257YmFja2dyb3VuZDojMjVhMGRhO2NvbG9yOiNmZmZ9LlJhZEdyaWRfTWV0cm8gLnJnR3JvdXBQYW5lbCB0ZHtib3JkZXI6MDtwYWRkaW5nOjNweCA0cHh9LlJhZEdyaWRfTWV0cm8gLnJnR3JvdXBQYW5lbCB0ZCB0ZHtwYWRkaW5nOjB9LlJhZEdyaWRfTWV0cm8gLnJnR3JvdXBQYW5lbCAucmdTb3J0QXNje2JhY2tncm91bmQtcG9zaXRpb246NHB4IC0xNDRweH0uUmFkR3JpZF9NZXRybyAucmdHcm91cFBhbmVsIC5yZ1NvcnREZXNje2JhY2tncm91bmQtcG9zaXRpb246NHB4IC05NHB4fS5SYWRHcmlkX01ldHJvIC5yZ1VuZ3JvdXB7YmFja2dyb3VuZC1wb3NpdGlvbjowIC02OTk5cHh9LlJhZEdyaWRfTWV0cm8gLnJnR3JvdXBJdGVte2JvcmRlcjoxcHggc29saWQgIzdlN2U3ZTtiYWNrZ3JvdW5kOiNmZmY7Y29sb3I6IzAwMH0uUmFkR3JpZF9NZXRybyB0ZC5yZ0dyb3VwQ29sLC5SYWRHcmlkX01ldHJvIHRkLnJnRXhwYW5kQ29se2JvcmRlci1jb2xvcjojYzljOWM5O2JhY2tncm91bmQ6I2M5YzljOSBub25lfS5SYWRHcmlkX01ldHJvIC5yZ0dyb3VwSGVhZGVye2JhY2tncm91bmQ6I2M5YzljOTtmb250LXNpemU6MS4xZW07bGluZS1oZWlnaHQ6MjJweDtjb2xvcjojMDAwfS5SYWRHcmlkX01ldHJvIC5yZ0dyb3VwSGVhZGVyIHRke3BhZGRpbmctbGVmdDo4cHg7cGFkZGluZy1ib3R0b206MnB4fS5SYWRHcmlkX01ldHJvIC5yZ0V4cGFuZHtiYWNrZ3JvdW5kLXBvc2l0aW9uOjVweCAtNDk2cHh9LlJhZEdyaWRfTWV0cm8gLnJnQ29sbGFwc2V7YmFja2dyb3VuZC1wb3NpdGlvbjozcHggLTQ0NHB4fS5SYWRHcmlkX01ldHJvIC5yZ0VkaXRGb3JtOm5vdCgucmdFZGl0UG9wdXApe2JvcmRlci1ib3R0b206MXB4IHNvbGlkICM5OTl9LlJhZEdyaWRfTWV0cm8gLnJnVXBkYXRle2JhY2tncm91bmQtcG9zaXRpb246MCAtMTgwMHB4fS5SYWRHcmlkX01ldHJvIC5yZ0NhbmNlbHtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTE4NTBweH0uUmFkR3JpZF9NZXRybyAucmdDb21tYW5kUm93IC5yZ0NhbmNlbHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xcHggLTE4NTBweH0uUmFkR3JpZF9NZXRybyAucmdEZXRhaWxUYWJsZXtib3JkZXItY29sb3I6Izk5OX0uUmFkR3JpZF9NZXRybyAucmdDb21tYW5kUm93e2NvbG9yOiMzMzM7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LlJhZEdyaWRfTWV0cm8gLnJnQ29tbWFuZFJvdyBhe2NvbG9yOiMzMzM7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LlJhZEdyaWRfTWV0cm8gLnJnQ29tbWFuZENlbGx7Ym9yZGVyOjA7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2U2ZTZlNjtwYWRkaW5nOjB9LlJhZEdyaWRfTWV0cm8gdGZvb3QgLnJnQ29tbWFuZENlbGwsLlJhZEdyaWRfTWV0cm8gLnJnTWFzdGVyVGFibGU+dGJvZHk+dHIucmdDb21tYW5kUm93IC5yZ0NvbW1hbmRDZWxse2JvcmRlci10b3A6MXB4IHNvbGlkICNlNmU2ZTY7Ym9yZGVyLWJvdHRvbTowfS5SYWRHcmlkX01ldHJvIC5yZ0NvbW1hbmRUYWJsZXtib3JkZXI6MH0uUmFkR3JpZF9NZXRybyAucmdDb21tYW5kVGFibGUgdGR7Ym9yZGVyOjA7cGFkZGluZzoycHggN3B4fS5SYWRHcmlkX01ldHJvIGlucHV0LnJnQWRke21hcmdpbi1yaWdodDozcHg7YmFja2dyb3VuZC1wb3NpdGlvbjowIC0xNjUwcHh9LlJhZEdyaWRfTWV0cm8gaW5wdXQucmdSZWZyZXNoe21hcmdpbi1yaWdodDozcHg7YmFja2dyb3VuZC1wb3NpdGlvbjowIC0xNjAwcHh9LlJhZEdyaWRfTWV0cm8gLnJnU2F2ZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOjNweCAtMTgyNXB4fS5SYWRHcmlkX01ldHJvIC5yZ0VkaXR7bWFyZ2luLXJpZ2h0OjNweDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTE3MDBweH0uUmFkR3JpZF9NZXRybyAucmdEZWx7bWFyZ2luLXJpZ2h0OjNweDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTE3NTBweH0uUmFkR3JpZF9NZXRybyAucmdFeHBYTFMsLlJhZEdyaWRfTWV0cm8gLnJnRXhwRE9DLC5SYWRHcmlkX01ldHJvIC5yZ0V4cFBERiwuUmFkR3JpZF9NZXRybyAucmdFeHBDU1Z7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ1dlYlJlc291cmNlLmF4ZD9kPXlEV3hjSVdiZ1FoNGlSQWNHZ1FfMUZGNXNTc2ZNM0pJS3o1eV94UDdEcmFoWlp0NHZReVNzN3l2c0EwVzl2OFBPZHZiQU40dXNkeUFhamE0cUlER2RjQWZsYkZCX3BuWk5TQVExQUJ1NFJoaVFvell6c0VUc0I1XzUtY2tXRUk2aGdxRVNld0w4LU1MOE5ic0xGYTREMlBhdFIwMSZ0PTYzNjM2MDU4OTU1OTA3NzYwMycpfS5SYWRHcmlkX01ldHJvIC5yZ0V4cFhMU3tiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgMH0uUmFkR3JpZF9NZXRybyAucmdFeHBET0N7YmFja2dyb3VuZC1wb3NpdGlvbjowIC01MHB4fS5SYWRHcmlkX01ldHJvIC5yZ0V4cFBERntiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTEwMHB4fS5SYWRHcmlkX01ldHJvIC5yZ0V4cENTVntiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTE1MHB4fS5yZ0NlbGxTZWxlY3RvckFyZWFfTWV0cm8sLkdyaWRSb3dTZWxlY3Rvcl9NZXRyb3tiYWNrZ3JvdW5kOiM0YzRlNTR9LkdyaWRJdGVtRHJvcEluZGljYXRvcl9NZXRyb3tib3JkZXItdG9wOjFweCBkYXNoZWQgIzY2Nn0uR3JpZFRvb2xUaXBfTWV0cm97Ym9yZGVyOjFweCBzb2xpZCAjYzk4NDAwO3BhZGRpbmc6M3B4O2JhY2tncm91bmQ6I2ZmZWZiZDtjb2xvcjojMzMzfS5SYWRHcmlkUlRMX01ldHJvIC5yZ0hlYWRlcjpmaXJzdC1jaGlsZCwuUmFkR3JpZFJUTF9NZXRybyB0aC5yZ1Jlc2l6ZUNvbDpmaXJzdC1jaGlsZCwuUmFkR3JpZFJUTF9NZXRybyAucmdGaWx0ZXJSb3c+dGQ6Zmlyc3QtY2hpbGQsLlJhZEdyaWRSVExfTWV0cm8gLnJnUm93PnRkOmZpcnN0LWNoaWxkLC5SYWRHcmlkUlRMX01ldHJvIC5yZ0FsdFJvdz50ZDpmaXJzdC1jaGlsZHtib3JkZXItbGVmdC13aWR0aDoxcHg7cGFkZGluZy1sZWZ0OjdweH0uUmFkR3JpZFJUTF9NZXRybyAucmdQYWdlRmlyc3R7YmFja2dyb3VuZC1wb3NpdGlvbjowIC0xMDAwcHh9LlJhZEdyaWRSVExfTWV0cm8gLnJnUGFnZUZpcnN0OmhvdmVye2JhY2tncm91bmQtcG9zaXRpb246MCAtMTA1MHB4fS5SYWRHcmlkUlRMX01ldHJvIC5yZ1BhZ2VQcmV2e2JhY2tncm91bmQtcG9zaXRpb246MCAtODUwcHh9LlJhZEdyaWRSVExfTWV0cm8gLnJnUGFnZVByZXY6aG92ZXJ7YmFja2dyb3VuZC1wb3NpdGlvbjowIC05MDBweH0uUmFkR3JpZFJUTF9NZXRybyAucmdQYWdlTmV4dHtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTcwMHB4fS5SYWRHcmlkUlRMX01ldHJvIC5yZ1BhZ2VOZXh0OmhvdmVye2JhY2tncm91bmQtcG9zaXRpb246MCAtNzUwcHh9LlJhZEdyaWRSVExfTWV0cm8gLnJnUGFnZUxhc3R7YmFja2dyb3VuZC1wb3NpdGlvbjowIC01NTBweH0uUmFkR3JpZFJUTF9NZXRybyAucmdQYWdlTGFzdDpob3ZlcntiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTYwMHB4fS5SYWRHcmlkUlRMX01ldHJvIC5yZ0V4cGFuZHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0yMHB4IC00OTZweH0=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="1236440040" offset="0" length="14815" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
  </HTTPTask>
  <HTTPTask id="931" hostname="d2i2wahzwrm1n5.cloudfront.net" path="/ajaxz/2017.2.621/Grid/RadGridScripts.js" url="https://d2i2wahzwrm1n5.cloudfront.net/ajaxz/2017.2.621/Grid/RadGridScripts.js" ip="54.192.37.180" port="443" connectionId="57" origin="ExtraRes" frame="1" startDateTime="2017-08-29T16:57:15.159-04:00" startTime="1236441054" endTime="1236441070">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9lczAwdnF3ZWIxNS5xYS5hcHBkZXYvc3RhcnNjbGFzc3Jvb20vU2Nob29sQWRtaW4vUElQT0xpc3QuYXNweA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IFRyaWRlbnQvNy4wOyBTTENDMjsgLk5FVCBDTFIgMi4wLjUwNzI3OyAuTkVUIENMUiAzLjUuMzA3Mjk7IC5ORVQgQ0xSIDMuMC4zMDcyOTsgTWVkaWEgQ2VudGVyIFBDIDYuMDsgLk5FVDQuMEM7IC5ORVQ0LjBFOyBJbmZvUGF0aC4zOyAuTkVUIENMUiAxLjEuNDMyMik=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZDJpMndhaHp3cm0xbjUuY2xvdWRmcm9udC5uZXQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="DNT" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9hamF4ei8yMDE3LjIuNjIxL0dyaWQvUmFkR3JpZFNjcmlwdHMuanMgSFRUUC8xLjENCkFjY2VwdDogKi8qDQpSZWZlcmVyOiBodHRwczovL2VzMDB2cXdlYjE1LnFhLmFwcGRldi9zdGFyc2NsYXNzcm9vbS9TY2hvb2xBZG1pbi9QSVBPTGlzdC5hc3B4DQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTDQpVc2VyLUFnZW50OiBNb3ppbGxhLzQuMCAoY29tcGF0aWJsZTsgTVNJRSA3LjA7IFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgVHJpZGVudC83LjA7IFNMQ0MyOyAuTkVUIENMUiAyLjAuNTA3Mjc7IC5ORVQgQ0xSIDMuNS4zMDcyOTsgLk5FVCBDTFIgMy4wLjMwNzI5OyBNZWRpYSBDZW50ZXIgUEMgNi4wOyAuTkVUNC4wQzsgLk5FVDQuMEU7IEluZm9QYXRoLjM7IC5ORVQgQ0xSIDEuMS40MzIyKQ0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiBkMmkyd2FoendybTFuNS5jbG91ZGZyb250Lm5ldA0KRE5UOiAxDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Content-Type" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>OTU3OTY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3VuLCAwMiBKdWwgMjAxNyAxMjoxMzoyNiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyMSBKdW4gMjAxNyAwNTo1MjoyMiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ijk0YzI3MGVlNDRmNTFjNmNmZmIwNzk5NjE1YjAxM2FmIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGljLCBtYXgtYWdlPTMxNTM2MDAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAyMSBKdW4gMjAyNyAwNTo1MjowMSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QW1hem9uUzM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Age" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NTA0MjIzMA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Cache" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SGl0IGZyb20gY2xvdWRmcm9udA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Via" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MS4xIDA2YmJlNTUzYjJkNTM2MTVmMzc0NzVlNzkwMmQ4YzIyLmNsb3VkZnJvbnQubmV0IChDbG91ZEZyb250KQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Amz-Cf-Id" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VjJMZ1pwLXk1ZjBrSVcyamR0MVhvaW5PdFZtQ25VbXBmcEcyTGE2UXBYeXVpMWNpTWo2c1lRPT0=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdA0KQ29udGVudC1MZW5ndGg6IDk1Nzk2DQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpEYXRlOiBTdW4sIDAyIEp1bCAyMDE3IDEyOjEzOjI2IEdNVA0KTGFzdC1Nb2RpZmllZDogV2VkLCAyMSBKdW4gMjAxNyAwNTo1MjoyMiBHTVQNCkVUYWc6ICI5NGMyNzBlZTQ0ZjUxYzZjZmZiMDc5OTYxNWIwMTNhZiINCkNhY2hlLUNvbnRyb2w6IHB1YmxpYywgbWF4LWFnZT0zMTUzNjAwMA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KRXhwaXJlczogTW9uLCAyMSBKdW4gMjAyNyAwNTo1MjowMSBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpTZXJ2ZXI6IEFtYXpvblMzDQpBZ2U6IDUwNDIyMzANClgtQ2FjaGU6IEhpdCBmcm9tIGNsb3VkZnJvbnQNClZpYTogMS4xIDA2YmJlNTUzYjJkNTM2MTVmMzc0NzVlNzkwMmQ4YzIyLmNsb3VkZnJvbnQubmV0IChDbG91ZEZyb250KQ0KWC1BbXotQ2YtSWQ6IFYyTGdacC15NWYwa0lXMmpkdDFYb2luT3RWbUNuVW1wZnBHMkxhNlFwWHl1aTFjaU1qNnNZUT09DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>VHlwZS5yZWdpc3Rlck5hbWVzcGFjZSgiVGVsZXJpay5XZWIuVUkiKTsKVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbj1mdW5jdGlvbihhKXtUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uLmluaXRpYWxpemVCYXNlKHRoaXMsW2FdKTsKdGhpcy5fb3duZXI9e307CnRoaXMuX2RhdGE9e307CnRoaXMuX3NlbGVjdGVkOwp0aGlzLl9zZWxlY3RlZENlbGxzQ291bnQ9MDsKdGhpcy5fcmVzaXplVG9sZXJhbmNlPSR0ZWxlcmlrLmlzVG91Y2hEZXZpY2U/MTA6NTsKdGhpcy5fb25Nb3VzZVVwRGVsZWdhdGU9bnVsbDsKdGhpcy5fY29sdW1uUmVzaXplcj1udWxsOwp0aGlzLl9jaGVja2JveGVzPVtdOwp0aGlzLl9vbkNvbnRleHRNZW51SXRlbUNsaWNraW5nRGVsZWdhdGU9bnVsbDsKdGhpcy5fb25Db250ZXh0TWVudUhpZGRlbkRlbGVnYXRlPW51bGw7CnRoaXMuX3N1cHBvcnRlZFN0cmluZ0FnZ3JlZ2F0ZXNWYWx1ZXM9eyJTeXN0ZW0uU3RyaW5nIjp7Q291bnQ6dHJ1ZSxDb3VudERpc3RpbmN0OnRydWUsTm9uZTp0cnVlLEN1c3RvbTp0cnVlfSwiU3lzdGVtLkRhdGVUaW1lIjp7Tm9uZTp0cnVlLE1pbjp0cnVlLE1heDp0cnVlLExhc3Q6dHJ1ZSxGaXJzdDp0cnVlLENvdW50OnRydWUsQ291bnREaXN0aW5jdDp0cnVlLEN1c3RvbTp0cnVlfX07CnRoaXMuX3N1cHBvcnRlZENvbHVtblR5cGVzRm9yQWdncmVnYXRpb249WyJHcmlkRGF0ZVRpbWVDb2x1bW4iLCJHcmlkQm91bmRDb2x1bW4iLCJHcmlkVGVtcGxhdGVDb2x1bW4iLCJHcmlkTWFza2VkQ29sdW1uIiwiR3JpZE51bWVyaWNDb2x1bW4iLCJHcmlkQ2FsY3VsYXRlZENvbHVtbiJdOwp0aGlzLl9vbGRUaXRsZT1udWxsOwppZihTeXMuVUkuRG9tRWxlbWVudC5jb250YWluc0Nzc0NsYXNzKGEsInJnUm90YXRlSGVhZGVyIikmJmEuY2hpbGRyZW4ubGVuZ3RoPT0wKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CmIuaW5uZXJIVE1MPWEuaW5uZXJIVE1MOwphLmlubmVySFRNTD0iIjsKYS5hcHBlbmRDaGlsZChiKTsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW4ucHJvdG90eXBlPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7VGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbi5jYWxsQmFzZU1ldGhvZCh0aGlzLCJpbml0aWFsaXplIik7CnRoaXMuX29uTW91c2VEb3duRGVsZWdhdGU9JHRlbGVyaWsuYWRkTW9iaWxlSGFuZGxlcih0aGlzLHRoaXMuZ2V0X2VsZW1lbnQoKSwibW91c2Vkb3duIix0aGlzLl9vbk1vdXNlRG93bkhhbmRsZXIpOwp0aGlzLmdldF9lbGVtZW50KCkuVW5pcXVlTmFtZT10aGlzLmdldF91bmlxdWVOYW1lKCk7CnRoaXMuX29uTG9jYWxNb3VzZU1vdmVEZWxlZ2F0ZT0kdGVsZXJpay5hZGRNb2JpbGVIYW5kbGVyKHRoaXMsdGhpcy5nZXRfZWxlbWVudCgpLCJtb3VzZW1vdmUiLHRoaXMuX29uTG9jYWxNb3VzZU1vdmVIYW5kbGVyKTsKaWYoISR0ZWxlcmlrLmlzVG91Y2hEZXZpY2Upe3dpbmRvdy4kYWRkSGFuZGxlcnModGhpcy5nZXRfZWxlbWVudCgpLHtjbGljazpGdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZSh0aGlzLHRoaXMuX29uQ2xpY2spfSk7CndpbmRvdy4kYWRkSGFuZGxlcnModGhpcy5nZXRfZWxlbWVudCgpLHtkYmxjbGljazpGdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZSh0aGlzLHRoaXMuX29uRGJsQ2xpY2spfSk7CndpbmRvdy4kYWRkSGFuZGxlcnModGhpcy5nZXRfZWxlbWVudCgpLHttb3VzZW92ZXI6RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9vbk1vdXNlT3Zlcil9KTsKd2luZG93LiRhZGRIYW5kbGVycyh0aGlzLmdldF9lbGVtZW50KCkse21vdXNlb3V0OkZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fb25Nb3VzZU91dCl9KTsKfXZhciBhPXRoaXMuX293bmVyLl9vd25lcjsKdmFyIGI9YS5DbGllbnRTZXR0aW5nczsKaWYoJHRlbGVyaWsuaXNNb2JpbGVJRTEwJiYoYi5BbGxvd0NvbHVtbnNSZW9yZGVyfHwoYi5SZXNpemluZyYmYi5SZXNpemluZy5BbGxvd0NvbHVtblJlc2l6ZSkpKXt0aGlzLmdldF9lbGVtZW50KCkuc3R5bGUubXNUb3VjaEFjdGlvbj0ibm9uZSI7CnRoaXMuZ2V0X2VsZW1lbnQoKS5zdHlsZS50b3VjaEFjdGlvbj0ibm9uZSI7Cn1pZigkdGVsZXJpay5pc09wZXJhKXt3aW5kb3cuJGFkZEhhbmRsZXJzKHRoaXMuZ2V0X2VsZW1lbnQoKSx7bW91c2Vkb3duOkZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fb25Db250ZXh0TWVudSl9KTsKfWVsc2V7d2luZG93LiRhZGRIYW5kbGVycyh0aGlzLmdldF9lbGVtZW50KCkse2NvbnRleHRtZW51OkZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fb25Db250ZXh0TWVudSl9KTsKfXRoaXMuX3NlbGVjdGVkQ2VsbHNDb3VudD10aGlzLl9kYXRhLlNlbGVjdGVkQ2VsbHNDb3VudDsKdGhpcy5EaXNwbGF5PXRoaXMuX2RhdGEuRGlzcGxheTsKdGhpcy5fZW5hYmxlSGVhZGVyQ29udGV4dE1lbnU9dGhpcy5fZGF0YS5FbmFibGVIZWFkZXJDb250ZXh0TWVudTsKdGhpcy5fb2xkVGl0bGU9dGhpcy5nZXRfZWxlbWVudCgpLnRpdGxlOwppZih0aGlzLl9kYXRhLkxpc3RPZkZpbHRlclZhbHVlcyYmdGhpcy5fZGF0YS5MaXN0T2ZGaWx0ZXJWYWx1ZXMubGVuZ3RoPjApe2EuX2NoZWNrTGlzdEZpbHRlcktleXNbYS5fY2hlY2tMaXN0RmlsdGVyS2V5cy5sZW5ndGhdPXRoaXMuZ2V0X293bmVyKCkuX2RhdGEuVW5pcXVlSUQrIiwiK3RoaXMuZ2V0X3VuaXF1ZU5hbWUoKTsKYS5fY2hlY2tMaXN0RmlsdGVyVmFsdWVzW2EuX2NoZWNrTGlzdEZpbHRlclZhbHVlcy5sZW5ndGhdPXRoaXMuX2RhdGEuTGlzdE9mRmlsdGVyVmFsdWVzOwp9dGhpcy5faW5pdGlhbGl6ZUJpbmRpbmdNZXRob2RzKCk7Cn0sZGlzcG9zZTpmdW5jdGlvbigpe2lmKHRoaXMuX2NvbHVtblJlc2l6ZXIpe3RoaXMuX2NvbHVtblJlc2l6ZXIuZGlzcG9zZSgpOwp9dGhpcy5fb3duZXIuX293bmVyLnJhaXNlX2NvbHVtbkRlc3Ryb3lpbmcoU3lzLkV2ZW50QXJncy5FbXB0eSk7CndpbmRvdy4kY2xlYXJIYW5kbGVycyh0aGlzLmdldF9lbGVtZW50KCkpOwp0aGlzLl9jaGVja2JveGVzPVtdOwp0aGlzLl9lbGVtZW50LmNvbnRyb2w9bnVsbDsKdGhpcy5fb3duZXI9bnVsbDsKVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbi5jYWxsQmFzZU1ldGhvZCh0aGlzLCJkaXNwb3NlIik7Cn0sZ2V0X293bmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX293bmVyOwp9LGdldF9zZWxlY3RlZDpmdW5jdGlvbigpe3ZhciBhPWZhbHNlOwppZih0aGlzLl9vd25lci5fb3duZXIuZ2V0X2FsbG93Q29sdW1uU2VsZWN0aW9uKCkmJnRoaXMuX3NlbGVjdGVkQ2VsbHNDb3VudD4wJiZ0aGlzLl9zZWxlY3RlZENlbGxzQ291bnQ9PXRoaXMuZ2V0X3JlYWxPd25lcigpLmdldF9kYXRhSXRlbXMoKS5sZW5ndGgpe2E9dHJ1ZTsKfXJldHVybiBhOwp9LHNldF9zZWxlY3RlZDpmdW5jdGlvbihhKXtpZih0aGlzLl9vd25lci5fb3duZXIuZ2V0X2FsbG93Q29sdW1uU2VsZWN0aW9uKCkpe2lmKGEpe2lmKCF0aGlzLl9vd25lci5fb3duZXIuZ2V0X2FsbG93TXVsdGlDb2x1bW5TZWxlY3Rpb24oKSl7dGhpcy5nZXRfcmVhbE93bmVyKCkuY2xlYXJTZWxlY3RlZENvbHVtbnMoKTsKfXRoaXMuX293bmVyLl9vd25lci5fY2VsbFNlbGVjdGlvbi5fc2VsZWN0Q29sdW1uQnlIZWFkZXJFbGVtZW50KHRoaXMuZ2V0X3JlYWxPd25lcigpLHRoaXMuZ2V0X2VsZW1lbnQoKSk7CnRoaXMuX3NlbGVjdGVkQ2VsbHNDb3VudD10aGlzLl9vd25lci5nZXRfZGF0YUl0ZW1zKCkubGVuZ3RoOwp9ZWxzZXt0aGlzLl9vd25lci5fb3duZXIuX2NlbGxTZWxlY3Rpb24uX2Rlc2VsZWN0Q29sdW1uQnlIZWFkZXJFbGVtZW50KHRoaXMuZ2V0X3JlYWxPd25lcigpLHRoaXMuZ2V0X2VsZW1lbnQoKSk7CnRoaXMuX3NlbGVjdGVkQ2VsbHNDb3VudD0wOwp9fX0sZ2V0X3JlYWxPd25lcjpmdW5jdGlvbigpe2lmKHRoaXMuX293bmVyLmdldF9pZCgpPT10aGlzLl9vd25lci5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9pZCgpKyJfSGVhZGVyIil7cmV0dXJuIHRoaXMuX293bmVyLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCk7Cn1lbHNle3JldHVybiAkZmluZCh0aGlzLl9vd25lci5nZXRfaWQoKSk7Cn19LGdldF9zZWxlY3RlZENlbGxzQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0ZWRDZWxsc0NvdW50Owp9LHNldF9zZWxlY3RlZENlbGxzQ291bnQ6ZnVuY3Rpb24oYSl7dGhpcy5fc2VsZWN0ZWRDZWxsc0NvdW50PWE7Cn0sX2luaXRpYWxpemVCaW5kaW5nTWV0aG9kczpmdW5jdGlvbigpe3ZhciBhPVRlbGVyaWsuV2ViLlVJLkdyaWRbdGhpcy5fZGF0YS5Db2x1bW5UeXBlXXx8VGVsZXJpay5XZWIuVUkuR3JpZC5HcmlkQm91bmRDb2x1bW4sYz1mdW5jdGlvbigpe30sYjsKaWYoYSl7Zm9yKGIgaW4gYSl7dGhpc1tiXT1hW2JdOwp9dGhpcy5pbml0aWFsaXplQ2VsbD10aGlzLmluaXRpYWxpemVDZWxsfHxjOwp0aGlzLnBvcHVsYXRlQ2VsbD10aGlzLnBvcHVsYXRlQ2VsbHx8YzsKdGhpcy5wb3B1bGF0ZUVkaXRDZWxsPXRoaXMucG9wdWxhdGVFZGl0Q2VsbHx8YzsKfX0sX29uTW91c2VEb3duSGFuZGxlcjpmdW5jdGlvbihiKXtpZigoYi5idXR0b24hPVN5cy5VSS5Nb3VzZUJ1dHRvbi5sZWZ0QnV0dG9ufHxUZWxlcmlrLldlYi5VSS5HcmlkLl9tb3ZlSGVhZGVyRGl2KSYmISgkdGVsZXJpay5pc1RvdWNoRGV2aWNlKSl7cmV0dXJuIGZhbHNlOwp9dmFyIGM9dGhpcy5nZXRfb3duZXIoKS5nZXRfb3duZXIoKTsKdmFyIGQ9Yy5fYW5pbWF0aW9uJiZjLl9hbmltYXRpb24uQ29sdW1uQW5pbWF0aW9uOwp2YXIgZz0kdGVsZXJpay5pc1RvdWNoRGV2aWNlJiZ0aGlzLl9pc1RvdWNoUG9pbnRPdmVyUmVzaXplSGFuZGxlKGIpJiZ0aGlzLl9vd25lci5fb3duZXIuQ2xpZW50U2V0dGluZ3MmJnRoaXMuX293bmVyLl9vd25lci5DbGllbnRTZXR0aW5ncy5SZXNpemluZy5BbGxvd0NvbHVtblJlc2l6ZSYmdGhpcy5nZXRfcmVzaXphYmxlKCk7CmlmKCFkJiYhdGhpcy5fb25Nb3VzZVVwRGVsZWdhdGUpe3RoaXMuX29uTW91c2VVcERlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyxkb2N1bWVudCwibW91c2V1cCIsdGhpcy5fb25Nb3VzZVVwSGFuZGxlcixudWxsLHRydWUpOwp9aWYoJHRlbGVyaWsuaXNUb3VjaERldmljZSl7dGhpcy5fY2FuRHJhZ0Ryb3A9dHJ1ZTsKaWYoZyl7dGhpcy5fY2FuUmVzaXplPXRydWU7Cn19aWYoYy5DbGllbnRTZXR0aW5ncy5BbGxvd0RyYWdUb0dyb3VwfHxjLkNsaWVudFNldHRpbmdzLkFsbG93Q29sdW1uc1Jlb3JkZXIpe3ZhciBhPWMuX2dldEhlYWRlckNvbnRleHRNZW51KCk7CmlmKGEmJmEuX3Nob3duKXthLmhpZGUoKTsKfXZhciBmPWMuQ2xpZW50U2V0dGluZ3MuQWxsb3dDb2x1bW5zUmVvcmRlciYmZCYmYy5DbGllbnRTZXR0aW5ncy5BbmltYXRpb24uQWxsb3dDb2x1bW5SZW9yZGVyQW5pbWF0aW9uJiZjLkNsaWVudFNldHRpbmdzLkNvbHVtbnNSZW9yZGVyTWV0aG9kPT09MTsKaWYoIWYmJiF0aGlzLl9vbk1vdXNlTW92ZURlbGVnYXRlKXt0aGlzLl9vbk1vdXNlTW92ZURlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyxkb2N1bWVudCwibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZUhhbmRsZXIsbnVsbCx0cnVlKTsKfWlmKHRoaXMuX2NhbkRyYWdEcm9wJiYhZyYmKCh0aGlzLl9kYXRhLlJlb3JkZXJhYmxlJiZjLkNsaWVudFNldHRpbmdzLkFsbG93Q29sdW1uc1Jlb3JkZXIpfHwodGhpcy5fZGF0YS5Hcm91cGFibGUmJmMuQ2xpZW50U2V0dGluZ3MuQWxsb3dEcmFnVG9Hcm91cCkpKXtpZihkKXtjLl9hbmltYXRpb24uQ29sdW1uQW5pbWF0aW9uLl9tb3VzZURvd24oYix0aGlzKTsKfWVsc2V7VGVsZXJpay5XZWIuVUkuR3JpZC5DcmVhdGVEcmFnRHJvcChiLHRoaXMsdHJ1ZSk7Cn19fWlmKHRoaXMuX2NhblJlc2l6ZSYmKGIuYnV0dG9uPT0wfHwkdGVsZXJpay5pc1RvdWNoRGV2aWNlKSl7aWYodGhpcy5faXNNb3VzZU92ZXJSZXNpemVIYW5kbGUoYikpe3RoaXMuX2NvbHVtblJlc2l6ZXI9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5SZXNpemVyKHRoaXMsYy5DbGllbnRTZXR0aW5ncy5SZXNpemluZy5FbmFibGVSZWFsVGltZVJlc2l6ZSxjLkNsaWVudFNldHRpbmdzLlJlc2l6aW5nLlJlc2l6ZUdyaWRPbkNvbHVtblJlc2l6ZSk7CnRoaXMuX2NvbHVtblJlc2l6ZXIuX3Bvc2l0aW9uKGIpOwp0aGlzLl9vd25lci5fb3duZXIuX2lzUmVzaXplPXRydWU7Cn1UZWxlcmlrLldlYi5VSS5HcmlkLkNsZWFyRG9jdW1lbnRFdmVudHMoKTsKfX0sX29uTW91c2VVcEhhbmRsZXI6ZnVuY3Rpb24oZil7aWYodGhpcy5fb25Nb3VzZVVwRGVsZWdhdGUpeyR0ZWxlcmlrLnJlbW92ZU1vYmlsZUhhbmRsZXIoZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuX29uTW91c2VVcERlbGVnYXRlLG51bGwsdHJ1ZSk7CnRoaXMuX29uTW91c2VVcERlbGVnYXRlPW51bGw7Cn1pZih0aGlzLl9vbk1vdXNlTW92ZURlbGVnYXRlKXskdGVsZXJpay5yZW1vdmVNb2JpbGVIYW5kbGVyKGRvY3VtZW50LCJtb3VzZW1vdmUiLHRoaXMuX29uTW91c2VNb3ZlRGVsZWdhdGUsbnVsbCx0cnVlKTsKdGhpcy5fb25Nb3VzZU1vdmVEZWxlZ2F0ZT1udWxsOwp9aWYoIVRlbGVyaWsuV2ViLlVJLkdyaWQpe3JldHVybjsKfXZhciBkOwppZigkdGVsZXJpay5pc1RvdWNoRGV2aWNlKXtkPSR0ZWxlcmlrLmdldFRvdWNoVGFyZ2V0KGYpOwp9ZWxzZXtkPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Q3VycmVudEVsZW1lbnQoZik7Cn12YXIgbD1mYWxzZTsKdmFyIGo9dGhpcy5fb3duZXI7CmlmKGQhPW51bGwmJnRoaXMuX2NhbkRyYWdEcm9wJiYhai5fb3duZXIuX2lzUmVzaXplKXt2YXIgaz1qLl9vd25lci5DbGllbnRTZXR0aW5ncy5Qb3N0QmFja0Z1bmN0aW9uOwprPWsucmVwbGFjZSgiezB9IixqLl9vd25lci5VbmlxdWVJRCk7CmlmKGouX293bmVyLkNsaWVudFNldHRpbmdzLkFsbG93RHJhZ1RvR3JvdXAmJmouX293bmVyLl9ncm91cFBhbmVsKXt2YXIgaT1mYWxzZTsKaWYoJHRlbGVyaWsuaXNNb3VzZU92ZXJFbGVtZW50KGouX293bmVyLl9ncm91cFBhbmVsLmdldF9lbGVtZW50KCksZikpe2k9dHJ1ZTsKfWlmKChUZWxlcmlrLldlYi5VSS5HcmlkLklzQ2hpbGRPZihkLGouX293bmVyLl9ncm91cFBhbmVsLmdldF9lbGVtZW50KCkpfHwoJHRlbGVyaWsuaXNUb3VjaERldmljZSYmZD09ai5fb3duZXIuX2dyb3VwUGFuZWwuZ2V0X2VsZW1lbnQoKSkpfHxpKXtpZih0aGlzLl9kYXRhLkdyb3VwYWJsZSl7bD10cnVlOwp2YXIgaD0hIWouX293bmVyLl9jbGllbnREYXRhU291cmNlSUQ7CmouZ3JvdXBDb2x1bW4oaD90aGlzLmdldF9kYXRhRmllbGQoKTp0aGlzLmdldF9lbGVtZW50KCkuVW5pcXVlTmFtZSk7Cn19fWlmKGouX293bmVyLkNsaWVudFNldHRpbmdzLkFsbG93Q29sdW1uc1Jlb3JkZXImJlRlbGVyaWsuV2ViLlVJLkdyaWQuSXNDaGlsZE9mKGQsdGhpcy5nZXRfZWxlbWVudCgpLnBhcmVudE5vZGUpJiZkIT10aGlzLmdldF9lbGVtZW50KCkpe3ZhciBnPWQucGFyZW50Tm9kZTsKd2hpbGUoZyE9bnVsbCYmKHR5cGVvZihnLlVuaXF1ZU5hbWUpPT0idW5kZWZpbmVkIikpe2c9Zy5wYXJlbnROb2RlOwp9aWYoZyE9bnVsbCYmdHlwZW9mKGcuVW5pcXVlTmFtZSkhPSJ1bmRlZmluZWQiJiZnLlVuaXF1ZU5hbWUhPXRoaXMuZ2V0X3VuaXF1ZU5hbWUoKSl7ZD1nOwp9aWYodHlwZW9mKGQuVW5pcXVlTmFtZSkhPSJ1bmRlZmluZWQiJiZ0aGlzLl9jYW5Ecm9wT25UaGlzQ29sdW1uKGQuVW5pcXVlTmFtZSkmJnRoaXMuZ2V0X3Jlb3JkZXJhYmxlKCkpe2lmKCFqLl9vd25lci5DbGllbnRTZXR0aW5ncy5SZW9yZGVyQ29sdW1uc09uQ2xpZW50KXt2YXIgYj1qLmdldENvbHVtbkJ5VW5pcXVlTmFtZSh0aGlzLmdldF9lbGVtZW50KCkuVW5pcXVlTmFtZSk7CnZhciBjPWouZ2V0Q29sdW1uQnlVbmlxdWVOYW1lKGQuVW5pcXVlTmFtZSk7CnZhciBhPW5ldyBTeXMuQ2FuY2VsRXZlbnRBcmdzKCk7CmEuZ2V0X2dyaWRTb3VyY2VDb2x1bW49ZnVuY3Rpb24oKXtyZXR1cm4gYjsKfTsKYS5nZXRfZ3JpZFRhcmdldENvbHVtbj1mdW5jdGlvbigpe3JldHVybiBjOwp9OwpqLl9vd25lci5yYWlzZV9jb2x1bW5Td2FwcGluZyhhKTsKaWYoYS5nZXRfY2FuY2VsKCkpe3JldHVybiBmYWxzZTsKfWw9dHJ1ZTsKaz1rLnJlcGxhY2UoInsxfSIsIlJlb3JkZXJDb2x1bW5zLCIrai5fZGF0YS5VbmlxdWVJRCsiLCIrdGhpcy5nZXRfZWxlbWVudCgpLlVuaXF1ZU5hbWUrIiwiK2QuVW5pcXVlTmFtZSk7CmV2YWwoayk7Cn1lbHNle2lmKGouX293bmVyLkNsaWVudFNldHRpbmdzLkNvbHVtbnNSZW9yZGVyTWV0aG9kPT0xKXtqLnJlb3JkZXJDb2x1bW5zKHRoaXMuZ2V0X2VsZW1lbnQoKS5VbmlxdWVOYW1lLGQuVW5pcXVlTmFtZSk7Cn1lbHNle2ouc3dhcENvbHVtbnModGhpcy5nZXRfZWxlbWVudCgpLlVuaXF1ZU5hbWUsZC5VbmlxdWVOYW1lKTsKfWw9dHJ1ZTsKfX19fWlmKCFqLl9vd25lci5fYW5pbWF0aW9ufHwhai5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQW5pbWF0aW9ufHwhai5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQW5pbWF0aW9uLkFsbG93Q29sdW1uUmV2ZXJ0QW5pbWF0aW9ufHxsKXtUZWxlcmlrLldlYi5VSS5HcmlkLkRlc3Ryb3lEcmFnRHJvcCgpOwp9ai5fb3duZXIuX2lzUmVzaXplPW51bGw7ClRlbGVyaWsuV2ViLlVJLkdyaWQuUmVzdG9yZURvY3VtZW50RXZlbnRzKCk7Cn0sX29uTW91c2VNb3ZlSGFuZGxlcjpmdW5jdGlvbihhKXtpZih0aGlzLl9jYW5EcmFnRHJvcCl7aWYoIXRoaXMuZ2V0X2VsZW1lbnQoKSl7cmV0dXJuOwp9aWYoJHRlbGVyaWsuaXNUb3VjaERldmljZSl7YS5wcmV2ZW50RGVmYXVsdCgpOwp9VGVsZXJpay5XZWIuVUkuR3JpZC5Nb3ZlRHJhZ0Ryb3AoYSx0aGlzLHRydWUpOwp9fSxfb25Mb2NhbE1vdXNlTW92ZUhhbmRsZXI6ZnVuY3Rpb24oZil7aWYoIVRlbGVyaWsuV2ViLlVJLkdyaWR8fCR0ZWxlcmlrLmlzVG91Y2hEZXZpY2Upe3JldHVybjsKfXRoaXMuX2NhbkRyYWdEcm9wPXRydWU7CnRoaXMuX2NhblJlc2l6ZT1mYWxzZTsKaWYodGhpcy5fb3duZXIuX293bmVyLl9pc1Jlc2l6ZSl7cmV0dXJuOwp9dmFyIGQ9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRDdXJyZW50RWxlbWVudChmKTsKdmFyIGc9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRGaXJzdFBhcmVudEJ5VGFnTmFtZShkLCJ0aCIpOwp2YXIgaD1UZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NYKGQpOwp2YXIgYj0hIXRoaXMuX293bmVyLl9vd25lci5DbGllbnRTZXR0aW5ncy5BbGxvd0RyYWdUb0dyb3VwJiZ0aGlzLl9kYXRhLkdyb3VwYWJsZTsKdmFyIGM9ISF0aGlzLl9vd25lci5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQWxsb3dDb2x1bW5zUmVvcmRlciYmdGhpcy5nZXRfcmVvcmRlcmFibGUoKTsKaWYoYnx8Yyl7dGhpcy5nZXRfZWxlbWVudCgpLnRpdGxlPXRoaXMuX293bmVyLl9vd25lci5DbGllbnRTZXR0aW5ncy5DbGllbnRNZXNzYWdlcy5EcmFnVG9Hcm91cE9yUmVvcmRlcnx8dGhpcy5nZXRfZWxlbWVudCgpLnRpdGxlOwp0aGlzLmdldF9lbGVtZW50KCkuc3R5bGUuY3Vyc29yPSJtb3ZlIjsKfWlmKHRoaXMuX293bmVyLl9vd25lci5DbGllbnRTZXR0aW5ncy5SZXNpemluZy5BbGxvd0NvbHVtblJlc2l6ZSYmdGhpcy5nZXRfcmVzaXphYmxlKCkmJlRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0RXZlbnRQb3NYKGYpPj0oaCtnLm9mZnNldFdpZHRoLTUpJiYhVGVsZXJpay5XZWIuVUkuR3JpZC5fbW92ZUhlYWRlckRpdil7dGhpcy5fY2FuRHJhZ0Ryb3A9ZmFsc2U7Cn1pZih0aGlzLl9vd25lci5fb3duZXIuQ2xpZW50U2V0dGluZ3MmJnRoaXMuX293bmVyLl9vd25lci5DbGllbnRTZXR0aW5ncy5SZXNpemluZy5BbGxvd0NvbHVtblJlc2l6ZSYmdGhpcy5nZXRfcmVzaXphYmxlKCkmJnRoaXMuZ2V0X2VsZW1lbnQoKS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0aCIpe2Q9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRDdXJyZW50RWxlbWVudChmKTsKaWYodGhpcy5fb3duZXIuX293bmVyLkdyaWREYXRhRGl2JiYhdGhpcy5fb3duZXIuX293bmVyLkdyaWRIZWFkZXJEaXYmJiF3aW5kb3cubmV0c2NhcGUpe3ZhciBhPTA7CmlmKGRvY3VtZW50LmJvZHkuY3VycmVudFN0eWxlJiZkb2N1bWVudC5ib2R5LmN1cnJlbnRTdHlsZS5tYXJnaW4mJmRvY3VtZW50LmJvZHkuY3VycmVudFN0eWxlLm1hcmdpbkxlZnQuaW5kZXhPZigicHgiKSE9LTEmJiF3aW5kb3cub3BlcmEpe2E9cGFyc2VJbnQoZG9jdW1lbnQuYm9keS5jdXJyZW50U3R5bGUubWFyZ2luTGVmdCwxMCk7Cn10aGlzLl9yZXNpemVUb2xlcmFuY2U9MTA7Cn1pZih0aGlzLl9pc01vdXNlT3ZlclJlc2l6ZUhhbmRsZShmKSYmIVRlbGVyaWsuV2ViLlVJLkdyaWQuX21vdmVIZWFkZXJEaXYpe3RoaXMuZ2V0X2VsZW1lbnQoKS5zdHlsZS5jdXJzb3I9ImUtcmVzaXplIjsKaWYodGhpcy5nZXRfZWxlbWVudCgpLnRpdGxlIT09dGhpcy5fb3duZXIuX293bmVyLkNsaWVudFNldHRpbmdzLkNsaWVudE1lc3NhZ2VzLkRyYWdUb1Jlc2l6ZSl7dGhpcy5fb2xkVGl0bGU9dGhpcy5nZXRfZWxlbWVudCgpLnRpdGxlOwp9dGhpcy5nZXRfZWxlbWVudCgpLnRpdGxlPXRoaXMuX293bmVyLl9vd25lci5DbGllbnRTZXR0aW5ncy5DbGllbnRNZXNzYWdlcy5EcmFnVG9SZXNpemU7CnRoaXMuX2NhblJlc2l6ZT10cnVlOwpkLnN0eWxlLmN1cnNvcj0iZS1yZXNpemUiOwp9ZWxzZXtpZih0aGlzLmdldF9lbGVtZW50KCkuc3R5bGUuY3Vyc29yIT0ibW92ZSIpe3RoaXMuZ2V0X2VsZW1lbnQoKS5zdHlsZS5jdXJzb3I9IiI7CmQuc3R5bGUuY3Vyc29yPSIiOwp0aGlzLmdldF9lbGVtZW50KCkudGl0bGU9dGhpcy5fb2xkVGl0bGU7Cn1pZihkLnN0eWxlLmN1cnNvcj09ImUtcmVzaXplIil7ZC5zdHlsZS5jdXJzb3I9IiI7Cn10aGlzLl9jYW5SZXNpemU9ZmFsc2U7Cn19fSxfY2FuRHJvcE9uVGhpc0NvbHVtbjpmdW5jdGlvbihjKXtpZih0eXBlb2YodGhpcy5fb3duZXIuX2NvbHVtbnMpPT0idW5kZWZpbmVkIil7dGhpcy5fb3duZXIuX2NvbHVtbnM9e307CmZvcih2YXIgYT0wOwphPHRoaXMuX293bmVyLl9kYXRhLl9jb2x1bW5zRGF0YS5sZW5ndGg7CmErKyl7dGhpcy5fb3duZXIuX2NvbHVtbnNbdGhpcy5fb3duZXIuX2RhdGEuX2NvbHVtbnNEYXRhW2FdLlVuaXF1ZU5hbWVdPXRoaXMuX293bmVyLl9kYXRhLl9jb2x1bW5zRGF0YVthXTsKfX12YXIgYj10cnVlOwppZih0aGlzLl9vd25lci5faGFzTXVsdGlIZWFkZXJzKXtiPXRoaXMuZ2V0X2NvbHVtbkdyb3VwTmFtZSgpPT10aGlzLl9vd25lci5fY29sdW1uc1tjXS5Db2x1bW5Hcm91cE5hbWU7Cn1yZXR1cm4gdGhpcy5fb3duZXIuX2NvbHVtbnNbY10uUmVvcmRlcmFibGUmJmI7Cn0sc2hvd0hlYWRlck1lbnU6ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuX293bmVyLl9kYXRhLmVuYWJsZUhlYWRlckNvbnRleHRNZW51KXt0aGlzLl9pbml0SGVhZGVyQ29udGV4dE1lbnUoYSx0cnVlLGIsYyk7Cn19LF9zaG91bGRTaG93QWdncmVnYXRlc01lbnVGb3JDb2x1bW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRfb3duZXIoKS5fZGF0YS5lbmFibGVIZWFkZXJDb250ZXh0QWdncmVnYXRlc01lbnUmJkFycmF5LmNvbnRhaW5zKHRoaXMuX3N1cHBvcnRlZENvbHVtblR5cGVzRm9yQWdncmVnYXRpb24sdGhpcy5fZGF0YS5Db2x1bW5UeXBlKTsKfSxfaW5pdEhlYWRlckNvbnRleHRBZ2dyZWdhdGVzTWVudTpmdW5jdGlvbihkKXtpZihkLmZpbmRJdGVtQnlWYWx1ZSgiQWdncmVnYXRlc0NvbnRhaW5lciIpKXt2YXIgYT1kLmZpbmRJdGVtQnlWYWx1ZSgiQWdncmVnYXRlc0NvbnRhaW5lciIpOwppZih0aGlzLl9zaG91bGRTaG93QWdncmVnYXRlc01lbnVGb3JDb2x1bW4oKSl7YS5zZXRfdmlzaWJsZSh0cnVlKTsKdmFyIGM9YS5nZXRfaXRlbXMoKTsKZm9yKHZhciBlPTAsZj1jLmdldF9jb3VudCgpOwplPGY7CmUrKyl7dmFyIGI9Yy5nZXRJdGVtKGUpOwpiLl9jb2x1bW49dGhpczsKaWYodGhpcy5fc3VwcG9ydGVkU3RyaW5nQWdncmVnYXRlc1ZhbHVlc1t0aGlzLmdldF9kYXRhVHlwZSgpXSYmIXRoaXMuX3N1cHBvcnRlZFN0cmluZ0FnZ3JlZ2F0ZXNWYWx1ZXNbdGhpcy5nZXRfZGF0YVR5cGUoKV1bYi5nZXRfdmFsdWUoKV0pe2Iuc2V0X3Zpc2libGUoZmFsc2UpOwp9ZWxzZXtiLnNldF92aXNpYmxlKHRydWUpOwp9fX1lbHNle2Euc2V0X3Zpc2libGUoZmFsc2UpOwp9fX0sX2luaXRIZWFkZXJDb250ZXh0TWVudTpmdW5jdGlvbih2LEIsSyxMKXtpZih0aGlzLl9vd25lci5fb3duZXIuX2dldEhlYWRlckNvbnRleHRNZW51KCkpe3ZhciBvPXRoaXMuX293bmVyLl9vd25lci5fZ2V0SGVhZGVyQ29udGV4dE1lbnUoKTsKdmFyIHI9dGhpczsKdmFyIHg9JGZpbmQodGhpcy5fb3duZXIuX293bmVyLl9maWx0ZXJDaGVja0xpc3RDbGllbnRJRHx8IiIpOwppZih4JiZ0aGlzLl9vd25lci5fb3duZXIuX2ZpbHRlckNoZWNrTGlzdFNlYXJjaCl7dGhpcy5fb3duZXIuX293bmVyLl9jaGVja0xpc3RGaWx0ZXJBY3RpdmVDb2x1bW49dGhpczsKeC5nZXRfaXRlbXMoKS5jbGVhcigpOwp2YXIgZD0iIjsKaWYodGhpcy5fb3duZXIuX2RhdGEuQ2hlY2tMaXN0V2ViU2VydmljZVBhdGgmJnRoaXMuX2RhdGEuRmlsdGVyQ2hlY2tMaXN0V2ViU2VydmljZU1ldGhvZCl7eC5zZXRfdmlzaWJsZSh0cnVlKTsKeC5nZXRfd2ViU2VydmljZVNldHRpbmdzKCkuc2V0X3BhdGgodGhpcy5fb3duZXIuX2RhdGEuQ2hlY2tMaXN0V2ViU2VydmljZVBhdGgpOwp4LmdldF93ZWJTZXJ2aWNlU2V0dGluZ3MoKS5zZXRfbWV0aG9kKHRoaXMuX2RhdGEuRmlsdGVyQ2hlY2tMaXN0V2ViU2VydmljZU1ldGhvZCk7CngucmVxdWVzdEl0ZW1zKCk7Cn1lbHNle2lmKHRoaXMuX2RhdGEuRmlsdGVyQ2hlY2tMaXN0RW5hYmxlTG9hZE9uRGVtYW5kKXt4LnNldF92aXNpYmxlKHRydWUpOwp2YXIgdD17c3RhcnRJbmRleDowLGNvdW50OjB9Owp2YXIgbD10aGlzLmdldF91bmlxdWVOYW1lKCk7CnZhciBuPXtjb2x1bW5VbmlxdWVOYW1lOmwsdGFibGVWaWV3VW5pcXVlSWQ6dGhpcy5fb3duZXIuX2RhdGEuVW5pcXVlSUR9Owp4Ll9kb0xvYWRPbkRlbWFuZFdpdGhDYWxsQmFjayhuLHQpOwp9ZWxzZXt4LnNldF92aXNpYmxlKGZhbHNlKTsKZD0iTm9uZSI7Cn19dmFyIHk9JGZpbmQodGhpcy5fb3duZXIuX293bmVyLl9maWx0ZXJDaGVja0xpc3RTZWFyY2guaWQpOwp5LnNldF92aXNpYmxlKGQ9PSIiKTsKdmFyIEk9eS5nZXRfZWxlbWVudCgpLnBhcmVudE5vZGUucGFyZW50Tm9kZTsKSS5jbGFzc05hbWU9SS5jbGFzc05hbWUucmVwbGFjZSgiIHJnRW1wdHlMaXN0IiwiIik7CmlmKGQhPSIiKXtJLmNsYXNzTmFtZT1JLmNsYXNzTmFtZSsiIHJnRW1wdHlMaXN0IjsKfXkuc2V0X3ZhbHVlKCIiKTsKfWlmKG8uX3Nob3duKXtvLmhpZGUoKTsKfXZhciB1PXIuX2RhdGEuRGF0YUZpZWxkOwppZihyLl9kYXRhLkRhdGFUZXh0RmllbGQpe3U9ci5fZGF0YS5EYXRhVGV4dEZpZWxkOwp9ZWxzZXtpZihyLl9kYXRhLkRhdGFBbHRlcm5hdGVUZXh0RmllbGQpe3U9ci5fZGF0YS5EYXRhQWx0ZXJuYXRlVGV4dEZpZWxkOwp9fXRoaXMuX29uQ29udGV4dE1lbnVJdGVtQ2xpY2tpbmdEZWxlZ2F0ZT1GdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZShvLHRoaXMuX29uQ29udGV4dE1lbnVJdGVtQ2xpY2tpbmcpOwpvLmFkZF9pdGVtQ2xpY2tpbmcodGhpcy5fb25Db250ZXh0TWVudUl0ZW1DbGlja2luZ0RlbGVnYXRlKTsKdGhpcy5fb25Db250ZXh0TWVudUhpZGRlbkRlbGVnYXRlPUZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fb25Db250ZXh0TWVudUhpZGRlbik7Cm8uYWRkX2hpZGRlbih0aGlzLl9vbkNvbnRleHRNZW51SGlkZGVuRGVsZWdhdGUpOwp0aGlzLl9pbml0SGVhZGVyQ29udGV4dEFnZ3JlZ2F0ZXNNZW51KG8pOwppZihvLmZpbmRJdGVtQnlWYWx1ZSgiU29ydEFzYyIpKXtvLmZpbmRJdGVtQnlWYWx1ZSgiU29ydEFzYyIpLl9jb2x1bW49cjsKfWlmKG8uZmluZEl0ZW1CeVZhbHVlKCJTb3J0RGVzYyIpKXtvLmZpbmRJdGVtQnlWYWx1ZSgiU29ydERlc2MiKS5fY29sdW1uPXI7Cn1pZihvLmZpbmRJdGVtQnlWYWx1ZSgiU29ydE5vbmUiKSl7by5maW5kSXRlbUJ5VmFsdWUoIlNvcnROb25lIikuX2NvbHVtbj1yOwp9dmFyIEM7CmlmKG8uZmluZEl0ZW1CeVZhbHVlKCJHcm91cEJ5Iikpe0M9by5maW5kSXRlbUJ5VmFsdWUoIkdyb3VwQnkiKTsKaWYoci5fZGF0YS5Hcm91cGFibGUpe28uZmluZEl0ZW1CeVZhbHVlKCJHcm91cEJ5IikuX2NvbHVtbj1yOwpDLnNldF92aXNpYmxlKHRydWUpOwp9ZWxzZXtDLnNldF92aXNpYmxlKGZhbHNlKTsKfX1pZihvLmZpbmRJdGVtQnlWYWx1ZSgiVW5Hcm91cEJ5Iikpe0M9by5maW5kSXRlbUJ5VmFsdWUoIlVuR3JvdXBCeSIpOwppZihyLl9kYXRhLkdyb3VwYWJsZSl7by5maW5kSXRlbUJ5VmFsdWUoIlVuR3JvdXBCeSIpLl9jb2x1bW49cjsKQy5zZXRfdmlzaWJsZSh0cnVlKTsKfWVsc2V7Qy5zZXRfdmlzaWJsZShmYWxzZSk7Cn19dGhpcy5fdXBkYXRlRnJlZXplT3B0aW9uKCk7CmlmKG8uZmluZEl0ZW1CeVZhbHVlKCJ0b3BHcm91cFNlcGVyYXRvciIpKXtvLmZpbmRJdGVtQnlWYWx1ZSgidG9wR3JvdXBTZXBlcmF0b3IiKS5zZXRfdmlzaWJsZShyLl9kYXRhLkdyb3VwYWJsZSk7Cn1pZihvLmZpbmRJdGVtQnlWYWx1ZSgiYm90dG9tR3JvdXBTZXBlcmF0b3IiKSl7by5maW5kSXRlbUJ5VmFsdWUoImJvdHRvbUdyb3VwU2VwZXJhdG9yIikuc2V0X3Zpc2libGUoci5fZGF0YS5Hcm91cGFibGUpOwp9aWYodGhpcy5fb3duZXIuX2RhdGEuZW5hYmxlSGVhZGVyQ29udGV4dEZpbHRlck1lbnUmJnRoaXMuX293bmVyLl9kYXRhLkFsbG93RmlsdGVyaW5nQnlDb2x1bW4mJnIuX2RhdGEuQWxsb3dGaWx0ZXJpbmcpe2lmKG8uZmluZEl0ZW1CeVZhbHVlKCJGaWx0ZXJNZW51UGFyZW50Iikpe28uZmluZEl0ZW1CeVZhbHVlKCJGaWx0ZXJNZW51UGFyZW50Iikuc2V0X2VuYWJsZWQodHJ1ZSk7Cm8uZmluZEl0ZW1CeVZhbHVlKCJGaWx0ZXJNZW51UGFyZW50Iikuc2V0X3Zpc2libGUodHJ1ZSk7Cn1pZihvLmZpbmRJdGVtQnlWYWx1ZSgiRmlsdGVyTGlzdCIpKXtvLmZpbmRJdGVtQnlWYWx1ZSgiRmlsdGVyTGlzdCIpLnNldF92aXNpYmxlKHRydWUpOwp9aWYoby5maW5kSXRlbUJ5VmFsdWUoImZpbHRlck1lbnVTZXBhcmF0b3IiKSl7by5maW5kSXRlbUJ5VmFsdWUoImZpbHRlck1lbnVTZXBhcmF0b3IiKS5zZXRfdmlzaWJsZSh0cnVlKTsKfWlmKG8uRmlsdGVyQ29udHJvbHNJRHNIZWxwZXI9PW51bGx8fHR5cGVvZihvLkZpbHRlckNvbnRyb2xzSURzSGVscGVyKT09InVuZGVmaW5lZCIpe28uRmlsdGVyQ29udHJvbHNJRHNIZWxwZXI9e0lkUHJlZml4OiJIQ0ZNIixJZFN1ZmZpeDp7Rmlyc3RDb25kOiJGaXJzdENvbmQiLFNlY29uZENvbmQ6IlNlY29uZENvbmQifSxGaWx0ZXJDb250cm9sOntDaGVja0JveDoiQ0IiLFJhZENvbWJvQm94OiJSQ01CIixSYWRUZXh0Qm94OiJSVEIiLFJhZERhdGVJbnB1dDoiUkRJIixSYWREYXRlUGlja2VyOiJSRFAiLFJhZERhdGVUaW1lUGlja2VyOiJSRFRQIixSYWRUaW1lUGlja2VyOiJSVFAiLFJhZE51bWVyaWNCb3g6IlJOVEIiLFJhZE1hc2tlZEJveDoiUk1UQiIsRmlsdGVyQnV0dG9uOiJGaWx0ZXJCdXR0b24iLENsZWFyRmlsdGVyQnV0dG9uOiJDbGVhckZpbHRlckJ1dHRvbiJ9LEZpcnN0RmlsdGVyVmFsdWVDb250cm9sOm51bGwsU2Vjb25kRmlsdGVyVmFsdWVDb250cm9sOm51bGwsRmlsdGVyQ29udHJvbHNUeXBlOm51bGwsZ2V0RmlsdGVyQ29udHJvbElEOmZ1bmN0aW9uKGksZSl7cmV0dXJuIHRoaXMuSWRQcmVmaXgraStlOwp9fTsKfXZhciBtPW51bGw7CmlmKG8uZmluZEl0ZW1CeVZhbHVlKCJGaWx0ZXJNZW51UGFyZW50IikmJm8uZmluZEl0ZW1CeVZhbHVlKCJGaWx0ZXJNZW51Q29udGFpbmVyIikmJnIuX2RhdGEuQWxsb3dGaWx0ZXJpbmcpe209by5maW5kSXRlbUJ5VmFsdWUoIkZpbHRlck1lbnVDb250YWluZXIiKS5nZXRfZWxlbWVudCgpOwp9ZWxzZXtpZihvLmZpbmRJdGVtQnlWYWx1ZSgiRmlsdGVyTWVudVBhcmVudCIpJiYkdGVsZXJpay5maW5kRWxlbWVudChvLmZpbmRJdGVtQnlWYWx1ZSgiRmlsdGVyTWVudVBhcmVudCIpLmdldF9lbGVtZW50KCksIkhDRk1GaWx0ZXJCdXR0b24iKSl7bT1vLmZpbmRJdGVtQnlWYWx1ZSgiRmlsdGVyTWVudVBhcmVudCIpLmdldF9lbGVtZW50KCk7Cn19aWYobSl7by50cmFja0NoYW5nZXMoKTsKdGhpcy5fb25Db250ZXh0TWVudUl0ZW1DbG9zaW5nRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUobyx0aGlzLl9vbkNvbnRleHRNZW51SXRlbUNsb3NpbmcpOwpvLmFkZF9pdGVtQ2xvc2luZyh0aGlzLl9vbkNvbnRleHRNZW51SXRlbUNsb3NpbmdEZWxlZ2F0ZSk7Cm8uY29tbWl0Q2hhbmdlcygpOwp0aGlzLl91cGRhdGVEaXNwbGF5SENNZW51RmlsdGVyQ29udHJvbHMobSxvLkZpbHRlckNvbnRyb2xzSURzSGVscGVyKTsKdGhpcy5fdXBkYXRlRmlsdGVyRnVuY3Rpb25zRm9ySENNZW51KG0sby5GaWx0ZXJDb250cm9sc0lEc0hlbHBlcik7CnRoaXMuX3VwZGF0ZUZpbHRlclZhbHVlc0ZvckhDTWVudShvLkZpbHRlckNvbnRyb2xzSURzSGVscGVyKTsKdmFyIHc9JHRlbGVyaWsuZmluZEVsZW1lbnQobSwiSENGTUZpbHRlckJ1dHRvbiIpOwp0aGlzLl9maWx0ZXJCdXR0b25DbGlja0RlbGVnYXRlPUZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fZmlsdGVyQnV0dG9uQ2xpY2tIYW5kbGVyKTsKd2luZG93LiRhZGRIYW5kbGVyKHcsImNsaWNrIix0aGlzLl9maWx0ZXJCdXR0b25DbGlja0RlbGVnYXRlKTsKdmFyIGY9JHRlbGVyaWsuZmluZEVsZW1lbnQobSwiSENGTUNsZWFyRmlsdGVyQnV0dG9uIik7CmYub25jbGljaz0iIjsKdGhpcy5fY2xlYXJGaWx0ZXJCdXR0b25DbGlja0RlbGVnYXRlPUZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fY2xlYXJGaWx0ZXJCdXR0b25DbGlja0hhbmRsZXIpOwp3aW5kb3cuJGFkZEhhbmRsZXIoZiwiY2xpY2siLHRoaXMuX2NsZWFyRmlsdGVyQnV0dG9uQ2xpY2tEZWxlZ2F0ZSk7Cn19ZWxzZXtpZihvLmZpbmRJdGVtQnlWYWx1ZSgiRmlsdGVyTWVudVBhcmVudCIpJiZ0aGlzLl9vd25lci5fZGF0YS5BbGxvd0ZpbHRlcmluZ0J5Q29sdW1uJiYhdGhpcy5fb3duZXIuX2RhdGEuZW5hYmxlSGVhZGVyQ29udGV4dEZpbHRlck1lbnUpe28uZmluZEl0ZW1CeVZhbHVlKCJGaWx0ZXJNZW51UGFyZW50Iikuc2V0X2VuYWJsZWQoZmFsc2UpOwp9ZWxzZXtpZihvLmZpbmRJdGVtQnlWYWx1ZSgiRmlsdGVyTWVudVBhcmVudCIpKXtvLmZpbmRJdGVtQnlWYWx1ZSgiRmlsdGVyTWVudVBhcmVudCIpLnNldF92aXNpYmxlKGZhbHNlKTsKaWYoby5maW5kSXRlbUJ5VmFsdWUoIkZpbHRlckxpc3QiKSl7by5maW5kSXRlbUJ5VmFsdWUoIkZpbHRlckxpc3QiKS5zZXRfdmlzaWJsZShmYWxzZSk7Cn19fWlmKG8uZmluZEl0ZW1CeVZhbHVlKCJmaWx0ZXJNZW51U2VwYXJhdG9yIikmJiF0aGlzLl9vd25lci5fZGF0YS5BbGxvd0ZpbHRlcmluZ0J5Q29sdW1uKXtvLmZpbmRJdGVtQnlWYWx1ZSgiZmlsdGVyTWVudVNlcGFyYXRvciIpLnNldF92aXNpYmxlKGZhbHNlKTsKfX12YXIgYj1vLmZpbmRJdGVtQnlWYWx1ZSgiQmVzdEZpdCIpOwppZihiKXtiLnNldF92aXNpYmxlKHRoaXMuZ2V0X3Jlc2l6YWJsZSgpKTsKYi5fY29sdW1uPXRoaXMuZ2V0X3Jlc2l6YWJsZSgpP3RoaXM6bnVsbDsKfXZhciBjPW8uZmluZEl0ZW1CeVZhbHVlKCJiZXN0Rml0U2VwYXJhdG9yIik7CmlmKGMpe2Muc2V0X3Zpc2libGUoYi5nZXRfdmlzaWJsZSgpKTsKfXZhciBEPW51bGw7CnZhciBrPW8uZmluZEl0ZW1CeVZhbHVlKCJDb2x1bW5zQ29udGFpbmVyIik7CmlmKGspe0Q9by5maW5kSXRlbUJ5VmFsdWUoIkNvbHVtbnNDb250YWluZXIiKS5nZXRfaXRlbXMoKTsKfWlmKEQpe2Zvcih2YXIgej0wLEc9RC5nZXRfY291bnQoKTsKejxHOwp6Kyspe0M9RC5nZXRJdGVtKHopOwpDLnNldF92aXNpYmxlKGZhbHNlKTsKZm9yKHZhciBFPTAsSD1yLmdldF9vd25lcigpLmdldF9jb2x1bW5zKCkubGVuZ3RoOwpFPEg7CkUrKyl7dmFyIGg9ci5nZXRfb3duZXIoKS5nZXRfY29sdW1ucygpW0VdOwppZihDLmdldF92YWx1ZSgpPT1TdHJpbmcuZm9ybWF0KCJ7MH18ezF9IixyLmdldF9vd25lcigpLl9kYXRhLkNsaWVudElELGguZ2V0X3VuaXF1ZU5hbWUoKSkpe0Muc2V0X3Zpc2libGUodHJ1ZSk7CnZhciBBPUMuZ2V0X2VsZW1lbnQoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKTsKaWYoQSYmQS5sZW5ndGgmJkFbMF0udHlwZT09ImNoZWNrYm94Iil7d2luZG93LiRhZGRIYW5kbGVyKEFbMF0sImNsaWNrIix0aGlzLl9jaGVja0JveENsaWNrSGFuZGxlcik7CmlmKGguZ2V0X3Zpc2libGUoKSl7QVswXS5jaGVja2VkPXRydWU7Cn1lbHNle0FbMF0uY2hlY2tlZD1mYWxzZTsKfUFbMF0uX2NvbHVtbj1oOwpBWzBdLl9pbmRleD1FOwpBcnJheS5hZGQodGhpcy5fY2hlY2tib3hlcyxBWzBdKTsKYnJlYWs7Cn19fX10aGlzLl9oYW5kbGVDb2x1bW5zQ2hlY2tib3hlc1N0YXRlKCk7Cn12YXIgYT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZEhlYWRlck1lbnVDYW5jZWxFdmVudEFyZ3ModGhpcyx2LG8pOwp0aGlzLl9vd25lci5fb3duZXIucmFpc2VfaGVhZGVyTWVudVNob3dpbmcoYSk7CmlmKGEuZ2V0X2NhbmNlbCgpKXtyZXR1cm47Cn12YXIgSj0kdGVsZXJpay5nZXRMb2NhdGlvbih0aGlzLmdldF9lbGVtZW50KCkpOwppZihCKXtpZihKKXt2YXIgRj1KLng7CnZhciBOPUoueTsKaWYoSyl7Rj1GK3BhcnNlSW50KEssMTApOwp9aWYoTCl7Tj1OK3BhcnNlSW50KEwsMTApOwp9by5zaG93QXQoRixOKTsKJHRlbGVyaWsuY2FuY2VsUmF3RXZlbnQodik7Cn19ZWxzZXt2YXIgTz0kdGVsZXJpay5nZXRUb3VjaEV2ZW50TG9jYXRpb24odiwiY2xpZW50Iik7CmlmKE8ueD09MCYmTy55PT0wJiZKKXt2YXIgZz10aGlzLmdldF9lbGVtZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Cm8uc2hvd0F0KEoueCsoZy5yaWdodC1nLmxlZnQpLzIsSi55KyhnLmJvdHRvbS1nLnRvcCkvMik7Cn1lbHNle28uc2hvdyh2KTsKfXZhciBxPW8uZ2V0X2l0ZW1zKCk7CmZvcih2YXIgTT0wOwpNPHEuZ2V0X2NvdW50KCk7Ck0rKyl7dmFyIHM9cS5nZXRJdGVtKE0pOwppZihzLl9saW5rRWxlbWVudCl7cy5fbGlua0VsZW1lbnQuZm9jdXMoKTsKYnJlYWs7Cn1lbHNle2lmKHMuX3RlbXBsYXRlRWxlbWVudCl7cy5fdGVtcGxhdGVFbGVtZW50LmZvY3VzKCk7CmJyZWFrOwp9fX19aWYodGhpcy5fb3duZXIuX293bmVyLl9lbmFibGVSaXBwbGVFZmZlY3Qpe3RoaXMuX2luaXRpYWxpemVDb250ZXh0TWVudUZpbHRlclJpcHBsZUVmZmVjdChvKTsKfX19LF9pbml0aWFsaXplQ29udGV4dE1lbnVGaWx0ZXJSaXBwbGVFZmZlY3Q6ZnVuY3Rpb24oYil7dmFyIGQ9Yi5nZXRfY29udGV4dE1lbnVFbGVtZW50KCk7CnZhciBlPVRlbGVyaWsuV2ViLlVJLk1hdGVyaWFsUmlwcGxlTWFuYWdlci5nZXRJbnN0YW5jZSgpOwp2YXIgYz0kdGVsZXJpay5maW5kRWxlbWVudChkLCJIQ0ZNRmlsdGVyQnV0dG9uIik7CnZhciBhPSR0ZWxlcmlrLmZpbmRFbGVtZW50KGQsIkhDRk1DbGVhckZpbHRlckJ1dHRvbiIpOwppZihlKXtpZihjKXtlLmluaXRpYWxpemVSaXBwbGUoYyk7Cn1pZihhKXtlLmluaXRpYWxpemVSaXBwbGUoYSk7Cn19fSxfdXBkYXRlRnJlZXplT3B0aW9uOmZ1bmN0aW9uKCl7dmFyIGc9dGhpcy5fb3duZXI7CnZhciBkPWcuX293bmVyOwp2YXIgYj1kLl9nZXRIZWFkZXJDb250ZXh0TWVudSgpOwp2YXIgZT1iLmZpbmRJdGVtQnlWYWx1ZSgiRnJlZXplIik7CnZhciBmPWIuZmluZEl0ZW1CeVZhbHVlKCJGcmVlemVTZXBhcmF0b3IiKTsKdmFyIGM9ZC5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuRnJvemVuQ29sdW1uc0NvdW50Owp2YXIgYT1BcnJheS5pbmRleE9mKGcuZ2V0X2NvbHVtbnMoKSx0aGlzKTsKaWYoZSl7ZS5zZXRfdmlzaWJsZSh0aGlzLmdldF9yZWFsT3duZXIoKS5nZXRfaWQoKT09ZC5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X2lkKCkpOwpmLnNldF92aXNpYmxlKHRoaXMuZ2V0X3JlYWxPd25lcigpLmdldF9pZCgpPT1kLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfaWQoKSk7CmlmKGE+PWMpe2Uuc2V0X3RleHQoZC5fZnJlZXplVGV4dCk7CmUuc2V0X2Nzc0NsYXNzKCJyZ0ZyZWV6ZSIpOwppZihkLl9yZW5kZXJNb2RlPT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLkxpdGUpeyR0ZWxlcmlrLiQoZS5nZXRfbGlua0VsZW1lbnQoKSkuY2hpbGRyZW4oIi5ybUljb24iKVswXS5jbGFzc05hbWU9InJtSWNvbiByZ0ZyZWV6ZUljb24iOwp9fWVsc2V7ZS5zZXRfdGV4dChkLl91bmZyZWV6ZVRleHQpOwplLnNldF9jc3NDbGFzcygicmdVbkZyZWV6ZSIpOwppZihkLl9yZW5kZXJNb2RlPT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLkxpdGUpeyR0ZWxlcmlrLiQoZS5nZXRfbGlua0VsZW1lbnQoKSkuY2hpbGRyZW4oIi5ybUljb24iKVswXS5jbGFzc05hbWU9InJtSWNvbiByZ1VuRnJlZXplSWNvbiI7Cn19ZS5fY29sdW1uPXRoaXM7Cn19LF90b2dnbGVGcmVlemU6ZnVuY3Rpb24oKXt2YXIgZz10aGlzLl9vd25lcjsKdmFyIGQ9Zy5fb3duZXI7CnZhciBjPXRoaXMuX293bmVyLl9vd25lci5fZ2V0SGVhZGVyQ29udGV4dE1lbnUoKTsKdmFyIGU9Yy5maW5kSXRlbUJ5VmFsdWUoIkZyZWV6ZSIpOwp2YXIgZj10aGlzLl9vd25lci5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nOwp2YXIgYT1BcnJheS5pbmRleE9mKGcuZ2V0X2NvbHVtbnMoKSx0aGlzKTsKdmFyIGI9ZC5DbGllbnRTZXR0aW5ncy5BbGxvd0NvbHVtbnNSZW9yZGVyOwpkLkNsaWVudFNldHRpbmdzLkFsbG93Q29sdW1uc1Jlb3JkZXI9dHJ1ZTsKaWYoZSl7aWYoYT49Zi5Gcm96ZW5Db2x1bW5zQ291bnQpe2cuX3Jlb3JkZXJDb2x1bW5zKHRoaXMuZ2V0X3VuaXF1ZU5hbWUoKSxnLmdldF9jb2x1bW5zKClbZi5Gcm96ZW5Db2x1bW5zQ291bnRdLmdldF91bmlxdWVOYW1lKCkpOwpmLkZyb3plbkNvbHVtbnNDb3VudCsrOwp9ZWxzZXtnLl9yZW9yZGVyQ29sdW1ucyh0aGlzLmdldF91bmlxdWVOYW1lKCksZy5nZXRfY29sdW1ucygpW2YuRnJvemVuQ29sdW1uc0NvdW50LTFdLmdldF91bmlxdWVOYW1lKCkpOwpmLkZyb3plbkNvbHVtbnNDb3VudC0tOwp9aWYoZC5fc2Nyb2xsaW5nLl9mcm96ZW5TY3JvbGwpe2QuX3Njcm9sbGluZy5fZnJvemVuU2Nyb2xsLnNjcm9sbExlZnQ9MDsKfWVsc2V7ZC5fc2Nyb2xsaW5nLl9zY3JvbGxUb0ZpcnN0Q29sdW1uKCk7Cn19ZC5DbGllbnRTZXR0aW5ncy5BbGxvd0NvbHVtbnNSZW9yZGVyPWI7Cn0sX3VwZGF0ZUZpbHRlclZhbHVlc0ZvckhDTWVudTpmdW5jdGlvbihnKXt2YXIgYz10aGlzLl9kYXRhLkN1cnJlbnRGaWx0ZXJWYWx1ZTsKdmFyIGE9dGhpcy5fZGF0YS5BbmRDdXJyZW50RmlsdGVyVmFsdWU7CmlmKGcuRmlyc3RGaWx0ZXJWYWx1ZUNvbnRyb2wpe2lmKGcuRmlsdGVyQ29udHJvbHNUeXBlPT1nLkZpbHRlckNvbnRyb2wuQ2hlY2tCb3gpe2lmKGMudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpPT0idHJ1ZSIpe2cuRmlyc3RGaWx0ZXJWYWx1ZUNvbnRyb2wuY2hlY2tlZD10cnVlOwp9ZWxzZXtnLkZpcnN0RmlsdGVyVmFsdWVDb250cm9sLmNoZWNrZWQ9ZmFsc2U7Cn19ZWxzZXtpZihnLkZpbHRlckNvbnRyb2xzVHlwZT09Zy5GaWx0ZXJDb250cm9sLlJhZFRleHRCb3h8fGcuRmlsdGVyQ29udHJvbHNUeXBlPT1nLkZpbHRlckNvbnRyb2wuUmFkTWFza2VkQm94fHxnLkZpbHRlckNvbnRyb2xzVHlwZT09Zy5GaWx0ZXJDb250cm9sLlJhZE51bWVyaWNCb3gpe2cuRmlyc3RGaWx0ZXJWYWx1ZUNvbnRyb2wuc2V0X3ZhbHVlKGMpOwp9ZWxzZXtpZihnLkZpbHRlckNvbnRyb2xzVHlwZT09Zy5GaWx0ZXJDb250cm9sLlJhZERhdGVJbnB1dHx8Zy5GaWx0ZXJDb250cm9sc1R5cGU9PWcuRmlsdGVyQ29udHJvbC5SYWREYXRlUGlja2VyfHxnLkZpbHRlckNvbnRyb2xzVHlwZT09Zy5GaWx0ZXJDb250cm9sLlJhZERhdGVUaW1lUGlja2VyfHxnLkZpbHRlckNvbnRyb2xzVHlwZT09Zy5GaWx0ZXJDb250cm9sLlJhZFRpbWVQaWNrZXIpe3ZhciBkPURhdGUucGFyc2VMb2NhbGUoYyk7CmlmKCFkKXt0cnl7ZD1uZXcgRGF0ZShjKTsKfWNhdGNoKGYpe319aWYoIWlzTmFOKGQpJiZkIT1udWxsJiZ0eXBlb2YoZCkhPSJ1bmRlZmluZWQiKXtnLkZpcnN0RmlsdGVyVmFsdWVDb250cm9sLnNldF9zZWxlY3RlZERhdGUoZCk7Cn19fX19aWYoZy5TZWNvbmRGaWx0ZXJWYWx1ZUNvbnRyb2wpe2lmKGcuRmlsdGVyQ29udHJvbHNUeXBlPT1nLkZpbHRlckNvbnRyb2wuQ2hlY2tCb3gpe2lmKGEudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpPT0idHJ1ZSIpe2cuU2Vjb25kRmlsdGVyVmFsdWVDb250cm9sLmNoZWNrZWQ9dHJ1ZTsKfWVsc2V7Zy5TZWNvbmRGaWx0ZXJWYWx1ZUNvbnRyb2wuY2hlY2tlZD1mYWxzZTsKfX1lbHNle2lmKGcuRmlsdGVyQ29udHJvbHNUeXBlPT1nLkZpbHRlckNvbnRyb2wuUmFkVGV4dEJveHx8Zy5GaWx0ZXJDb250cm9sc1R5cGU9PWcuRmlsdGVyQ29udHJvbC5SYWRNYXNrZWRCb3h8fGcuRmlsdGVyQ29udHJvbHNUeXBlPT1nLkZpbHRlckNvbnRyb2wuUmFkTnVtZXJpY0JveCl7Zy5TZWNvbmRGaWx0ZXJWYWx1ZUNvbnRyb2wuc2V0X3ZhbHVlKGEpOwp9ZWxzZXtpZihnLkZpbHRlckNvbnRyb2xzVHlwZT09Zy5GaWx0ZXJDb250cm9sLlJhZERhdGVJbnB1dHx8Zy5GaWx0ZXJDb250cm9sc1R5cGU9PWcuRmlsdGVyQ29udHJvbC5SYWREYXRlUGlja2VyfHxnLkZpbHRlckNvbnRyb2xzVHlwZT09Zy5GaWx0ZXJDb250cm9sLlJhZERhdGVUaW1lUGlja2VyfHxnLkZpbHRlckNvbnRyb2xzVHlwZT09Zy5GaWx0ZXJDb250cm9sLlJhZFRpbWVQaWNrZXIpe3ZhciBiPURhdGUucGFyc2VMb2NhbGUoYSk7CmlmKCFiKXt0cnl7Yj1uZXcgRGF0ZShhKTsKfWNhdGNoKGYpe319aWYoIWlzTmFOKGIpJiZiIT1udWxsJiZ0eXBlb2YoYikhPSJ1bmRlZmluZWQiKXtnLlNlY29uZEZpbHRlclZhbHVlQ29udHJvbC5zZXRfc2VsZWN0ZWREYXRlKGIpOwp9fX19fX0sX3VwZGF0ZUZpbHRlckZ1bmN0aW9uc0ZvckhDTWVudTpmdW5jdGlvbihlLGYpe3ZhciBkPXRoaXMuX2RhdGEuQ3VycmVudEZpbHRlckZ1bmN0aW9uTmFtZTsKdmFyIGE9dGhpcy5fZGF0YS5BbmRDdXJyZW50RmlsdGVyRnVuY3Rpb25OYW1lOwp2YXIgYz1mLmdldEZpbHRlckNvbnRyb2xJRChmLkZpbHRlckNvbnRyb2wuUmFkQ29tYm9Cb3gsZi5JZFN1ZmZpeC5GaXJzdENvbmQpOwp2YXIgYj0kdGVsZXJpay5maW5kQ29udHJvbChlLGMpOwp0aGlzLl9zZXRVcEhlYWRlckNvbnRleHRNZW51RmlsdGVyQ29udHJvbHMoYixkLHRoaXMuX2RhdGEuRGF0YVR5cGVOYW1lLHRoaXMuX2RhdGEuRmlsdGVyTGlzdE9wdGlvbnMpOwpjPWYuZ2V0RmlsdGVyQ29udHJvbElEKGYuRmlsdGVyQ29udHJvbC5SYWRDb21ib0JveCxmLklkU3VmZml4LlNlY29uZENvbmQpOwpiPSR0ZWxlcmlrLmZpbmRDb250cm9sKGUsYyk7CnRoaXMuX3NldFVwSGVhZGVyQ29udGV4dE1lbnVGaWx0ZXJDb250cm9scyhiLGEsdGhpcy5fZGF0YS5EYXRhVHlwZU5hbWUsdGhpcy5fZGF0YS5GaWx0ZXJMaXN0T3B0aW9ucyk7Cn0sX3VwZGF0ZURpc3BsYXlIQ01lbnVGaWx0ZXJDb250cm9sczpmdW5jdGlvbihhLGIpe3RoaXMuX3VwZGF0ZURpc3BsYXlIQ0ZpbHRlckJvdW5kQ29sdW1uQ29udHJvbHMoYSxiLGIuSWRTdWZmaXguRmlyc3RDb25kKTsKdGhpcy5fdXBkYXRlRGlzcGxheUhDRmlsdGVyQm91bmRDb2x1bW5Db250cm9scyhhLGIsYi5JZFN1ZmZpeC5TZWNvbmRDb25kKTsKdGhpcy5fdXBkYXRlRGlzcGxheUhDRmlsdGVyQ2hlY2tCb3hDb2x1bW5Db250cm9scyhhLGIsYi5JZFN1ZmZpeC5GaXJzdENvbmQpOwp0aGlzLl91cGRhdGVEaXNwbGF5SENGaWx0ZXJDaGVja0JveENvbHVtbkNvbnRyb2xzKGEsYixiLklkU3VmZml4LlNlY29uZENvbmQpOwp0aGlzLl91cGRhdGVEaXNwbGF5SENGaWx0ZXJQaWNrZXJDb250cm9scyhhLGIsYi5GaWx0ZXJDb250cm9sLlJhZERhdGVQaWNrZXIsIkRhdGVQaWNrZXIiLGIuSWRTdWZmaXguRmlyc3RDb25kKTsKdGhpcy5fdXBkYXRlRGlzcGxheUhDRmlsdGVyUGlja2VyQ29udHJvbHMoYSxiLGIuRmlsdGVyQ29udHJvbC5SYWREYXRlUGlja2VyLCJEYXRlUGlja2VyIixiLklkU3VmZml4LlNlY29uZENvbmQpOwp0aGlzLl91cGRhdGVEaXNwbGF5SENGaWx0ZXJQaWNrZXJDb250cm9scyhhLGIsYi5GaWx0ZXJDb250cm9sLlJhZERhdGVUaW1lUGlja2VyLCJEYXRlVGltZVBpY2tlciIsYi5JZFN1ZmZpeC5GaXJzdENvbmQpOwp0aGlzLl91cGRhdGVEaXNwbGF5SENGaWx0ZXJQaWNrZXJDb250cm9scyhhLGIsYi5GaWx0ZXJDb250cm9sLlJhZERhdGVUaW1lUGlja2VyLCJEYXRlVGltZVBpY2tlciIsYi5JZFN1ZmZpeC5TZWNvbmRDb25kKTsKdGhpcy5fdXBkYXRlRGlzcGxheUhDRmlsdGVyUGlja2VyQ29udHJvbHMoYSxiLGIuRmlsdGVyQ29udHJvbC5SYWRUaW1lUGlja2VyLCJUaW1lUGlja2VyIixiLklkU3VmZml4LkZpcnN0Q29uZCk7CnRoaXMuX3VwZGF0ZURpc3BsYXlIQ0ZpbHRlclBpY2tlckNvbnRyb2xzKGEsYixiLkZpbHRlckNvbnRyb2wuUmFkVGltZVBpY2tlciwiVGltZVBpY2tlciIsYi5JZFN1ZmZpeC5TZWNvbmRDb25kKTsKdGhpcy5fdXBkYXRlRGlzcGxheUhDRmlsdGVyUGlja2VyQ29udHJvbHMoYSxiLGIuRmlsdGVyQ29udHJvbC5SYWREYXRlSW5wdXQsIk5vbmUiLGIuSWRTdWZmaXguRmlyc3RDb25kKTsKdGhpcy5fdXBkYXRlRGlzcGxheUhDRmlsdGVyUGlja2VyQ29udHJvbHMoYSxiLGIuRmlsdGVyQ29udHJvbC5SYWREYXRlSW5wdXQsIk5vbmUiLGIuSWRTdWZmaXguU2Vjb25kQ29uZCk7CnRoaXMuX3VwZGF0ZURpc3BsYXlIQ0ZpbHRlck1hc2tlZEJveENvbnRyb2xzKGEsYixiLklkU3VmZml4LkZpcnN0Q29uZCk7CnRoaXMuX3VwZGF0ZURpc3BsYXlIQ0ZpbHRlck1hc2tlZEJveENvbnRyb2xzKGEsYixiLklkU3VmZml4LlNlY29uZENvbmQpOwp0aGlzLl91cGRhdGVEaXNwbGF5SENGaWx0ZXJOdW1lcmljQm94Q29udHJvbHMoYSxiLGIuSWRTdWZmaXguRmlyc3RDb25kKTsKdGhpcy5fdXBkYXRlRGlzcGxheUhDRmlsdGVyTnVtZXJpY0JveENvbnRyb2xzKGEsYixiLklkU3VmZml4LlNlY29uZENvbmQpOwp9LF91cGRhdGVEaXNwbGF5SENGaWx0ZXJCb3VuZENvbHVtbkNvbnRyb2xzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgYT1jLmdldEZpbHRlckNvbnRyb2xJRChjLkZpbHRlckNvbnRyb2wuUmFkVGV4dEJveCxkKTsKdmFyIGU9JHRlbGVyaWsuZmluZENvbnRyb2woYixhKTsKaWYoZSl7aWYodGhpcy5fZGF0YS5Db2x1bW5UeXBlIT0iR3JpZERhdGVUaW1lQ29sdW1uIiYmdGhpcy5fZGF0YS5Db2x1bW5UeXBlIT0iR3JpZE1hc2tlZENvbHVtbiImJnRoaXMuX2RhdGEuQ29sdW1uVHlwZSE9IkdyaWROdW1lcmljQ29sdW1uIiYmdGhpcy5fZGF0YS5Db2x1bW5UeXBlIT0iR3JpZENoZWNrQm94Q29sdW1uIiYmdGhpcy5fZGF0YS5EYXRhVHlwZU5hbWUhPSJTeXN0ZW0uQm9vbGVhbiImJnRoaXMuX2RhdGEuQ29sdW1uVHlwZSE9IkdyaWRSYXRpbmdDb2x1bW4iKXtpZihkPT1jLklkU3VmZml4LkZpcnN0Q29uZCl7Yy5GaXJzdEZpbHRlclZhbHVlQ29udHJvbD1lOwp9ZWxzZXtjLlNlY29uZEZpbHRlclZhbHVlQ29udHJvbD1lOwp9Yy5GaWx0ZXJDb250cm9sc1R5cGU9Yy5GaWx0ZXJDb250cm9sLlJhZFRleHRCb3g7CmUuc2V0X3Zpc2libGUodHJ1ZSk7CmlmKHRoaXMuX2RhdGEuRmlsdGVyQ29udHJvbFdpZHRoKXtlLl9vcmlnaW5hbFRleHRCb3hDc3NUZXh0PXRoaXMuX2FkanVzdEhDRmlsdGVyTWVudUlucHV0Q29udHJvbHNXaWR0aChlLl9vcmlnaW5hbFRleHRCb3hDc3NUZXh0LHRoaXMuX2RhdGEuRmlsdGVyQ29udHJvbFdpZHRoLlZhbHVlKTsKfX1lbHNle2Uuc2V0X3Zpc2libGUoZmFsc2UpOwp9fX0sX3VwZGF0ZURpc3BsYXlIQ0ZpbHRlclBpY2tlckNvbnRyb2xzOmZ1bmN0aW9uKGQsZSxjLGcsZil7dmFyIGE9ZS5nZXRGaWx0ZXJDb250cm9sSUQoYyxmKTsKdmFyIGI9JHRlbGVyaWsuZmluZENvbnRyb2woZCxhKTsKaWYoYil7aWYodGhpcy5fZGF0YS5QaWNrZXJUeXBlIT1nKXtiLnNldF92aXNpYmxlKGZhbHNlKTsKfWVsc2V7aWYoZj09ZS5JZFN1ZmZpeC5GaXJzdENvbmQpe2UuRmlyc3RGaWx0ZXJWYWx1ZUNvbnRyb2w9YjsKfWVsc2V7ZS5TZWNvbmRGaWx0ZXJWYWx1ZUNvbnRyb2w9YjsKfWUuRmlsdGVyQ29udHJvbHNUeXBlPWM7CmIuc2V0X3Zpc2libGUodHJ1ZSk7CmlmKHRoaXMuX2RhdGEuRmlsdGVyQ29udHJvbFdpZHRoKXtpZihjPT1lLkZpbHRlckNvbnRyb2wuUmFkRGF0ZUlucHV0KXtiLl9vcmlnaW5hbFRleHRCb3hDc3NUZXh0PXRoaXMuX2FkanVzdEhDRmlsdGVyTWVudUlucHV0Q29udHJvbHNXaWR0aChiLl9vcmlnaW5hbFRleHRCb3hDc3NUZXh0LHRoaXMuX2RhdGEuRmlsdGVyQ29udHJvbFdpZHRoLlZhbHVlKTsKfWVsc2V7dGhpcy5fYWRqdXN0SENGaWx0ZXJNZW51UGlja2VyQ29udHJvbHNXaWR0aChiLHRoaXMuX2RhdGEuRmlsdGVyQ29udHJvbFdpZHRoLlZhbHVlKTsKfX1pZih0aGlzLl9kYXRhLk1pbkRhdGUpe2Iuc2V0X21pbkRhdGUobmV3IERhdGUodGhpcy5fZGF0YS5NaW5EYXRlKSk7Cn1pZih0aGlzLl9kYXRhLk1heERhdGUpe2Iuc2V0X21heERhdGUobmV3IERhdGUodGhpcy5fZGF0YS5NYXhEYXRlKSk7Cn19fX0sX3VwZGF0ZURpc3BsYXlIQ0ZpbHRlckNoZWNrQm94Q29sdW1uQ29udHJvbHM6ZnVuY3Rpb24oYyxkLGUpe3ZhciBiPWQuZ2V0RmlsdGVyQ29udHJvbElEKGQuRmlsdGVyQ29udHJvbC5DaGVja0JveCxlKTsKdmFyIGE9JHRlbGVyaWsuZmluZEVsZW1lbnQoYyxiKTsKaWYoYSl7aWYodGhpcy5fZGF0YS5Db2x1bW5UeXBlPT0iR3JpZENoZWNrQm94Q29sdW1uInx8dGhpcy5fZGF0YS5EYXRhVHlwZU5hbWU9PSJTeXN0ZW0uQm9vbGVhbiIpe2Euc3R5bGUuZGlzcGxheT0iYmxvY2siOwppZihlPT1kLklkU3VmZml4LkZpcnN0Q29uZCl7ZC5GaXJzdEZpbHRlclZhbHVlQ29udHJvbD1hOwpkLkZpbHRlckNvbnRyb2xzVHlwZT1kLkZpbHRlckNvbnRyb2wuQ2hlY2tCb3g7Cn1lbHNle2QuU2Vjb25kRmlsdGVyVmFsdWVDb250cm9sPWE7CmQuRmlsdGVyQ29udHJvbHNUeXBlPWQuRmlsdGVyQ29udHJvbC5DaGVja0JveDsKfX1lbHNle2Euc3R5bGUuZGlzcGxheT0ibm9uZSI7Cn19fSxfdXBkYXRlRGlzcGxheUhDRmlsdGVyTWFza2VkQm94Q29udHJvbHM6ZnVuY3Rpb24oYyxlLGYpe3ZhciBiPWUuZ2V0RmlsdGVyQ29udHJvbElEKGUuRmlsdGVyQ29udHJvbC5SYWRNYXNrZWRCb3gsZik7CnZhciBhPSR0ZWxlcmlrLmZpbmRDb250cm9sKGMsYik7CmlmKGEpe2lmKHRoaXMuX2RhdGEuQ29sdW1uVHlwZSE9IkdyaWRNYXNrZWRDb2x1bW4iKXthLnNldF92aXNpYmxlKGZhbHNlKTsKfWVsc2V7aWYoZj09ZS5JZFN1ZmZpeC5GaXJzdENvbmQpe2UuRmlyc3RGaWx0ZXJWYWx1ZUNvbnRyb2w9YTsKfWVsc2V7ZS5TZWNvbmRGaWx0ZXJWYWx1ZUNvbnRyb2w9YTsKfWUuRmlsdGVyQ29udHJvbHNUeXBlPWUuRmlsdGVyQ29udHJvbC5SYWRNYXNrZWRCb3g7CmEuc2V0X3Zpc2libGUodHJ1ZSk7CmlmKHRoaXMuX2RhdGEuTWFzayE9bnVsbCYmdHlwZW9mKHRoaXMuX2RhdGEuTWFzaykhPSJ1bmRlZmluZWQiKXt2YXIgZz1bXTsKdmFyIGg9dGhpcy5fZGF0YS5NYXNrLnNwbGl0KCIsIik7CmZvcih2YXIgZD0wOwpkPGgubGVuZ3RoOwpkKyspe2cucHVzaChldmFsKGhbZF0pKTsKfWEuX2xlbmd0aD0wOwphLl9zZXRNYXNrKGcpOwppZih0aGlzLl9kYXRhLkZpbHRlckNvbnRyb2xXaWR0aCl7YS5fb3JpZ2luYWxUZXh0Qm94Q3NzVGV4dD10aGlzLl9hZGp1c3RIQ0ZpbHRlck1lbnVJbnB1dENvbnRyb2xzV2lkdGgoYS5fb3JpZ2luYWxUZXh0Qm94Q3NzVGV4dCx0aGlzLl9kYXRhLkZpbHRlckNvbnRyb2xXaWR0aC5WYWx1ZSk7Cn19fX19LF91cGRhdGVEaXNwbGF5SENGaWx0ZXJOdW1lcmljQm94Q29udHJvbHM6ZnVuY3Rpb24oYyxkLGUpe3ZhciBiPWQuZ2V0RmlsdGVyQ29udHJvbElEKGQuRmlsdGVyQ29udHJvbC5SYWROdW1lcmljQm94LGUpOwp2YXIgYT0kdGVsZXJpay5maW5kQ29udHJvbChjLGIpOwppZihhKXtpZih0aGlzLl9kYXRhLkNvbHVtblR5cGUhPSJHcmlkTnVtZXJpY0NvbHVtbiImJnRoaXMuX2RhdGEuQ29sdW1uVHlwZSE9IkdyaWRSYXRpbmdDb2x1bW4iKXthLnNldF92aXNpYmxlKGZhbHNlKTsKfWVsc2V7ZC5GaWx0ZXJDb250cm9sc1R5cGU9ZC5GaWx0ZXJDb250cm9sLlJhZE51bWVyaWNCb3g7CmlmKGU9PWQuSWRTdWZmaXguRmlyc3RDb25kKXtkLkZpcnN0RmlsdGVyVmFsdWVDb250cm9sPWE7Cn1lbHNle2QuU2Vjb25kRmlsdGVyVmFsdWVDb250cm9sPWE7Cn12YXIgZj1hLmdldF9udW1iZXJGb3JtYXQoKTsKaWYodGhpcy5fZGF0YS5OZWdhdGl2ZVBhdHRlcm4hPW51bGwmJnR5cGVvZih0aGlzLl9kYXRhLk5lZ2F0aXZlUGF0dGVybikhPSJ1bmRlZmluZWQiKXtmLk5lZ2F0aXZlUGF0dGVybj10aGlzLl9kYXRhLk5lZ2F0aXZlUGF0dGVybjsKfWlmKHRoaXMuX2RhdGEuUG9zaXRpdmVQYXR0ZXJuIT1udWxsJiZ0eXBlb2YodGhpcy5fZGF0YS5Qb3NpdGl2ZVBhdHRlcm4pIT0idW5kZWZpbmVkIil7Zi5Qb3NpdGl2ZVBhdHRlcm49dGhpcy5fZGF0YS5Qb3NpdGl2ZVBhdHRlcm47Cn1pZih0aGlzLl9kYXRhLkFsbG93Um91bmRpbmchPW51bGwmJnR5cGVvZih0aGlzLl9kYXRhLkFsbG93Um91bmRpbmcpIT0idW5kZWZpbmVkIil7Zi5BbGxvd1JvdW5kaW5nPXRoaXMuX2RhdGEuQWxsb3dSb3VuZGluZzsKfWlmKHRoaXMuX2RhdGEuS2VlcE5vdFJvdW5kZWRWYWx1ZSE9bnVsbCYmdHlwZW9mKHRoaXMuX2RhdGEuS2VlcE5vdFJvdW5kZWRWYWx1ZSkhPSJ1bmRlZmluZWQiKXtmLktlZXBOb3RSb3VuZGVkVmFsdWU9dGhpcy5fZGF0YS5LZWVwTm90Um91bmRlZFZhbHVlOwp9YS5zZXRfbnVtYmVyRm9ybWF0KGYpOwphLnNldF92aXNpYmxlKHRydWUpOwp9fX0sX2FkanVzdEhDRmlsdGVyTWVudUlucHV0Q29udHJvbHNXaWR0aDpmdW5jdGlvbihhLGIpe2lmKGEuc2VhcmNoKC8oXnxbXi1dKXdpZHRoL2kpIT0tMSl7YT1hLnJlcGxhY2UoLyhefFteLV0pd2lkdGgoXHMqKTooXHMqKShbXjtdKyk7L2ksIiQxV0lEVEg6IitiKyJweDsiKTsKfWVsc2V7YSs9IldJRFRIOiIrYisicHg7IjsKfXJldHVybiBhOwp9LF9hZGp1c3RIQ0ZpbHRlck1lbnVQaWNrZXJDb250cm9sc1dpZHRoOmZ1bmN0aW9uKGIsYSl7JGdldChiLmdldF9pZCgpKyJfd3JhcHBlciIpLnN0eWxlLndpZHRoPWE7Cn0sX3NldFVwSGVhZGVyQ29udGV4dE1lbnVGaWx0ZXJDb250cm9sczpmdW5jdGlvbihjLGQsYixlKXt2YXIgYT1jLmdldF9pdGVtcygpLnRvQXJyYXkoKTsKZm9yKHZhciBmPTA7CmY8YS5sZW5ndGg7CmYrKyl7dmFyIGc9YVtmXTsKaWYoYj09IlN5c3RlbS5Cb29sZWFuIil7aWYoKGcuZ2V0X3ZhbHVlKCk9PSJHcmVhdGVyVGhhbiIpfHwoZy5nZXRfdmFsdWUoKT09Ikxlc3NUaGFuIil8fChnLmdldF92YWx1ZSgpPT0iR3JlYXRlclRoYW5PckVxdWFsVG8iKXx8KGcuZ2V0X3ZhbHVlKCk9PSJMZXNzVGhhbk9yRXF1YWxUbyIpKXtnLnNldF92aXNpYmxlKGZhbHNlKTsKY29udGludWU7Cn19aWYoYiE9IlN5c3RlbS5TdHJpbmciKXtpZigoZy5nZXRfdmFsdWUoKT09IlN0YXJ0c1dpdGgiKXx8KGcuZ2V0X3ZhbHVlKCk9PSJFbmRzV2l0aCIpfHwoZy5nZXRfdmFsdWUoKT09IkNvbnRhaW5zIil8fChnLmdldF92YWx1ZSgpPT0iRG9lc05vdENvbnRhaW4iKXx8KGcuZ2V0X3ZhbHVlKCk9PSJJc0VtcHR5Iil8fChnLmdldF92YWx1ZSgpPT0iTm90SXNFbXB0eSIpKXtnLnNldF92aXNpYmxlKGZhbHNlKTsKY29udGludWU7Cn19aWYoZT09MCl7aWYoZy5nZXRfdmFsdWUoKT09IkN1c3RvbSIpe2cuc2V0X3Zpc2libGUoZmFsc2UpOwpjb250aW51ZTsKfX1pZihnLmdldF92YWx1ZSgpPT1kKXtnLnNlbGVjdCgpOwp9Zy5zZXRfdmlzaWJsZSh0cnVlKTsKfX0sX2ZpbHRlckJ1dHRvbkNsaWNrSGFuZGxlcjpmdW5jdGlvbihhKXt2YXIgYz10aGlzLl9vd25lci5fb3duZXIuX2dldEhlYWRlckNvbnRleHRNZW51KCk7CnZhciBkPXRoaXM7CnZhciBtPWMuRmlsdGVyQ29udHJvbHNJRHNIZWxwZXI7CnZhciBlPWQuX2RhdGEuRGF0YUZpZWxkOwppZihkLl9kYXRhLkRhdGFUZXh0RmllbGQpe2U9ZC5fZGF0YS5EYXRhVGV4dEZpZWxkOwp9ZWxzZXtpZihkLl9kYXRhLkRhdGFBbHRlcm5hdGVUZXh0RmllbGQpe2U9ZC5fZGF0YS5EYXRhQWx0ZXJuYXRlVGV4dEZpZWxkOwp9fXZhciBpPW0uZ2V0RmlsdGVyQ29udHJvbElEKG0uRmlsdGVyQ29udHJvbC5SYWRDb21ib0JveCxtLklkU3VmZml4LkZpcnN0Q29uZCk7CnZhciBqPShjLmZpbmRJdGVtQnlWYWx1ZSgiRmlsdGVyTWVudUNvbnRhaW5lciIpfHxjLmZpbmRJdGVtQnlWYWx1ZSgiRmlsdGVyTWVudVBhcmVudCIpKS5maW5kQ29udHJvbChpKS5nZXRfc2VsZWN0ZWRJdGVtKCkuZ2V0X3ZhbHVlKCk7CnZhciBxPW0uZ2V0RmlsdGVyQ29udHJvbElEKG0uRmlsdGVyQ29udHJvbC5SYWRDb21ib0JveCxtLklkU3VmZml4LlNlY29uZENvbmQpOwp2YXIgcj0oYy5maW5kSXRlbUJ5VmFsdWUoIkZpbHRlck1lbnVDb250YWluZXIiKXx8Yy5maW5kSXRlbUJ5VmFsdWUoIkZpbHRlck1lbnVQYXJlbnQiKSkuZmluZENvbnRyb2wocSkuZ2V0X3NlbGVjdGVkSXRlbSgpLmdldF92YWx1ZSgpOwp2YXIgazsKdmFyIHM7CnZhciB0PXRydWU7CmlmKG0uRmlsdGVyQ29udHJvbHNUeXBlPT1tLkZpbHRlckNvbnRyb2wuUmFkVGV4dEJveHx8bS5GaWx0ZXJDb250cm9sc1R5cGU9PW0uRmlsdGVyQ29udHJvbC5SYWRNYXNrZWRCb3h8fG0uRmlsdGVyQ29udHJvbHNUeXBlPT1tLkZpbHRlckNvbnRyb2wuUmFkTnVtZXJpY0JveCl7az1tLkZpcnN0RmlsdGVyVmFsdWVDb250cm9sLmdldF92YWx1ZSgpOwpzPW0uU2Vjb25kRmlsdGVyVmFsdWVDb250cm9sLmdldF92YWx1ZSgpOwp9ZWxzZXtpZihtLkZpbHRlckNvbnRyb2xzVHlwZT09bS5GaWx0ZXJDb250cm9sLkNoZWNrQm94KXtrPW0uRmlyc3RGaWx0ZXJWYWx1ZUNvbnRyb2wuY2hlY2tlZDsKcz1tLlNlY29uZEZpbHRlclZhbHVlQ29udHJvbC5jaGVja2VkOwp0PWZhbHNlOwp9ZWxzZXt2YXIgZj0oZnVuY3Rpb24odSl7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybih1PT1tLkZpbHRlckNvbnRyb2wuUmFkRGF0ZUlucHV0KT92Ll9kYXRlRm9ybWF0OnYuX2RhdGVJbnB1dC5fZGF0ZUZvcm1hdDsKfTsKfShtLkZpbHRlckNvbnRyb2xzVHlwZSkpOwp2YXIgaD1tLkZpcnN0RmlsdGVyVmFsdWVDb250cm9sLmdldF9zZWxlY3RlZERhdGUoKTsKaWYoISFoKXtrPWgubG9jYWxlRm9ybWF0KGYobS5GaXJzdEZpbHRlclZhbHVlQ29udHJvbCkpOwp9dmFyIHA9bS5TZWNvbmRGaWx0ZXJWYWx1ZUNvbnRyb2wuZ2V0X3NlbGVjdGVkRGF0ZSgpOwppZighIXApe3M9cC5sb2NhbGVGb3JtYXQoZihtLlNlY29uZEZpbHRlclZhbHVlQ29udHJvbCkpOwp9fX1pZih0KXtpZih0eXBlb2Yoayk9PSJ1bmRlZmluZWQifHxrPT1udWxsKXtrPSIiOwp9ZWxzZXtrPWsudG9TdHJpbmcoKTsKfWlmKHR5cGVvZihzKT09InVuZGVmaW5lZCJ8fHM9PW51bGwpe3M9IiI7Cn1lbHNle3M9cy50b1N0cmluZygpOwp9az1rLnJlcGxhY2UoL1xcL2csIlxcXFwiKS5yZXBsYWNlKC8nL2csIlxcJyIpOwpzPXMucmVwbGFjZSgvXFwvZywiXFxcXCIpLnJlcGxhY2UoLycvZywiXFwnIik7Cn1hLnByZXZlbnREZWZhdWx0KCk7CnZhciBvPXRoaXMuX293bmVyOwp2YXIgYj1kLl9kYXRhLlVuaXF1ZU5hbWUrInw/IitqKyJ8IitrKyJ8PyIrcisifCIrczsKdmFyIGw9JGZpbmQoby5nZXRfb3duZXIoKS5nZXRfaWQoKSk7CnZhciBuPXR5cGVvZihsLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkxvY2F0aW9uKSE9InVuZGVmaW5lZCImJmwuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuTG9jYXRpb24hPSIiJiYhbC5nZXRfbWFzdGVyVGFibGVWaWV3KCkuX3ZpcnR1YWxpemF0aW9uOwppZihufHxsLl9jbGllbnREYXRhU291cmNlSUQpe3doaWxlKG8uX2ZpbHRlckV4cHJlc3Npb25zLmdldF9jb3VudCgpIT0wKXt2YXIgZz1vLl9maWx0ZXJFeHByZXNzaW9ucy5nZXRJdGVtKDApOwppZihnLmdldF9jb2x1bW5VbmlxdWVOYW1lKCk9PWQuX2RhdGEuVW5pcXVlTmFtZSl7by5fZmlsdGVyRXhwcmVzc2lvbnMucmVtb3ZlKGcpOwp9fWlmKGohPSJOb0ZpbHRlciImJmshPT0iIil7by5maWx0ZXIoZC5fZGF0YS5VbmlxdWVOYW1lLGssaix0cnVlLHRydWUpOwp9aWYociE9Ik5vRmlsdGVyIiYmcyE9PSIiKXtvLmZpbHRlcihkLl9kYXRhLlVuaXF1ZU5hbWUscyxyLGZhbHNlLHRydWUpOwp9ZC5fZGF0YS5DdXJyZW50RmlsdGVyRnVuY3Rpb25OYW1lPWo7CmQuX2RhdGEuQW5kQ3VycmVudEZpbHRlckZ1bmN0aW9uTmFtZT1yOwpkLl9kYXRhLkN1cnJlbnRGaWx0ZXJWYWx1ZT1rOwpkLl9kYXRhLkFuZEN1cnJlbnRGaWx0ZXJWYWx1ZT1zOwppZihqPT0iTm9GaWx0ZXIiKXtkLl9kYXRhLkN1cnJlbnRGaWx0ZXJWYWx1ZT0iIjsKfWlmKHI9PSJOb0ZpbHRlciIpe2QuX2RhdGEuQW5kQ3VycmVudEZpbHRlclZhbHVlPSIiOwp9aWYoaj09Ik5vRmlsdGVyInx8cj09Ik5vRmlsdGVyIil7Yz1vLl9vd25lci5fZ2V0SGVhZGVyQ29udGV4dE1lbnUoKTsKdGhpcy5fdXBkYXRlRmlsdGVyVmFsdWVzRm9ySENNZW51KGMuRmlsdGVyQ29udHJvbHNJRHNIZWxwZXIpOwppZihqPT0iTm9GaWx0ZXIiKXtvLl91cGRhdGVGaWx0ZXJDb250cm9sVmFsdWUoIiIsdGhpcy5fZGF0YS5VbmlxdWVOYW1lLCJOb0ZpbHRlciIpOwp9fW8uZmlyZUNvbW1hbmQoIkhlYWRlckNvbnRleHRNZW51RmlsdGVyIixiKTsKaWYobC5fY2xpZW50RGF0YVNvdXJjZUlEJiZjKXtjLmhpZGUoKTsKfX1lbHNle28uZmlyZUNvbW1hbmQoIkhlYWRlckNvbnRleHRNZW51RmlsdGVyIixiKTsKfXJldHVybiBmYWxzZTsKfSxfY2xlYXJGaWx0ZXJCdXR0b25DbGlja0hhbmRsZXI6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5fb3duZXIuX293bmVyLl9nZXRIZWFkZXJDb250ZXh0TWVudSgpOwp2YXIgYj10aGlzLl9kYXRhLlVuaXF1ZU5hbWUrInw/Tm9GaWx0ZXJ8fD9Ob0ZpbHRlcnwiOwphLnByZXZlbnREZWZhdWx0KCk7CnZhciBqPXRoaXMuX293bmVyOwp2YXIgaD0kZmluZChqLmdldF9vd25lcigpLmdldF9pZCgpKTsKdmFyIGk9dHlwZW9mKGguQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuTG9jYXRpb24pIT0idW5kZWZpbmVkIiYmaC5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5Mb2NhdGlvbiE9IiImJiFoLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5fdmlydHVhbGl6YXRpb247CmlmKGl8fGguX2NsaWVudERhdGFTb3VyY2VJRCl7Yz1qLl9vd25lci5fZ2V0SGVhZGVyQ29udGV4dE1lbnUoKTsKdmFyIGQ9dGhpczsKZC5fZGF0YS5DdXJyZW50RmlsdGVyRnVuY3Rpb25OYW1lPSJOb0ZpbHRlciI7CmQuX2RhdGEuQW5kQ3VycmVudEZpbHRlckZ1bmN0aW9uTmFtZT0iTm9GaWx0ZXIiOwpkLl9kYXRhLkN1cnJlbnRGaWx0ZXJWYWx1ZT0iIjsKZC5fZGF0YS5BbmRDdXJyZW50RmlsdGVyVmFsdWU9IiI7CmouX3VwZGF0ZUZpbHRlckNvbnRyb2xWYWx1ZSgiIixkLl9kYXRhLlVuaXF1ZU5hbWUsIk5vRmlsdGVyIik7CnRoaXMuc2V0X2ZpbHRlckZ1bmN0aW9uKCJOb0ZpbHRlciIpOwpqLl9maWx0ZXJFeHByZXNzaW9ucy5jbGVhcigpOwp2YXIgZT0kdGVsZXJpay5nZXRFbGVtZW50QnlDbGFzc05hbWUoai5fZ2V0RmlsdGVyQ2VsbEJ5Q29sdW1uVW5pcXVlTmFtZShkLl9kYXRhLlVuaXF1ZU5hbWUpLCJyZ0ZpbHRlciIpOwpTeXMuVUkuRG9tRWxlbWVudC5yZW1vdmVDc3NDbGFzcyhlLCJyZ0ZpbHRlcmVkIik7CnZhciBnPWMuZmluZEl0ZW1CeVZhbHVlKCJGaWx0ZXJNZW51Q29udGFpbmVyIil8fGMuZmluZEl0ZW1CeVZhbHVlKCJGaWx0ZXJNZW51UGFyZW50Iik7CnRoaXMuX3VwZGF0ZURpc3BsYXlIQ01lbnVGaWx0ZXJDb250cm9scyhnLmdldF9lbGVtZW50KCksYy5GaWx0ZXJDb250cm9sc0lEc0hlbHBlcik7CnRoaXMuX3VwZGF0ZUZpbHRlckZ1bmN0aW9uc0ZvckhDTWVudShnLmdldF9lbGVtZW50KCksYy5GaWx0ZXJDb250cm9sc0lEc0hlbHBlcik7CnRoaXMuX3VwZGF0ZUZpbHRlclZhbHVlc0ZvckhDTWVudShjLkZpbHRlckNvbnRyb2xzSURzSGVscGVyKTsKfWlmKGguX2ZpbHRlckNoZWNrTGlzdENsaWVudElEKXt2YXIgZj0kZmluZChoLl9maWx0ZXJDaGVja0xpc3RDbGllbnRJRCk7CmguX3Jlc2V0Q2hlY2tMaXN0RmlsdGVyT2ZDb2x1bW4odGhpcyk7CmYudW5jaGVja0l0ZW1zKGYuZ2V0X2NoZWNrZWRJdGVtcygpKTsKaWYoaC5fZmlsdGVyQ2hlY2tMaXN0U2VhcmNoKXskZmluZChoLl9maWx0ZXJDaGVja0xpc3RTZWFyY2guaWQpLnNldF92YWx1ZSgiIik7Cn1oLnVwZGF0ZUNsaWVudFN0YXRlKCk7Cn1qLmZpcmVDb21tYW5kKCJIZWFkZXJDb250ZXh0TWVudUZpbHRlciIsYik7CmlmKGguX2NsaWVudERhdGFTb3VyY2VJRCYmYyl7Yy5oaWRlKCk7Cn1yZXR1cm4gZmFsc2U7Cn0sX2NoZWNrQm94Q2xpY2tIYW5kbGVyOmZ1bmN0aW9uKGEpe3ZhciBlPSRmaW5kKHRoaXMuX2NvbHVtbi5nZXRfb3duZXIoKS5nZXRfaWQoKSk7CmlmKCFlKXtyZXR1cm47Cn1pZighdGhpcy5jaGVja2VkKXtlLmhpZGVDb2x1bW4odGhpcy5faW5kZXgpOwp9ZWxzZXtlLnNob3dDb2x1bW4odGhpcy5faW5kZXgpOwp9dGhpcy5fY29sdW1uLl9oYW5kbGVDb2x1bW5zQ2hlY2tib3hlc1N0YXRlKCk7CmlmKCR0ZWxlcmlrLmlzSUU4fHwkdGVsZXJpay5pc0lFOSl7dmFyIGM9ZS5fb3duZXIuZ2V0X2VsZW1lbnQoKTsKdmFyIGI9Yy5zdHlsZS5kaXNwbGF5OwpjLnN0eWxlLmRpc3BsYXk9Im5vbmUiOwp2YXIgZD1jLm9mZnNldEhlaWdodDsKYy5zdHlsZS5kaXNwbGF5PWI7Cn19LF9oYW5kbGVDb2x1bW5zQ2hlY2tib3hlc1N0YXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5nZXRfb3duZXIoKS5nZXRfb3duZXIoKTsKaWYoZCl7dmFyIGY9ZC5nZXRfaGVhZGVyTWVudSgpLmZpbmRJdGVtQnlWYWx1ZSgiQ29sdW1uc0NvbnRhaW5lciIpOwppZighZil7cmV0dXJuOwp9dmFyIGM9Zi5nZXRfaXRlbXMoKTsKaWYoIWMpe3JldHVybjsKfXZhciBiPW51bGw7CnZhciBhPW51bGw7CnZhciBnOwpmb3IodmFyIGU9MCxoPWMuZ2V0X2NvdW50KCk7CmU8aDsKZSsrKXtiPWMuZ2V0SXRlbShlKTsKaWYoIWIuZ2V0X3Zpc2libGUoKSl7Y29udGludWU7Cn1hPWIuZ2V0X2VsZW1lbnQoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXTsKYS5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik7CmlmKGEuY2hlY2tlZCl7aWYoZyl7Zz1udWxsOwpicmVhazsKfWc9YTsKfX1pZihnKXtnLmRpc2FibGVkPSJkaXNhYmxlZCI7Cn19fSxfb25Db250ZXh0TWVudUl0ZW1DbG9zaW5nOmZ1bmN0aW9uKGIsYSl7aWYoYS5nZXRfaXRlbSgpLmdldF92YWx1ZSgpPT0iRmlsdGVyTWVudVBhcmVudCImJmEuZ2V0X2l0ZW0oKS5fcG9wVXBPcGVuZWQpe2Euc2V0X2NhbmNlbCh0cnVlKTsKfX0sX29uQ29udGV4dE1lbnVJdGVtQ2xpY2tpbmc6ZnVuY3Rpb24obyxhKXt2YXIgbD1hLmdldF9pdGVtKCk7CnZhciBrPSEhby5nZXRfcGFyZW50KCkuX2NsaWVudERhdGFTb3VyY2VJRDsKaWYobC5nZXRfdmFsdWUoKT09IkZpbHRlckxpc3QifHxsLmdldF92YWx1ZSgpPT0iRmlsdGVyTWVudUNvbnRhaW5lciJ8fGwuZ2V0X3ZhbHVlKCk9PSJBZ2dyZWdhdGVzQ29udGFpbmVyInx8KFRlbGVyaWsuV2ViLlVJLlJhZE1lbnVJdGVtLmlzSW5zdGFuY2VPZlR5cGUobC5nZXRfcGFyZW50KCkpJiZsLmdldF9wYXJlbnQoKS5nZXRfdmFsdWUoKT09IkNvbHVtbnNDb250YWluZXIiKSl7YS5zZXRfY2FuY2VsKHRydWUpOwp9ZWxzZXtpZihsLmdldF92YWx1ZSgpPT0iU29ydEFzYyJ8fGwuZ2V0X3ZhbHVlKCk9PSJTb3J0RGVzYyJ8fGwuZ2V0X3ZhbHVlKCk9PSJTb3J0Tm9uZSIpe3ZhciBkPWwuX2NvbHVtbi5fZGF0YTsKdmFyIG09JGZpbmQobC5fY29sdW1uLmdldF9vd25lcigpLmdldF9pZCgpKSxuPW0uZ2V0X293bmVyKCk7CnZhciBmPWQuU29ydEV4cHJlc3Npb247CmlmKCh0eXBlb2Yobi5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5Mb2NhdGlvbikhPSJ1bmRlZmluZWQiJiZuLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkxvY2F0aW9uIT0iIil8fGspe2lmKGwuZ2V0X3ZhbHVlKCk9PSJTb3J0Tm9uZSIpe2E9bS5fcmFpc2VBY3Rpb24oIkNsZWFyU29ydCIse3NvcnRFeHByZXNzaW9uOmZ9KTsKaWYoIWEuZ2V0X2NhbmNlbCgpKXtmPWEuZ2V0X3NvcnRFeHByZXNzaW9uKCk7Cm0uY2xlYXJTb3J0KGYpOwp9fWVsc2V7Zis9bC5nZXRfdmFsdWUoKT09IlNvcnRBc2MiPyIgQVNDIjoiIERFU0MiOwphPW0uX3JhaXNlQWN0aW9uKCJTb3J0Iix7c29ydEV4cHJlc3Npb246Zn0pOwppZighYS5nZXRfY2FuY2VsKCkpe2Y9YS5nZXRfc29ydEV4cHJlc3Npb24oKTsKbS5zb3J0KGYpOwp9fX1lbHNle28udHJhY2tDaGFuZ2VzKCk7CnZhciBlPWQuRGF0YUZpZWxkOwppZihkLkRhdGFUZXh0RmllbGQpe2U9ZC5EYXRhVGV4dEZpZWxkOwp9ZWxzZXtpZihkLkRhdGFBbHRlcm5hdGVUZXh0RmllbGQpe2U9ZC5EYXRhQWx0ZXJuYXRlVGV4dEZpZWxkOwp9fWwuZ2V0X2F0dHJpYnV0ZXMoKS5zZXRBdHRyaWJ1dGUoIkNvbHVtbk5hbWUiLGY/ZjplKTsKbC5nZXRfYXR0cmlidXRlcygpLnNldEF0dHJpYnV0ZSgiVGFibGVJRCIsbC5fY29sdW1uLmdldF9vd25lcigpLl9kYXRhLlVuaXF1ZUlEKTsKby5jb21taXRDaGFuZ2VzKCk7Cn19ZWxzZXtpZihsLmdldF92YWx1ZSgpPT0iR3JvdXBCeSIpe2lmKGspe2wuX2NvbHVtbi5nZXRfb3duZXIoKS5maXJlQ29tbWFuZCgiR3JvdXBCeUNvbHVtbiIsbC5fY29sdW1uLmdldF9kYXRhRmllbGQoKSk7Cm8uaGlkZSgpOwp9ZWxzZXtsLl9jb2x1bW4uZ2V0X293bmVyKCkuZ3JvdXBDb2x1bW4obC5fY29sdW1uLmdldF91bmlxdWVOYW1lKCkpOwphLnNldF9jYW5jZWwodHJ1ZSk7Cn19ZWxzZXtpZihsLmdldF92YWx1ZSgpPT0iVW5Hcm91cEJ5Iil7aWYoayl7dmFyIGc9bC5fY29sdW1uLmdldF9vd25lcigpLmdldF9vd25lcigpLl9ncm91cFBhbmVsOwppZihnKXt2YXIgaD1nLl9pdGVtczsKdmFyIGI9bC5fY29sdW1uLmdldF9kYXRhRmllbGQoKTsKdmFyIGM9bnVsbDsKZm9yKHZhciBqPTA7Cmo8aC5sZW5ndGg7CmorKyl7aWYoaFtqXS5fZGF0YUZpZWxkPT1iKXtjPWhbal07Cn19aWYoYyl7Zy5fdW5ncm91cChjLmdldF9lbGVtZW50KCkuY2hpbGROb2Rlc1swXSk7Cn19ZWxzZXtsLl9jb2x1bW4uZ2V0X293bmVyKCkudW5ncm91cENvbHVtbihsLl9jb2x1bW4uZ2V0X3VuaXF1ZU5hbWUoKSk7Cn1vLmhpZGUoKTsKfWVsc2V7bC5fY29sdW1uLmdldF9vd25lcigpLnVuZ3JvdXBDb2x1bW4obC5fY29sdW1uLmdldF91bmlxdWVOYW1lKCkpOwphLnNldF9jYW5jZWwodHJ1ZSk7Cn19ZWxzZXtpZihsLmdldF92YWx1ZSgpPT0iQmVzdEZpdCIpe2wuX2NvbHVtbi5yZXNpemVUb0ZpdCgpOwp9ZWxzZXtpZihsLmdldF9pc1NlcGFyYXRvcigpKXthLnNldF9jYW5jZWwodHJ1ZSk7Cn1lbHNle2lmKGwuZ2V0X3BhcmVudCgpIT1udWxsJiZsLmdldF9wYXJlbnQoKS5nZXRfdmFsdWUmJmwuZ2V0X3BhcmVudCgpLmdldF92YWx1ZSgpPT0iQWdncmVnYXRlc0NvbnRhaW5lciIpe2wuX2NvbHVtbi5nZXRfb3duZXIoKS5maXJlQ29tbWFuZCgiU2V0Q29sdW1uQWdncmVnYXRlIixTdHJpbmcuZm9ybWF0KCJ7MH18ezF9fHsyfSIsbC5nZXRfdmFsdWUoKSxsLl9jb2x1bW4uZ2V0X293bmVyKCkuX2RhdGEuVW5pcXVlSUQsbC5fY29sdW1uLmdldF91bmlxdWVOYW1lKCkpKTsKfWVsc2V7aWYobC5nZXRfdmFsdWUoKT09IkZyZWV6ZSIpe2wuX2NvbHVtbi5fdG9nZ2xlRnJlZXplKCk7Cn19fX19fX19fSxfb25Db250ZXh0TWVudUhpZGRlbjpmdW5jdGlvbihnLGEpe3ZhciBjPWc7CmlmKHRoaXMuX2NoZWNrYm94ZXMpe2Zvcih2YXIgZT0wLGY9dGhpcy5fY2hlY2tib3hlcy5sZW5ndGg7CmU8ZjsKZSsrKXt3aW5kb3cuJHJlbW92ZUhhbmRsZXIodGhpcy5fY2hlY2tib3hlc1tlXSwiY2xpY2siLHRoaXMuX2NoZWNrQm94Q2xpY2tIYW5kbGVyKTsKdGhpcy5fY2hlY2tib3hlc1tlXS5fY29sdW1uPW51bGw7CnRoaXMuX2NoZWNrYm94ZXNbZV0uX2luZGV4PW51bGw7Cn19aWYodGhpcy5fb25Db250ZXh0TWVudUl0ZW1DbGlja2luZ0RlbGVnYXRlKXtnLnJlbW92ZV9pdGVtQ2xpY2tpbmcodGhpcy5fb25Db250ZXh0TWVudUl0ZW1DbGlja2luZ0RlbGVnYXRlKTsKdGhpcy5fb25Db250ZXh0TWVudUl0ZW1DbGlja2luZ0RlbGVnYXRlPW51bGw7Cn1pZih0aGlzLl9vbkNvbnRleHRNZW51SXRlbUNsb3NpbmdEZWxlZ2F0ZSl7Zy5yZW1vdmVfaXRlbUNsb3NpbmcodGhpcy5fb25Db250ZXh0TWVudUl0ZW1DbG9zaW5nRGVsZWdhdGUpOwp0aGlzLl9vbkNvbnRleHRNZW51SXRlbUNsb3NpbmdEZWxlZ2F0ZT1udWxsOwp9aWYodGhpcy5fb25Db250ZXh0TWVudUhpZGRlbkRlbGVnYXRlKXtnLnJlbW92ZV9oaWRkZW4odGhpcy5fb25Db250ZXh0TWVudUhpZGRlbkRlbGVnYXRlKTsKdGhpcy5fb25Db250ZXh0TWVudUhpZGRlbkRlbGVnYXRlPW51bGw7Cn1pZih0aGlzLl9maWx0ZXJCdXR0b25DbGlja0RlbGVnYXRlKXt2YXIgZD0kdGVsZXJpay5maW5kRWxlbWVudCgoYy5maW5kSXRlbUJ5VmFsdWUoIkZpbHRlck1lbnVDb250YWluZXIiKXx8Yy5maW5kSXRlbUJ5VmFsdWUoIkZpbHRlck1lbnVQYXJlbnQiKSkuZ2V0X2VsZW1lbnQoKSwiSENGTUZpbHRlckJ1dHRvbiIpOwp3aW5kb3cuJHJlbW92ZUhhbmRsZXIoZCwiY2xpY2siLHRoaXMuX2ZpbHRlckJ1dHRvbkNsaWNrRGVsZWdhdGUpOwp0aGlzLl9maWx0ZXJCdXR0b25DbGlja0RlbGVnYXRlPW51bGw7Cn1pZih0aGlzLl9jbGVhckZpbHRlckJ1dHRvbkNsaWNrRGVsZWdhdGUpe3ZhciBiPSR0ZWxlcmlrLmZpbmRFbGVtZW50KChjLmZpbmRJdGVtQnlWYWx1ZSgiRmlsdGVyTWVudUNvbnRhaW5lciIpfHxjLmZpbmRJdGVtQnlWYWx1ZSgiRmlsdGVyTWVudVBhcmVudCIpKS5nZXRfZWxlbWVudCgpLCJIQ0ZNQ2xlYXJGaWx0ZXJCdXR0b24iKTsKd2luZG93LiRyZW1vdmVIYW5kbGVyKGIsImNsaWNrIix0aGlzLl9jbGVhckZpbHRlckJ1dHRvbkNsaWNrRGVsZWdhdGUpOwp0aGlzLl9jbGVhckZpbHRlckJ1dHRvbkNsaWNrRGVsZWdhdGU9bnVsbDsKfXRoaXMuX2NoZWNrYm94ZXM9W107Cn0sX29uQ29udGV4dE1lbnU6ZnVuY3Rpb24oYSl7aWYoJHRlbGVyaWsuaXNPcGVyYSYmYS5idXR0b24hPTIpe3JldHVybjsKfWlmKHRoaXMuX2RhdGEuRW5hYmxlSGVhZGVyQ29udGV4dE1lbnU9PT1mYWxzZSl7cmV0dXJuOwp9dGhpcy5fb3duZXIuX293bmVyLnJhaXNlX2NvbHVtbkNvbnRleHRNZW51KG5ldyBUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uRXZlbnRBcmdzKHRoaXMsYSkpOwppZih0aGlzLl9vd25lci5fb3duZXIuZ2V0X2V2ZW50cygpLmdldEhhbmRsZXIoImNvbHVtbkNvbnRleHRNZW51Iil8fHRoaXMuX293bmVyLl9kYXRhLmVuYWJsZUhlYWRlckNvbnRleHRNZW51KXt0aGlzLl9pbml0SGVhZGVyQ29udGV4dE1lbnUoYSk7CmlmKGEucHJldmVudERlZmF1bHQpe2EucHJldmVudERlZmF1bHQoKTsKfWVsc2V7YS5yZXR1cm5WYWx1ZT1mYWxzZTsKcmV0dXJuIGZhbHNlOwp9fX0scmVzaXplVG9GaXQ6ZnVuY3Rpb24oZSxjKXtpZighdGhpcy5fY2FuUmVzaXplVG9GaXQoKSl7cmV0dXJuOwp9aWYodHlwZW9mIGMhPSJ1bmRlZmluZWQiKXt0aGlzLmdldF9yZWFsT3duZXIoKS5faW5jbHVkZUFsbEhlYWRlclJvd3M9YzsKfXZhciBmPXRoaXMuX2dldEl0ZW1Db250YWluZXJUYWJsZVZpZXcoKTsKdmFyIGE9QXJyYXkuaW5kZXhPZihmLmdldF9jb2x1bW5zKCksdGhpcyk7CnZhciBiPXRoaXMuX2NyZWF0ZUZpdFRlc3RDb250YWluZXIoZi5nZXRfZWxlbWVudCgpLGUpOwp2YXIgZD10aGlzLl9jYWxjdWxhdGVCZXN0Rml0U2l6ZXMoYixhKTsKdGhpcy5fcmVtb3ZlRml0VGVzdENvbnRhaW5lcihmLmdldF9lbGVtZW50KCkpOwp0aGlzLmdldF9vd25lcigpLnJlc2l6ZUNvbHVtbihhLGR8fHRoaXMuZ2V0X2VsZW1lbnQoKS5vZmZzZXRXaWR0aCk7CnRoaXMuZ2V0X293bmVyKCkuX293bmVyLnVwZGF0ZUNsaWVudFN0YXRlKCk7Cn0sX2lzTW91c2VPdmVyUmVzaXplSGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0RXZlbnRQb3NYKGEpOwp2YXIgZD1UZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NYKHRoaXMuZ2V0X2VsZW1lbnQoKSk7CnZhciBiPWQrdGhpcy5nZXRfZWxlbWVudCgpLm9mZnNldFdpZHRoOwppZigoYz49Yi10aGlzLl9yZXNpemVUb2xlcmFuY2UpJiYoYzw9Yit0aGlzLl9yZXNpemVUb2xlcmFuY2UpKXtyZXR1cm4gdHJ1ZTsKfXJldHVybiBmYWxzZTsKfSxfaXNUb3VjaFBvaW50T3ZlclJlc2l6ZUhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYz0kdGVsZXJpay5nZXRUb3VjaEV2ZW50TG9jYXRpb24oYSkueDsKdmFyIGQ9VGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWCh0aGlzLmdldF9lbGVtZW50KCkpOwp2YXIgYj1kK3RoaXMuZ2V0X2VsZW1lbnQoKS5vZmZzZXRXaWR0aDsKaWYoYz49Yi10aGlzLl9yZXNpemVUb2xlcmFuY2Upe3JldHVybiB0cnVlOwp9cmV0dXJuIGZhbHNlOwp9LF9jYW5SZXNpemVUb0ZpdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0X3Zpc2libGUoKSYmKHRoaXMuX2RhdGEuRGlzcGxheT09bnVsbHx8dGhpcy5fZGF0YS5EaXNwbGF5KSYmKHRoaXMuRGlzcGxheT09bnVsbHx8dGhpcy5EaXNwbGF5KTsKdmFyIGI9dGhpcy5nZXRfb3duZXIoKS5nZXRfb3duZXIoKS5DbGllbnRTZXR0aW5ncy5SZXNpemluZzsKcmV0dXJuIGEmJnRoaXMuZ2V0X3Jlc2l6YWJsZSgpJiZiJiZiLkFsbG93Q29sdW1uUmVzaXplJiZiLkFsbG93UmVzaXplVG9GaXQ7Cn0sX2dldEl0ZW1Db250YWluZXJUYWJsZVZpZXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldF9vd25lcigpOwppZihhLmdldF9pZCgpLmVuZHNXaXRoKCJfSGVhZGVyIikpe3JldHVybiAkZmluZChhLmdldF9vd25lcigpLmdldF9pZCgpKS5nZXRfbWFzdGVyVGFibGVWaWV3KCk7Cn1yZXR1cm4gYTsKfSxfY2FsY3VsYXRlQmVzdEZpdFNpemVzOmZ1bmN0aW9uKGMsYil7dmFyIGQ9Yy50Qm9kaWVzWzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ciIpWzBdOwppZihkKXt2YXIgYT1kLmNlbGxzW2JdOwppZihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aDsKfX1yZXR1cm4gbnVsbDsKfSxfY3JlYXRlRml0VGVzdENvbnRhaW5lcjpmdW5jdGlvbihuLG0pe3ZhciBoPW4ucGFyZW50Tm9kZTsKdmFyIGI9aC5pZCsiX0ZpdFRlc3RDb250YWluZXIiOwp2YXIgZD1iKyJfRml0VGVzdFRhYmxlIjsKdmFyIGU9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwp2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKZS5hcHBlbmRDaGlsZChhKTsKYS5pZD1iOwphLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CmEuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjsKaWYobi50Qm9kaWVzLmxlbmd0aD4wKXthLmlubmVySFRNTD0iPHRhYmxlIGNsYXNzPSciK24uY2xhc3NOYW1lKyInIGNlbGxzcGFjaW5nPScwJyBib3JkZXI9JzAnIHN0eWxlPSciK24uc3R5bGUuY3NzVGV4dCsiO3RhYmxlLWxheW91dDphdXRvO3doaXRlLXNwYWNlOm5vd3JhcDt3aWR0aDphdXRvOyc+PHRib2R5PiIrbi50Qm9kaWVzW24udEJvZGllcy5sZW5ndGgtMV0uaW5uZXJIVE1MKyI8L3Rib2R5PjwvdGFibGU+IjsKfXZhciBjPWEuY2hpbGROb2Rlc1swXTsKYy5pZD1kOwp2YXIgaz1bXTsKZm9yKHZhciBmPTAsZz1jLnJvd3MubGVuZ3RoOwpmPGc7CmYrKyl7dmFyIGo9Yy5yb3dzW2ZdOwppZighKChqLmlkJiZqLmlkLmluZGV4T2Yobi5pZCk+LTEpfHwoai5jbGFzc05hbWUmJmouY2xhc3NOYW1lLmluZGV4T2YoInJnRm9vdGVyIik+LTEpKSl7ay5wdXNoKGopOwp9fXZhciBsPWsucG9wKCk7CndoaWxlKGwpe2MuZGVsZXRlUm93KGwucm93SW5kZXgpOwpsPWsucG9wKCk7Cn1pZighbSl7dGhpcy5faW5zZXJ0SGVhZGVyQ2VsbHMoYyk7Cn1oLmFwcGVuZENoaWxkKGUuY2hpbGROb2Rlc1swXSk7CnJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkKTsKfSxfaW5zZXJ0SGVhZGVyQ2VsbHM6ZnVuY3Rpb24oYil7dmFyIGc9Yi5jcmVhdGVUSGVhZCgpOwp2YXIgYyxmLGUsYSxkOwppZih0aGlzLl9vd25lci5faGFzTXVsdGlIZWFkZXJzKXt0aGlzLmdldF9yZWFsT3duZXIoKS5faW5jbHVkZUFsbEhlYWRlclJvd3M9dHJ1ZTsKfWlmKHRoaXMuZ2V0X3JlYWxPd25lcigpLl9pbmNsdWRlQWxsSGVhZGVyUm93cyl7Zj0kdGVsZXJpay4kKCI+dHI6bm90KC5yZ0NvbW1hbmRSb3cpIix0aGlzLmdldF9lbGVtZW50KCkucGFyZW50Tm9kZS5wYXJlbnROb2RlKTsKZm9yKGQ9MDsKZDxmLmxlbmd0aDsKZCsrKXtlPWZbZF07CmM9Zy5pbnNlcnRSb3coLTEpOwpjLmNsYXNzTmFtZT1lLmNsYXNzTmFtZTsKdGhpcy5faW5zZXJ0Q2VsbHNJblJvd3MoZS5jZWxscyxjKTsKfX1lbHNle2M9Zy5pbnNlcnRSb3coLTEpOwplPXRoaXMuZ2V0X2VsZW1lbnQoKS5wYXJlbnROb2RlOwphPWUuY2VsbHM7CnRoaXMuX2luc2VydENlbGxzSW5Sb3dzKGEsYyk7Cn1pZih0aGlzLmdldF9yZWFsT3duZXIoKS5nZXRfZWxlbWVudCgpLnRGb290KXtmPXRoaXMuZ2V0X3JlYWxPd25lcigpLmdldF9lbGVtZW50KCkudEZvb3Qucm93czsKZm9yKGQ9MDsKZDxmLmxlbmd0aDsKZCsrKXtlPWZbZF07CmlmKGUuY2xhc3NOYW1lLmluZGV4T2YoInJnRm9vdGVyIik+LTEpe2M9Zy5pbnNlcnRSb3coLTEpOwpjLmNsYXNzTmFtZT1lLmNsYXNzTmFtZTsKdGhpcy5faW5zZXJ0Q2VsbHNJblJvd3MoZS5jZWxscyxjKTsKfX19fSxfaW5zZXJ0Q2VsbHNJblJvd3M6ZnVuY3Rpb24oYSxjKXt2YXIgYjsKZm9yKHZhciBkPTAsZT1hLmxlbmd0aDsKZDxlOwpkKyspe2I9Yy5pbnNlcnRDZWxsKGQpOwpiLmNsYXNzTmFtZT1hW2RdLmNsYXNzTmFtZTsKYi5jb2xTcGFuPWFbZF0uY29sU3BhbjsKYi5yb3dTcGFuPWFbZF0ucm93U3BhbjsKYi5zdHlsZS5jc3NUZXh0PWFbZF0uc3R5bGUuY3NzVGV4dDsKYi5zdHlsZS53aWR0aD0iYXV0byI7CmIuaW5uZXJIVE1MPWFbZF0uaW5uZXJIVE1MOwp9fSxfcmVtb3ZlRml0VGVzdENvbnRhaW5lcjpmdW5jdGlvbihiKXt2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChiLnBhcmVudE5vZGUuaWQrIl9GaXRUZXN0Q29udGFpbmVyIik7CmlmKGEpe2EucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTsKfX0sX29uQ2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5fb3duZXIuX293bmVyLnJhaXNlX2NvbHVtbkNsaWNrKG5ldyBUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uRXZlbnRBcmdzKHRoaXMsYSkpOwp9LF9vbkRibENsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuX293bmVyLl9vd25lci5yYWlzZV9jb2x1bW5EYmxDbGljayhuZXcgVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbkV2ZW50QXJncyh0aGlzLGEpKTsKaWYodGhpcy5faXNNb3VzZU92ZXJSZXNpemVIYW5kbGUoYSkpe3RoaXMucmVzaXplVG9GaXQoKTsKfX0sX29uTW91c2VPdmVyOmZ1bmN0aW9uKGEpe3RoaXMuX293bmVyLl9vd25lci5yYWlzZV9jb2x1bW5Nb3VzZU92ZXIobmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5FdmVudEFyZ3ModGhpcyxhKSk7CmlmKHRoaXMuX293bmVyLl9vd25lci5Ta2luIT0iIil7U3lzLlVJLkRvbUVsZW1lbnQuYWRkQ3NzQ2xhc3ModGhpcy5nZXRfZWxlbWVudCgpLCJyZ0hlYWRlck92ZXIiKTsKfX0sX29uTW91c2VPdXQ6ZnVuY3Rpb24oYSl7dGhpcy5fb3duZXIuX293bmVyLnJhaXNlX2NvbHVtbk1vdXNlT3V0KG5ldyBUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uRXZlbnRBcmdzKHRoaXMsYSkpOwppZih0aGlzLl9vd25lci5fb3duZXIuU2tpbiE9IiIpe1N5cy5VSS5Eb21FbGVtZW50LnJlbW92ZUNzc0NsYXNzKHRoaXMuZ2V0X2VsZW1lbnQoKSwicmdIZWFkZXJPdmVyIik7Cn19LGdldF9yZXNpemFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5SZXNpemFibGU7Cn0sc2V0X3Jlc2l6YWJsZTpmdW5jdGlvbihhKXtpZih0aGlzLl9kYXRhLlJlc2l6YWJsZSE9YSl7dGhpcy5fZGF0YS5SZXNpemFibGU9YTsKfX0sZ2V0X3Jlb3JkZXJhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuUmVvcmRlcmFibGU7Cn0sZ2V0X2NvbHVtbkdyb3VwTmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLkNvbHVtbkdyb3VwTmFtZTsKfSxnZXRfc2VsZWN0YWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLlNlbGVjdGFibGU7Cn0sc2V0X3Jlb3JkZXJhYmxlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2RhdGEuUmVvcmRlcmFibGUhPWEpe3RoaXMuX2RhdGEuUmVvcmRlcmFibGU9YTsKfX0sZ2V0X3VuaXF1ZU5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5VbmlxdWVOYW1lOwp9LGdldF9kYXRhRmllbGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5EYXRhRmllbGQ7Cn0sZ2V0X3JlYWRPbmx5OmZ1bmN0aW9uKCl7cmV0dXJuKHR5cGVvZih0aGlzLl9kYXRhLlJlYWRPbmx5KSE9InVuZGVmaW5lZCIpP3RydWU6ZmFsc2U7Cn0sZ2V0X2RhdGFUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuRGF0YVR5cGVOYW1lOwp9LGdldF9maWx0ZXJGdW5jdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLkN1cnJlbnRGaWx0ZXJGdW5jdGlvbk5hbWU7Cn0sc2V0X2ZpbHRlckZ1bmN0aW9uOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2RhdGEuQ3VycmVudEZpbHRlckZ1bmN0aW9uTmFtZSE9YSl7dGhpcy5fZGF0YS5DdXJyZW50RmlsdGVyRnVuY3Rpb25OYW1lPWE7Cn19LGdldF9maWx0ZXJEZWxheTpmdW5jdGlvbigpe3JldHVybih0eXBlb2YodGhpcy5fZGF0YS5GaWx0ZXJEZWxheSk9PSJ1bmRlZmluZWQiKT9udWxsOnRoaXMuX2RhdGEuRmlsdGVyRGVsYXk7Cn0sc2V0X2ZpbHRlckRlbGF5OmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2RhdGEuRmlsdGVyRGVsYXkhPWEpe3RoaXMuX2RhdGEuRmlsdGVyRGVsYXk9YTsKfX19OwpUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW4iLFN5cy5VSS5Db250cm9sKTsKVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbkV2ZW50QXJncz1mdW5jdGlvbihiLGEpe1RlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5FdmVudEFyZ3MuaW5pdGlhbGl6ZUJhc2UodGhpcyk7CnRoaXMuX2dyaWRDb2x1bW49YjsKdGhpcy5fZG9tRXZlbnQ9YTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbkV2ZW50QXJncy5wcm90b3R5cGU9e2dldF9ncmlkQ29sdW1uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dyaWRDb2x1bW47Cn0sZ2V0X2RvbUV2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvbUV2ZW50Owp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbkV2ZW50QXJncy5yZWdpc3RlckNsYXNzKCJUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uRXZlbnRBcmdzIixTeXMuRXZlbnRBcmdzKTsKVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbkNhbmNlbEV2ZW50QXJncz1mdW5jdGlvbihiLGEpe1RlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5DYW5jZWxFdmVudEFyZ3MuaW5pdGlhbGl6ZUJhc2UodGhpcyk7CnRoaXMuX2dyaWRDb2x1bW49YjsKdGhpcy5fZG9tRXZlbnQ9YTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbkNhbmNlbEV2ZW50QXJncy5wcm90b3R5cGU9e2dldF9ncmlkQ29sdW1uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dyaWRDb2x1bW47Cn0sZ2V0X2RvbUV2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvbUV2ZW50Owp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbkNhbmNlbEV2ZW50QXJncy5yZWdpc3RlckNsYXNzKCJUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uQ2FuY2VsRXZlbnRBcmdzIixTeXMuQ2FuY2VsRXZlbnRBcmdzKTsKVGVsZXJpay5XZWIuVUkuR3JpZEhlYWRlck1lbnVDYW5jZWxFdmVudEFyZ3M9ZnVuY3Rpb24oYixhLGMpe1RlbGVyaWsuV2ViLlVJLkdyaWRIZWFkZXJNZW51Q2FuY2VsRXZlbnRBcmdzLmluaXRpYWxpemVCYXNlKHRoaXMsW2IsYV0pOwp0aGlzLl9tZW51PWM7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWRIZWFkZXJNZW51Q2FuY2VsRXZlbnRBcmdzLnByb3RvdHlwZT17Z2V0X21lbnU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVudTsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWRIZWFkZXJNZW51Q2FuY2VsRXZlbnRBcmdzLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRIZWFkZXJNZW51Q2FuY2VsRXZlbnRBcmdzIixUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uQ2FuY2VsRXZlbnRBcmdzKTsKVHlwZS5yZWdpc3Rlck5hbWVzcGFjZSgiVGVsZXJpay5XZWIuVUkiKTsKVHlwZS5yZWdpc3Rlck5hbWVzcGFjZSgiVGVsZXJpay5XZWIuVUkuR3JpZCIpOwooZnVuY3Rpb24oYSl7YS5HcmlkLkdyaWRCb3VuZENvbHVtbj17cG9wdWxhdGVDZWxsOmZ1bmN0aW9uKGMsZSxnKXt2YXIgZj10aGlzLl9vd25lci5fb3duZXIsZD10aGlzLl9kYXRhLkRhdGFGb3JtYXRTdHJpbmc7CmlmKHR5cGVvZihkKSE9InVuZGVmaW5lZCImJmQhPSIiKXtpZihnLnRvU3RyaW5nKCkuaW5kZXhPZigiL0RhdGUoIikhPS0xKXtnPW5ldyBEYXRlKHBhcnNlSW50KGcucmVwbGFjZSgiL0RhdGUoIiwiIikucmVwbGFjZSgiKS8iLCIiKSwxMCkpOwp9Yy5pbm5lckhUTUw9U3RyaW5nLmxvY2FsZUZvcm1hdChkLGcpfHwiJm5ic3A7IjsKfWVsc2V7aWYoZy50b1N0cmluZygpLmluZGV4T2YoIi9EYXRlKCIpIT0tMSl7Yy5pbm5lckhUTUw9U3RyaW5nLmxvY2FsZUZvcm1hdCgiezA6IitmLl9kZWZhdWx0RGF0ZVRpbWVGb3JtYXQrIn0iLG5ldyBEYXRlKHBhcnNlSW50KGcucmVwbGFjZSgiL0RhdGUoIiwiIikucmVwbGFjZSgiKS8iLCIiKSwxMCkpKTsKfWVsc2V7Yy5pbm5lckhUTUw9KGchPT0iIik/ZzoiJm5ic3A7IjsKfX19LHBvcHVsYXRlRWRpdENlbGw6ZnVuY3Rpb24oYyxkLGYsZSl7dGhpcy5nZXRfcmVhbE93bmVyKCkuX2ZpbGxFZGl0b3JzRGF0YShlLHRoaXMsZik7Cn19OwphLkdyaWQuR3JpZFRlbXBsYXRlQ29sdW1uPXtwb3B1bGF0ZUNlbGw6ZnVuY3Rpb24oZCxlLGgsZil7aWYodGhpcy5fZGF0YS5DbGllbnRJdGVtVGVtcGxhdGUpe3ZhciBjPXRoaXMuZ2V0X3JlYWxPd25lcigpLl9nZXRCaW5kaW5nQ29udGV4dChlLGYuZ2V0X2l0ZW1JbmRleCgpKSxnPVRlbGVyaWsuV2ViLlVJLlRlbXBsYXRlLmNvbXBpbGUodGhpcy5fZGF0YS5DbGllbnRJdGVtVGVtcGxhdGUpOwppZihnKXtkLmlubmVySFRNTD1nKGMpOwp9fX0scG9wdWxhdGVFZGl0Q2VsbDpmdW5jdGlvbihjLGQsZixlKXt0aGlzLmdldF9yZWFsT3duZXIoKS5fZmlsbFRlbXBsYXRlRWRpdG9yc0RhdGEoZSxkLGMpOwp9fTsKYS5HcmlkLkdyaWRDaGVja0JveENvbHVtbj17aW5pdGlhbGl6ZUNlbGw6ZnVuY3Rpb24oYyl7Yy5pbm5lckhUTUw9JzxzcGFuIGRpc2FibGVkPSJkaXNhYmxlZCI+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBkaXNhYmxlZD0iZGlzYWJsZWQiIC8+PC9zcGFuPic7Cn0scG9wdWxhdGVDZWxsOmZ1bmN0aW9uKGMsZCxnKXt2YXIgZj1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpLGU9ZlswXTsKaWYoZSYmZS50eXBlPT0iY2hlY2tib3giKXtlLmNoZWNrZWQ9ZzsKfX0scG9wdWxhdGVFZGl0Q2VsbDpmdW5jdGlvbihjLGQsZixlKXt0aGlzLmdldF9yZWFsT3duZXIoKS5fZmlsbFRlbXBsYXRlRWRpdG9yc0RhdGEoZSxkLGMpOwp9fTsKYS5HcmlkLkdyaWRIeXBlckxpbmtDb2x1bW49e2luaXRpYWxpemVDZWxsOmZ1bmN0aW9uKGMpe2MuaW5uZXJIVE1MPSI8YSAvPiI7Cn0scG9wdWxhdGVDZWxsOmZ1bmN0aW9uKGMsZSl7aWYoIWUpe3JldHVybjsKfXZhciBkPXRoaXMuX2RhdGEsaD1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIik7CmlmKGgubGVuZ3RoPjApe3ZhciBnPWhbMF07CmlmKGQuTmF2aWdhdGVVcmwmJmQuTmF2aWdhdGVVcmwhPSIiKXtnLmhyZWY9ZC5OYXZpZ2F0ZVVybDsKfWlmKGQuVGFyZ2V0JiZkLlRhcmdldCE9IiIpe2cudGFyZ2V0PWQuVGFyZ2V0Owp9aWYoZC5UZXh0JiZkLlRleHQhPSIiKXtnLmlubmVySFRNTD1kLlRleHQ7Cn12YXIgZj1kLkRhdGFUZXh0Rm9ybWF0U3RyaW5nOwp2YXIgaT1TdHJpbmcubG9jYWxlRm9ybWF0KChmPT0iIik/InswfSI6ZixlW2QuRGF0YVRleHRGaWVsZF0pOwp2YXIgaz1iKGQuRGF0YU5hdmlnYXRlVXJsRmllbGRzLGUpOwppZihrJiZrLmxlbmd0aD4wKXt2YXIgaj1ldmFsKCJTdHJpbmcuZm9ybWF0KCciK2QuRGF0YU5hdmlnYXRlVXJsRm9ybWF0U3RyaW5nKyInLCIray5qb2luKCIsIikrIikiKTsKZy5ocmVmPWo7Cn1pZigoZiYmZiE9IiIpfHwoZC5EYXRhVGV4dEZpZWxkJiZkLkRhdGFUZXh0RmllbGQhPSIiKSl7Zy5pbm5lckhUTUw9aTsKfX19fTsKYS5HcmlkLkdyaWRJbWFnZUNvbHVtbj17aW5pdGlhbGl6ZUNlbGw6ZnVuY3Rpb24oYyl7Yy5pbm5lckhUTUw9IjxpbWcgLz4iOwp9LHBvcHVsYXRlQ2VsbDpmdW5jdGlvbihjLGUpe2lmKCFlKXtyZXR1cm47Cn12YXIgZD10aGlzLl9kYXRhLGg9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW1nIiksZz1oWzBdOwppZihnKXtpZihkLkltYWdlVXJsJiZkLkltYWdlVXJsIT0iIil7Zy5zcmM9ZC5JbWFnZVVybDsKfWlmKGQuQWx0ZXJuYXRlVGV4dCYmZC5BbHRlcm5hdGVUZXh0IT0iIil7Zy5hbHQ9Zy50aXRsZT1kLkFsdGVybmF0ZVRleHQ7Cn12YXIgZj1kLkRhdGFBbHRlcm5hdGVUZXh0Rm9ybWF0U3RyaW5nOwp2YXIgaT1TdHJpbmcubG9jYWxlRm9ybWF0KChmPT0iIik/InswfSI6ZixlW2QuRGF0YUFsdGVybmF0ZVRleHRGaWVsZF0pOwp2YXIgaz1iKGQuRGF0YUltYWdlVXJsRmllbGRzLGUpOwppZihrJiZrLmxlbmd0aD4wKXt2YXIgaj1ldmFsKCJTdHJpbmcuZm9ybWF0KCciKyhkLkRhdGFJbWFnZVVybEZvcm1hdFN0cmluZ3x8InswfSIpKyInLCIray5qb2luKCIsIikrIikiKTsKZy5zcmM9ajsKfWlmKGQuSW1hZ2VIZWlnaHQmJmQuSW1hZ2VIZWlnaHQhPSIiKXtnLnN0eWxlLmhlaWdodD1kLkltYWdlSGVpZ2h0Owp9aWYoZC5JbWFnZVdpZHRoJiZkLkltYWdlV2lkdGghPSIiKXtnLnN0eWxlLndpZHRoPWQuSW1hZ2VXaWR0aDsKfWlmKChmJiZmIT0iIil8fChkLkRhdGFBbHRlcm5hdGVUZXh0RmllbGQmJmQuRGF0YUFsdGVybmF0ZVRleHRGaWVsZCE9IiIpKXtnLmFsdD1nLnRpdGxlPWk7Cn19fX07CmEuR3JpZC5HcmlkQnV0dG9uQ29sdW1uPXtpbml0aWFsaXplQ2VsbDpmdW5jdGlvbihkLGgpe3ZhciBnPXRoaXMuX293bmVyLl9vd25lcixmPXRoaXMuX2RhdGEsYzsKc3dpdGNoKGYuQnV0dG9uVHlwZSl7Y2FzZSJQdXNoQnV0dG9uIjpjPSc8aW5wdXQgdHlwZT0ic3VibWl0IiBvbmNsaWNrPSJ7MH0iLz4nOwpicmVhazsKY2FzZSJMaW5rQnV0dG9uIjpjPSc8YSBocmVmPSIjIiBvbmNsaWNrPSJ7MH0iPjwvYT4nOwpicmVhazsKY2FzZSJJbWFnZUJ1dHRvbiI6Yz0nPGlucHV0IHR5cGU9ImltYWdlIiBzcmM9IicrZi5JbWFnZVVybCsnIiBvbmNsaWNrPSJ7MH0iLz4nOwpicmVhazsKY2FzZSJGb250SWNvbkJ1dHRvbiI6aWYoZi5Db21tYW5kTmFtZT09IkRlbGV0ZSIpe2M9JzxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0idC1idXR0b24gcmdBY3Rpb25CdXR0b24gcmdEZWwiIHZhbHVlPSJEZWxldGUiIHRpdGxlPSJEZWxldGUiIG9uY2xpY2s9InswfSI+PHNwYW4gY2xhc3M9InQtZm9udC1pY29uIHJnSWNvbiByZ0RlbEljb24iPjwvc3Bhbj48L2J1dHRvbj4nOwp9ZWxzZXtpZihmLkNvbW1hbmROYW1lPT0iRWRpdCIpe2M9JzxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0idC1idXR0b24gcmdBY3Rpb25CdXR0b24gcmdFZGl0IiB2YWx1ZT0iRWRpdCIgdGl0bGU9IkVkaXQiIG9uY2xpY2s9InswfSI+PHNwYW4gY2xhc3M9InQtZm9udC1pY29uIHJnSWNvbiByZ0VkaXRJY29uIj48L3NwYW4+PC9idXR0b24+JzsKfX1icmVhazsKfXZhciBlPWYuQ29tbWFuZEFyZ3VtZW50OwppZihlPT11bmRlZmluZWR8fGU9PSIiKXtlPWguX2l0ZW1JbmRleEhpZXJhcmNoaWNhbDsKfXZhciBpPVN0cmluZy5mb3JtYXQodGhpcy5fZ2V0Q2xpY2tTdGF0ZW1lbnQoKSxnLmdldF9pZCgpLHRoaXMuZ2V0X3JlYWxPd25lcigpLmdldF9pZCgpLGguZ2V0X2lkKCksZi5Db21tYW5kTmFtZSxlKTsKZC5pbm5lckhUTUw9U3RyaW5nLmZvcm1hdChjLGkpOwp0aGlzLnBvcHVsYXRlQ2VsbChkLHt9KTsKfSxwb3B1bGF0ZUNlbGw6ZnVuY3Rpb24oZSxmKXt2YXIgZD1mW3RoaXMuX2RhdGEuRGF0YVRleHRGaWVsZF07CmlmKGQ9PXVuZGVmaW5lZHx8ZD09IiIpe2Q9dGhpcy5fZGF0YS5UZXh0Owp9dmFyIGM7CnN3aXRjaCh0aGlzLl9kYXRhLkJ1dHRvblR5cGUpe2Nhc2UiUHVzaEJ1dHRvbiI6Yz1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdOwpjLnZhbHVlPWQ7CmJyZWFrOwpjYXNlIkxpbmtCdXR0b24iOmM9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdOwpjLmlubmVySFRNTD1kOwpicmVhazsKY2FzZSJJbWFnZUJ1dHRvbiI6Yz1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdOwpjLnRpdGxlPWQ7CmMuYWx0PWQ7CmJyZWFrOwp9fSxfZ2V0Q2xpY2tTdGF0ZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4iaWYoISRmaW5kKCd7MX0nKS5maXJlQ29tbWFuZCgnezN9JywnezR9JykpIHJldHVybiBmYWxzZTsiOwp9fTsKYS5HcmlkLkdyaWRFZGl0Q29tbWFuZENvbHVtbj1hLkdyaWQuR3JpZEJ1dHRvbkNvbHVtbjsKYS5HcmlkLkdyaWREcmFnRHJvcENvbHVtbj17aW5pdGlhbGl6ZUNlbGw6ZnVuY3Rpb24oYyl7aWYodGhpcy5nZXRfcmVhbE93bmVyKCkuZ2V0X293bmVyKCkuX3JlbmRlck1vZGU9PVRlbGVyaWsuV2ViLlVJLlJlbmRlck1vZGUuQ2xhc3NpYyl7Yy5pbm5lckhUTUw9JzxpbnB1dCBjbGFzcz0icmdEcmFnIiB0eXBlPSJidXR0b24iPic7Cn1lbHNle2MuaW5uZXJIVE1MPSc8YSBjbGFzcz0icmdEcmFnSWNvbiB0LWZvbnQtaWNvbiByZ0ljb24iPjwvYT4nOwp9fSxwb3B1bGF0ZUNlbGw6ZnVuY3Rpb24oYyxkKXt9fTsKYS5HcmlkLkdyaWRDbGllbnREZWxldGVDb2x1bW49e2luaXRpYWxpemVDZWxsOmEuR3JpZC5HcmlkQnV0dG9uQ29sdW1uLmluaXRpYWxpemVDZWxsLHBvcHVsYXRlQ2VsbDphLkdyaWQuR3JpZEJ1dHRvbkNvbHVtbi5wb3B1bGF0ZUNlbGwsX2dldENsaWNrU3RhdGVtZW50OmZ1bmN0aW9uKCl7aWYodGhpcy5nZXRfcmVhbE93bmVyKCkuX2RhdGEuRWRpdE1vZGU9PSJCYXRjaCIpe3JldHVybiIkZmluZCgnezB9JykuZ2V0X2JhdGNoRWRpdGluZ01hbmFnZXIoKS5fZGVsZXRlUmVjb3JkKCd7MX0nLCd7Mn0nKTsgcmV0dXJuIGZhbHNlOyI7Cn1lbHNle3JldHVybiIkZmluZCgnezF9JykuX2NsaWVudERlbGV0ZShldmVudCk7IHJldHVybiBmYWxzZTsiOwp9fX07CmEuR3JpZC5HcmlkQ2xpZW50U2VsZWN0Q29sdW1uPXtpbml0aWFsaXplQ2VsbDpmdW5jdGlvbihjLGUpe3ZhciBkPXRoaXMuX293bmVyLl9vd25lcjsKYy5pbm5lckhUTUw9U3RyaW5nLmZvcm1hdCgiPGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nezB9X1NlbGVjdENoZWNrQm94JyAvPiIsZC5nZXRfaWQoKSsiX18iK2UuX2l0ZW1JbmRleEhpZXJhcmNoaWNhbCk7Cn19OwphLkdyaWQuR3JpZENhbGN1bGF0ZWRDb2x1bW49e3BvcHVsYXRlQ2VsbDpmdW5jdGlvbihjLGYpe3ZhciBlPXRoaXMuX2RhdGEsZD0iIixqPVtdLGk7CmlmKHR5cGVvZihlLkV4cHJlc3Npb24pIT0idW5kZWZpbmVkIiYmZS5FeHByZXNzaW9uIT0iIil7aj1bXTsKZm9yKHZhciBtPTA7Cm08ZS5EYXRhRmllbGRzLmxlbmd0aDsKbSsrKXtpPWUuRGF0YUZpZWxkc1ttXTsKQXJyYXkuYWRkKGosZltpXSk7Cn12YXIgbj1ldmFsKCJTdHJpbmcuZm9ybWF0KCciK2UuRXhwcmVzc2lvbisiJywiK2ouam9pbigiLCIpKyIpIik7CnZhciBsPWUuRGF0YUZvcm1hdFN0cmluZzsKaWYobD09IiIpe2w9InswfSI7Cn12YXIgZz0iIjsKdHJ5e2c9ZXZhbChuKTsKfWNhdGNoKGgpe31kPVN0cmluZy5sb2NhbGVGb3JtYXQobCxnKTsKfWMuaW5uZXJIVE1MPShkIT09IiIpP2Q6IiZuYnNwOyI7Cn19OwphLkdyaWQuR3JpZEF0dGFjaG1lbnRDb2x1bW49e2luaXRpYWxpemVDZWxsOmZ1bmN0aW9uKGMpe2MuaW5uZXJIVE1MPSI8YT48L2E+IjsKfSxwb3B1bGF0ZUNlbGw6ZnVuY3Rpb24oYyxlLGcpe3ZhciBmPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxkOwppZighZil7dGhpcy5pbml0aWFsaXplQ2VsbChjKTsKZj1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF07Cn1pZihnIT09IiIpe2YuaW5uZXJIVE1MPWc7CmQ9J3siQ29sdW1uVW5pcXVlTmFtZSI6IicrdGhpcy5nZXRfdW5pcXVlTmFtZSgpKyciLCJGaWxlTmFtZSI6IicrZysnIn0nOwpmLnNldEF0dHJpYnV0ZSgib25jbGljayIsImlmICghJGZpbmQoJyIrdGhpcy5fb3duZXIuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfaWQoKSsiJykuZmlyZUNvbW1hbmQoJ0Rvd25sb2FkQXR0YWNobWVudCcsJyIrZCsiJykpIHJldHVybiBmYWxzZTsiKTsKZi5ocmVmPSIjIjsKfWVsc2V7Zi5ocmVmPSIiOwpmLmlubmVySFRNTD0iJm5ic3A7IjsKZi5vbmNsaWNrPWZ1bmN0aW9uKCl7fTsKfX19OwphLkdyaWQuR3JpZFJhdGluZ0NvbHVtbj17cG9wdWxhdGVDZWxsOmZ1bmN0aW9uKGMsZCxnKXt2YXIgZj0kdGVsZXJpay5nZXRFbGVtZW50QnlDbGFzc05hbWUoYywiUmFkUmF0aW5nIiksZT1mPyRmaW5kKGYuaWQpOm51bGw7CmlmKGUpe2UuX2NhY2hpbmc9dHJ1ZTsKZS5fc2hvdWxkVXBkYXRlQ2xpZW50U3RhdGU9ZmFsc2U7CmUuc2V0X3ZhbHVlKHBhcnNlRmxvYXQoZykpOwplLl9zaG91bGRVcGRhdGVDbGllbnRTdGF0ZT10cnVlOwp9fX07CmEuR3JpZC5HcmlkR3JvdXBTcGxpdHRlckNvbHVtbj17cG9wdWxhdGVDZWxsOmZ1bmN0aW9uKGMpe1N5cy5VSS5Eb21FbGVtZW50LmFkZENzc0NsYXNzKGMsInJnR3JvdXBDb2wiKTsKfSxwb3B1bGF0ZUVkaXRDZWxsOmZ1bmN0aW9uKGMpe1N5cy5VSS5Eb21FbGVtZW50LmFkZENzc0NsYXNzKGMsInJnR3JvdXBDb2wiKTsKfX07CmEuR3JpZC5HcmlkRXhwYW5kQ29sdW1uPXtpbml0aWFsaXplQ2VsbDpmdW5jdGlvbihjKXtTeXMuVUkuRG9tRWxlbWVudC5hZGRDc3NDbGFzcyhjLCJyZ0V4cGFuZENvbCIpOwp9fTsKZnVuY3Rpb24gYihjLGQpe3ZhciBnPVtdOwppZighY3x8IWQpe3JldHVybiBnOwp9Zm9yKHZhciBmPTA7CmY8Yy5sZW5ndGg7CmYrKyl7dmFyIGU9Y1tmXTsKaWYodHlwZW9mKGRbZV0pIT0ibnVtYmVyIil7QXJyYXkuYWRkKGcsU3RyaW5nLmZvcm1hdCgiJ3swfSciLGRbZV0pKTsKfWVsc2V7QXJyYXkuYWRkKGcsZFtlXSk7Cn19cmV0dXJuIGc7Cn19KShUZWxlcmlrLldlYi5VSSk7ClR5cGUucmVnaXN0ZXJOYW1lc3BhY2UoIlRlbGVyaWsuV2ViLlVJIik7ClRlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5BbmltYXRpb249ZnVuY3Rpb24oKXtUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uQW5pbWF0aW9uLmluaXRpYWxpemVCYXNlKHRoaXMpOwp0aGlzLiQ9bnVsbDsKdGhpcy5fb3duZXI9e307CnRoaXMuX21vdXNlTW92ZURlbGVnYXRlPW51bGw7CnRoaXMuX21vdWVVcERlbGVnYXRlPW51bGw7CnRoaXMuXyRhbmltYXRlZENvbnRhaW5lcj1udWxsOwp0aGlzLl8kaW5uZXJDb250YWluZXI9bnVsbDsKdGhpcy5fYW5pbWF0ZWRIZWFkZXJPZmZzZXQ9MDsKdGhpcy5fZHJhZ1RvR3JvdXBDb2x1bW49bnVsbDsKdGhpcy5fbmV4dENlbGxQb3NpdGlvbj0wOwp0aGlzLl9hbmltYXRlZEhlYWRlckNlbGxzPVtdOwp0aGlzLl9yZXZlcnRQZW5kaW5nQ2VsbHM9W107CnRoaXMuX2luaXRpYWxEcmFnZ2VkSGVhZGVyQ2VsbEluZGV4PS0xOwp0aGlzLl9kcmFnZ2VkSGVhZGVyQ2VsbEluZGV4PS0xOwp0aGlzLl9yZW9yZGVyRHVyYXRpb249MzAwOwp0aGlzLl9yZXZlcnREdXJhdGlvbj0zMDA7CnRoaXMuX2FsbG93Q29sdW1uc1Jlb3JkZXJBbmltYXRpb249ZmFsc2U7CnRoaXMuX2FsbG93Q29sdW1uUmV2ZXJ0QW5pbWF0aW9uPWZhbHNlOwp0aGlzLl9hbGxvd0RyYWdUb0dyb3VwPWZhbHNlOwp0aGlzLl9hbGxvd0ZyZWVNb3ZlPWZhbHNlOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uQW5pbWF0aW9uLnByb3RvdHlwZT17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1RlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5BbmltYXRpb24uY2FsbEJhc2VNZXRob2QodGhpcywiaW5pdGlhbGl6ZSIpOwp2YXIgYT10aGlzLmdldF9vd25lcigpLkNsaWVudFNldHRpbmdzOwp0aGlzLl9hbGxvd0NvbHVtbnNSZW9yZGVyQW5pbWF0aW9uPWEuQW5pbWF0aW9uLkFsbG93Q29sdW1uUmVvcmRlckFuaW1hdGlvbiYmYS5BbGxvd0NvbHVtbnNSZW9yZGVyJiZhLkNvbHVtbnNSZW9yZGVyTWV0aG9kPT0xOwp0aGlzLl9hbGxvd0NvbHVtblJldmVydEFuaW1hdGlvbj1hLkFuaW1hdGlvbi5BbGxvd0NvbHVtblJldmVydEFuaW1hdGlvbjsKdGhpcy5fYWxsb3dEcmFnVG9Hcm91cD1hLkFsbG93RHJhZ1RvR3JvdXA7CnRoaXMuX2FsbG93RnJlZU1vdmU9dGhpcy5fYWxsb3dEcmFnVG9Hcm91cDsKdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9tb3VzZU1vdmUpOwp0aGlzLl9tb3VzZVVwRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9tb3VzZVVwKTsKdGhpcy4kPSR0ZWxlcmlrLiQ7CihmdW5jdGlvbihiKXtiLmZuLm91dGVySHRtbD1mdW5jdGlvbihkKXtpZighdGhpc1swXSl7cmV0dXJuIG51bGw7Cn12YXIgYz1kP3RoaXMuZXEoMCkuY2xvbmUoKTp0aGlzLmVxKDApLmNsb25lKCkuZW1wdHkoKTsKcmV0dXJuIGIoIjxwPiIpLmFwcGVuZChjKS5odG1sKCk7Cn07Cn0pKHRoaXMuJCk7Cn0sX21vdXNlRG93bjpmdW5jdGlvbihjLGEpe3ZhciBkPWMudGFyZ2V0fHxjLnNyY0VsZW1lbnQsYj1hLmdldF9lbGVtZW50KCk7CmlmKCFkKXtyZXR1cm47Cn1pZihkIT09YiYmZC5wYXJlbnROb2RlIT09Yil7cmV0dXJuOwp9dGhpcy5fZHJhZ1RvR3JvdXBDb2x1bW49YTsKdGhpcy5fbW91c2VEb3duUG9zaXRpb249W2MuY2xpZW50WCxjLmNsaWVudFldOwppZih0aGlzLl9hbGxvd0NvbHVtbnNSZW9yZGVyQW5pbWF0aW9uKXt0aGlzLiQoZG9jdW1lbnQpLm1vdXNlbW92ZSh0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSk7Cn1lbHNle3RoaXMuX2NyZWF0ZURyYWdnZWRIZWFkZXJDZWxsKGMpOwp9dGhpcy4kKGRvY3VtZW50KS5tb3VzZXVwKHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSk7ClRlbGVyaWsuV2ViLlVJLkdyaWQuQ2xlYXJEb2N1bWVudEV2ZW50cygpOwp9LF9jcmVhdGVEcmFnZ2VkSGVhZGVyQ2VsbDpmdW5jdGlvbihhKXtUZWxlcmlrLldlYi5VSS5HcmlkLkNyZWF0ZURyYWdEcm9wKGEsdGhpcy5fZHJhZ1RvR3JvdXBDb2x1bW4sdHJ1ZSk7Cn0sX2NyZWF0ZUFuaW1hdGVkQ29udGFpbmVyOmZ1bmN0aW9uKGQpe3ZhciBhPXRoaXMuJChkKTsKdmFyIGI9YS5jbG9zZXN0KCJ0YWJsZSIpOwp0aGlzLl9hbmltYXRlZEhlYWRlck9mZnNldD1iLm9mZnNldCgpOwp0aGlzLl9hbmltYXRlZEhlYWRlck9mZnNldC50b3A9YS5vZmZzZXQoKS50b3A7CnRoaXMuXyRpbm5lckNvbnRhaW5lcj10aGlzLiQoJCgiPGRpdj4iLHtpZDpiLmF0dHIoImlkIiksImNsYXNzIjpiLmF0dHIoImNsYXNzIil9KSkuY3NzKHtoZWlnaHQ6IjEwMCUiLG92ZXJmbG93OnRoaXMuX2FsbG93RnJlZU1vdmU/InZpc2libGUiOiJoaWRkZW4iLHBhZGRpbmc6IjAiLG1hcmdpbjoiMCIscG9zaXRpb246ImFic29sdXRlIixib3JkZXI6Im5vbmUiLHdpZHRoOiIxMDAlIn0pOwp0aGlzLl8kYW5pbWF0ZWRDb250YWluZXI9dGhpcy4kKHRoaXMuJCh0aGlzLmdldF9vd25lcigpLmdldF9lbGVtZW50KCkpLm91dGVySHRtbCgpKS5hcHBlbmQodGhpcy5fJGlubmVyQ29udGFpbmVyKS5jc3Moe2xlZnQ6dGhpcy5fYW5pbWF0ZWRIZWFkZXJPZmZzZXQubGVmdCsicHgiLHRvcDp0aGlzLl9hbmltYXRlZEhlYWRlck9mZnNldC50b3ArInB4Iix3aWR0aDpiLnBhcmVudCgpLndpZHRoKCkrInB4IixoZWlnaHQ6YS5vdXRlckhlaWdodCgpLTErInB4IixvdmVyZmxvdzp0aGlzLl9hbGxvd0ZyZWVNb3ZlPyJ2aXNpYmxlIjoiaGlkZGVuIixwYWRkaW5nOiIwIixtYXJnaW46IjAiLHBvc2l0aW9uOiJhYnNvbHV0ZSIsYm9yZGVyU3R5bGU6Im5vbmUgbm9uZSBzb2xpZCBub25lIn0pLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpOwp2YXIgYz10aGlzOwp0aGlzLiQoInRoIixhLnBhcmVudCgpKS5lYWNoKGZ1bmN0aW9uKGcpe2lmKHRoaXMuY2xpZW50V2lkdGg9PT0wKXtyZXR1cm47Cn12YXIgZT1jLl9jcmVhdGVBbmltYXRlZENlbGwodGhpcyk7CmlmKHRoaXM9PT1kKXtlLmFkZENsYXNzKCJyZ0RyYWdnZWRIZWFkZXIiKS5hdHRyKCJ0aXRsZSIsIiIpLmNzcyh7b3BhY2l0eToiMC44Iix6SW5kZXg6Ijk5OTkifSk7CmMuX2RyYWdnZWRIZWFkZXJDZWxsSW5kZXg9Yy5fYW5pbWF0ZWRIZWFkZXJDZWxscy5sZW5ndGg7CmMuX2luaXRpYWxEcmFnZ2VkSGVhZGVyQ2VsbEluZGV4PWMuX2RyYWdnZWRIZWFkZXJDZWxsSW5kZXg7Cn12YXIgZj10aGlzOwpjLl8kaW5uZXJDb250YWluZXIuYXBwZW5kKGUpOwpjLl9hbmltYXRlZEhlYWRlckNlbGxzLnB1c2gobmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRBbmltYXRlZEhlYWRlckNlbGwoZSxjLmdldF9yZW9yZGVyRHVyYXRpb24oKSxmLlVuaXF1ZU5hbWUpKTsKfSk7Cn0sX2NyZWF0ZUFuaW1hdGVkQ2VsbDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLiQoYik7CnJldHVybiB0aGlzLl9jaGFuZ2VFbGVtZW50VGFnKGIsImRpdiIpLmNzcyh7cG9zaXRpb246ImFic29sdXRlIixsZWZ0OnRoaXMuX2dldE5leHRDZWxsUG9zaXRpb24oYiksd2lkdGg6YS53aWR0aCgpKyJweCIsY3Vyc29yOiJkZWZhdWx0In0pOwp9LF9nZXROZXh0Q2VsbFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX25leHRDZWxsUG9zaXRpb247CnRoaXMuX25leHRDZWxsUG9zaXRpb24rPXRoaXMuJChhKS5vdXRlcldpZHRoKCk7CnJldHVybiBiOwp9LF9jaGFuZ2VFbGVtZW50VGFnOmZ1bmN0aW9uKGEsZSl7YT1hLmpxdWVyeSYmYS5sZW5ndGg/YVswXTphOwppZighYS50YWdOYW1lKXtyZXR1cm47Cn12YXIgYz10aGlzLiQoYSkuaHRtbCgpOwp2YXIgYj10aGlzLiQoYSkub3V0ZXJIdG1sKCk7CnZhciBkPWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpOwpiPWIucmVwbGFjZSgiPCIrYS50YWdOYW1lLCI8IitkKS5yZXBsYWNlKGEudGFnTmFtZSsiPiIsZCsiPiIpOwpyZXR1cm4gdGhpcy4kKGIucmVwbGFjZSgiPCIrZCwiPCIrZSkucmVwbGFjZShkKyI+IixlKyI+IikpLmh0bWwoYyk7Cn0sX21vdXNlTW92ZTpmdW5jdGlvbihhKXtpZih0aGlzLl9tb3VzZURvd25Qb3NpdGlvbil7aWYoTWF0aC5hYnModGhpcy5fbW91c2VEb3duUG9zaXRpb25bMF0tYS5jbGllbnRYKT4wfHxNYXRoLmFicyh0aGlzLl9tb3VzZURvd25Qb3NpdGlvblsxXS1hLmNsaWVudFkpPjApe3RoaXMuX2NyZWF0ZUFuaW1hdGVkQ29udGFpbmVyKHRoaXMuX2RyYWdUb0dyb3VwQ29sdW1uLmdldF9lbGVtZW50KCkpOwp0aGlzLl9tb3VzZURvd25Qb3NpdGlvbj1udWxsOwp9ZWxzZXtyZXR1cm47Cn19dGhpcy5faGFuZGxlTW91c2VNb3ZlSW50ZXJuYWwoYSk7Cn0sX2hhbmRsZU1vdXNlTW92ZUludGVybmFsOmZ1bmN0aW9uKGEpe3RoaXMuX3NldE1vdmVEaXJlY3Rpb24oYSk7CnRoaXMuX2dldERyYWdnZWRIZWFkZXJDZWxsKCkubW92ZVdpdGhDdXJzb3IoYSx0aGlzLl9hbGxvd0ZyZWVNb3ZlKTsKdGhpcy5fbW91c2VUcmFja09yaWdpbj10aGlzLl9nZXRNb3VzZVRyYWNrT3JpZ2luKGEpOwppZih0aGlzLl9pc1RyYWNrT3JpZ2luT3ZlckhlYWRlcigpJiYhdGhpcy5fZ2V0RHJhZ2dlZEhlYWRlckNlbGwoKS5pc1BvaW50T3Zlck9yaWdpbih0aGlzLl9tb3VzZVRyYWNrT3JpZ2luKSl7dGhpcy5fcmVvcmRlckhlYWRlckNlbGxzKCk7Cn1lbHNle3RoaXMuX3JldmVydEhlYWRlckNlbGxzVG9PcmlnaW4oKTsKfWlmKHRoaXMuX2FsbG93RHJhZ1RvR3JvdXApe3RoaXMuX3VwZGF0ZUdyb3VwUGFuZWxJbmRpY2F0b3JzKGEpOwp9fSxfdXBkYXRlR3JvdXBQYW5lbEluZGljYXRvcnM6ZnVuY3Rpb24oYSl7aWYodGhpcy5faXNEcmFnZ2VkSGVhZGVyT3Zlckdyb3VwUGFuZWwoKSl7VGVsZXJpay5XZWIuVUkuR3JpZC5DcmVhdGVSZW9yZGVySW5kaWNhdG9ycyh0aGlzLmdldF9vd25lcigpLl9ncm91cFBhbmVsLmdldF9lbGVtZW50KCksdGhpcy5nZXRfb3duZXIoKS5Ta2luLHRoaXMuZ2V0X293bmVyKCkuX2ltYWdlc1BhdGgsdHJ1ZSx0aGlzLmdldF9vd25lcigpLmdldF9pZCgpKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5Nb3ZlUmVvcmRlckluZGljYXRvcnMoYSx0aGlzLmdldF9vd25lcigpLl9ncm91cFBhbmVsLmdldF9lbGVtZW50KCksdHJ1ZSx0aGlzLmdldF9vd25lcigpLmdldF9pZCgpKTsKfWVsc2V7dGhpcy5faGlkZVJlb3JkZXJJbmRpY2F0b3JzKCk7Cn19LF9oaWRlUmVvcmRlckluZGljYXRvcnM6ZnVuY3Rpb24oKXtpZihUZWxlcmlrLldlYi5VSS5HcmlkLlJlb3JkZXJJbmRpY2F0b3IxKXtUZWxlcmlrLldlYi5VSS5HcmlkLlJlb3JkZXJJbmRpY2F0b3IxLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7ClRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUuZGlzcGxheT0ibm9uZSI7ClRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS52aXNpYmlsaXR5PVRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUudmlzaWJpbGl0eTsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS5kaXNwbGF5PVRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUuZGlzcGxheTsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS5wb3NpdGlvbj1UZWxlcmlrLldlYi5VSS5HcmlkLlJlb3JkZXJJbmRpY2F0b3IxLnN0eWxlLnBvc2l0aW9uOwp9fSxfZ2V0TW92ZURpcmVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb3ZlRGlyZWN0aW9ufHwwOwp9LF9zZXRNb3ZlRGlyZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX3ByZXZQYWdlWHx8YS5wYWdlWDsKdGhpcy5fbW92ZURpcmVjdGlvbj1hLnBhZ2VYLWI7CnRoaXMuX3ByZXZQYWdlWD1hLnBhZ2VYOwp9LF9pc1RyYWNrT3JpZ2luT3ZlckhlYWRlcjpmdW5jdGlvbigpe3ZhciBhPVRlbGVyaWsuV2ViLlVJLkdyaWQuQW5pbWF0aW9uOwppZih0aGlzLl9tb3VzZVRyYWNrT3JpZ2luKXtyZXR1cm4gYS5jb250YWluc1BvaW50KGEuZ2V0Qm91bmRpbmdSZWN0YW5nbGUodGhpcy5fJGFuaW1hdGVkQ29udGFpbmVyKSx0aGlzLl9tb3VzZVRyYWNrT3JpZ2luKTsKfXJldHVybiBmYWxzZTsKfSxfZ2V0TGFzdE1vdmVkSGVhZGVyV2lkdGg6ZnVuY3Rpb24oKXtpZighdGhpcy5fbGFzdE1vdmVkQ2VsbFdpZHRoKXt0aGlzLl9sYXN0TW92ZWRDZWxsV2lkdGg9dGhpcy5fZ2V0RHJhZ2dlZEhlYWRlckNlbGwoKS5nZXRfYW5pbWF0aW9uV2lkdGgoKTsKfXJldHVybiB0aGlzLl9sYXN0TW92ZWRDZWxsV2lkdGg7Cn0sX3VwZGF0ZUxhc3RNb3ZlZEhlYWRlcldpZHRoOmZ1bmN0aW9uKGEpe3RoaXMuX2xhc3RNb3ZlZENlbGxXaWR0aD1NYXRoLm1heChhLmdldF9hbmltYXRpb25XaWR0aCgpLHRoaXMuX2dldERyYWdnZWRIZWFkZXJDZWxsKCkuZ2V0X2FuaW1hdGlvbldpZHRoKCkpOwp9LF9yZW9yZGVySGVhZGVyQ2VsbHM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9hbmltYXRlZEhlYWRlck9mZnNldC5sZWZ0K3RoaXMuX2dldERyYWdnZWRIZWFkZXJDZWxsKCkuZ2V0X2RyYWdnZWRQb3NpdGlvbigpOwp2YXIgYT1iOwp2YXIgZD10aGlzLl9kcmFnZ2VkSGVhZGVyQ2VsbEluZGV4Owp2YXIgYz1udWxsOwppZih0aGlzLl9nZXRNb3ZlRGlyZWN0aW9uKCk+MHx8YTx0aGlzLl9tb3VzZVRyYWNrT3JpZ2luLmxlZnQpe2ErPXRoaXMuX2dldExhc3RNb3ZlZEhlYWRlcldpZHRoKCk7CndoaWxlKGE8dGhpcy5fbW91c2VUcmFja09yaWdpbi5sZWZ0JiZkPHRoaXMuX2FuaW1hdGVkSGVhZGVyQ2VsbHMubGVuZ3RoLTEpe2QrKzsKYz10aGlzLl9hbmltYXRlZEhlYWRlckNlbGxzW2RdOwphKz1jLmdldF9hbmltYXRpb25XaWR0aCgpOwppZihjLmNhbk1vdmUoKSl7dGhpcy5fbW92ZUNlbGwoZCwibGVmdCIpOwp9fX1lbHNle2lmKHRoaXMuX2dldE1vdmVEaXJlY3Rpb24oKTwwfHxhPj10aGlzLl9tb3VzZVRyYWNrT3JpZ2luLmxlZnQpe3doaWxlKGE+dGhpcy5fbW91c2VUcmFja09yaWdpbi5sZWZ0JiZkPjApe2QtLTsKYz10aGlzLl9hbmltYXRlZEhlYWRlckNlbGxzW2RdOwphLT1jLmdldF9hbmltYXRpb25XaWR0aCgpOwppZihjLmNhbk1vdmUoKSl7dGhpcy5fbW92ZUNlbGwoZCwicmlnaHQiKTsKfX19fX0sX21vdmVDZWxsOmZ1bmN0aW9uKGMsYSl7dmFyIGI9dGhpcy5fYW5pbWF0ZWRIZWFkZXJDZWxsc1tjXTsKaWYoYi5pc1BvaW50T3Zlcih0aGlzLl9tb3VzZVRyYWNrT3JpZ2luKSl7dGhpcy5fdXBkYXRlTGFzdE1vdmVkSGVhZGVyV2lkdGgoYik7CnRoaXMuX2dldERyYWdnZWRIZWFkZXJDZWxsKCkuc2V0X2RyYWdnZWRQb3NpdGlvbihiLmdldF9jdXJyZW50UG9zaXRpb24oKSk7Cn1lbHNle2lmKGIuaXNQb2ludE92ZXJPcmlnaW4odGhpcy5fbW91c2VUcmFja09yaWdpbikpe3RoaXMuX3VwZGF0ZUxhc3RNb3ZlZEhlYWRlcldpZHRoKGIpOwp0aGlzLl9nZXREcmFnZ2VkSGVhZGVyQ2VsbCgpLnNldF9kcmFnZ2VkUG9zaXRpb24oYi5nZXRfb3JpZ2luYWxQb3NpdGlvbigpKTsKfX10aGlzLl9leGNoYW5nZUNlbGxQb3NpdGlvbihjKTsKdGhpcy5fdXBkYXRlUmV2ZXJ0U3RhdGUoYik7CmlmKGE9PT0ibGVmdCIpe2IubW92ZUxlZnQodGhpcy5fZ2V0RHJhZ2dlZEhlYWRlckNlbGwoKS5nZXRfYW5pbWF0aW9uV2lkdGgoKSk7Cn1lbHNle2IubW92ZVJpZ2h0KHRoaXMuX2dldERyYWdnZWRIZWFkZXJDZWxsKCkuZ2V0X2FuaW1hdGlvbldpZHRoKCkpOwp9fSxfdXBkYXRlUmV2ZXJ0U3RhdGU6ZnVuY3Rpb24oYil7aWYoYi5pc0F0T3JpZ2luKCkpe3RoaXMuX3JldmVydFBlbmRpbmdDZWxscy5wdXNoKGIpOwp9ZWxzZXtpZih0aGlzLl9yZXZlcnRQZW5kaW5nQ2VsbHMubGVuZ3RoPjApe3ZhciBhPUFycmF5LmluZGV4T2YodGhpcy5fcmV2ZXJ0UGVuZGluZ0NlbGxzLGIpOwppZihhPi0xKXt0aGlzLl9yZXZlcnRQZW5kaW5nQ2VsbHMuc3BsaWNlKGEsMSk7Cn19fX0sX2V4Y2hhbmdlQ2VsbFBvc2l0aW9uOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMuX2RyYWdnZWRIZWFkZXJDZWxsSW5kZXg7CnZhciBhPXRoaXMuX2dldERyYWdnZWRIZWFkZXJDZWxsKCk7CnRoaXMuX2FuaW1hdGVkSGVhZGVyQ2VsbHMuc3BsaWNlKGIsMSk7CnRoaXMuX2FuaW1hdGVkSGVhZGVyQ2VsbHMuc3BsaWNlKGMsMCxhKTsKdGhpcy5fZHJhZ2dlZEhlYWRlckNlbGxJbmRleD1jOwp9LF9yZXZlcnRIZWFkZXJDZWxsc1RvT3JpZ2luOmZ1bmN0aW9uKCl7aWYodGhpcy5fcmV2ZXJ0UGVuZGluZ0NlbGxzLmxlbmd0aD4wKXtpZih0aGlzLl9pbml0aWFsRHJhZ2dlZEhlYWRlckNlbGxJbmRleCE9PXRoaXMuX2RyYWdnZWRIZWFkZXJDZWxsSW5kZXgpe3RoaXMuX2V4Y2hhbmdlQ2VsbFBvc2l0aW9uKHRoaXMuX2luaXRpYWxEcmFnZ2VkSGVhZGVyQ2VsbEluZGV4KTsKfXZhciBhPXRoaXMuX2dldERyYWdnZWRIZWFkZXJDZWxsKCk7CmlmKGEuZ2V0X2RyYWdnZWRQb3NpdGlvbigpIT09YS5nZXRfb3JpZ2luYWxQb3NpdGlvbigpKXt0aGlzLl91cGRhdGVMYXN0TW92ZWRIZWFkZXJXaWR0aChhKTsKYS5zZXRfZHJhZ2dlZFBvc2l0aW9uKGEuZ2V0X29yaWdpbmFsUG9zaXRpb24oKSk7Cn13aGlsZSh0aGlzLl9yZXZlcnRQZW5kaW5nQ2VsbHMubGVuZ3RoKXt0aGlzLl9yZXZlcnRQZW5kaW5nQ2VsbHMucG9wKCkubW92ZVRvT3JpZ2luKCk7Cn19fSxfZ2V0TW91c2VUcmFja09yaWdpbjpmdW5jdGlvbihhKXt2YXIgYj17bGVmdDphLnBhZ2VYLHRvcDphLnBhZ2VZfTsKdmFyIGM9VGVsZXJpay5XZWIuVUkuR3JpZC5BbmltYXRpb24uZ2V0VHJhY2tlZFBvaW50KCk7CmlmKCF0aGlzLl9hbGxvd0ZyZWVNb3ZlJiZjKXtiLnRvcD1jLnRvcDsKfXJldHVybiBiOwp9LF9nZXREcmFnZ2VkSGVhZGVyQ2VsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmltYXRlZEhlYWRlckNlbGxzW3RoaXMuX2RyYWdnZWRIZWFkZXJDZWxsSW5kZXhdOwp9LF9pc0RyYWdnZWRIZWFkZXJPdmVyR3JvdXBQYW5lbDpmdW5jdGlvbigpe2lmKHRoaXMuX21vdXNlVHJhY2tPcmlnaW4pe3JldHVybiB0aGlzLl9hbGxvd0RyYWdUb0dyb3VwJiZ0aGlzLmdldF9vd25lcigpLl9ncm91cFBhbmVsJiZUZWxlcmlrLldlYi5VSS5HcmlkLkFuaW1hdGlvbi5jb250YWluc1BvaW50KHRoaXMuX2dldEdyb3VwUGFuZWxCb3VuZGluZ1JlY3RhbmdsZSgpLHRoaXMuX21vdXNlVHJhY2tPcmlnaW4pOwp9cmV0dXJuIGZhbHNlOwp9LF9nZXRHcm91cFBhbmVsQm91bmRpbmdSZWN0YW5nbGU6ZnVuY3Rpb24oKXtpZighdGhpcy5fY2FjaGVkR3JvdXBQYW5lbFJlY3Qpe3RoaXMuX2NhY2hlZEdyb3VwUGFuZWxSZWN0PVRlbGVyaWsuV2ViLlVJLkdyaWQuQW5pbWF0aW9uLmdldEJvdW5kaW5nUmVjdGFuZ2xlKHRoaXMuZ2V0X293bmVyKCkuX2dyb3VwUGFuZWwuZ2V0X2VsZW1lbnQoKSk7Cn1yZXR1cm4gdGhpcy5fY2FjaGVkR3JvdXBQYW5lbFJlY3Q7Cn0sX21vdXNlVXA6ZnVuY3Rpb24oYil7Y2xlYXJUaW1lb3V0KHRoaXMuX21vdXNlTW92ZVRpbWVvdXQpOwppZighdGhpcy5fbW91c2VEb3duUG9zaXRpb24mJnRoaXMuX2FsbG93Q29sdW1uc1Jlb3JkZXJBbmltYXRpb24pe3ZhciBmPXRoaXMuX2dldERyYWdnZWRIZWFkZXJDZWxsKCkuZ2V0X2VsZW1lbnQoKS5wYXJlbnQoKVswXS5pZDsKdmFyIGQ9JGZpbmQoZik7CmlmKHRoaXMuZ2V0X293bmVyKCkuQ2xpZW50U2V0dGluZ3MuQWxsb3dDb2x1bW5zUmVvcmRlciYmdGhpcy5faXNUcmFja09yaWdpbk92ZXJIZWFkZXIoKSl7dmFyIGM9dGhpcy5fZ2V0UmVvcmRlckNvbHVtbk5hbWVzKCk7CmlmKGMmJmQpe2QucmVvcmRlckNvbHVtbnMoYy5maXJzdCxjLnNlY29uZCk7Cn10aGlzLl9jbGVhckFuaW1hdGlvbkRhdGEoKTsKdGhpcy5fcmVtb3ZlQW5pbWF0ZWRDb250YWluZXIoKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZXN0b3JlRG9jdW1lbnRFdmVudHMoKTsKcmV0dXJuOwp9dGhpcy5fcmV2ZXJ0SGVhZGVyQ2VsbHNUb09yaWdpbigpOwppZih0aGlzLmdldF9vd25lcigpLkNsaWVudFNldHRpbmdzLkFsbG93RHJhZ1RvR3JvdXAmJnRoaXMuX2lzRHJhZ2dlZEhlYWRlck92ZXJHcm91cFBhbmVsKCkpe3ZhciBhPWQuZ2V0Q29sdW1uQnlVbmlxdWVOYW1lKHRoaXMuX2dldERyYWdnZWRIZWFkZXJDZWxsKCkuZ2V0X2NvbHVtbk5hbWUoKSk7CmlmKGEmJmEuX2RhdGEuR3JvdXBhYmxlKXt0aGlzLl9jbGVhckFuaW1hdGlvbkRhdGEoKTsKdGhpcy5fcmVtb3ZlQW5pbWF0ZWRDb250YWluZXIoKTsKdGhpcy5faGlkZVJlb3JkZXJJbmRpY2F0b3JzKCk7CmQuZ3JvdXBDb2x1bW4oYS5nZXRfZWxlbWVudCgpLlVuaXF1ZU5hbWUpOwp9fWVsc2V7dGhpcy5fbW92ZURyYWdnZWRDZWxsVG9PcmlnaW4oKTsKfX1lbHNle2lmKHRoaXMuX2FsbG93RHJhZ1RvR3JvdXAmJnRoaXMuX2RyYWdUb0dyb3VwQ29sdW1uKXt0aGlzLl9kcmFnVG9Hcm91cENvbHVtbi5fb25Nb3VzZVVwSGFuZGxlcihiKTsKaWYodGhpcy5fYWxsb3dDb2x1bW5SZXZlcnRBbmltYXRpb24pe1RlbGVyaWsuV2ViLlVJLkdyaWQuQW5pbWF0ZVJldmVydERyYWdEcm9wKHRoaXMuX2RyYWdUb0dyb3VwQ29sdW1uLHRoaXMuZ2V0X3JldmVydER1cmF0aW9uKCkpOwp9fWVsc2V7dGhpcy5fZHJhZ1RvR3JvdXBDb2x1bW4uX29uTW91c2VVcEhhbmRsZXIoYik7CmlmKHRoaXMuX2RyYWdUb0dyb3VwQ29sdW1uJiZ0aGlzLl9hbGxvd0NvbHVtblJldmVydEFuaW1hdGlvbil7VGVsZXJpay5XZWIuVUkuR3JpZC5BbmltYXRlUmV2ZXJ0RHJhZ0Ryb3AodGhpcy5fZHJhZ1RvR3JvdXBDb2x1bW4sdGhpcy5nZXRfcmV2ZXJ0RHVyYXRpb24oKSk7Cn1lbHNle1RlbGVyaWsuV2ViLlVJLkdyaWQuRGVzdHJveURyYWdEcm9wKCk7Cn19fXRoaXMuX2NsZWFyQW5pbWF0aW9uRGF0YSgpOwpUZWxlcmlrLldlYi5VSS5HcmlkLlJlc3RvcmVEb2N1bWVudEV2ZW50cygpOwp9LF9nZXRSZW9yZGVyQ29sdW1uTmFtZXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9nZXREcmFnZ2VkSGVhZGVyQ2VsbCgpLmdldF9jb2x1bW5OYW1lKCk7CnZhciBhPSIiOwpmb3IodmFyIGQ9MDsKZDx0aGlzLl9yZXZlcnRQZW5kaW5nQ2VsbHMubGVuZ3RoOwpkKyspe3ZhciBjPXRoaXMuX3JldmVydFBlbmRpbmdDZWxsc1tkXTsKaWYoIWMuaXNEcmFnZ2VkKCkmJmMuZ2V0X29yaWdpbmFsUG9zaXRpb24oKT09PXRoaXMuX2dldERyYWdnZWRIZWFkZXJDZWxsKCkuZ2V0X2N1cnJlbnRQb3NpdGlvbigpKXthPWMuZ2V0X2NvbHVtbk5hbWUoKTsKYnJlYWs7Cn19aWYoYiYmYSYmYiE9PWEpe3JldHVybntmaXJzdDpiLHNlY29uZDphfTsKfXJldHVybiBudWxsOwp9LF9tb3ZlRHJhZ2dlZENlbGxUb09yaWdpbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX2dldERyYWdnZWRIZWFkZXJDZWxsKCk7CmlmKHRoaXMuX2FsbG93Q29sdW1uUmV2ZXJ0QW5pbWF0aW9uKXt2YXIgYT10aGlzOwpiLmdldF9lbGVtZW50KCkuYW5pbWF0ZSh7bGVmdDpiLmdldF9vcmlnaW5hbFBvc2l0aW9uKCksdG9wOjB9LHRoaXMuZ2V0X3JldmVydER1cmF0aW9uKCksZnVuY3Rpb24oKXthLl9yZW1vdmVBbmltYXRlZENvbnRhaW5lcigpOwp9KTsKfWVsc2V7dGhpcy5fcmVtb3ZlQW5pbWF0ZWRDb250YWluZXIoKTsKfX0sX2NsZWFyQW5pbWF0aW9uRGF0YTpmdW5jdGlvbigpe3RoaXMuX21vdXNlVHJhY2tPcmlnaW49LTE7CnRoaXMuX25leHRDZWxsUG9zaXRpb249MDsKdGhpcy5fcmV2ZXJ0UGVuZGluZ0NlbGxzPVtdOwp0aGlzLl9hbmltYXRlZEhlYWRlckNlbGxzPVtdOwp0aGlzLl9kcmFnZ2VkSGVhZGVyQ2VsbEluZGV4PS0xOwp0aGlzLl9pbml0aWFsRHJhZ2dlZEhlYWRlckNlbGxJbmRleD0tMTsKdGhpcy5fbGFzdE1vdmVkQ2VsbFdpZHRoPW51bGw7CnRoaXMuX21vdmVEaXJlY3Rpb249MDsKdGhpcy5fcHJldlBhZ2VYPTA7CnRoaXMuX21vdXNlTW92ZUluUHJvZ3Jlc3M9ZmFsc2U7CnRoaXMuX2RyYWdUb0dyb3VwQ29sdW1uPW51bGw7CnRoaXMuX21vdXNlRG93blBvc2l0aW9uPW51bGw7ClRlbGVyaWsuV2ViLlVJLkdyaWQuQW5pbWF0aW9uLmNsZWFyRWxlbWVudFJlbGF0aXZlTW91c2VQb2ludCgpOwp0aGlzLl9jbGVhckhhbmRsZXJzKCk7Cn0sX2NsZWFySGFuZGxlcnM6ZnVuY3Rpb24oKXt0aGlzLiQoZG9jdW1lbnQpLnVuYmluZCgibW91c2Vtb3ZlIix0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSk7CnRoaXMuJChkb2N1bWVudCkudW5iaW5kKCJtb3VzZXVwIix0aGlzLl9tb3VzZVVwRGVsZWdhdGUpOwp9LF9yZW1vdmVBbmltYXRlZENvbnRhaW5lcjpmdW5jdGlvbigpe3RoaXMuXyRhbmltYXRlZENvbnRhaW5lci5yZW1vdmUoKTsKfSxnZXRfcmVvcmRlckR1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jlb3JkZXJEdXJhdGlvbjsKfSxzZXRfcmVvcmRlckR1cmF0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3Jlb3JkZXJEdXJhdGlvbj1hOwp9LGdldF9yZXZlcnREdXJhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXZlcnREdXJhdGlvbjsKfSxzZXRfcmV2ZXJ0RHVyYXRpb246ZnVuY3Rpb24oYSl7dGhpcy5fcmV2ZXJ0RHVyYXRpb249YTsKfSxnZXRfb3duZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3duZXI7Cn0sc2V0X293bmVyOmZ1bmN0aW9uKGEpe3RoaXMuX293bmVyPWE7Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uQW5pbWF0aW9uLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5BbmltYXRpb24iLFN5cy5Db21wb25lbnQpOwpUZWxlcmlrLldlYi5VSS5HcmlkQW5pbWF0ZWRIZWFkZXJDZWxsPWZ1bmN0aW9uKGEsYixjKXt0aGlzLl8kZWxlbWVudD1hOwp0aGlzLl9jb2x1bW5OYW1lPWM7CnRoaXMuX29yaWdpbmFsUG9zaXRpb249cGFyc2VJbnQoYS5jc3MoImxlZnQiKSwxMCk7CnRoaXMuX2N1cnJlbnRQb3NpdGlvbj10aGlzLl9vcmlnaW5hbFBvc2l0aW9uOwp0aGlzLmNsYXNzTmFtZT10aGlzLl8kZWxlbWVudFswXS5jbGFzc05hbWU7CnRoaXMuX2FuaW1hdGVkPWZhbHNlOwp0aGlzLl9hbmltYXRpb25EdXJhdGlvbj1iOwp0aGlzLl9vcmlnaW5hbE9mZnNldD10aGlzLl8kZWxlbWVudC5vZmZzZXQoKTsKdGhpcy5fb3JpZ2luYWxQYXJlbnRPZmZzZXQ9dGhpcy5fJGVsZW1lbnQucGFyZW50KCkub2Zmc2V0KCk7CnRoaXMuX29yaWdpbkJvdW5kaW5nUmVjdGFuZ2xlPXtsZWZ0OnRoaXMuX29yaWdpbmFsUGFyZW50T2Zmc2V0LmxlZnQrdGhpcy5nZXRfb3JpZ2luYWxQb3NpdGlvbigpLHRvcDp0aGlzLl9vcmlnaW5hbE9mZnNldC50b3Asd2lkdGg6dGhpcy5nZXRfYW5pbWF0aW9uV2lkdGgoKSxoZWlnaHQ6dGhpcy5fJGVsZW1lbnQucGFyZW50KCkuaGVpZ2h0KCktKHRoaXMuXyRlbGVtZW50LmlubmVySGVpZ2h0KCktdGhpcy5fJGVsZW1lbnQuaGVpZ2h0KCkpfTsKdGhpcy5fJGVsZW1lbnRbMF0uaW5uZXJIVE1MPVN0cmluZy5mb3JtYXQoIjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6MTAwJTsnPnswfTwvc3Bhbj4iLHRoaXMuXyRlbGVtZW50Lmh0bWwoKSk7CnRoaXMuXyRlbGVtZW50LnByZXBlbmQoIjxzcGFuIHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7aGVpZ2h0OjEwMCU7Jz48L3NwYW4+Iik7CnRoaXMuXyRlbGVtZW50LmhlaWdodCh0aGlzLl9vcmlnaW5Cb3VuZGluZ1JlY3RhbmdsZS5oZWlnaHQpOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkQW5pbWF0ZWRIZWFkZXJDZWxsLnByb3RvdHlwZT17aXNEcmFnZ2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXyRlbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0RyYWdnZWRIZWFkZXIiKT4tMTsKfSxnZXRfZWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8kZWxlbWVudDsKfSxnZXRfY29sdW1uTmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2x1bW5OYW1lOwp9LGlzQXRPcmlnaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRfY3VycmVudFBvc2l0aW9uKCk9PT10aGlzLmdldF9vcmlnaW5hbFBvc2l0aW9uKCk7Cn0sZ2V0X29yaWdpbmFsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZ2luYWxQb3NpdGlvbjsKfSxnZXRfY3VycmVudFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRQb3NpdGlvbjsKfSxnZXRfZHJhZ2dlZFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRQb3NpdGlvbjsKfSxzZXRfZHJhZ2dlZFBvc2l0aW9uOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNEcmFnZ2VkKCkpe3RoaXMuX2N1cnJlbnRQb3NpdGlvbj1hOwp9fSxnZXRfYW5pbWF0aW9uV2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fJGVsZW1lbnQub3V0ZXJXaWR0aCgpOwp9LGdldF9hbmltYXRpb25EdXJhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmltYXRpb25EdXJhdGlvbjsKfSxpc1BvaW50T3ZlcjpmdW5jdGlvbihhKXtyZXR1cm4gVGVsZXJpay5XZWIuVUkuR3JpZC5BbmltYXRpb24uY29udGFpbnNQb2ludChUZWxlcmlrLldlYi5VSS5HcmlkLkFuaW1hdGlvbi5nZXRCb3VuZGluZ1JlY3RhbmdsZSh0aGlzLmdldF9lbGVtZW50KCkpLGEpOwp9LGlzUG9pbnRPdmVyT3JpZ2luOmZ1bmN0aW9uKGEpe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLkFuaW1hdGlvbi5jb250YWluc1BvaW50KHRoaXMuX29yaWdpbkJvdW5kaW5nUmVjdGFuZ2xlLGEpOwp9LGNhbk1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbGFzc05hbWUuaW5kZXhPZigicmdHcm91cENvbCIpPDAmJnRoaXMuY2xhc3NOYW1lLmluZGV4T2YoInJnRXhwYW5kQ29sIik8MDsKfSxjYW5Nb3ZlTGVmdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbk1vdmUoKSYmdGhpcy5nZXRfY3VycmVudFBvc2l0aW9uKCk+MCYmdGhpcy5nZXRfb3JpZ2luYWxQb3NpdGlvbigpPD10aGlzLmdldF9jdXJyZW50UG9zaXRpb24oKTsKfSxjYW5Nb3ZlUmlnaHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8kZWxlbWVudC5wYXJlbnQoKS53aWR0aCgpLXRoaXMuXyRlbGVtZW50Lm91dGVyV2lkdGgoKTsKcmV0dXJuIHRoaXMuY2FuTW92ZSgpJiZ0aGlzLmdldF9jdXJyZW50UG9zaXRpb24oKTxhJiZ0aGlzLmdldF9vcmlnaW5hbFBvc2l0aW9uKCk+PXRoaXMuZ2V0X2N1cnJlbnRQb3NpdGlvbigpOwp9LG1vdmVMZWZ0OmZ1bmN0aW9uKGEpe3RoaXMubW92ZVRvKGEsImxlZnQiKTsKfSxtb3ZlUmlnaHQ6ZnVuY3Rpb24oYSl7dGhpcy5tb3ZlVG8oYSwicmlnaHQiKTsKfSxtb3ZlVG9PcmlnaW46ZnVuY3Rpb24oKXt0aGlzLm1vdmVUbygwLCJvcmlnaW4iKTsKfSxtb3ZlVG86ZnVuY3Rpb24oYyxkKXt2YXIgYj17bGVmdDpudWxsfTsKc3dpdGNoKGQpe2Nhc2UibGVmdCI6aWYodGhpcy5jYW5Nb3ZlTGVmdCgpKXtiLmxlZnQ9dGhpcy5nZXRfY3VycmVudFBvc2l0aW9uKCk9PT10aGlzLmdldF9vcmlnaW5hbFBvc2l0aW9uKCk/dGhpcy5nZXRfb3JpZ2luYWxQb3NpdGlvbigpLWM6dGhpcy5nZXRfb3JpZ2luYWxQb3NpdGlvbigpOwp9YnJlYWs7CmNhc2UicmlnaHQiOmlmKHRoaXMuY2FuTW92ZVJpZ2h0KCkpe2IubGVmdD10aGlzLmdldF9jdXJyZW50UG9zaXRpb24oKT09PXRoaXMuZ2V0X29yaWdpbmFsUG9zaXRpb24oKT90aGlzLmdldF9vcmlnaW5hbFBvc2l0aW9uKCkrYzp0aGlzLmdldF9vcmlnaW5hbFBvc2l0aW9uKCk7Cn1icmVhazsKY2FzZSJvcmlnaW4iOmlmKHRoaXMuZ2V0X2N1cnJlbnRQb3NpdGlvbiE9PXRoaXMuZ2V0X29yaWdpbmFsUG9zaXRpb24oKSl7Yi5sZWZ0PXRoaXMuZ2V0X29yaWdpbmFsUG9zaXRpb24oKTsKfWJyZWFrOwp9aWYoYi5sZWZ0IT09bnVsbCl7dGhpcy5fY3VycmVudFBvc2l0aW9uPWIubGVmdDsKdmFyIGE9dGhpczsKc2V0VGltZW91dChmdW5jdGlvbigpe2EuXyRlbGVtZW50LnN0b3AoZmFsc2UsZmFsc2UpLmFuaW1hdGUoYixhLmdldF9hbmltYXRpb25EdXJhdGlvbigpKTsKfSwxMCk7Cn19LG1vdmVXaXRoQ3Vyc29yOmZ1bmN0aW9uKGMsYSl7aWYodGhpcy5pc0RyYWdnZWQoKSl7dmFyIGI9e307CmlmKGEpe2IubGVmdD1jLnBhZ2VYLXRoaXMuX29yaWdpbmFsUGFyZW50T2Zmc2V0LmxlZnQrInB4IjsKYi50b3A9Yy5wYWdlWS10aGlzLl9vcmlnaW5hbFBhcmVudE9mZnNldC50b3ArInB4IjsKfWVsc2V7aWYoIVRlbGVyaWsuV2ViLlVJLkdyaWQuQW5pbWF0aW9uLmdldEVsZW1lbnRSZWxhdGl2ZVRyYWNrZWRQb2ludCgpKXtUZWxlcmlrLldlYi5VSS5HcmlkLkFuaW1hdGlvbi50cmFja0VsZW1lbnRSZWxhdGl2ZU1vdXNlUG9pbnQodGhpcy5nZXRfZWxlbWVudCgpLGMpOwp9Yi5sZWZ0PWMucGFnZVgtdGhpcy5fb3JpZ2luYWxQYXJlbnRPZmZzZXQubGVmdC1UZWxlcmlrLldlYi5VSS5HcmlkLkFuaW1hdGlvbi5nZXRFbGVtZW50UmVsYXRpdmVUcmFja2VkUG9pbnQoKS5sZWZ0KyJweCI7Cn10aGlzLmdldF9lbGVtZW50KCkuY3NzKGIpOwp9fX07ClR5cGUucmVnaXN0ZXJOYW1lc3BhY2UoIlRlbGVyaWsuV2ViLlVJLkdyaWQiKTsKVHlwZS5yZWdpc3Rlck5hbWVzcGFjZSgiVGVsZXJpay5XZWIuVUkuR3JpZC5BbmltYXRpb24iKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5BbmltYXRpb24uZ2V0Qm91bmRpbmdSZWN0YW5nbGU9ZnVuY3Rpb24oYSl7YT1hLmpxdWVyeT9hOiR0ZWxlcmlrLiQoYSk7CnZhciBiPWEub2Zmc2V0KCk7CnZhciBjPXt9OwpjLmxlZnQ9Yy54PWIubGVmdDsKYy53aWR0aD1hLm91dGVyV2lkdGgoKTsKYy50b3A9Yy55PWIudG9wOwpjLmhlaWdodD1hLm91dGVySGVpZ2h0KCk7CnJldHVybiBjOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLkFuaW1hdGlvbi5jb250YWluc1BvaW50PWZ1bmN0aW9uKGIsYSl7aWYodHlwZW9mKGIueCk9PT0idW5kZWZpbmVkIil7Yi54PWIubGVmdDsKfWlmKHR5cGVvZihiLnkpPT09InVuZGVmaW5lZCIpe2IueT1iLnRvcDsKfWlmKHR5cGVvZihhLngpPT09InVuZGVmaW5lZCIpe2EueD1hLmxlZnQ7Cn1pZih0eXBlb2YoYS55KT09PSJ1bmRlZmluZWQiKXthLnk9YS50b3A7Cn1yZXR1cm4gJHRlbGVyaWsuY29udGFpbnNQb2ludChiLGEueCxhLnkpOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLkFuaW1hdGlvbi50cmFja0VsZW1lbnRSZWxhdGl2ZU1vdXNlUG9pbnQ9ZnVuY3Rpb24oYixhKXtpZighYS5wYWdlWCl7JHRlbGVyaWsuJC5ldmVudC5maXgoYSk7Cn1iPWIuanF1ZXJ5P2I6JHRlbGVyaWsuJChiKTsKdmFyIGM9Yi5vZmZzZXQoKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5BbmltYXRpb24uX3RyYWNrZWRFbGVtZW50PWI7CnZhciBkPVRlbGVyaWsuV2ViLlVJLkdyaWQuQW5pbWF0aW9uLl90cmFja2VkRWxlbWVudFJlbGF0aXZlTW91c2VQb2ludD17fTsKZC5sZWZ0PWQueD1hLnBhZ2VYLWMubGVmdDsKZC50b3A9ZC55PWEucGFnZVktYy50b3A7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuQW5pbWF0aW9uLmdldFRyYWNrZWRQb2ludD1mdW5jdGlvbigpe3ZhciBjPVRlbGVyaWsuV2ViLlVJLkdyaWQuQW5pbWF0aW9uLmdldEVsZW1lbnRSZWxhdGl2ZVRyYWNrZWRQb2ludCgpOwppZighVGVsZXJpay5XZWIuVUkuR3JpZC5BbmltYXRpb24uX3RyYWNrZWRFbGVtZW50fHwhYyl7cmV0dXJuIG51bGw7Cn12YXIgYT1UZWxlcmlrLldlYi5VSS5HcmlkLkFuaW1hdGlvbi5fdHJhY2tlZEVsZW1lbnQub2Zmc2V0KCk7CnZhciBiPXt9OwpiLmxlZnQ9Yi54PWEubGVmdCtjLmxlZnQ7CmIudG9wPWIueT1hLnRvcCtjLnRvcDsKcmV0dXJuIGI7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuQW5pbWF0aW9uLmdldEVsZW1lbnRSZWxhdGl2ZVRyYWNrZWRQb2ludD1mdW5jdGlvbigpe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLkFuaW1hdGlvbi5fdHJhY2tlZEVsZW1lbnRSZWxhdGl2ZU1vdXNlUG9pbnQ7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuQW5pbWF0aW9uLmNsZWFyRWxlbWVudFJlbGF0aXZlTW91c2VQb2ludD1mdW5jdGlvbigpe1RlbGVyaWsuV2ViLlVJLkdyaWQuQW5pbWF0aW9uLl90cmFja2VkRWxlbWVudD1udWxsOwpUZWxlcmlrLldlYi5VSS5HcmlkLkFuaW1hdGlvbi5fdHJhY2tlZEVsZW1lbnRSZWxhdGl2ZU1vdXNlUG9pbnQ9bnVsbDsKfTsKVHlwZS5yZWdpc3Rlck5hbWVzcGFjZSgiVGVsZXJpay5XZWIuVUkiKTsKVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtblJlc2l6ZXI9ZnVuY3Rpb24oZCxjLGEpe1RlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5SZXNpemVyLmluaXRpYWxpemVCYXNlKHRoaXMpOwp0aGlzLl9jb2x1bW49ZDsKdGhpcy5faXNSZWFsVGltZVJlc2l6ZT1jOwp0aGlzLl9lbGVtZW50VG9BdHRhY2hNb3ZlPWE/ZG9jdW1lbnQ6dGhpcy5fY29sdW1uLl9vd25lci5fb3duZXIuZ2V0X2VsZW1lbnQoKTsKdGhpcy5fY3VycmVudFdpZHRoPW51bGw7CnRoaXMuX2xlZnRSZXNpemVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKdGhpcy5fbGVmdFJlc2l6ZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yPSJuYXZ5IjsKdGhpcy5fbGVmdFJlc2l6ZXIuc3R5bGUud2lkdGg9IjFweCI7CnRoaXMuX2xlZnRSZXNpemVyLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CnRoaXMuX2xlZnRSZXNpemVyLnN0eWxlLmN1cnNvcj0iZS1yZXNpemUiOwp0aGlzLl9yaWdodFJlc2l6ZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwp0aGlzLl9yaWdodFJlc2l6ZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yPSJuYXZ5IjsKdGhpcy5fcmlnaHRSZXNpemVyLnN0eWxlLndpZHRoPSIxcHgiOwp0aGlzLl9yaWdodFJlc2l6ZXIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjsKdGhpcy5fcmlnaHRSZXNpemVyLnN0eWxlLmN1cnNvcj0iZS1yZXNpemUiOwp0aGlzLl9yZXNpemVyVG9vbFRpcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CnRoaXMuX3Jlc2l6ZXJUb29sVGlwLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CnRoaXMuX3Jlc2l6ZXJUb29sVGlwLnN0eWxlLnpJbmRleD0xMDAwMDsKdGhpcy5fcmVzaXplclRvb2xUaXAuc3R5bGUuZGlzcGxheT0odGhpcy5fY29sdW1uLl9vd25lci5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQ2xpZW50TWVzc2FnZXMuQ29sdW1uUmVzaXplVG9vbHRpcEZvcm1hdFN0cmluZz09IiIpPyJub25lIjoiIjsKdGhpcy5fcmVzaXplclRvb2xUaXBGb3JtYXRTdHJpbmc9dGhpcy5fY29sdW1uLl9vd25lci5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQ2xpZW50TWVzc2FnZXMuQ29sdW1uUmVzaXplVG9vbHRpcEZvcm1hdFN0cmluZzsKaWYodGhpcy5fY29sdW1uLl9vd25lci5fb3duZXIuU2tpbiE9IiIpe3RoaXMuX3Jlc2l6ZXJUb29sVGlwLmNsYXNzTmFtZT1TdHJpbmcuZm9ybWF0KCJHcmlkVG9vbFRpcCBHcmlkVG9vbFRpcF97MH0iLHRoaXMuX2NvbHVtbi5fb3duZXIuX293bmVyLlNraW4pOwp0aGlzLl9sZWZ0UmVzaXplci5jbGFzc05hbWU9U3RyaW5nLmZvcm1hdCgiR3JpZExlZnRSZXNpemVyIEdyaWRMZWZ0UmVzaXplcl97MH0iLHRoaXMuX2NvbHVtbi5fb3duZXIuX293bmVyLlNraW4pOwp0aGlzLl9yaWdodFJlc2l6ZXIuY2xhc3NOYW1lPVN0cmluZy5mb3JtYXQoIkdyaWRSaWdodFJlc2l6ZXIgR3JpZFJpZ2h0UmVzaXplcl97MH0iLHRoaXMuX2NvbHVtbi5fb3duZXIuX293bmVyLlNraW4pOwp9aWYoIXRoaXMuX2NvbHVtbi5fb3duZXIuX293bmVyLl9lbWJlZGRlZFNraW58fHRoaXMuX2NvbHVtbi5fb3duZXIuX293bmVyLlNraW49PSIiKXt0aGlzLl9yZXNpemVyVG9vbFRpcC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNGNUY1REMiOwp0aGlzLl9yZXNpemVyVG9vbFRpcC5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCI7CnRoaXMuX3Jlc2l6ZXJUb29sVGlwLnN0eWxlLmZvbnQ9Imljb24iOwp0aGlzLl9yZXNpemVyVG9vbFRpcC5zdHlsZS5wYWRkaW5nPSIycHgiOwp9dmFyIGI9dGhpcy5fY29sdW1uLmdldF9lbGVtZW50KCkub2Zmc2V0V2lkdGg7CnRoaXMuX3Jlc2l6ZXJUb29sVGlwLmlubmVySFRNTD10aGlzLl9hcHBseVRvb2x0aXBUZXh0KGIpOwpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2xlZnRSZXNpemVyKTsKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9yaWdodFJlc2l6ZXIpOwpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX3Jlc2l6ZXJUb29sVGlwKTsKdGhpcy5fcmVzaXplclRvb2xUaXAuc3R5bGUud2lkdGg9dGhpcy5fcmVzaXplclRvb2xUaXAuY2xpZW50V2lkdGgrKHBhcnNlSW50KGIsMTApLnRvU3RyaW5nKCkubGVuZ3RoPj0zPzA6MTApKyJweCI7CnRoaXMuQ2FuRGVzdHJveT10cnVlOwp0aGlzLl9vbk1vdXNlVXBEZWxlZ2F0ZT0kdGVsZXJpay5hZGRNb2JpbGVIYW5kbGVyKHRoaXMsZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuX29uTW91c2VVcEhhbmRsZXIsbnVsbCx0cnVlKTsKdGhpcy5fb25Nb3VzZU1vdmVEZWxlZ2F0ZT0kdGVsZXJpay5hZGRNb2JpbGVIYW5kbGVyKHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoTW92ZSwibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZUhhbmRsZXIpOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uUmVzaXplci5wcm90b3R5cGU9e2Rpc3Bvc2U6ZnVuY3Rpb24oKXt0cnl7dGhpcy5fZGVzdHJveSgpOwp9Y2F0Y2goYSl7fWlmKHRoaXMuX29uTW91c2VVcERlbGVnYXRlKXskdGVsZXJpay5yZW1vdmVNb2JpbGVIYW5kbGVyKGRvY3VtZW50LCJtb3VzZXVwIix0aGlzLl9vbk1vdXNlVXBEZWxlZ2F0ZSxudWxsLHRydWUpOwp9aWYodGhpcy5fb25Nb3VzZU1vdmVEZWxlZ2F0ZSl7JHRlbGVyaWsucmVtb3ZlTW9iaWxlSGFuZGxlcih0aGlzLl9lbGVtZW50VG9BdHRhY2hNb3ZlLCJtb3VzZW1vdmUiLHRoaXMuX29uTW91c2VNb3ZlRGVsZWdhdGUpOwp9dGhpcy5fbGVmdFJlc2l6ZXI9bnVsbDsKdGhpcy5fcmlnaHRSZXNpemVyPW51bGw7CnRoaXMuX3Jlc2l6ZXJUb29sVGlwPW51bGw7CnRoaXMuX2VsZW1lbnRUb0F0dGFjaE1vdmU9bnVsbDsKfSxfcG9zaXRpb246ZnVuY3Rpb24oYyl7dGhpcy5fbGVmdFJlc2l6ZXIuc3R5bGUudG9wPVRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1kodGhpcy5fY29sdW1uLmdldF9lbGVtZW50KCkpKyJweCI7CnRoaXMuX2xlZnRSZXNpemVyLnN0eWxlLmxlZnQ9VGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWCh0aGlzLl9jb2x1bW4uZ2V0X2VsZW1lbnQoKSkrInB4IjsKdGhpcy5fcmlnaHRSZXNpemVyLnN0eWxlLnRvcD10aGlzLl9sZWZ0UmVzaXplci5zdHlsZS50b3A7CnRoaXMuX3JpZ2h0UmVzaXplci5zdHlsZS5sZWZ0PXBhcnNlSW50KHRoaXMuX2xlZnRSZXNpemVyLnN0eWxlLmxlZnQsMTApK3RoaXMuX2NvbHVtbi5nZXRfZWxlbWVudCgpLm9mZnNldFdpZHRoKyJweCI7CnZhciBoPXBhcnNlSW50KHRoaXMuX3JpZ2h0UmVzaXplci5zdHlsZS50b3AsMTApLXRoaXMuX3Jlc2l6ZXJUb29sVGlwLm9mZnNldEhlaWdodC0yOwppZihoPDApe2grPSh0aGlzLl9yZXNpemVyVG9vbFRpcC5vZmZzZXRIZWlnaHQrdGhpcy5fY29sdW1uLmdldF9lbGVtZW50KCkub2Zmc2V0SGVpZ2h0KzIpOwp9dGhpcy5fcmVzaXplclRvb2xUaXAuc3R5bGUudG9wPWgrInB4IjsKdmFyIGc9cGFyc2VJbnQodGhpcy5fcmlnaHRSZXNpemVyLnN0eWxlLmxlZnQsMTApLTU7CnRoaXMuX3Jlc2l6ZXJUb29sVGlwLnN0eWxlLmxlZnQ9ZysicHgiOwppZigkdGVsZXJpay5lbGVtZW50T3ZlcmZsb3dzUmlnaHQoJHRlbGVyaWsuZ2V0Vmlld1BvcnRTaXplKCksdGhpcy5fcmVzaXplclRvb2xUaXApKXt0aGlzLl9yZXNpemVyVG9vbFRpcC5zdHlsZS5sZWZ0PShnLXRoaXMuX3Jlc2l6ZXJUb29sVGlwLm9mZnNldFdpZHRoKSsicHgiOwp9aWYocGFyc2VJbnQodGhpcy5fbGVmdFJlc2l6ZXIuc3R5bGUubGVmdCwxMCk8VGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWCh0aGlzLl9jb2x1bW4uX293bmVyLmdldF9lbGVtZW50KCkpKXt0aGlzLl9sZWZ0UmVzaXplci5zdHlsZS5kaXNwbGF5PSJub25lIjsKfXZhciBhPXRoaXMuX2NvbHVtbixqPWEuX293bmVyLGQ9ai5fb3duZXIsaT1kLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZyxmPWouX2hhc011bHRpSGVhZGVycz9hLmdldF9lbGVtZW50KCkub2Zmc2V0SGVpZ2h0OmouZ2V0X2VsZW1lbnQoKS50SGVhZC5vZmZzZXRIZWlnaHQ7CmlmKCFpLkFsbG93U2Nyb2xsKXt0aGlzLl9sZWZ0UmVzaXplci5zdHlsZS5oZWlnaHQ9ai5nZXRfZWxlbWVudCgpLnRCb2RpZXNbMF0ub2Zmc2V0SGVpZ2h0K2YrInB4IjsKfWVsc2V7aWYoaS5Vc2VTdGF0aWNIZWFkZXJzKXt0aGlzLl9sZWZ0UmVzaXplci5zdHlsZS5oZWlnaHQ9ZC5fZ3JpZERhdGFEaXYuY2xpZW50SGVpZ2h0K2YrInB4IjsKfWVsc2V7dmFyIGI9ZC5fZ3JpZERhdGFEaXYuY2xpZW50SGVpZ2h0OwppZihqLl9oYXNNdWx0aUhlYWRlcnMpe2I9Yi1qLmdldF9lbGVtZW50KCkudEhlYWQub2Zmc2V0SGVpZ2h0K2EuZ2V0X2VsZW1lbnQoKS5vZmZzZXRIZWlnaHQ7Cn10aGlzLl9sZWZ0UmVzaXplci5zdHlsZS5oZWlnaHQ9YisicHgiOwp9fXRoaXMuX3JpZ2h0UmVzaXplci5zdHlsZS5oZWlnaHQ9dGhpcy5fbGVmdFJlc2l6ZXIuc3R5bGUuaGVpZ2h0Owp9LF9vbk1vdXNlVXBIYW5kbGVyOmZ1bmN0aW9uKGEpe3RoaXMuX2Rlc3Ryb3koYSk7Cn0sX29uTW91c2VNb3ZlSGFuZGxlcjpmdW5jdGlvbihhKXtpZigkdGVsZXJpay5pc1RvdWNoRGV2aWNlKXthLnByZXZlbnREZWZhdWx0KCk7Cn10aGlzLl9tb3ZlKGEpOwp9LF9kZXN0cm95OmZ1bmN0aW9uKGMpe2lmKHRoaXMuQ2FuRGVzdHJveSl7aWYodGhpcy5fb25Nb3VzZVVwRGVsZWdhdGUpeyR0ZWxlcmlrLnJlbW92ZU1vYmlsZUhhbmRsZXIoZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuX29uTW91c2VVcERlbGVnYXRlLG51bGwsdHJ1ZSk7CnRoaXMuX29uTW91c2VVcERlbGVnYXRlPW51bGw7Cn1pZih0aGlzLl9vbk1vdXNlTW92ZURlbGVnYXRlKXskdGVsZXJpay5yZW1vdmVNb2JpbGVIYW5kbGVyKHRoaXMuX2VsZW1lbnRUb0F0dGFjaE1vdmUsIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3VzZU1vdmVEZWxlZ2F0ZSk7CnRoaXMuX29uTW91c2VNb3ZlRGVsZWdhdGU9bnVsbDsKdGhpcy5fZWxlbWVudFRvQXR0YWNoTW92ZT1udWxsOwp9aWYodGhpcy5fY3VycmVudFdpZHRoIT1udWxsKXt2YXIgYj0wOwppZih0aGlzLl9jdXJyZW50V2lkdGg+MCl7dmFyIGE9dGhpcy5fY29sdW1uOwp2YXIgZj1hLl9vd25lcjsKaWYoZi5faGFzTXVsdGlIZWFkZXJzKXtiPUFycmF5LmluZGV4T2YoZi5nZXRfY29sdW1ucygpLGEpOwp9ZWxzZXtiPWEuZ2V0X2VsZW1lbnQoKS5jZWxsSW5kZXg7Cn1mLnJlc2l6ZUNvbHVtbihiLHRoaXMuX2N1cnJlbnRXaWR0aCk7CnRoaXMuX2N1cnJlbnRXaWR0aD1udWxsOwp9fXZhciBkPXRoaXMuX2NvbHVtbi5fb3duZXIuX293bmVyOwpkLl9pc1Jlc2l6ZT1udWxsOwpkLnVwZGF0ZUNsaWVudFN0YXRlKCk7CmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5fbGVmdFJlc2l6ZXIpOwpkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX3JpZ2h0UmVzaXplcik7CmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5fcmVzaXplclRvb2xUaXApOwp0aGlzLkNhbkRlc3Ryb3k9ZmFsc2U7Cn19LF9tb3ZlOmZ1bmN0aW9uKGQpe3ZhciBoPVRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1godGhpcy5fY29sdW1uLmdldF9lbGVtZW50KCkpOwp0aGlzLl9sZWZ0UmVzaXplci5zdHlsZS5sZWZ0PWgrInB4IjsKdGhpcy5fcmlnaHRSZXNpemVyLnN0eWxlLmxlZnQ9cGFyc2VJbnQodGhpcy5fbGVmdFJlc2l6ZXIuc3R5bGUubGVmdCwxMCkrKFRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0RXZlbnRQb3NYKGQpLWgpKyJweCI7CnZhciBqPXBhcnNlSW50KHRoaXMuX3JpZ2h0UmVzaXplci5zdHlsZS5sZWZ0LDEwKS01Owp0aGlzLl9yZXNpemVyVG9vbFRpcC5zdHlsZS5sZWZ0PWorInB4IjsKaWYoJHRlbGVyaWsuZWxlbWVudE92ZXJmbG93c1JpZ2h0KCR0ZWxlcmlrLmdldFZpZXdQb3J0U2l6ZSgpLHRoaXMuX3Jlc2l6ZXJUb29sVGlwKSl7dGhpcy5fcmVzaXplclRvb2xUaXAuc3R5bGUubGVmdD0oai10aGlzLl9yZXNpemVyVG9vbFRpcC5vZmZzZXRXaWR0aCkrInB4IjsKfXZhciBtPXBhcnNlSW50KHRoaXMuX3JpZ2h0UmVzaXplci5zdHlsZS5sZWZ0LDEwKS1wYXJzZUludCh0aGlzLl9sZWZ0UmVzaXplci5zdHlsZS5sZWZ0LDEwKTsKdmFyIGk9dGhpcy5fcmVzaXplclRvb2xUaXAub2Zmc2V0SGVpZ2h0Owp0aGlzLl9yZXNpemVyVG9vbFRpcC5pbm5lckhUTUw9dGhpcy5fYXBwbHlUb29sdGlwVGV4dChtKTsKaWYodGhpcy5fcmVzaXplclRvb2xUaXAub2Zmc2V0SGVpZ2h0Pmkpe3RoaXMuX3Jlc2l6ZXJUb29sVGlwLnN0eWxlLndpZHRoPXBhcnNlSW50KHRoaXMuX3Jlc2l6ZXJUb29sVGlwLnN0eWxlLndpZHRoLDEwKSsxMCsicHgiOwp9aWYoIVRlbGVyaWsuV2ViLlVJLkdyaWQuRmlyZUV2ZW50KHRoaXMuX2NvbHVtbi5fb3duZXIsIk9uQ29sdW1uUmVzaXppbmciLFt0aGlzLl9jb2x1bW4uSW5kZXgsbV0pKXtyZXR1cm47Cn10aGlzLl9jdXJyZW50V2lkdGg9bTsKaWYodGhpcy5faXNSZWFsVGltZVJlc2l6ZSl7dmFyIGI9KG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIikhPS0xfHx0aGlzLl9jb2x1bW4uX293bmVyLl9oYXNNdWx0aUhlYWRlcnMpP1RlbGVyaWsuV2ViLlVJLkdyaWQuR2V0UmVhbENlbGxJbmRleCh0aGlzLl9jb2x1bW4uX293bmVyLHRoaXMuX2NvbHVtbi5nZXRfZWxlbWVudCgpKTp0aGlzLl9jb2x1bW4uZ2V0X2VsZW1lbnQoKS5jZWxsSW5kZXg7CnRoaXMuX2NvbHVtbi5fb3duZXIucmVzaXplQ29sdW1uKGIsbSk7Cn1lbHNle3RoaXMuX2N1cnJlbnRXaWR0aD1tOwpyZXR1cm47Cn10aGlzLl9sZWZ0UmVzaXplci5zdHlsZS5sZWZ0PWgrInB4IjsKdGhpcy5fcmlnaHRSZXNpemVyLnN0eWxlLmxlZnQ9aCt0aGlzLl9jb2x1bW4uZ2V0X2VsZW1lbnQoKS5vZmZzZXRXaWR0aCsicHgiOwppZihUZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NZKHRoaXMuX2xlZnRSZXNpemVyKSE9VGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWSh0aGlzLl9jb2x1bW4uZ2V0X2VsZW1lbnQoKSkpe3RoaXMuX2xlZnRSZXNpemVyLnN0eWxlLnRvcD1UZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NZKHRoaXMuX2NvbHVtbi5nZXRfZWxlbWVudCgpKSsicHgiOwp0aGlzLl9yaWdodFJlc2l6ZXIuc3R5bGUudG9wPVRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1kodGhpcy5fY29sdW1uLmdldF9lbGVtZW50KCkpKyJweCI7Cn12YXIgYT10aGlzLl9jb2x1bW4sbD1hLl9vd25lcixmPWwuX293bmVyLGs9Zi5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcsZz1sLl9oYXNNdWx0aUhlYWRlcnM/YS5nZXRfZWxlbWVudCgpLm9mZnNldEhlaWdodDpsLmdldF9lbGVtZW50KCkudEhlYWQub2Zmc2V0SGVpZ2h0OwppZighay5BbGxvd1Njcm9sbCl7dGhpcy5fbGVmdFJlc2l6ZXIuc3R5bGUuaGVpZ2h0PWwuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdLm9mZnNldEhlaWdodCtnKyJweCI7Cn1lbHNle2lmKGsuVXNlU3RhdGljSGVhZGVycyl7dGhpcy5fbGVmdFJlc2l6ZXIuc3R5bGUuaGVpZ2h0PWYuX2dyaWREYXRhRGl2LmNsaWVudEhlaWdodCtnKyJweCI7Cn1lbHNle3ZhciBjPWYuX2dyaWREYXRhRGl2LmNsaWVudEhlaWdodDsKaWYobC5faGFzTXVsdGlIZWFkZXJzKXtjPWMtbC5nZXRfZWxlbWVudCgpLnRIZWFkLm9mZnNldEhlaWdodCthLmdldF9lbGVtZW50KCkub2Zmc2V0SGVpZ2h0Owp9dGhpcy5fbGVmdFJlc2l6ZXIuc3R5bGUuaGVpZ2h0PWMrInB4IjsKfX10aGlzLl9yaWdodFJlc2l6ZXIuc3R5bGUuaGVpZ2h0PXRoaXMuX2xlZnRSZXNpemVyLnN0eWxlLmhlaWdodDsKfSxfYXBwbHlUb29sdGlwVGV4dDpmdW5jdGlvbihiKXt2YXIgYT0vXHswW15cfV0qXH0vZzsKcmV0dXJuIHRoaXMuX3Jlc2l6ZXJUb29sVGlwRm9ybWF0U3RyaW5nLnJlcGxhY2UoYSxiKTsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5SZXNpemVyLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5SZXNpemVyIixudWxsLFN5cy5JRGlzcG9zYWJsZSk7ClR5cGUucmVnaXN0ZXJOYW1lc3BhY2UoIlRlbGVyaWsuV2ViLlVJIik7ClR5cGUucmVnaXN0ZXJOYW1lc3BhY2UoIlRlbGVyaWsuV2ViLlVJLkdyaWQiKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5fdW5pcXVlSURUb0NsaWVudElEPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1skOl0vZywiXyIpOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLmdldFRhYmxlSGVhZGVyUm93PWZ1bmN0aW9uKGMpe3ZhciBhPW51bGw7CmlmKGMudEhlYWQmJmMudEhlYWQuc3R5bGUuZGlzcGxheSE9Im5vbmUiKXtmb3IodmFyIGI9MDsKYjxjLnRIZWFkLnJvd3MubGVuZ3RoOwpiKyspe2lmKGMudEhlYWQucm93c1tiXSE9bnVsbCl7aWYoYy50SGVhZC5yb3dzW2JdLmNlbGxzWzBdIT1udWxsKXtpZihjLnRIZWFkLnJvd3NbYl0uY2VsbHNbMF0udGFnTmFtZSE9bnVsbCl7aWYoYy50SGVhZC5yb3dzW2JdLmNlbGxzWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InRoIil7YT1jLnRIZWFkLnJvd3NbYl07CmJyZWFrOwp9fX19fX1yZXR1cm4gYTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5TaG93Q29udGV4dE1lbnU9ZnVuY3Rpb24oZixhLGMpe3ZhciBiPWYuZ2V0X2NvbHVtbnMoKTsKZm9yKHZhciBkPTA7CmQ8Yi5sZW5ndGg7CmQrKyl7aWYoYltkXS5nZXRfdW5pcXVlTmFtZSgpPT1hKXtiW2RdLnNob3dIZWFkZXJNZW51KGMsNzUsMjApOwp9fX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuRmlsdGVyU2VhcmNoPWZ1bmN0aW9uKGMsZSl7dmFyIGI9JGZpbmQoYy5fZmlsdGVyQ2hlY2tMaXN0Q2xpZW50SUQpOwp2YXIgYT1iLmdldF9pdGVtcygpLl9hcnJheTsKZm9yKHZhciBkPTA7CmQ8YS5sZW5ndGg7CmQrKyl7YVtkXS5zZXRfdmlzaWJsZShhW2RdLmdldF90ZXh0KCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUudmFsdWUudG9Mb3dlckNhc2UoKSk+PTApOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5oYXNFdmVudEF0dGFjaGVkPWZ1bmN0aW9uKGIsYyxkKXtpZigodHlwZW9mKGIuX2V2ZW50cykhPT0ib2JqZWN0Iil8fChiLl9ldmVudHM9PW51bGwpKXtyZXR1cm4gZmFsc2U7Cn12YXIgYT1iLl9ldmVudHNbY107CmlmKCEoYSBpbnN0YW5jZW9mIEFycmF5KSl7cmV0dXJuIGZhbHNlOwp9Zm9yKHZhciBlPTAsZj1hLmxlbmd0aDsKZTxmOwplKyspe2lmKGFbZV0uaGFuZGxlcj09PWQpe3JldHVybiB0cnVlOwp9fXJldHVybiBmYWxzZTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5DaGFuZ2VQYWdlU2l6ZT1mdW5jdGlvbihjLGIpe2lmKGMmJmMuUGFnZVNpemUhPWIpe3ZhciBhPWMuX3JhaXNlQWN0aW9uKCJQYWdlU2l6ZSIse25ld1BhZ2VTaXplOnBhcnNlSW50KGIsMTApfSk7CmlmKCFhLmdldF9jYW5jZWwoKSl7Yy5zZXRfcGFnZVNpemUoYS5nZXRfbmV3UGFnZVNpemUoKSk7Cn19fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5TZW9DaGFuZ2VQYWdlVXJsPWZ1bmN0aW9uKGUsYyxoLGspe3ZhciBuPXdpbmRvdy5sb2NhdGlvbi5ocmVmOwp2YXIgbT1rPT1jP2g6U3RyaW5nLmZvcm1hdCgiezB9X3sxfSIsaCxrKTsKdmFyIGQ9ZmFsc2U7CnZhciBiOwp2YXIgYTsKdmFyIGw7CmlmKG4uaW5kZXhPZigiPyIpPT0tMSl7d2luZG93LmxvY2F0aW9uLmhyZWYrPVN0cmluZy5mb3JtYXQoIj97MH09ezF9IixlLG0pOwpyZXR1cm4gZmFsc2U7Cn1hPW4uc3BsaXQoIj8iKTsKYj1hWzBdOwpsPWFbMV0uc3BsaXQoIiYiKTsKZm9yKHZhciBmPTAsZz1sLmxlbmd0aDsKZjxnOwpmKyspe2lmKGxbZl0uaW5kZXhPZihlKSE9LTEpe2xbZl09U3RyaW5nLmZvcm1hdCgiezB9PXsxfSIsZSxtKTsKZD10cnVlOwpicmVhazsKfX1pZighZCl7bC5wdXNoKFN0cmluZy5mb3JtYXQoInswfT17MX0iLGUsbSkpOwp9d2luZG93LmxvY2F0aW9uLmhyZWY9U3RyaW5nLmZvcm1hdCgiezB9P3sxfSIsYixsLmpvaW4oIiYiKSk7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuQ2hhbmdlUGFnZUluZGV4QnV0dG9uQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGIsYSxjLGgpe3ZhciBkPSRmaW5kKGgpOwp2YXIgZz1kLmdldF9wYWdlU2l6ZSgpOwp2YXIgZj0kZmluZChjKTsKdmFyIGU7CmlmKCFmKXtyZXR1cm4gZmFsc2U7Cn1lPWYuZ2V0X3ZhbHVlKCk7ClRlbGVyaWsuV2ViLlVJLkdyaWQuU2VvQ2hhbmdlUGFnZVVybChiLGEsZSxnKTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5DaGFuZ2VQYWdlU2l6ZUJ1dHRvbkNsaWNrSGFuZGxlcj1mdW5jdGlvbihiLGEsYyxoKXt2YXIgZD0kZmluZChoKTsKdmFyIGU9ZC5nZXRfY3VycmVudFBhZ2VJbmRleCgpKzE7CnZhciBnPSRmaW5kKGMpOwp2YXIgZjsKaWYoIWcpe3JldHVybiBmYWxzZTsKfWY9Zy5nZXRfdmFsdWUoKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5TZW9DaGFuZ2VQYWdlVXJsKGIsYSxlLGYpOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLkNoYW5naW5nUGFnZVNpemVDb21ib0hhbmRsZXI9ZnVuY3Rpb24oZixiKXt2YXIgYzsKaWYoYi5nZXRfaXRlbSl7Yz1iLmdldF9pdGVtKCk7Cn1lbHNle2lmKGIuZ2V0X2luZGV4KXtjPWYuZ2V0X2l0ZW1zKCkuZ2V0SXRlbShiLmdldF9pbmRleCgpKTsKfX1pZihjKXt2YXIgZT1jLmdldF9hdHRyaWJ1dGVzKCkuZ2V0QXR0cmlidXRlKCJvd25lclRhYmxlVmlld0lkIik7CnZhciBkPW51bGw7CmlmKGMuZ2V0X3ZhbHVlKCkpe2Q9Yy5nZXRfdmFsdWUoKTsKfWVsc2V7ZD1jLmdldF90ZXh0KCk7Cn1pZihlJiZkKXt2YXIgZz0kZmluZChlKTsKaWYoZyYmZy5QYWdlU2l6ZSE9ZCl7dmFyIGE9Zy5fcmFpc2VBY3Rpb24oIlBhZ2VTaXplIix7bmV3UGFnZVNpemU6cGFyc2VJbnQoZCwxMCl9KTsKaWYoYS5nZXRfY2FuY2VsKCkpe2Iuc2V0X2NhbmNlbCh0cnVlKTsKfX19fX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuQ2hhbmdlUGFnZVNpemVDb21ib0hhbmRsZXI9ZnVuY3Rpb24oZSxhKXt2YXIgYjsKaWYoYS5nZXRfaXRlbSl7Yj1hLmdldF9pdGVtKCk7Cn1lbHNle2lmKGEuZ2V0X2luZGV4KXtiPWUuZ2V0X2l0ZW1zKCkuZ2V0SXRlbShhLmdldF9pbmRleCgpKTsKfX1pZihiKXt2YXIgZD1iLmdldF9hdHRyaWJ1dGVzKCkuZ2V0QXR0cmlidXRlKCJvd25lclRhYmxlVmlld0lkIik7CnZhciBjPW51bGw7CmlmKGUuZ2V0X3ZhbHVlKXtpZihlLmdldF92YWx1ZSgpKXtjPWUuZ2V0X3ZhbHVlKCk7Cn1lbHNle2M9ZS5nZXRfdGV4dCgpOwp9fWVsc2V7aWYoYi5nZXRfdmFsdWUoKSl7Yz1iLmdldF92YWx1ZSgpOwp9ZWxzZXtjPWIuZ2V0X3RleHQoKTsKfX1pZihkJiZjKXt2YXIgaD1wYXJzZUludChjLDEwKTsKdmFyIGc9JGZpbmQoZCk7CmlmKGcpe3ZhciBmPWIuZ2V0X2F0dHJpYnV0ZXMoKS5nZXRBdHRyaWJ1dGUoInNlb1JlZGlyZWN0VXJsIik7CmlmKGYpe3dpbmRvdy5sb2NhdGlvbi5ocmVmPWY7CnJldHVybiBmYWxzZTsKfWcuc2V0X3BhZ2VTaXplKGgpOwp9fX19OwpUZWxlcmlrLldlYi5VSS5HcmlkLlNvcnQ9ZnVuY3Rpb24oYyxiKXt2YXIgYT1jLl9yYWlzZUFjdGlvbigiU29ydCIse3NvcnRFeHByZXNzaW9uOmJ9KTsKaWYoIWEuZ2V0X2NhbmNlbCgpKXtiPWEuZ2V0X3NvcnRFeHByZXNzaW9uKCk7CmMuc29ydChiKTsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0UmVhbENlbGxJbmRleD1mdW5jdGlvbihjLGEpe2Zvcih2YXIgYj0wOwpiPGMuZ2V0X2NvbHVtbnMoKS5sZW5ndGg7CmIrKyl7aWYoYy5nZXRfY29sdW1ucygpW2JdLmdldF9lbGVtZW50KCk9PWEpe3JldHVybiBiOwp9fX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuQ29weUF0dHJpYnV0ZXM9ZnVuY3Rpb24oZCxjKXtmb3IodmFyIGI9MDsKYjxjLmF0dHJpYnV0ZXMubGVuZ3RoOwpiKyspe3RyeXtpZihjLmF0dHJpYnV0ZXNbYl0ubmFtZS50b0xvd2VyQ2FzZSgpPT0iaWQiKXtjb250aW51ZTsKfWlmKGMuYXR0cmlidXRlc1tiXS52YWx1ZSE9bnVsbCYmYy5hdHRyaWJ1dGVzW2JdLnZhbHVlIT0ibnVsbCImJmMuYXR0cmlidXRlc1tiXS52YWx1ZSE9IiIpe2Quc2V0QXR0cmlidXRlKGMuYXR0cmlidXRlc1tiXS5uYW1lLGMuYXR0cmlidXRlc1tiXS52YWx1ZSk7Cn19Y2F0Y2goYSl7Y29udGludWU7Cn19fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5Qb3NpdGlvbkRyYWdFbGVtZW50PWZ1bmN0aW9uKGMsZCl7dmFyIGE9JHRlbGVyaWsuaXNUb3VjaERldmljZT8kdGVsZXJpay5nZXRUb3VjaEV2ZW50TG9jYXRpb24oZCkueDpkLmNsaWVudFg7CnZhciBiPSR0ZWxlcmlrLmlzVG91Y2hEZXZpY2U/JHRlbGVyaWsuZ2V0VG91Y2hFdmVudExvY2F0aW9uKGQpLnk6ZC5jbGllbnRZOwpjLnN0eWxlLnRvcD1iKyR0ZWxlcmlrLmdldERvY3VtZW50RWxlbWVudFNjcm9sbFRvcCgpKzErInB4IjsKYy5zdHlsZS5sZWZ0PWErJHRlbGVyaWsuZ2V0RG9jdW1lbnRFbGVtZW50U2Nyb2xsTGVmdCgpKzErInB4IjsKaWYoJHRlbGVyaWsuaXNPcGVyYXx8JHRlbGVyaWsuaXNUb3VjaERldmljZSl7Yy5zdHlsZS50b3A9cGFyc2VJbnQoYy5zdHlsZS50b3AsMTApLWRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKyJweCI7Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkLkNsZWFyRG9jdW1lbnRFdmVudHM9ZnVuY3Rpb24oYSl7aWYoIWEpe2lmKGRvY3VtZW50Lm9ubW91c2Vkb3duIT10aGlzLm1vdXNlRG93bkhhbmRsZXIpe3RoaXMuZG9jdW1lbnRPbk1vdXNlRG93bj1kb2N1bWVudC5vbm1vdXNlZG93bjsKfXRoaXMubW91c2VEb3duSGFuZGxlcj1mdW5jdGlvbihiKXtyZXR1cm4gZmFsc2U7Cn07CmRvY3VtZW50Lm9ubW91c2Vkb3duPXRoaXMubW91c2VEb3duSGFuZGxlcjsKfWlmKGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQhPXRoaXMuc2VsZWN0U3RhcnRIYW5kbGVyKXt0aGlzLmRvY3VtZW50T25TZWxlY3RTdGFydD1kb2N1bWVudC5vbnNlbGVjdHN0YXJ0Owp9aWYoZG9jdW1lbnQub25kcmFnc3RhcnQhPXRoaXMuZHJhZ1N0YXJ0SGFuZGxlcil7dGhpcy5kb2N1bWVudE9uRHJhZ1N0YXJ0PWRvY3VtZW50Lm9uZHJhZ3N0YXJ0Owp9dGhpcy5zZWxlY3RTdGFydEhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2U7Cn07CnRoaXMuZHJhZ1N0YXJ0SGFuZGxlcj1mdW5jdGlvbigpe3JldHVybiBmYWxzZTsKfTsKZG9jdW1lbnQub25zZWxlY3RzdGFydD10aGlzLnNlbGVjdFN0YXJ0SGFuZGxlcjsKZG9jdW1lbnQub25kcmFnc3RhcnQ9dGhpcy5kcmFnU3RhcnRIYW5kbGVyOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLlJlc3RvcmVEb2N1bWVudEV2ZW50cz1mdW5jdGlvbigpe2lmKCh0eXBlb2YodGhpcy5kb2N1bWVudE9uTW91c2VEb3duKT09ImZ1bmN0aW9uIikmJihkb2N1bWVudC5vbm1vdXNlZG93biE9dGhpcy5tb3VzZURvd25IYW5kbGVyKSl7ZG9jdW1lbnQub25tb3VzZWRvd249dGhpcy5kb2N1bWVudE9uTW91c2VEb3duOwp9ZWxzZXtkb2N1bWVudC5vbm1vdXNlZG93bj0iIjsKfWlmKCh0eXBlb2YodGhpcy5kb2N1bWVudE9uU2VsZWN0U3RhcnQpPT0iZnVuY3Rpb24iKSYmKGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQhPXRoaXMuc2VsZWN0U3RhcnRIYW5kbGVyKSl7ZG9jdW1lbnQub25zZWxlY3RzdGFydD10aGlzLmRvY3VtZW50T25TZWxlY3RTdGFydDsKfWVsc2V7ZG9jdW1lbnQub25zZWxlY3RzdGFydD0iIjsKfWlmKCh0eXBlb2YodGhpcy5kb2N1bWVudE9uRHJhZ1N0YXJ0KT09ImZ1bmN0aW9uIikmJihkb2N1bWVudC5vbmRyYWdzdGFydCE9dGhpcy5kcmFnU3RhcnRIYW5kbGVyKSl7ZG9jdW1lbnQub25kcmFnc3RhcnQ9dGhpcy5kb2N1bWVudE9uRHJhZ1N0YXJ0Owp9ZWxzZXtkb2N1bWVudC5vbmRyYWdzdGFydD0iIjsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuSXNDaGlsZE9mPWZ1bmN0aW9uKGEsYil7aWYoIWEpe3JldHVybiBmYWxzZTsKfXdoaWxlKGEucGFyZW50Tm9kZSl7aWYoYS5wYXJlbnROb2RlPT1iKXtyZXR1cm4gdHJ1ZTsKfWE9YS5wYXJlbnROb2RlOwp9cmV0dXJuIGZhbHNlOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLkdldEN1cnJlbnRFbGVtZW50PWZ1bmN0aW9uKGIpe2lmKCFiKXtiPXdpbmRvdy5ldmVudDsKfXZhciBhOwppZihiLnNyY0VsZW1lbnQpe2E9Yi5zcmNFbGVtZW50Owp9ZWxzZXthPWIudGFyZ2V0Owp9cmV0dXJuIFRlbGVyaWsuV2ViLlVJLkdyaWQuSXNEb21FbGVtZW50KGEpP2E6bnVsbDsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5Jc0RvbUVsZW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIEhUTUxFbGVtZW50PT09Im9iamVjdCI7CmlmKGIpe3JldHVybiBhIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7Cn1lbHNle3JldHVybiBhJiZ0eXBlb2YgYT09PSJvYmplY3QiJiZhLm5vZGVUeXBlPT09MSYmdHlwZW9mIGEubm9kZU5hbWU9PT0ic3RyaW5nIjsKfXJldHVybiBmYWxzZTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5HZXROb25PdmVyZmxvd2luZ0Nvb3JkaW5hdGVzPWZ1bmN0aW9uKGYsZSxhKXt2YXIgYj1hKHdpbmRvdyk7CnZhciBuPXt3aWR0aDpiLndpZHRoKCksaGVpZ2h0OmIuaGVpZ2h0KCl9Owp2YXIgaD0kdGVsZXJpay5nZXRCb3VuZHMoZik7CnZhciBnPWEoZikub2Zmc2V0KCk7CnZhciBjPWcubGVmdDsKdmFyIGQ9Zy50b3A7CnZhciBpPWIuc2Nyb2xsTGVmdCgpOwp2YXIgbz1iLnNjcm9sbFRvcCgpOwp2YXIgaj0oZCtoLmhlaWdodCk+KG4uaGVpZ2h0K28pOwp2YXIgbT1kPG87CnZhciBsPShjK2gud2lkdGgpPihuLndpZHRoK2kpOwp2YXIgaz1jPGk7CmlmKCFqJiYhbSYmIWwmJiFrKXtyZXR1cm57eDpjLHk6ZH07Cn1zd2l0Y2goZSl7Y2FzZSAwOmM9KG4ud2lkdGgvMitpKS1mLm9mZnNldFdpZHRoLzI7CmQ9KG4uaGVpZ2h0LzIrbyktZi5vZmZzZXRIZWlnaHQvMjsKYnJlYWs7CmNhc2UgMTpjPShuLndpZHRoK2kpLWYub2Zmc2V0V2lkdGg7CmQ9KG4uaGVpZ2h0K28pLWYub2Zmc2V0SGVpZ2h0OwpicmVhazsKY2FzZSAyOmM9aTsKZD0obi5oZWlnaHQrbyktZi5vZmZzZXRIZWlnaHQ7CmJyZWFrOwpjYXNlIDM6Yz0obi53aWR0aCtpKS1mLm9mZnNldFdpZHRoOwpkPW87CmJyZWFrOwpjYXNlIDQ6Yz1pOwpkPW87CmJyZWFrOwp9cmV0dXJue3g6Yyx5OmR9Owp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLkdldEN1cnJlbnRUb3VjaEVsZW1lbnQ9ZnVuY3Rpb24oYSl7aWYoJHRlbGVyaWsuaXNUb3VjaERldmljZSl7dmFyIGI9JHRlbGVyaWsuZ2V0VG91Y2hUYXJnZXQoYSk7CnJldHVybiBiOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5DcmVhdGVSZW9yZGVySW5kaWNhdG9ycz1mdW5jdGlvbihjLGksaCxhLGcpe3ZhciBmPSRmaW5kKGcpOwp2YXIgZD0wOwp2YXIgZT0wOwppZigodGhpcy5SZW9yZGVySW5kaWNhdG9yMT09bnVsbCkmJih0aGlzLlJlb3JkZXJJbmRpY2F0b3IyPT1udWxsKSl7dGhpcy5SZW9yZGVySW5kaWNhdG9yMT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CnRoaXMuUmVvcmRlckluZGljYXRvcjI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwp2YXIgajsKdmFyIGI7CmlmKGghPSIiKXtqPW5ldyBJbWFnZSgpOwpqLnNyYz1oKyJNb3ZlRG93bi5naWYiOwpiPW5ldyBJbWFnZSgpOwpiLnNyYz1oKyJNb3ZlVXAuZ2lmIjsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMS5pbm5lckhUTUw9JzxpbWcgc3JjPSInK2grJ01vdmVEb3duLmdpZiIgYWx0PSJyZW9yZGVyIGluZGljYXRvciIgLz4nOwp0aGlzLlJlb3JkZXJJbmRpY2F0b3IyLmlubmVySFRNTD0nPGltZyBzcmM9IicraCsnTW92ZVVwLmdpZiIgYWx0PSJyZW9yZGVyIGluZGljYXRvciIgLz4nOwp0aGlzLlJlb3JkZXJJbmRpY2F0b3IxLmNsYXNzTmFtZT0iR3JpZFJlb3JkZXJUb3BJbWFnZV8iK2k7CnRoaXMuUmVvcmRlckluZGljYXRvcjIuY2xhc3NOYW1lPSJHcmlkUmVvcmRlckJvdHRvbUltYWdlXyIraTsKfWVsc2V7aWYoaT09IiIpe3RoaXMuUmVvcmRlckluZGljYXRvcjEuaW5uZXJIVE1MPSImZGFycjsiOwp0aGlzLlJlb3JkZXJJbmRpY2F0b3IyLmlubmVySFRNTD0iJnVhcnI7IjsKfWVsc2V7dGhpcy5SZW9yZGVySW5kaWNhdG9yMS5jbGFzc05hbWU9IkdyaWRSZW9yZGVyVG9wIEdyaWRSZW9yZGVyVG9wXyIraTsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMi5jbGFzc05hbWU9IkdyaWRSZW9yZGVyQm90dG9tIEdyaWRSZW9yZGVyQm90dG9tXyIraTsKfX1pZihmLl9yZW5kZXJNb2RlIT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLkxpdGUpe3RoaXMuUmVvcmRlckluZGljYXRvcjEuc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ0cmFuc3BhcmVudCI7CnRoaXMuUmVvcmRlckluZGljYXRvcjEuc3R5bGUuY29sb3I9ImRhcmtibHVlIjsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS5mb250U2l6ZT0iMXB4IjsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7CnRoaXMuUmVvcmRlckluZGljYXRvcjIuc3R5bGUuY29sb3I9dGhpcy5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS5jb2xvcjsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS5mb250U2l6ZT10aGlzLlJlb3JkZXJJbmRpY2F0b3IxLnN0eWxlLmZvbnRTaXplOwp9aWYoYSYmYy5ub2RlTmFtZT09IlRIIiYmZiYmZi5HcmlkRGF0YURpdil7ZD1mLkdyaWREYXRhRGl2LnNjcm9sbExlZnQ7CmlmKCFmLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5Vc2VTdGF0aWNIZWFkZXJzKXtlPWYuR3JpZERhdGFEaXYuc2Nyb2xsVG9wOwp9fXRoaXMuUmVvcmRlckluZGljYXRvcjEuc3R5bGUudG9wPVRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1koYyktdGhpcy5SZW9yZGVySW5kaWNhdG9yMS5vZmZzZXRIZWlnaHQrInB4IjsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS5sZWZ0PVRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1goYykrInB4IjsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS50b3A9VGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWShjKStjLm9mZnNldEhlaWdodCsicHgiOwp0aGlzLlJlb3JkZXJJbmRpY2F0b3IyLnN0eWxlLmxlZnQ9dGhpcy5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS5sZWZ0Owp0aGlzLlJlb3JkZXJJbmRpY2F0b3IxLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7CnRoaXMuUmVvcmRlckluZGljYXRvcjEuc3R5bGUuZGlzcGxheT0ibm9uZSI7CnRoaXMuUmVvcmRlckluZGljYXRvcjEuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS52aXNpYmlsaXR5PXRoaXMuUmVvcmRlckluZGljYXRvcjEuc3R5bGUudmlzaWJpbGl0eTsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS5kaXNwbGF5PXRoaXMuUmVvcmRlckluZGljYXRvcjEuc3R5bGUuZGlzcGxheTsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS5wb3NpdGlvbj10aGlzLlJlb3JkZXJJbmRpY2F0b3IxLnN0eWxlLnBvc2l0aW9uOwpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuUmVvcmRlckluZGljYXRvcjEpOwpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuUmVvcmRlckluZGljYXRvcjIpOwppZihoIT0iIil7dGhpcy5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS5tYXJnaW5MZWZ0PS1wYXJzZUludChqLndpZHRoLzIsMTApKyJweCI7CnRoaXMuUmVvcmRlckluZGljYXRvcjIuc3R5bGUubWFyZ2luTGVmdD0tcGFyc2VJbnQoYi53aWR0aC8yLDEwKSsicHgiOwpqPW51bGw7CmI9bnVsbDsKfX19OwpUZWxlcmlrLldlYi5VSS5HcmlkLk5hdmlnYXRlVG9QYWdlPWZ1bmN0aW9uKGYsYil7dmFyIGU9JGZpbmQoZiksYTsKaWYoZSl7dmFyIGQ9ZS5nZXRfY3VycmVudFBhZ2VJbmRleCgpOwp2YXIgYz1kOwppZihiPT0iTmV4dCIpe2MrKzsKfWVsc2V7aWYoYj09IlByZXYiKXtjLS07Cn1lbHNle2lmKGI9PSJGaXJzdCIpe2M9MDsKfWVsc2V7aWYoYj09Ikxhc3QiKXtjPWUuZ2V0X3BhZ2VDb3VudCgpLTE7Cn1lbHNle2M9cGFyc2VJbnQoYiwxMCktMTsKfX19fWlmKGM8MHx8Yz4oZS5nZXRfcGFnZUNvdW50KCktMSkpe3JldHVybiBmYWxzZTsKfWE9ZS5fcmFpc2VBY3Rpb24oIlBhZ2UiLHtuZXdQYWdlSW5kZXg6Y30pOwppZighYS5nZXRfY2FuY2VsKCkpe2M9YS5nZXRfbmV3UGFnZUluZGV4KCk7CmUucGFnZShjKzEpOwp9fX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuRGVzdHJveVJlb3JkZXJJbmRpY2F0b3JzPWZ1bmN0aW9uKCl7aWYoKHRoaXMuUmVvcmRlckluZGljYXRvcjEhPW51bGwpJiYodGhpcy5SZW9yZGVySW5kaWNhdG9yMiE9bnVsbCkpe2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5SZW9yZGVySW5kaWNhdG9yMSk7CmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5SZW9yZGVySW5kaWNhdG9yMik7CnRoaXMuUmVvcmRlckluZGljYXRvcjE9bnVsbDsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMj1udWxsOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5Nb3ZlUmVvcmRlckluZGljYXRvcnM9ZnVuY3Rpb24oZixiLGEsaCl7aWYoKHRoaXMuUmVvcmRlckluZGljYXRvcjEhPW51bGwpJiYodGhpcy5SZW9yZGVySW5kaWNhdG9yMiE9bnVsbCkpe3RoaXMuUmVvcmRlckluZGljYXRvcjEuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSI7CnRoaXMuUmVvcmRlckluZGljYXRvcjEuc3R5bGUuZGlzcGxheT0iIjsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIjsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS5kaXNwbGF5PSIiOwp2YXIgZz0kZmluZChoKTsKdmFyIGM9MDsKdmFyIGQ9MDsKaWYoYSYmYi5ub2RlTmFtZT09IlRIIiYmZyYmZy5HcmlkRGF0YURpdil7Yz1nLkdyaWREYXRhRGl2LnNjcm9sbExlZnQ7CmlmKCFnLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5Vc2VTdGF0aWNIZWFkZXJzKXtkPWcuR3JpZERhdGFEaXYuc2Nyb2xsVG9wOwp9fXZhciBpPTA7CmlmKGEmJmIubm9kZU5hbWU9PSJUSCImJmcmJnRoaXMuX2NvbHVtbkluaXRpYXRvckluZGV4IT1udWxsJiZ0aGlzLl9jb2x1bW5PdmVySW5kZXghPW51bGwmJnRoaXMuX2NvbHVtbkluaXRpYXRvckluZGV4PHRoaXMuX2NvbHVtbk92ZXJJbmRleCl7aT1iLm9mZnNldFdpZHRoOwp9dGhpcy5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS50b3A9VGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWShiKS10aGlzLlJlb3JkZXJJbmRpY2F0b3IxLm9mZnNldEhlaWdodCsicHgiOwp0aGlzLlJlb3JkZXJJbmRpY2F0b3IxLnN0eWxlLmxlZnQ9VGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWChiKStpKyJweCI7CnRoaXMuUmVvcmRlckluZGljYXRvcjIuc3R5bGUudG9wPVRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1koYikrYi5vZmZzZXRIZWlnaHQrInB4IjsKdGhpcy5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS5sZWZ0PXRoaXMuUmVvcmRlckluZGljYXRvcjEuc3R5bGUubGVmdDsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuZ2V0VmlzaWJsZUNvbHM9ZnVuY3Rpb24oYSl7dmFyIGI9MDsKZm9yKHZhciBjPTAsZD1hLmxlbmd0aDsKYzxkOwpjKyspe2lmKGFbY10uc3R5bGUuZGlzcGxheT09Im5vbmUiKXtjb250aW51ZTsKfWIrKzsKfXJldHVybiBiOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLmlzRGV0YWlsVGFibGU9ZnVuY3Rpb24oYil7dmFyIGE9bmV3IFJlZ0V4cChiLmdldF9vd25lcigpLmdldF9pZCgpKyIuK0RldGFpbC4rIik7CnJldHVybiBhLnRlc3QoYi5nZXRfaWQoKSk7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuaGlkZVNob3dDZWxscz1mdW5jdGlvbihDLHAsZyxkLEIpe3ZhciBFPVRlbGVyaWsuV2ViLlVJLkdyaWQuZ2V0VmlzaWJsZUNvbHMoZCk7CnZhciBEPSRmaW5kKEMuaWQpOwp2YXIgaD1ELl9vd25lcjsKdmFyIG49RC5faGFzTXVsdGlIZWFkZXJzOwp2YXIgdj1bXTsKdmFyIEE9ZmFsc2U7CnZhciB6PWguQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nOwp2YXIgcz16JiZ6LkFsbG93U2Nyb2xsJiZ6LlVzZVN0YXRpY0hlYWRlcnM7CnZhciBmPUQuZ2V0X2NvbHVtbnMoKVtwXTsKdmFyIHE9VGVsZXJpay5XZWIuVUkuR3JpZC5pc0RldGFpbFRhYmxlKEQpOwppZihuJiYoKHMmJkMuaWQuaW5kZXhPZigiSGVhZGVyIik+LTEpfHwoIXMmJkQuZ2V0X293bmVyKCkuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9pZCgpPT1DLmlkKXx8cSkpe3Y9VGVsZXJpay5XZWIuVUkuR3JpZC5nZXRNdWx0aUhlYWRlckNlbGxzKEQpOwp9dmFyIG8sdSx0Owp2YXIgeT1DLnJvd3M7CnZhciBjPTA7CmZvcihvPTAsdT15Lmxlbmd0aDsKbzx1OwpvKyspe3ZhciBhPW51bGw7CnZhciByPW4mJiEheVtvXS5jbGFzc05hbWUmJkMucm93c1tvXS5jbGFzc05hbWUuaW5kZXhPZigicmdNdWx0aUhlYWRlclJvdyIpPi0xOwppZihyJiZBKXtjb250aW51ZTsKfWlmKHMmJmguX3JlbmRlck1vZGU9PVRlbGVyaWsuV2ViLlVJLlJlbmRlck1vZGUuTGl0ZSYmeVtvXS5jbGFzc05hbWUuaW5kZXhPZigicmdHcm91cEhlYWRlciIpIT09LTEpe2Zvcih0PTA7CnQ8eVtvXS5jZWxscy5sZW5ndGg7CnQrKyl7aWYoeVtvXS5jZWxsc1t0XS5jbGFzc05hbWUuaW5kZXhPZigicmdHcm91cENvbCIpIT09LTEpe2MrKzsKfX15W29dLmNlbGxzW3lbb10uY2VsbHMubGVuZ3RoLTFdLmNvbFNwYW49KEUtYyl8fDE7CmM9MDsKfWlmKHlbb10uY2VsbHMubGVuZ3RoPT0xJiZ5W29dLmNlbGxzLmxlbmd0aCE9RSl7eVtvXS5jZWxsc1swXS5jb2xTcGFuPUV8fDE7Cn1lbHNle2Zvcih0PTA7CnQ8eVtvXS5jZWxscy5sZW5ndGg7CnQrKyl7YT15W29dLmNlbGxzW3RdOwppZihUZWxlcmlrLldlYi5VSS5HcmlkLl90cnlTZXRDb2xTcGFuT25EZXRhaWxUYWJsZShhKSl7YnJlYWs7Cn12YXIgYj1hLmNvbFNwYW47CmlmKCFuJiYhQiYmeVtvXS5jZWxscy5sZW5ndGghPUUmJigoYj4xJiZ0K2I+PXApfHwoYS5wYXJlbnROb2RlLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0dyb3VwSGVhZGVyIikhPS0xJiZhLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0dyb3VwQ29sIik9PS0xKSkpe2lmKGYmJmYuX2RhdGEuQ29sdW1uVHlwZT09PSJHcmlkR3JvdXBTcGxpdHRlckNvbHVtbiIpe3ZhciBrPXlbb10uY2VsbHNbZi5nZXRfZWxlbWVudCgpLmNlbGxJbmRleF07CmlmKGsmJmsuY2xhc3NOYW1lLmluZGV4T2YoInJnR3JvdXBDb2wiKSE9PS0xKXticmVhazsKfX1pZighZyl7dmFyIGU9eVtvXS5jZWxsc1t0XS5jb2xTcGFuLTE7CmlmKGU8PTApe2U9MTsKfXlbb10uY2VsbHNbdF0uY29sU3Bhbj1lOwp9ZWxzZXt5W29dLmNlbGxzW3RdLmNvbFNwYW49eVtvXS5jZWxsc1t0XS5jb2xTcGFuKzE7Cn1icmVhazsKfX19YT1yP3ZbcF06eVtvXS5jZWxsc1twXTsKaWYoYSE9bnVsbCYmYS5jb2xTcGFuPT0xKXtpZighKGEuY2hpbGRyZW4ubGVuZ3RoPjAmJmEuY2hpbGRyZW5bMF0udGFnTmFtZS50b1VwcGVyQ2FzZSgpPT0iVEFCTEUiJiZhLmNoaWxkcmVuWzBdLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0RldGFpbFRhYmxlIik+LTEpKXtpZihhLnN0eWxlLmRpc3BsYXk9PSJub25lIiYmZyl7YS5zdHlsZS5kaXNwbGF5PSh3aW5kb3cubmV0c2NhcGUpPyJ0YWJsZS1jZWxsIjoiIjsKfWlmKChhLnN0eWxlLmRpc3BsYXk9PSIifHxhLnN0eWxlLmRpc3BsYXk9PSJ0YWJsZS1jZWxsIikmJiFnKXthLnN0eWxlLmRpc3BsYXk9Im5vbmUiOwp9aWYoRC5fb3duZXIuZ2V0X2VuYWJsZUFyaWFTdXBwb3J0KCkpe2Euc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsKGEuc3R5bGUuZGlzcGxheT09Im5vbmUiKS50b1N0cmluZygpKTsKfX1pZihuJiYhQSl7dmFyIHg9YS5wYXJlbnRDZWxsOwpBPXRydWU7CndoaWxlKHgpe2lmKGEuc3R5bGUuZGlzcGxheT09Im5vbmUiKXt2YXIgdz14LmNvbFNwYW4tMTsKaWYodz09MCl7eC5zdHlsZS5kaXNwbGF5PSJub25lIjsKfWVsc2V7eC5jb2xTcGFuPXc7Cn19ZWxzZXtpZih4LnN0eWxlLmRpc3BsYXk9PSJub25lIil7eC5zdHlsZS5kaXNwbGF5PSIiOwp9ZWxzZXt4LmNvbFNwYW4rKzsKfX14PXgucGFyZW50Q2VsbDsKfX19fWlmKGguX3JlbmRlck1vZGU9PVRlbGVyaWsuV2ViLlVJLlJlbmRlck1vZGUuTW9iaWxlJiZzJiZoLl9ncm91cFBhbmVsKXt2YXIgbT1oLl9ncm91cFBhbmVsLmNoaWxkcmVuWzBdOwptLmNvbFNwYW49VGVsZXJpay5XZWIuVUkuR3JpZC5nZXRWaXNpYmxlQ29scyhkKTsKfWlmKHMpe2lmKCR0ZWxlcmlrLmlzRmlyZWZveHx8JHRlbGVyaWsuaXNJRTlNb2RlKXtDLnN0eWxlLnRhYmxlTGF5b3V0PSJhdXRvIjsKc2V0VGltZW91dChmdW5jdGlvbigpe0Muc3R5bGUudGFibGVMYXlvdXQ9ImZpeGVkIjsKfSwwKTsKfX1UZWxlcmlrLldlYi5VSS5HcmlkLmNhbGN1bGF0ZVJvd1NwYW4oQyxnLHMsbix2LHApOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLmNhbGN1bGF0ZVJvd1NwYW49ZnVuY3Rpb24odSxkLG4sZSxxLGwpe3ZhciB0PXUucGFyZW50Tm9kZTsKaWYobiYmdCYmdC5pZCYmdC5pZC5pbmRleE9mKCJHcmlkSGVhZGVyIik9PS0xKXtyZXR1cm47Cn1pZihlKXt2YXIgZj11LnRIZWFkLnJvd3M7CnZhciBnPTA7CnZhciBoLGIsYSxrLG8scDsKZm9yKGs9MDsKazxmLmxlbmd0aDsKaysrKXtoPWZba107CmI9aC5jZWxsczsKdmFyIG09dHJ1ZTsKZm9yKG89MDsKbzxiLmxlbmd0aDsKbysrKXthPWJbb107Cm09bSYmYS5zdHlsZS5kaXNwbGF5PT0ibm9uZSI7Cn1pZihtfHxoLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0ZpbHRlclJvdyIpPi0xKXtnKys7Cn19Zm9yKGs9MCxwPWYubGVuZ3RoOwprPHA7CmsrKyl7aD1mW2tdOwpiPWguY2VsbHM7CnZhciBzPXAtazsKZm9yKG89MDsKbzxiLmxlbmd0aDsKbysrKXthPWJbb107CmlmKGEuaWQmJmEuaWQuaW5kZXhPZigiTXVsdGlIZWFkZXIiKT4tMSl7dmFyIHI9cy1nOwphLnJvd1NwYW49cj4wP3I6MTsKfX1pZihrPT1mLmxlbmd0aC0xLWcpe2JyZWFrOwp9fX19OwpUZWxlcmlrLldlYi5VSS5HcmlkLl90cnlTZXRDb2xTcGFuT25EZXRhaWxUYWJsZT1mdW5jdGlvbihhKXt2YXIgYz0kdGVsZXJpay5nZXRGaXJzdENoaWxkQnlUYWdOYW1lKGEsInRhYmxlIiwwKTsKdmFyIGQ7CmlmKGMpe2Q9JGZpbmQoYy5pZCk7Cn1pZihkKXt2YXIgYj1kLmdldF9wYXJlbnRWaWV3KCkuX2dldFZpc2libGVDb2x1bW5zQ291bnQoKTsKYS5jb2xTcGFuPWI7CnJldHVybiB0cnVlOwp9cmV0dXJuIGZhbHNlOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLl9oaWRlU2hvd1NlbGVjdD1mdW5jdGlvbihjLGEpe2lmKCFjKXtyZXR1cm47Cn12YXIgZD1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzZWxlY3QiKTsKZm9yKHZhciBiPTA7CmI8ZC5sZW5ndGg7CmIrKyl7ZFtiXS5zdHlsZS5kaXNwbGF5PShhKT8iIjoibm9uZSI7Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NYPWZ1bmN0aW9uKGEpe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLkdldExvY2F0aW9uKGEpLng7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1k9ZnVuY3Rpb24oYSl7cmV0dXJuIFRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0TG9jYXRpb24oYSkueTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5DcmVhdGVEcmFnRHJvcD1mdW5jdGlvbihjLGIsYSl7aWYoYSl7dmFyIGQ9Yi5nZXRfZWxlbWVudCgpLnBhcmVudE5vZGU7CnRoaXMuX2NvbHVtbkluaXRpYXRvckluZGV4PWIuZ2V0X293bmVyKCkuX2dldENlbGxJbmRleEJ5Q29sdW1uVW5pcXVlTmFtZUZyb21UYWJsZVJvd0VsZW1lbnQoZCxiLmdldF9lbGVtZW50KCkuVW5pcXVlTmFtZSk7Cn1pZihiLl9vd25lci5fb3duZXIuX3JlbmRlck1vZGUhPVRlbGVyaWsuV2ViLlVJLlJlbmRlck1vZGUuTW9iaWxlKXtUZWxlcmlrLldlYi5VSS5HcmlkLkNyZWF0ZVJlb3JkZXJJbmRpY2F0b3JzKGIuZ2V0X2VsZW1lbnQoKSxiLl9vd25lci5fb3duZXIuU2tpbixiLl9vd25lci5fb3duZXIuX2ltYWdlc1BhdGgsYSxiLl9vd25lci5fb3duZXIuZ2V0X2lkKCkpOwp9dGhpcy5fbW92ZUhlYWRlckRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKdmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTsKaWYodGhpcy5fbW92ZUhlYWRlckRpdi5tZXJnZUF0dHJpYnV0ZXMpe3RoaXMuX21vdmVIZWFkZXJEaXYubWVyZ2VBdHRyaWJ1dGVzKGIuX293bmVyLl9vd25lci5nZXRfZWxlbWVudCgpKTsKfWVsc2V7VGVsZXJpay5XZWIuVUkuR3JpZC5Db3B5QXR0cmlidXRlcyh0aGlzLl9tb3ZlSGVhZGVyRGl2LGIuZ2V0X2VsZW1lbnQoKSk7Cn10aGlzLl9tb3ZlSGVhZGVyRGl2LnN0eWxlLm1hcmdpbj0wOwppZihmLm1lcmdlQXR0cmlidXRlcyl7Zi5tZXJnZUF0dHJpYnV0ZXMoYi5fb3duZXIuZ2V0X2VsZW1lbnQoKSk7Cn1lbHNle1RlbGVyaWsuV2ViLlVJLkdyaWQuQ29weUF0dHJpYnV0ZXMoZixiLl9vd25lci5nZXRfZWxlbWVudCgpKTsKfWYuc3R5bGUubWFyZ2luPSIwcHgiOwpmLnN0eWxlLmhlaWdodD1iLmdldF9lbGVtZW50KCkub2Zmc2V0SGVpZ2h0KyJweCI7CmYuc3R5bGUud2lkdGg9Yi5nZXRfZWxlbWVudCgpLm9mZnNldFdpZHRoKyJweCI7CmYuc3R5bGUuYm9yZGVyPSIwcHgiOwpmLnN0eWxlLmJvcmRlckNvbGxhcHNlPSJjb2xsYXBzZSI7CmYuc3R5bGUucGFkZGluZz0iMHB4IjsKdmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGhlYWQiKTsKdmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKZi5hcHBlbmRDaGlsZChnKTsKZy5hcHBlbmRDaGlsZChoKTsKaC5hcHBlbmRDaGlsZChiLmdldF9lbGVtZW50KCkuY2xvbmVOb2RlKHRydWUpKTsKdGhpcy5fbW92ZUhlYWRlckRpdi5hcHBlbmRDaGlsZChmKTsKaWYoISR0ZWxlcmlrLmlzSUUpe3RoaXMuX21vdmVIZWFkZXJEaXYuY2xhc3NOYW1lKz0iICIrYi5fb3duZXIuX293bmVyLmdldF9lbGVtZW50KCkuY2xhc3NOYW1lOwp9aWYoYi5fb3duZXIuX293bmVyLmdldF9lbmFibGVBcmlhU3VwcG9ydCgpKXt0aGlzLl9tb3ZlSGVhZGVyRGl2LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1kcm9wZWZmZWN0Iik7CnRoaXMuX21vdmVIZWFkZXJEaXYuc2V0QXR0cmlidXRlKCJhcmlhLWdyYWJiZWQiLCJ0cnVlIik7Cn1kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX21vdmVIZWFkZXJEaXYpOwp0aGlzLl9tb3ZlSGVhZGVyRGl2LnN0eWxlLmhlaWdodD1mLnN0eWxlLmhlaWdodDsKdGhpcy5fbW92ZUhlYWRlckRpdi5zdHlsZS53aWR0aD1mLnN0eWxlLndpZHRoOwp0aGlzLl9tb3ZlSGVhZGVyRGl2LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CnRoaXMuX21vdmVIZWFkZXJEaXYuc3R5bGUuY3Vyc29yPSJtb3ZlIjsKdGhpcy5fbW92ZUhlYWRlckRpdi5zdHlsZS5kaXNwbGF5PSJub25lIjsKdGhpcy5fbW92ZUhlYWRlckRpdi5VbmlxdWVOYW1lPWIuZ2V0X2VsZW1lbnQoKS5VbmlxdWVOYW1lOwpUZWxlcmlrLldlYi5VSS5HcmlkLkNsZWFyRG9jdW1lbnRFdmVudHMoKTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5Nb3ZlRHJhZ0Ryb3A9ZnVuY3Rpb24oZyxiLGEpe2lmKHRoaXMuX21vdmVIZWFkZXJEaXYhPW51bGwpe2lmKHR5cGVvZih0aGlzLl9tb3ZlSGVhZGVyRGl2LnN0eWxlLmZpbHRlcikhPSJ1bmRlZmluZWQiKXt0aGlzLl9tb3ZlSGVhZGVyRGl2LnN0eWxlLmZpbHRlcj0iYWxwaGEob3BhY2l0eT04MCk7IjsKfWVsc2V7aWYodHlwZW9mKHRoaXMuX21vdmVIZWFkZXJEaXYuc3R5bGUuTW96T3BhY2l0eSkhPSJ1bmRlZmluZWQiKXt0aGlzLl9tb3ZlSGVhZGVyRGl2LnN0eWxlLk1vek9wYWNpdHk9MC44Owp9ZWxzZXtpZih0eXBlb2YodGhpcy5fbW92ZUhlYWRlckRpdi5zdHlsZS5vcGFjaXR5KSE9InVuZGVmaW5lZCIpe3RoaXMuX21vdmVIZWFkZXJEaXYuc3R5bGUub3BhY2l0eT0wLjg7Cn19fXRoaXMuX21vdmVIZWFkZXJEaXYuc3R5bGUudmlzaWJpbGl0eT0iIjsKdGhpcy5fbW92ZUhlYWRlckRpdi5zdHlsZS5kaXNwbGF5PSIiOwpUZWxlcmlrLldlYi5VSS5HcmlkLlBvc2l0aW9uRHJhZ0VsZW1lbnQodGhpcy5fbW92ZUhlYWRlckRpdixnKTsKdmFyIGQ7CmlmKCR0ZWxlcmlrLmlzVG91Y2hEZXZpY2Upe2Q9JHRlbGVyaWsuZ2V0VG91Y2hUYXJnZXQoZyk7Cn1lbHNle2Q9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRDdXJyZW50RWxlbWVudChnKTsKfWlmKGIuX293bmVyLl9vd25lci5fcmVuZGVyTW9kZSE9VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5Nb2JpbGUpe2lmKGQhPW51bGwpe2lmKGEmJmQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0idGgiKXt0aGlzLl9jb2x1bW5PdmVySW5kZXg9Yi5nZXRfb3duZXIoKS5fZ2V0Q2VsbEluZGV4QnlDb2x1bW5VbmlxdWVOYW1lRnJvbVRhYmxlUm93RWxlbWVudChkLnBhcmVudE5vZGUsZC5VbmlxdWVOYW1lKTsKfWVsc2V7aWYoYSYmZC5wYXJlbnROb2RlJiZkLnBhcmVudE5vZGUudGFnTmFtZSYmZC5wYXJlbnROb2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InRoIil7dGhpcy5fY29sdW1uT3ZlckluZGV4PWIuZ2V0X293bmVyKCkuX2dldENlbGxJbmRleEJ5Q29sdW1uVW5pcXVlTmFtZUZyb21UYWJsZVJvd0VsZW1lbnQoZC5wYXJlbnROb2RlLnBhcmVudE5vZGUsZC5wYXJlbnROb2RlLlVuaXF1ZU5hbWUpOwpkPWQucGFyZW50Tm9kZTsKfX12YXIgaj1iLl9vd25lci5fb3duZXIuX2dyb3VwUGFuZWw/Yi5fb3duZXIuX293bmVyLl9ncm91cFBhbmVsLmdldF9lbGVtZW50KCk6bnVsbDsKaWYoVGVsZXJpay5XZWIuVUkuR3JpZC5Jc0NoaWxkT2YoZCxiLl9vd25lci5nZXRfZWxlbWVudCgpKXx8KGIuX293bmVyLl9vd25lci5DbGllbnRTZXR0aW5ncy5BbGxvd0RyYWdUb0dyb3VwJiZiLl9vd25lci5fb3duZXIuX2dyb3VwUGFuZWwmJihUZWxlcmlrLldlYi5VSS5HcmlkLklzQ2hpbGRPZihkLGopfHwoKCR0ZWxlcmlrLmlzVG91Y2hEZXZpY2V8fGIuX293bmVyLl9vd25lci5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlKSYmZD09aikpKSl7aWYoZCE9Yi5nZXRfZWxlbWVudCgpJiZkLnBhcmVudE5vZGU9PWIuZ2V0X2VsZW1lbnQoKS5wYXJlbnROb2RlKXtpZighYi5faGllcmFyY2hpY2FsSW5kZXgpe3ZhciBjPWIuX293bmVyLmdldENvbHVtbkJ5VW5pcXVlTmFtZShkLlVuaXF1ZU5hbWUpOwp2YXIgbD10cnVlOwppZihiLl9vd25lci5faGFzTXVsdGlIZWFkZXJzKXtsPSEhYiYmISFjJiZiLmdldF9jb2x1bW5Hcm91cE5hbWUoKT09Yy5nZXRfY29sdW1uR3JvdXBOYW1lKCk7Cn1pZihjJiZjLl9kYXRhLlJlb3JkZXJhYmxlJiZjLl9vd25lci5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQWxsb3dDb2x1bW5zUmVvcmRlciYmbCl7ZC50aXRsZT1iLl9vd25lci5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQ2xpZW50TWVzc2FnZXMuRHJvcEhlcmVUb1Jlb3JkZXI7ClRlbGVyaWsuV2ViLlVJLkdyaWQuTW92ZVJlb3JkZXJJbmRpY2F0b3JzKGcsZCxhLGIuX293bmVyLl9vd25lci5nZXRfaWQoKSk7Cn19ZWxzZXtpZihiLl9vd25lci5fb3duZXIuX3JlbmRlck1vZGU9PVRlbGVyaWsuV2ViLlVJLlJlbmRlck1vZGUuTGl0ZSl7dmFyIG49ZC5wYXJlbnROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzcGFuIik7CmlmKG4mJmQhPW5bbi5sZW5ndGgtMV0pe2QudGl0bGU9Yi5fb3duZXIuX293bmVyLkNsaWVudFNldHRpbmdzLkNsaWVudE1lc3NhZ2VzLkRyb3BIZXJlVG9SZW9yZGVyOwpUZWxlcmlrLldlYi5VSS5HcmlkLk1vdmVSZW9yZGVySW5kaWNhdG9ycyhnLGQsYSxiLl9vd25lci5fb3duZXIuZ2V0X2lkKCkpOwp9fWVsc2V7aWYoZC5wYXJlbnROb2RlLmNlbGxzJiZkIT1kLnBhcmVudE5vZGUuY2VsbHNbZC5wYXJlbnROb2RlLmNlbGxzLmxlbmd0aC0xXSl7ZC50aXRsZT1iLl9vd25lci5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQ2xpZW50TWVzc2FnZXMuRHJvcEhlcmVUb1Jlb3JkZXI7ClRlbGVyaWsuV2ViLlVJLkdyaWQuTW92ZVJlb3JkZXJJbmRpY2F0b3JzKGcsZCxhLGIuX293bmVyLl9vd25lci5nZXRfaWQoKSk7Cn19fX1lbHNle2lmKGIuX293bmVyLl9vd25lci5DbGllbnRTZXR0aW5ncy5BbGxvd0RyYWdUb0dyb3VwJiZiLl9vd25lci5fb3duZXIuX2dyb3VwUGFuZWwmJihUZWxlcmlrLldlYi5VSS5HcmlkLklzQ2hpbGRPZihkLGopfHwoKCR0ZWxlcmlrLmlzVG91Y2hEZXZpY2V8fGIuX293bmVyLl9vd25lci5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlKSYmZD09aikpKXtUZWxlcmlrLldlYi5VSS5HcmlkLk1vdmVSZW9yZGVySW5kaWNhdG9ycyhnLGosYSxiLl9vd25lci5fb3duZXIuZ2V0X2lkKCkpOwp9ZWxzZXtUZWxlcmlrLldlYi5VSS5HcmlkLlJlb3JkZXJJbmRpY2F0b3IxLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7ClRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUuZGlzcGxheT0ibm9uZSI7ClRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS52aXNpYmlsaXR5PVRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUudmlzaWJpbGl0eTsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS5kaXNwbGF5PVRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUuZGlzcGxheTsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMi5zdHlsZS5wb3NpdGlvbj1UZWxlcmlrLldlYi5VSS5HcmlkLlJlb3JkZXJJbmRpY2F0b3IxLnN0eWxlLnBvc2l0aW9uOwp9fXZhciBtPW51bGw7CmlmKGIpe209Yi5fb3duZXIuX293bmVyOwp9aWYobSYmbS5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuQWxsb3dTY3JvbGwmJm0uX2dyaWREYXRhRGl2KXtUZWxlcmlrLldlYi5VSS5HcmlkLkF1dG9TY3JvbGxIb3Jpem9udGFsbHkobSxkKTsKfX1lbHNle2lmKFRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUudmlzaWJpbGl0eSE9ImhpZGRlbiIpe1RlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS5kaXNwbGF5PSJub25lIjsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiOwpUZWxlcmlrLldlYi5VSS5HcmlkLlJlb3JkZXJJbmRpY2F0b3IyLnN0eWxlLnZpc2liaWxpdHk9VGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS52aXNpYmlsaXR5OwpUZWxlcmlrLldlYi5VSS5HcmlkLlJlb3JkZXJJbmRpY2F0b3IyLnN0eWxlLmRpc3BsYXk9VGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS5kaXNwbGF5OwpUZWxlcmlrLldlYi5VSS5HcmlkLlJlb3JkZXJJbmRpY2F0b3IyLnN0eWxlLnBvc2l0aW9uPVRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUucG9zaXRpb247Cn19fX1lbHNle3ZhciBmPXRoaXMuX21vdmVIZWFkZXJEaXY7CnZhciBoPWIuX293bmVyLl9vd25lci5fZ3JvdXBQYW5lbDsKdmFyIGk9Yi5fb3duZXIuX293bmVyLl9ncm91cFBhbmVsLmNlbGxzWzBdOwp2YXIgazsKdmFyIG87CmlmKCR0ZWxlcmlrLmlzVG91Y2hEZXZpY2Upe289JHRlbGVyaWsuZ2V0VG91Y2hlcyhnKVswXTsKaz0kdGVsZXJpay5jb250YWluc1BvaW50KCR0ZWxlcmlrLmdldEJvdW5kcyhoKSxvLmxvY2F0aW9uLnBhZ2VYLG8ubG9jYXRpb24ucGFnZVkpOwp9ZWxzZXtrPSR0ZWxlcmlrLmlzTW91c2VPdmVyRWxlbWVudChoLGcpOwp9Zi5jbGFzc05hbWU9Zi5jbGFzc05hbWUucmVwbGFjZSgicmdEcm9wQWxsb3ciLCIiKTsKZi5jbGFzc05hbWU9Zi5jbGFzc05hbWUucmVwbGFjZSgicmdEcm9wRGlzYWJsZSIsIiIpOwpmLmNsYXNzTmFtZT1mLmNsYXNzTmFtZS50cmltKCk7CmkuY2xhc3NOYW1lPWkuY2xhc3NOYW1lLnJlcGxhY2UoInJnR3JvdXBQYW5lbENlbGxIb3ZlciIsIiIpOwppLmNsYXNzTmFtZT1pLmNsYXNzTmFtZS50cmltKCk7CmlmKGspe2YuY2xhc3NOYW1lKz0iIHJnRHJvcEFsbG93IjsKaS5jbGFzc05hbWUrPSIgcmdHcm91cFBhbmVsQ2VsbEhvdmVyIjsKfWVsc2V7Zi5jbGFzc05hbWUrPSIgcmdEcm9wRGlzYWJsZSI7Cn19fX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuQXV0b1Njcm9sbEhvcml6b250YWxseT1mdW5jdGlvbihnLGEpe2lmKCFnfHwhdGhpc3x8Zy5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuRnJvemVuQ29sdW1uc0NvdW50PjApe3JldHVybjsKfXZhciBkLGg7CnZhciBjPWcuX2dyaWREYXRhRGl2OwppZighY3x8IXRoaXMuX21vdmVIZWFkZXJEaXYpe3JldHVybjsKfXZhciBiPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0TG9jYXRpb24odGhpcy5fbW92ZUhlYWRlckRpdik7CmQ9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRMb2NhdGlvbihjKS54OwpoPWQrYy5vZmZzZXRXaWR0aDsKdmFyIGo9Yy5zY3JvbGxMZWZ0PD0wOwp2YXIgaz1jLnNjcm9sbExlZnQ+PShjLnNjcm9sbFdpZHRoLWMub2Zmc2V0V2lkdGgrMTYpOwp2YXIgZT1iLngtZDsKdmFyIGY9aC1iLng7CnZhciBpOwppZihlPCg1MCtUZWxlcmlrLldlYi5VSS5HcmlkLkdldFNjcm9sbEJhcldpZHRoKCkpJiYhail7aT0oMTAtKGUvNSkpOwpjLnNjcm9sbExlZnQ9Yy5zY3JvbGxMZWZ0LWk7CndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VGVsZXJpay5XZWIuVUkuR3JpZC5BdXRvU2Nyb2xsSG9yaXpvbnRhbGx5KGcsYSk7Cn0sMTAwKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5IaWRlUmVvcmRlckluZGljYXRvcnMoKTsKfWVsc2V7aWYoZjwoNTArVGVsZXJpay5XZWIuVUkuR3JpZC5HZXRTY3JvbGxCYXJXaWR0aCgpKSYmIWspe2k9KDEwLShmLzUpKTsKYy5zY3JvbGxMZWZ0PWMuc2Nyb2xsTGVmdCtpOwp3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe1RlbGVyaWsuV2ViLlVJLkdyaWQuQXV0b1Njcm9sbEhvcml6b250YWxseShnLGEpOwp9LDEwMCk7ClRlbGVyaWsuV2ViLlVJLkdyaWQuSGlkZVJlb3JkZXJJbmRpY2F0b3JzKCk7Cn19fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5IaWRlUmVvcmRlckluZGljYXRvcnM9ZnVuY3Rpb24oKXtpZighVGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMXx8IVRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjIpe3JldHVybjsKfVRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS5kaXNwbGF5PSJub25lIjsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiOwpUZWxlcmlrLldlYi5VSS5HcmlkLlJlb3JkZXJJbmRpY2F0b3IyLnN0eWxlLnZpc2liaWxpdHk9VGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS52aXNpYmlsaXR5OwpUZWxlcmlrLldlYi5VSS5HcmlkLlJlb3JkZXJJbmRpY2F0b3IyLnN0eWxlLmRpc3BsYXk9VGVsZXJpay5XZWIuVUkuR3JpZC5SZW9yZGVySW5kaWNhdG9yMS5zdHlsZS5kaXNwbGF5OwpUZWxlcmlrLldlYi5VSS5HcmlkLlJlb3JkZXJJbmRpY2F0b3IyLnN0eWxlLnBvc2l0aW9uPVRlbGVyaWsuV2ViLlVJLkdyaWQuUmVvcmRlckluZGljYXRvcjEuc3R5bGUucG9zaXRpb247Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuRGVzdHJveURyYWdEcm9wPWZ1bmN0aW9uKGEpe2lmKHRoaXMuX21vdmVIZWFkZXJEaXYhPW51bGwpe3ZhciBiPXRoaXMuX21vdmVIZWFkZXJEaXYucGFyZW50Tm9kZTsKYi5yZW1vdmVDaGlsZCh0aGlzLl9tb3ZlSGVhZGVyRGl2KTsKdGhpcy5fbW92ZUhlYWRlckRpdj1udWxsOwpUZWxlcmlrLldlYi5VSS5HcmlkLlJlc3RvcmVEb2N1bWVudEV2ZW50cygpOwp9dGhpcy5fY29sdW1uSW5pdGlhdG9ySW5kZXg9bnVsbDsKdGhpcy5fY29sdW1uT3ZlckluZGV4PW51bGw7CmlmKCFhKXtUZWxlcmlrLldlYi5VSS5HcmlkLkRlc3Ryb3lSZW9yZGVySW5kaWNhdG9ycygpOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5BbmltYXRlUmV2ZXJ0RHJhZ0Ryb3A9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5fbW92ZUhlYWRlckRpdil7cmV0dXJuOwp9Yj1ifHwzMDA7CnZhciBjPXRoaXMuX21vdmVIZWFkZXJEaXY7CmlmKCR0ZWxlcmlrLiQpeyhmdW5jdGlvbihkKXt2YXIgZT0kdGVsZXJpay5nZXRMb2NhdGlvbihhLmdldF9lbGVtZW50KCkpOwpkKGMpLmNsb25lKCkuYXBwZW5kVG8oYy5wYXJlbnROb2RlKS5hbmltYXRlKHtsZWZ0OmUueCx0b3A6ZS55fSxiLGZ1bmN0aW9uKCl7ZCh0aGlzKS5yZW1vdmUoKTsKfSk7Cn0pKCR0ZWxlcmlrLiQpOwp9VGVsZXJpay5XZWIuVUkuR3JpZC5EZXN0cm95RHJhZ0Ryb3AoKTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5HZXRGaXJzdFBhcmVudEJ5VGFnTmFtZT1mdW5jdGlvbihhLGIpe3doaWxlKGEmJmEucGFyZW50Tm9kZSl7aWYoYS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PWIudG9Mb3dlckNhc2UoKSl7cmV0dXJuIGE7Cn1hPWEucGFyZW50Tm9kZTsKfXJldHVybiBudWxsOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50Um93V2l0aElEPWZ1bmN0aW9uKGEpe3doaWxlKGEmJmEucGFyZW50Tm9kZSl7aWYoYS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0ciImJmEuaWQhPXVuZGVmaW5lZCYmYS5pZCE9IiIpe3JldHVybiBhOwp9YT1hLnBhcmVudE5vZGU7Cn1yZXR1cm4gbnVsbDsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5DcmVhdGVDb2x1bW5SZXNpemVycz1mdW5jdGlvbihhLGIpe1RlbGVyaWsuV2ViLlVJLkdyaWQuQ2xlYXJEb2N1bWVudEV2ZW50cygpOwp0aGlzLkxlZnRSZXNpemVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKdGhpcy5MZWZ0UmVzaXplci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9Im5hdnkiOwp0aGlzLkxlZnRSZXNpemVyLnN0eWxlLndpZHRoPSIxcHgiOwp0aGlzLkxlZnRSZXNpemVyLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CnRoaXMuTGVmdFJlc2l6ZXIuc3R5bGUuY3Vyc29yPSJlLXJlc2l6ZSI7CnRoaXMuUmlnaHRSZXNpemVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKdGhpcy5SaWdodFJlc2l6ZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yPSJuYXZ5IjsKdGhpcy5SaWdodFJlc2l6ZXIuc3R5bGUud2lkdGg9IjFweCI7CnRoaXMuUmlnaHRSZXNpemVyLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CnRoaXMuUmlnaHRSZXNpemVyLnN0eWxlLmN1cnNvcj0iZS1yZXNpemUiOwp0aGlzLlJlc2l6ZXJUb29sVGlwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKdGhpcy5SZXNpemVyVG9vbFRpcC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNGNUY1REMiOwp0aGlzLlJlc2l6ZXJUb29sVGlwLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkIjsKdGhpcy5SZXNpemVyVG9vbFRpcC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiOwp0aGlzLlJlc2l6ZXJUb29sVGlwLnN0eWxlLmZvbnQ9Imljb24iOwp0aGlzLlJlc2l6ZXJUb29sVGlwLnN0eWxlLnBhZGRpbmc9IjIiOwp0aGlzLlJlc2l6ZXJUb29sVGlwLmlubmVySFRNTD0iV2lkdGg6IDxiPiIrYS5nZXRfZWxlbWVudCgpLm9mZnNldFdpZHRoKyI8L2I+IDxlbT5waXhlbHM8L2VtPiI7CnRoaXMuTGVmdFJlc2l6ZXIuc3R5bGUuZGlzcGxheT10aGlzLlJlc2l6ZXJUb29sVGlwLnN0eWxlLmRpc3BsYXk9dGhpcy5SZXNpemVyVG9vbFRpcC5zdHlsZS5kaXNwbGF5PSJub25lIjsKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLkxlZnRSZXNpemVyKTsKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLlJpZ2h0UmVzaXplcik7CmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5SZXNpemVyVG9vbFRpcCk7ClRlbGVyaWsuV2ViLlVJLkdyaWQuTW92ZUNvbHVtblJlc2l6ZXJzKGEsYik7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuRGVzdHJveUNvbHVtblJlc2l6ZXJzPWZ1bmN0aW9uKCl7VGVsZXJpay5XZWIuVUkuR3JpZC5SZXN0b3JlRG9jdW1lbnRFdmVudHMoKTsKaWYodGhpcy5MZWZ0UmVzaXplciYmdGhpcy5MZWZ0UmVzaXplci5wYXJlbnROb2RlKXtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuTGVmdFJlc2l6ZXIpOwp0aGlzLkxlZnRSZXNpemVyPW51bGw7Cn1pZih0aGlzLlJpZ2h0UmVzaXplciYmdGhpcy5SaWdodFJlc2l6ZXIucGFyZW50Tm9kZSl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLlJpZ2h0UmVzaXplcik7CnRoaXMuUmlnaHRSZXNpemVyPW51bGw7Cn1pZih0aGlzLlJlc2l6ZXJUb29sVGlwJiZ0aGlzLlJlc2l6ZXJUb29sVGlwLnBhcmVudE5vZGUpe2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5SZXNpemVyVG9vbFRpcCk7CnRoaXMuUmVzaXplclRvb2xUaXA9bnVsbDsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuTW92ZUNvbHVtblJlc2l6ZXJzPWZ1bmN0aW9uKGEsZCl7aWYoIXRoaXMuTGVmdFJlc2l6ZXJ8fCF0aGlzLlJpZ2h0UmVzaXplcnx8IXRoaXMuUmlnaHRSZXNpemVyKXtyZXR1cm47Cn10aGlzLkxlZnRSZXNpemVyLnN0eWxlLmRpc3BsYXk9dGhpcy5SaWdodFJlc2l6ZXIuc3R5bGUuZGlzcGxheT10aGlzLlJlc2l6ZXJUb29sVGlwLnN0eWxlLmRpc3BsYXk9IiI7CnRoaXMuTGVmdFJlc2l6ZXIuc3R5bGUudG9wPVRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1koYS5nZXRfZWxlbWVudCgpKSsicHgiOwp0aGlzLkxlZnRSZXNpemVyLnN0eWxlLmxlZnQ9VGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWChhLmdldF9lbGVtZW50KCkpKyJweCI7CnRoaXMuUmlnaHRSZXNpemVyLnN0eWxlLnRvcD10aGlzLkxlZnRSZXNpemVyLnN0eWxlLnRvcDsKdGhpcy5SaWdodFJlc2l6ZXIuc3R5bGUubGVmdD1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEV2ZW50UG9zWChkKS01KyJweCI7CnRoaXMuUmVzaXplclRvb2xUaXAuc3R5bGUudG9wPXBhcnNlSW50KHRoaXMuUmlnaHRSZXNpemVyLnN0eWxlLnRvcCwxMCktMjArInB4IjsKdGhpcy5SZXNpemVyVG9vbFRpcC5zdHlsZS5sZWZ0PXBhcnNlSW50KHRoaXMuUmlnaHRSZXNpemVyLnN0eWxlLmxlZnQsMTApLTUrInB4IjsKaWYocGFyc2VJbnQodGhpcy5MZWZ0UmVzaXplci5zdHlsZS5sZWZ0LDEwKTxUZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NYKGEuX293bmVyLmdldF9lbGVtZW50KCkpKXt0aGlzLkxlZnRSZXNpemVyLnN0eWxlLmRpc3BsYXk9Im5vbmUiOwp9aWYoIWEuX293bmVyLl9vd25lci5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuQWxsb3dTY3JvbGwpe3RoaXMuTGVmdFJlc2l6ZXIuc3R5bGUuaGVpZ2h0PWEuX293bmVyLmdldF9lbGVtZW50KCkudEJvZGllc1swXS5vZmZzZXRIZWlnaHQrYS5fb3duZXIuZ2V0X2VsZW1lbnQoKS50SGVhZC5vZmZzZXRIZWlnaHQrInB4IjsKfWVsc2V7dmFyIGI9JGdldChhLl9vd25lci5fb3duZXIuQ2xpZW50SUQrIl9HcmlkRGF0YSIpOwppZihhLl9vd25lci5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLlVzZVN0YXRpY0hlYWRlcnMpe3RoaXMuTGVmdFJlc2l6ZXIuc3R5bGUuaGVpZ2h0PWIuY2xpZW50SGVpZ2h0K2EuX293bmVyLmdldF9lbGVtZW50KCkudEhlYWQub2Zmc2V0SGVpZ2h0KyJweCI7Cn1lbHNle3RoaXMuTGVmdFJlc2l6ZXIuc3R5bGUuaGVpZ2h0PWIuY2xpZW50SGVpZ2h0KyJweCI7Cn19dGhpcy5SaWdodFJlc2l6ZXIuc3R5bGUuaGVpZ2h0PXRoaXMuTGVmdFJlc2l6ZXIuc3R5bGUuaGVpZ2h0Owp2YXIgYz1wYXJzZUludCh0aGlzLlJpZ2h0UmVzaXplci5zdHlsZS5sZWZ0LDEwKS1wYXJzZUludCh0aGlzLkxlZnRSZXNpemVyLnN0eWxlLmxlZnQsMTApOwp0aGlzLlJlc2l6ZXJUb29sVGlwLmlubmVySFRNTD0iV2lkdGg6IDxiPiIrYysiPC9iPiA8ZW0+cGl4ZWxzPC9lbT4iOwppZihhLl9vd25lci5fb3duZXIuQ2xpZW50U2V0dGluZ3MuUmVzaXppbmcuRW5hYmxlUmVhbFRpbWVSZXNpemUpe2lmKGM+MCl7YS5nZXRfZWxlbWVudCgpLnN0eWxlLndpZHRoPWMrInB4IjsKdGhpcy5SaWdodFJlc2l6ZXIuc3R5bGUubGVmdD1wYXJzZUludCh0aGlzLkxlZnRSZXNpemVyLnN0eWxlLmxlZnQsMTApK2EuZ2V0X2VsZW1lbnQoKS5vZmZzZXRXaWR0aCsicHgiOwp9fWlmKHBhcnNlSW50KHRoaXMuUmlnaHRSZXNpemVyLnN0eWxlLmxlZnQsMTApKzE8PXBhcnNlSW50KHRoaXMuTGVmdFJlc2l6ZXIuc3R5bGUubGVmdCwxMCkpe1RlbGVyaWsuV2ViLlVJLkdyaWQuRGVzdHJveUNvbHVtblJlc2l6ZXJzKCk7Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRTY3JvbGxQb3NYPWZ1bmN0aW9uKGEpe3ZhciBiPTA7CndoaWxlKGEucGFyZW50Tm9kZSl7aWYodHlwZW9mKGEucGFyZW50Tm9kZS5zY3JvbGxMZWZ0KT09Im51bWJlciIpe2IrPWEucGFyZW50Tm9kZS5zY3JvbGxMZWZ0Owp9YT1hLnBhcmVudE5vZGU7Cn1pZihkb2N1bWVudC5ib2R5LmN1cnJlbnRTdHlsZSYmZG9jdW1lbnQuYm9keS5jdXJyZW50U3R5bGUubWFyZ2luTGVmdC5pbmRleE9mKCJweCIpIT0tMSYmIXdpbmRvdy5vcGVyYSl7Yj1wYXJzZUludChiLDEwKS1wYXJzZUludChkb2N1bWVudC5ib2R5LmN1cnJlbnRTdHlsZS5tYXJnaW5MZWZ0LDEwKTsKfXJldHVybiBiOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRTY3JvbGxQb3NZPWZ1bmN0aW9uKGEpe3ZhciBiPTA7CndoaWxlKGEucGFyZW50Tm9kZSl7aWYodHlwZW9mKGEucGFyZW50Tm9kZS5zY3JvbGxUb3ApPT0ibnVtYmVyIil7Yis9YS5wYXJlbnROb2RlLnNjcm9sbFRvcDsKfWE9YS5wYXJlbnROb2RlOwp9aWYoZG9jdW1lbnQuYm9keS5jdXJyZW50U3R5bGUmJmRvY3VtZW50LmJvZHkuY3VycmVudFN0eWxlLm1hcmdpblRvcC5pbmRleE9mKCJweCIpIT0tMSYmIXdpbmRvdy5vcGVyYSl7Yj1wYXJzZUludChiLDEwKS1wYXJzZUludChkb2N1bWVudC5ib2R5LmN1cnJlbnRTdHlsZS5tYXJnaW5Ub3AsMTApOwp9cmV0dXJuIGI7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0RXZlbnRQb3NYPWZ1bmN0aW9uKGEpe2lmKCR0ZWxlcmlrLmlzVG91Y2hEZXZpY2Upe3JldHVybiAkdGVsZXJpay5nZXRUb3VjaEV2ZW50TG9jYXRpb24oYSkueDsKfWVsc2V7cmV0dXJuIHBhcnNlSW50KGEuY2xpZW50WCwxMCkrcGFyc2VJbnQoJHRlbGVyaWsuZ2V0U2Nyb2xsT2Zmc2V0KGRvY3VtZW50LmJvZHksdHJ1ZSkueCwxMCk7Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkLkdldEV2ZW50UG9zWT1mdW5jdGlvbihhKXtpZigkdGVsZXJpay5pc1RvdWNoRGV2aWNlKXtyZXR1cm4gJHRlbGVyaWsuZ2V0VG91Y2hFdmVudExvY2F0aW9uKGEpLnk7Cn1lbHNle3JldHVybiBwYXJzZUludChhLmNsaWVudFksMTApK3BhcnNlSW50KCR0ZWxlcmlrLmdldFNjcm9sbE9mZnNldChkb2N1bWVudC5ib2R5LHRydWUpLnksMTApOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5Jc1Njcm9sbE9uTGVmdFNpZGU9ZnVuY3Rpb24oKXtpZih0eXBlb2YodGhpcy5fSXNTY3JvbGxPbkxlZnRTaWRlKT09InVuZGVmaW5lZCIpe1RlbGVyaWsuV2ViLlVJLkdyaWQuZ2V0U2Nyb2xsQmFySGVpZ2h0KCk7Cn1yZXR1cm4gdGhpcy5fSXNTY3JvbGxPbkxlZnRTaWRlOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLmdldFNjcm9sbEJhckhlaWdodD1mdW5jdGlvbigpe3RyeXt2YXIgZixhPTA7CnZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpiLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CmIuc3R5bGUudG9wPSItMTAwMHB4IjsKYi5zdHlsZS5sZWZ0PSItMTAwMHB4IjsKYi5zdHlsZS53aWR0aD0iMTAwcHgiOwpiLnN0eWxlLmhlaWdodD0iMTAwcHgiOwpiLnN0eWxlLm92ZXJmbG93PSJhdXRvIjsKdmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CmMuc3R5bGUud2lkdGg9IjEwMDBweCI7CmMuc3R5bGUuaGVpZ2h0PSIxMDAwcHgiOwpiLmFwcGVuZENoaWxkKGMpOwpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGIpOwpmPWIub2Zmc2V0SGVpZ2h0OwphPWIuY2xpZW50SGVpZ2h0Owpkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRvY3VtZW50LmJvZHkubGFzdENoaWxkKTsKdGhpcy5zY3JvbGxiYXJIZWlnaHQ9Zi1hOwppZih0aGlzLnNjcm9sbGJhckhlaWdodDw9MHx8YT09MCl7dGhpcy5zY3JvbGxiYXJIZWlnaHQ9MTY7Cn1iLmRpcj0icnRsIjsKdmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CmQuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjsKZC5zdHlsZS5sZWZ0PSIwIjsKZC5zdHlsZS5oZWlnaHQ9IjEwMCUiOwpkLnN0eWxlLndpZHRoPSIxMDAlIjsKYi5hcHBlbmRDaGlsZChkKTsKaWYoJHRlbGVyaWsuaXNPcGVyYSl7ZC5zdHlsZS5sZWZ0PSIiOwpkLnN0eWxlLndpZHRoPSIxMDBweCI7Cn1kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGIpOwp0aGlzLl9Jc1Njcm9sbE9uTGVmdFNpZGU9ZmFsc2U7CmlmKCR0ZWxlcmlrLiQoYikub2Zmc2V0KCkubGVmdCE9JHRlbGVyaWsuJChkKS5vZmZzZXQoKS5sZWZ0fHwkdGVsZXJpay5pc0Nocm9tZSl7dGhpcy5fSXNTY3JvbGxPbkxlZnRTaWRlPXRydWU7Cn1iLnJlbW92ZUNoaWxkKGMpOwpiLnJlbW92ZUNoaWxkKGQpOwpiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7CmI9bnVsbDsKYz1udWxsOwpkPW51bGw7CnJldHVybiB0aGlzLnNjcm9sbGJhckhlaWdodDsKfWNhdGNoKGUpe3RoaXMuX0lzU2Nyb2xsT25MZWZ0U2lkZT1mYWxzZTsKcmV0dXJuIGZhbHNlOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5HZXRTY3JvbGxCYXJXaWR0aD1mdW5jdGlvbigpe3RyeXt2YXIgZSxhPTA7CnZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpiLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CmIuc3R5bGUudG9wPSItMTAwMHB4IjsKYi5zdHlsZS5sZWZ0PSItMTAwMHB4IjsKYi5zdHlsZS53aWR0aD0iMTAwcHgiOwpiLnN0eWxlLm92ZXJmbG93PSJhdXRvIjsKdmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CmMuc3R5bGUud2lkdGg9IjEwMDBweCI7CmIuYXBwZW5kQ2hpbGQoYyk7CmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYik7CmU9Yi5vZmZzZXRXaWR0aDsKYT1iLmNsaWVudFdpZHRoOwp0aGlzLnNjcm9sbGJhcldpZHRoPWUtYTsKaWYodGhpcy5zY3JvbGxiYXJXaWR0aDw9MHx8YT09MCl7dGhpcy5zY3JvbGxiYXJXaWR0aD0xNjsKfWIucmVtb3ZlQ2hpbGQoYyk7CmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKTsKYj1udWxsOwpjPW51bGw7CnJldHVybiB0aGlzLnNjcm9sbGJhcldpZHRoOwp9Y2F0Y2goZCl7cmV0dXJuIGZhbHNlOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5Jc1JpZ2h0VG9MZWZ0PWZ1bmN0aW9uKGIpe3RyeXt3aGlsZShiJiZiIT1kb2N1bWVudCl7aWYoJHRlbGVyaWsuZ2V0Q3VycmVudFN0eWxlKGIsImRpcmVjdGlvbiIpPT0icnRsIil7cmV0dXJuIHRydWU7Cn1iPWIucGFyZW50Tm9kZTsKfXJldHVybiBmYWxzZTsKfWNhdGNoKGEpe3JldHVybiBmYWxzZTsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuRmlyZUV2ZW50PWZ1bmN0aW9uKGUsYyxiKXt0cnl7dmFyIGQ9dHJ1ZTsKaWYodHlwZW9mKGVbY10pPT0ic3RyaW5nIil7ZXZhbChlW2NdKTsKfWVsc2V7aWYodHlwZW9mKGVbY10pPT0iZnVuY3Rpb24iKXtpZihiKXtzd2l0Y2goYi5sZW5ndGgpe2Nhc2UgMTpkPWVbY10oYlswXSk7CmJyZWFrOwpjYXNlIDI6ZD1lW2NdKGJbMF0sYlsxXSk7CmJyZWFrOwp9fWVsc2V7ZD1lW2NdKCk7Cn19fWlmKHR5cGVvZihkKSE9ImJvb2xlYW4iKXtyZXR1cm4gdHJ1ZTsKfWVsc2V7cmV0dXJuIGQ7Cn19Y2F0Y2goYSl7dGhyb3cgYTsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0VGFibGVDb2xHcm91cD1mdW5jdGlvbihiKXt0cnl7cmV0dXJuIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImNvbGdyb3VwIilbMF07Cn1jYXRjaChhKXtyZXR1cm4gZmFsc2U7Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkLlJlbW92ZUhpZGRlbkNvbEdyb3VwQ29scz1mdW5jdGlvbihhKXt0cnl7dmFyIGI9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiY29sIik7CmZvcih2YXIgZD0wOwpkPGIubGVuZ3RoOwpkKyspe2lmKGJbZF0uc3R5bGUuZGlzcGxheSYmYltkXS5zdHlsZS5kaXNwbGF5PT0ibm9uZSIpe2JbZF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiW2RdKTsKZC0tOwp9fX1jYXRjaChjKXt9fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5HZXRUYWJsZUNvbEdyb3VwQ29scz1mdW5jdGlvbihhKXt0cnl7dmFyIGI9W107CmZvcih2YXIgZD0wOwpkPGEuY2hpbGROb2Rlcy5sZW5ndGg7CmQrKyl7aWYoKGEuY2hpbGROb2Rlc1tkXS50YWdOYW1lKSYmKGEuY2hpbGROb2Rlc1tkXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJjb2wiKSl7YltiLmxlbmd0aF09YS5jaGlsZE5vZGVzW2RdOwp9fXJldHVybiBiOwp9Y2F0Y2goYyl7cmV0dXJuIGZhbHNlOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5DbGVhckl0ZW1TdHlsZT1mdW5jdGlvbihmLGMsZCl7U3lzLlVJLkRvbUVsZW1lbnQucmVtb3ZlQ3NzQ2xhc3MoZixkKTsKaWYoYyl7dmFyIGI9Zi5zdHlsZS5jc3NUZXh0LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCIiKTsKdmFyIGE9Yi5zcGxpdCgiOyIpOwpmb3IodmFyIGU9MDsKZTxhLmxlbmd0aDsKZSsrKXtpZihjLmluZGV4T2YoYVtlXSkhPS0xKXthW2VdPSIiOwp9fWYuc3R5bGUuY3NzVGV4dD1hLmpvaW4oIjsiKTsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuU2V0SXRlbVN0eWxlPWZ1bmN0aW9uKGMsYSxiKXtTeXMuVUkuRG9tRWxlbWVudC5hZGRDc3NDbGFzcyhjLGIpOwppZihhKXtjLnN0eWxlLmNzc1RleHQ9Yy5zdHlsZS5jc3NUZXh0KyI7IithOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5TY3JvbGxJbnRvVmlldz1mdW5jdGlvbihpKXt2YXIgYT1UZWxlcmlrLldlYi5VSS5HcmlkLmdldFNjcm9sbGFibGVDb250YWluZXIoaSl8fChkb2N1bWVudC5ib2R5fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpOwp2YXIgZT1pOwp2YXIgaD0kdGVsZXJpay5nZXRMb2NhdGlvbihlKS55LSR0ZWxlcmlrLmdldExvY2F0aW9uKGEpLnksZz1oK2Euc2Nyb2xsVG9wLGY9ZytlLm9mZnNldEhlaWdodDsKdmFyIGM9YS5jbGllbnRIZWlnaHQ7CnZhciBkPXBhcnNlSW50KGEuc2Nyb2xsVG9wLDEwKTsKdmFyIGI9ZCtjOwppZihlLm9mZnNldEhlaWdodD5jfHxnPGQpe2Euc2Nyb2xsVG9wPWc7Cn1lbHNle2lmKGY+Yil7YS5zY3JvbGxUb3A9Zi1jOwp9fWEuc2Nyb2xsVG9wPWEuc2Nyb2xsVG9wOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLmdldFNjcm9sbGFibGVDb250YWluZXI9ZnVuY3Rpb24oYSl7aWYoIWF8fCFhLnBhcmVudE5vZGUpe3JldHVybjsKfXZhciBkPW51bGw7CnZhciBjPWEucGFyZW50Tm9kZTsKd2hpbGUoYyE9bnVsbCl7aWYoYy50YWdOYW1lLnRvVXBwZXJDYXNlKCk9PSJCT0RZIil7ZD1jOwpicmVhazsKfXZhciBiPSR0ZWxlcmlrLmdldEN1cnJlbnRTdHlsZShjLCJvdmVyZmxvd1kiKTsKaWYoYj09InNjcm9sbCJ8fGI9PSJhdXRvIil7ZD1jOwpicmVhazsKfWM9Yy5wYXJlbnROb2RlOwp9cmV0dXJuIGQ7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0TmVzdGVkVGFibGVWaWV3PWZ1bmN0aW9uKGMpe3ZhciBiPW51bGw7CnZhciBhPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0TmVzdGVkVGFibGUoYyk7CmlmKGEpe2I9JGZpbmQoYS5pZC5zcGxpdCgiX18iKVswXSk7Cn1yZXR1cm4gYjsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5HZXRMYXN0TmVzdGVkVGFibGVWaWV3PWZ1bmN0aW9uKGMpe3ZhciBiPW51bGw7CnZhciBhPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0TGFzdE5lc3RlZFRhYmxlKGMpOwppZihhKXtiPSRmaW5kKGEuaWQuc3BsaXQoIl9fIilbMF0pOwp9cmV0dXJuIGI7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0UHJldmlvdXNOZXN0ZWRUYWJsZVZpZXc9ZnVuY3Rpb24oYil7dmFyIGE9bnVsbDsKaWYoYi5wcmV2aW91c1NpYmxpbmcmJmIucHJldmlvdXNTaWJsaW5nLnByZXZpb3VzU2libGluZyl7YT1UZWxlcmlrLldlYi5VSS5HcmlkLkdldE5lc3RlZFRhYmxlVmlldyhiLnByZXZpb3VzU2libGluZyk7Cn1yZXR1cm4gYTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5HZXROZXN0ZWRUYWJsZT1mdW5jdGlvbihkKXt2YXIgYj1udWxsOwp2YXIgYz1UZWxlcmlrLldlYi5VSS5HcmlkLkdldE5vZGVOZXh0U2libGluZ0J5VGFnTmFtZShkLCJ0ciIpOwppZihjKXt2YXIgYT1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0YWJsZSIpOwppZihhLmxlbmd0aD4wJiZhWzBdLmlkLmluZGV4T2YoIkRldGFpbCIpIT0tMSl7Yj1hWzBdOwp9fXJldHVybiBiOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLkdldExhc3ROZXN0ZWRUYWJsZT1mdW5jdGlvbihmKXt2YXIgZD1udWxsOwp2YXIgZT1UZWxlcmlrLldlYi5VSS5HcmlkLkdldE5vZGVOZXh0U2libGluZ0J5VGFnTmFtZShmLCJ0ciIpOwppZihlKXt2YXIgYj1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0YWJsZSIpOwpmb3IodmFyIGM9Yi5sZW5ndGgtMTsKYz49MDsKYy0tKXt2YXIgYT1iW2NdOwppZihhLmlkLmluZGV4T2YoIkRldGFpbCIpIT0tMSYmYS5pZC5pbmRleE9mKCJfbWFpblRhYmxlIik9PS0xKXtkPWE7CmJyZWFrOwp9fX1yZXR1cm4gZDsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5HZXROb2RlTmV4dFNpYmxpbmdCeVRhZ05hbWU9ZnVuY3Rpb24oYSxiKXthPWEubmV4dFNpYmxpbmc7CndoaWxlKGEhPW51bGwmJihhLm5vZGVUeXBlPT0zfHwoYS50YWdOYW1lJiZhLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9Yi50b0xvd2VyQ2FzZSgpKSkpe2E9YS5uZXh0U2libGluZzsKfXJldHVybiBhOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLkdldE5vZGVQcmV2aW91c1NpYmxpbmdCeVRhZ05hbWU9ZnVuY3Rpb24oYSxiKXthPWEucHJldmlvdXNTaWJsaW5nOwp3aGlsZSgoYSE9bnVsbCkmJihhLm5vZGVUeXBlPT0zfHwoYS50YWdOYW1lJiZhLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9Yi50b0xvd2VyQ2FzZSgpKSkpe2E9YS5wcmV2aW91c1NpYmxpbmc7Cn1yZXR1cm4gYTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5DbGVhckJlc3RGaXRDYWNoZT1mdW5jdGlvbihhKXt9OwpUZWxlcmlrLldlYi5VSS5HcmlkLkxvY2F0aW9uQ2FjaGU9e307ClRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0TG9jYXRpb249ZnVuY3Rpb24oYSl7aWYoJHRlbGVyaWsuaXNPcGVyYSl7cmV0dXJuICR0ZWxlcmlrLm9yaWdpbmFsR2V0TG9jYXRpb24oYSk7Cn1yZXR1cm4gJHRlbGVyaWsuZ2V0TG9jYXRpb24oYSk7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0R3JpZD1mdW5jdGlvbihhKXt3aGlsZSghIWEpe2lmKGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iZGl2IiYmYS5pZCYmJGZpbmQoYS5pZCkpe3JldHVybiAkZmluZChhLmlkKTsKfWE9YS5wYXJlbnROb2RlOwp9cmV0dXJuIG51bGw7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuQ2xpZW50U3RhdGVEYXRhPWZ1bmN0aW9uIENsaWVudFN0YXRlRGF0YSgpe3ZhciBhPXt9Owp0aGlzLmFkZD1mdW5jdGlvbihiLGMpe2FbYl09YzsKfTsKdGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBjPSIiOwp2YXIgZD1udWxsOwpmb3IodmFyIGIgaW4gYSl7Yys9YjsKZD1hW2JdOwppZih0eXBlb2YoZCkhPSJ1bmRlZmluZWQiJiZkIT1udWxsKXtjKz0iLCI7CmMrPWFbYl07Cn1jKz0iOyI7Cn1yZXR1cm4gYzsKfTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5nZXRNdWx0aUhlYWRlckNlbGxzPWZ1bmN0aW9uKGspe3ZhciBjPSJNdWx0aUhlYWRlciI7CnZhciBoPWsuZ2V0X2VsZW1lbnQoKTsKdmFyIGQ9aC50SGVhZC5yb3dzOwp2YXIgYj1bXTsKZm9yKHZhciBlPTA7CmU8ZC5sZW5ndGg7CmUrKyl7dmFyIGc9ZFtlXTsKZm9yKHZhciBmPTA7CmY8Zy5jZWxscy5sZW5ndGg7CmYrKyl7dmFyIGE9Zy5jZWxsc1tmXTsKaWYoYS5pZCYmYS5pZC5pbmRleE9mKGMpPi0xKXtiLnB1c2goYSk7Cn19fWIuc29ydChmdW5jdGlvbihpLGope3JldHVybiBpLmlkLnNwbGl0KGMpWzFdLWouaWQuc3BsaXQoYylbMV07Cn0pOwpyZXR1cm4gYjsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZC5jb3JyZWN0V2lkdGhGb3JJRT1mdW5jdGlvbihhKXt2YXIgYz0kdGVsZXJpay5nZXRCb3JkZXJXaWR0aChhLFRlbGVyaWsuV2ViLkJveFNpZGUuUmlnaHQpOwp2YXIgYj0kdGVsZXJpay5nZXRCb3JkZXJXaWR0aChhLFRlbGVyaWsuV2ViLkJveFNpZGUuTGVmdCk7CnJldHVybiBiK2MrcGFyc2VJbnQoYS5jdXJyZW50U3R5bGUucGFkZGluZ0xlZnQsMTApK3BhcnNlSW50KGEuY3VycmVudFN0eWxlLnBhZGRpbmdSaWdodCwxMCk7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuSXNFZGl0YWJsZUNvbnRyb2w9ZnVuY3Rpb24oYSl7dmFyIGI9YS50YWdOYW1lP2EudGFnTmFtZS50b0xvd2VyQ2FzZSgpOm51bGw7CmlmKGImJihiPT09ImlucHV0Inx8Yj09PSJ0ZXh0YXJlYSJ8fGI9PT0ic2VsZWN0Inx8Yj09PSJvcHRpb24ifHxiPT0iY2hlY2tib3giKSl7cmV0dXJuIHRydWU7Cn1yZXR1cm4gZmFsc2U7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuSXNBY3Rpb25Db250cm9sPWZ1bmN0aW9uKGIpe2lmKGIuanF1ZXJ5KXtiPWJbMF07Cn12YXIgYz1iLnRhZ05hbWU/Yi50YWdOYW1lLnRvTG93ZXJDYXNlKCk6bnVsbDsKdmFyIGE9JGZpbmQoYi5pZCk7CmlmKGMmJihjPT0iYnV0dG9uInx8Yz09ImEifHwoYSYmVGVsZXJpay5XZWIuVUkuUmFkQnV0dG9uJiZUZWxlcmlrLldlYi5VSS5SYWRCdXR0b24uaXNJbnN0YW5jZU9mVHlwZShhKSkpKXtyZXR1cm4gdHJ1ZTsKfXJldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLklzRWRpdGFibGVDb250cm9sKGIpOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkLkJ1aWxkRXZlbnRBcmdzPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkIGluIGIpe3ZhciBjPWQ7CnZhciBlPWJbZF07CmlmKGMuaW5kZXhPZigiZXRfIik+MCl7YVtjXT1lOwpjb250aW51ZTsKfWFbIl8iK2NdPWU7CmFbImdldF8iK2NdPShmdW5jdGlvbihmKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1siXyIrZl07Cn07Cn0oYykpOwp9cmV0dXJuIGE7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWQuVG91Y2hQb2ludERpcmVjdGlvbj17Tm9uZTotMSxOOjAsTk5FOjEsTkU6MixFTkU6MyxFOjQsRVNFOjUsU0U6NixTU0U6NyxTOjgsU1NXOjksU1c6MTAsV1NXOjExLFc6MTIsV05XOjEzLE5XOjE0LE5OVzoxNX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuVG91Y2hQb2ludE1vdmVtZW50PXtVcDowLExlZnQ6MSxEb3duOjIsUmlnaHQ6MyxOb25lOjQsSW5jb25zaXN0ZW50OjV9OwpUZWxlcmlrLldlYi5VSS5HcmlkLmRldGVjdFRvdWNoUG9pbnREaXJlY3Rpb249ZnVuY3Rpb24oYyxiLGEpe2lmKGIueD5jLngpe2lmKGIueT5jLnkpe2lmKGE9PTApe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uU0U7Cn1pZihhPjApe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uRVNFOwp9aWYoYTwwKXtyZXR1cm4gVGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLlNTRTsKfX1lbHNle2lmKGIueT09Yy55KXtyZXR1cm4gVGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLkU7Cn1lbHNle2lmKGE9PTApe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uTkU7Cn1pZihhPjApe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uRU5FOwp9aWYoYTwwKXtyZXR1cm4gVGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLk5ORTsKfX19fWVsc2V7aWYoYi54PT1jLngpe2lmKGIueT5jLnkpe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uUzsKfWVsc2V7aWYoYi55PT1jLnkpe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uTm9uZTsKfWVsc2V7cmV0dXJuIFRlbGVyaWsuV2ViLlVJLkdyaWQuVG91Y2hQb2ludERpcmVjdGlvbi5OOwp9fX1lbHNle2lmKGIueT5jLnkpe2lmKGE9PTApe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uU1c7Cn1pZihhPjApe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uV1NXOwp9aWYoYTwwKXtyZXR1cm4gVGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLlNTVzsKfX1lbHNle2lmKGIueT09Yy55KXtyZXR1cm4gVGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLlc7Cn1lbHNle2lmKGE9PTApe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uTlc7Cn1pZihhPjApe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uV05XOwp9aWYoYTwwKXtyZXR1cm4gVGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLk5OVzsKfX19fX19OwpUZWxlcmlrLldlYi5VSS5HcmlkLmRldGVjdFRvdWNoUG9pbnRNb3ZlbWVudD1mdW5jdGlvbihhKXtpZihhPj1UZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uTkUmJmE8VGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLlNFKXtyZXR1cm4gVGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50TW92ZW1lbnQuUmlnaHQ7Cn1pZihhPj1UZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uU0UmJmE8VGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLlNXKXtyZXR1cm4gVGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50TW92ZW1lbnQuRG93bjsKfWlmKGE+PVRlbGVyaWsuV2ViLlVJLkdyaWQuVG91Y2hQb2ludERpcmVjdGlvbi5TVyYmYTxUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnREaXJlY3Rpb24uTlcpe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnRNb3ZlbWVudC5MZWZ0Owp9aWYoYT49VGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLk5XfHwoYT49VGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLk4mJmE8VGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLk5FKSl7cmV0dXJuIFRlbGVyaWsuV2ViLlVJLkdyaWQuVG91Y2hQb2ludE1vdmVtZW50LlVwOwp9aWYoYT09VGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLk5vbmUpe3JldHVybiBUZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnRNb3ZlbWVudC5Ob25lOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZC5yZW9yZGVyQXJyYXk9ZnVuY3Rpb24oYSxlLGYpe3ZhciBjPVtdOwpmb3IodmFyIGI9MDsKYjxhLmxlbmd0aDsKYisrKXtjW2JdPWFbYl07Cn1pZihlPmYpe3ZhciBkPWMuc3BsaWNlKGUsMSlbMF07CmMuc3BsaWNlKGYsMCxkKTsKcmV0dXJuIGM7Cn1pZihlPGYpe2Muc3BsaWNlKGYrMSwwLGNbZV0pOwpjLnNwbGljZShlLDEpOwpyZXR1cm4gYzsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuRHJhZ2dhYmxlPShmdW5jdGlvbihhKXt2YXIgYz0iLmRyYWdnYWJsZSI7CmZ1bmN0aW9uIGIoZCl7dGhpcy5fb3B0aW9ucz1kOwp0aGlzLl9pc0RyYWdnaW5nPWZhbHNlOwp0aGlzLmluaXQoZCk7Cn1iLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbihkKXthKGQuY29udGFpbmVyKS5vbkV2ZW50KCJkb3duIitjLGEucHJveHkodGhpcy5fZG93bix0aGlzKSk7Cn0sZGlzcG9zZTpmdW5jdGlvbigpe2EoZG9jdW1lbnQpLmFkZCh0aGlzLl9vcHRpb25zLmNvbnRhaW5lcikub2ZmKGMpOwp9LF9wb3NpdGlvbkRyYWdFbGVtZW50OmZ1bmN0aW9uKGQpe3ZhciBmPSR0ZWxlcmlrLmdldEV2ZW50TG9jYXRpb24oZCk7CnRoaXMuXyRkcmFnRWxlbWVudC5vZmZzZXQoe3RvcDpmLnBhZ2VZKzEsbGVmdDpmLnBhZ2VYKzF9KTsKfSxfZG93bjpmdW5jdGlvbihkKXt2YXIgZj10aGlzLl9vcHRpb25zOwp2YXIgZzsKaWYoZi5jYW5EcmFnLmNhbGwoZi50aGlzQXJnLGQpKXtnPWYuY3JlYXRlRHJhZ2dhYmxlLmNhbGwoZi50aGlzQXJnLGQpOwppZihnPT09ZmFsc2Upe3JldHVybjsKfWEoZG9jdW1lbnQpLm9uRXZlbnQoIm1vdmUiK2MsYS5wcm94eSh0aGlzLl9tb3ZlLHRoaXMpKTsKYShkb2N1bWVudCkub25FdmVudCgidXAiK2MsYS5wcm94eSh0aGlzLl91cCx0aGlzKSk7CnRoaXMuXyRkcmFnRWxlbWVudD1hKGcpLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpOwppZihmLmNyZWF0ZURyb3BDbHVlKXt0aGlzLl8kZHJvcENsdWU9YShmLmNyZWF0ZURyb3BDbHVlLmNhbGwoZi50aGlzQXJnLGQpKS5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KS5oaWRlKCk7Cn10aGlzLl9wb3NpdGlvbkRyYWdFbGVtZW50KGQpOwp0aGlzLl9pc0RyYWdnaW5nPXRydWU7Cn19LF9tb3ZlOmZ1bmN0aW9uKGQpe3ZhciBmPXRoaXMuX29wdGlvbnM7CnRoaXMuX3Bvc2l0aW9uRHJhZ0VsZW1lbnQoZCk7CmYuZHJhZ2dpbmcuY2FsbChmLnRoaXNBcmcsZCx7JGRyb3BDbHVlOnRoaXMuXyRkcm9wQ2x1ZSwkZHJhZ0VsZW1lbnQ6dGhpcy5fJGRyYWdFbGVtZW50fSk7CmQucHJldmVudERlZmF1bHQoKTsKfSxfdXA6ZnVuY3Rpb24oZCl7dmFyIGY9dGhpcy5fb3B0aW9uczsKaWYodGhpcy5faXNEcmFnZ2luZyl7aWYoZi5zdG9wRHJhZ2dpbmcpe2Yuc3RvcERyYWdnaW5nLmNhbGwoZi50aGlzQXJnLGQseyRkcmFnRWxlbWVudDp0aGlzLl8kZHJhZ0VsZW1lbnR9KTsKfXRoaXMuXyRkcmFnRWxlbWVudC5yZW1vdmUoKTsKaWYodGhpcy5fJGRyb3BDbHVlKXt0aGlzLl8kZHJvcENsdWUucmVtb3ZlKCk7Cn1hKGRvY3VtZW50KS5vZmYoYyk7CnRoaXMuX2lzRHJhZ2dpbmc9ZmFsc2U7Cn19fTsKcmV0dXJuIGI7Cn0pKCR0ZWxlcmlrLiQpOwpUeXBlLnJlZ2lzdGVyTmFtZXNwYWNlKCJUZWxlcmlrLldlYi5VSSIpOwpUZWxlcmlrLldlYi5VSS5HcmlkSXRlbVJlc2l6ZXI9ZnVuY3Rpb24oYSl7VGVsZXJpay5XZWIuVUkuR3JpZEl0ZW1SZXNpemVyLmluaXRpYWxpemVCYXNlKHRoaXMpOwp0aGlzLl9vd25lcj1hOwp0aGlzLl9vblJlc2l6ZU1vdXNlVXBEZWxlZ2F0ZT1udWxsOwp0aGlzLl9jZWxsc1dpdGhFdmVudHM9W107Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWRJdGVtUmVzaXplci5wcm90b3R5cGU9e2Rpc3Bvc2U6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDsKYTx0aGlzLl9jZWxsc1dpdGhFdmVudHMubGVuZ3RoOwphKyspe3dpbmRvdy4kY2xlYXJIYW5kbGVycyh0aGlzLl9jZWxsc1dpdGhFdmVudHNbYV0pOwp0aGlzLl9jZWxsc1dpdGhFdmVudHNbYV0uX2V2ZW50cz1udWxsOwp0aGlzLl9jZWxsc1dpdGhFdmVudHNbYV0uX29uUmVzaXplTW91c2VEb3duRGVsZWdhdGU9bnVsbDsKfXRoaXMuX2NlbGxzV2l0aEV2ZW50cz1udWxsOwp0aGlzLl9kZXN0cm95Um93UmVzaXplcigpOwppZih0aGlzLl9vblJlc2l6ZU1vdXNlVXBEZWxlZ2F0ZSl7JHRlbGVyaWsucmVtb3ZlRXh0ZXJuYWxIYW5kbGVyKGRvY3VtZW50LCJtb3VzZXVwIix0aGlzLl9vblJlc2l6ZU1vdXNlVXBEZWxlZ2F0ZSk7Cn19LF9kZXRlY3RSZXNpemVDdXJzb3JzT25JdGVtczpmdW5jdGlvbihkLGEpe2lmKChhIT1udWxsKSYmKGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0idGQiKSYmIXRoaXMuX293bmVyLk1vdmVIZWFkZXJEaXYpe3ZhciBmPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Rmlyc3RQYXJlbnRCeVRhZ05hbWUoYSwidHIiKTsKdmFyIGg9ZmFsc2U7CndoaWxlKGYmJlRlbGVyaWsuV2ViLlVJLkdyaWQuSXNDaGlsZE9mKGYsdGhpcy5fb3duZXIuZ2V0X2VsZW1lbnQoKSkpe2lmKGYuaWQmJmYuaWQuc3BsaXQoIl9fIikubGVuZ3RoPT0yKXtoPXRydWU7CmJyZWFrOwp9Zj1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKGYucGFyZW50Tm9kZSwidHIiKTsKfWlmKCFoKXtyZXR1cm47Cn12YXIgYj1hLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlOwp2YXIgYz0kZmluZChiLmlkKTsKaWYoYyE9bnVsbCl7aWYoIWMuZ2V0X2VsZW1lbnQoKSl7cmV0dXJuOwp9aWYoIWMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdKXtyZXR1cm47Cn12YXIgaT1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEV2ZW50UG9zWShkKTsKdmFyIGo9JHRlbGVyaWsuaXNTYWZhcmk/VGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWShmKTpUZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NZKGEpOwp2YXIgZz1qK2Eub2Zmc2V0SGVpZ2h0Owp0aGlzLl9yZXNpemVUb2xlcmFuY2U9NTsKaWYoKGk+Zy10aGlzLl9yZXNpemVUb2xlcmFuY2UpJiYoaTxnK3RoaXMuX3Jlc2l6ZVRvbGVyYW5jZSkpe2Euc3R5bGUuY3Vyc29yPSJuLXJlc2l6ZSI7CmEudGl0bGU9dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQ2xpZW50TWVzc2FnZXMuRHJhZ1RvUmVzaXplOwppZighYS5fb25SZXNpemVNb3VzZURvd25EZWxlZ2F0ZSl7YS5fb25SZXNpemVNb3VzZURvd25EZWxlZ2F0ZT1GdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZSh0aGlzLHRoaXMuX29uUmVzaXplTW91c2VEb3duSGFuZGxlcik7CndpbmRvdy4kYWRkSGFuZGxlcihhLCJtb3VzZWRvd24iLGEuX29uUmVzaXplTW91c2VEb3duRGVsZWdhdGUpOwp0aGlzLl9jZWxsc1dpdGhFdmVudHNbdGhpcy5fY2VsbHNXaXRoRXZlbnRzLmxlbmd0aF09YTsKfX1lbHNle2Euc3R5bGUuY3Vyc29yPSJkZWZhdWx0IjsKYS50aXRsZT0iIjsKaWYoYS5fb25SZXNpemVNb3VzZURvd25EZWxlZ2F0ZSl7aWYoYS5fZXZlbnRzIT1udWxsKXt3aW5kb3cuJHJlbW92ZUhhbmRsZXIoYSwibW91c2Vkb3duIixhLl9vblJlc2l6ZU1vdXNlRG93bkRlbGVnYXRlKTsKfWEuX29uUmVzaXplTW91c2VEb3duRGVsZWdhdGU9bnVsbDsKYS5fZXZlbnRzPW51bGw7Cn19fX19LF9tb3ZlSXRlbVJlc2l6ZXI6ZnVuY3Rpb24oYSl7aWYoKHRoaXMuX293bmVyLl9yb3dSZXNpemVyIT0idW5kZWZpbmVkIikmJih0aGlzLl9vd25lci5fcm93UmVzaXplciE9bnVsbCkmJih0aGlzLl9vd25lci5fcm93UmVzaXplci5wYXJlbnROb2RlIT1udWxsKSl7dGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXIuc3R5bGUudG9wPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0RXZlbnRQb3NZKGEpKyJweCI7CmlmKHRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlJlc2l6aW5nLkVuYWJsZVJlYWxUaW1lUmVzaXplKXt0aGlzLl9kZXN0cm95Um93UmVzaXplckFuZFJlc2l6ZVJvdyhhLGZhbHNlKTsKdGhpcy5fdXBkYXRlUm93UmVzaXplcldpZHRoKGEpOwp9fX0sX2Rlc3Ryb3lSb3dSZXNpemVyQW5kUmVzaXplUm93OmZ1bmN0aW9uKGQsZyl7aWYoKHRoaXMuX293bmVyLl9jZWxsVG9SZXNpemUhPSJ1bmRlZmluZWQiKSYmKHRoaXMuX293bmVyLl9jZWxsVG9SZXNpemUhPW51bGwpJiYodGhpcy5fb3duZXIuX2NlbGxUb1Jlc2l6ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0ZCIpJiYodGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXIhPSJ1bmRlZmluZWQiKSYmKHRoaXMuX293bmVyLl9yb3dSZXNpemVyIT1udWxsKSl7dmFyIGY7CnZhciBhPSR0ZWxlcmlrLmlzU2FmYXJpP1RlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1kodGhpcy5fb3duZXIuX2NlbGxUb1Jlc2l6ZS5wYXJlbnROb2RlKTpUZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NZKHRoaXMuX293bmVyLl9jZWxsVG9SZXNpemUpOwppZih0aGlzLl9ncmlkRGF0YURpdil7Zj1wYXJzZUludCh0aGlzLl9vd25lci5fcm93UmVzaXplci5zdHlsZS50b3AsMTApK3RoaXMuX2dyaWREYXRhRGl2LnNjcm9sbFRvcC0oYSk7Cn1lbHNle2Y9cGFyc2VJbnQodGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXIuc3R5bGUudG9wLDEwKS0oYSk7Cn1pZihmPjApe3ZhciBiPXRoaXMuX293bmVyLl9jZWxsVG9SZXNpemUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGU7CnZhciBjPSRmaW5kKGIuaWQpOwppZihjIT1udWxsKXtjLnJlc2l6ZUl0ZW0odGhpcy5fb3duZXIuX2NlbGxUb1Jlc2l6ZS5wYXJlbnROb2RlLnJvd0luZGV4LGYpOwp9fX1pZihnKXt0aGlzLl9kZXN0cm95Um93UmVzaXplcigpOwp9fSxfdXBkYXRlUm93UmVzaXplcldpZHRoOmZ1bmN0aW9uKGMpe3ZhciBhPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Q3VycmVudEVsZW1lbnQoYyk7CmlmKChhIT1udWxsKSYmKGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0idGQiKSl7dmFyIGI9dGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXJSZWZUYWJsZTsKaWYoYiE9bnVsbCl7dGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXIuc3R5bGUud2lkdGg9dGhpcy5fb3duZXIuZ2V0X2VsZW1lbnQoKS5vZmZzZXRXaWR0aCsicHgiOwp9fX0sX2NyZWF0ZVJvd1Jlc2l6ZXI6ZnVuY3Rpb24oZCl7dGhpcy5fZGVzdHJveVJvd1Jlc2l6ZXIoKTsKdmFyIGE9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRDdXJyZW50RWxlbWVudChkKTsKaWYoKGEhPW51bGwpJiYoYS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0ZCIpKXtpZihhLmNlbGxJbmRleD4wKXt2YXIgZz1hLnBhcmVudE5vZGUucm93SW5kZXg7CmE9YS5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yb3dzW2ddLmNlbGxzWzBdOwp9dGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXI9bnVsbDsKdGhpcy5fb3duZXIuX2NlbGxUb1Jlc2l6ZT1hOwp2YXIgYj1hLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlOwp2YXIgYz0kZmluZChiLmlkKTsKdGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CnRoaXMuX293bmVyLl9yb3dSZXNpemVyLnN0eWxlLmJhY2tncm91bmRDb2xvcj0ibmF2eSI7CnRoaXMuX293bmVyLl9yb3dSZXNpemVyLnN0eWxlLmhlaWdodD0iMXB4IjsKdGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXIuc3R5bGUuZm9udFNpemU9IjEiOwp0aGlzLl9vd25lci5fcm93UmVzaXplci5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiOwp0aGlzLl9vd25lci5fcm93UmVzaXplci5zdHlsZS5jdXJzb3I9Im4tcmVzaXplIjsKaWYoYyE9bnVsbCl7dGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXJSZWZUYWJsZT1jOwp0aGlzLl9vd25lci5fcm93UmVzaXplci5zdHlsZS53aWR0aD10aGlzLl9vd25lci5nZXRfZWxlbWVudCgpLm9mZnNldFdpZHRoKyJweCI7CnRoaXMuX293bmVyLl9yb3dSZXNpemVyLnN0eWxlLmxlZnQ9VGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWCh0aGlzLl9vd25lci5nZXRfZWxlbWVudCgpKSsicHgiOwp9dGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXIuc3R5bGUudG9wPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0RXZlbnRQb3NZKGQpKyJweCI7CnZhciBmPWRvY3VtZW50LmJvZHk7CmYuYXBwZW5kQ2hpbGQodGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXIpOwp9fSxfZGVzdHJveVJvd1Jlc2l6ZXI6ZnVuY3Rpb24oKXtpZigodGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXIhPSJ1bmRlZmluZWQiKSYmKHRoaXMuX293bmVyLl9yb3dSZXNpemVyIT1udWxsKSYmKHRoaXMuX293bmVyLl9yb3dSZXNpemVyLnBhcmVudE5vZGUhPW51bGwpKXt2YXIgYT10aGlzLl9vd25lci5fcm93UmVzaXplci5wYXJlbnROb2RlOwphLnJlbW92ZUNoaWxkKHRoaXMuX293bmVyLl9yb3dSZXNpemVyKTsKdGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXI9bnVsbDsKdGhpcy5fb3duZXIuX3Jvd1Jlc2l6ZXJSZWZUYWJsZT1udWxsOwp9fSxfb25SZXNpemVNb3VzZURvd25IYW5kbGVyOmZ1bmN0aW9uKGIpe3ZhciBhPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Q3VycmVudEVsZW1lbnQoYik7CmlmKGEpe2lmKGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpIT0idGQiKXtyZXR1cm47Cn13aW5kb3cuJGNsZWFySGFuZGxlcnMoYSk7Cn10aGlzLl9jcmVhdGVSb3dSZXNpemVyKGIpOwpUZWxlcmlrLldlYi5VSS5HcmlkLkNsZWFyRG9jdW1lbnRFdmVudHMoKTsKdGhpcy5fb25SZXNpemVNb3VzZVVwRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9vblJlc2l6ZU1vdXNlVXBIYW5kbGVyKTsKJHRlbGVyaWsuYWRkRXh0ZXJuYWxIYW5kbGVyKGRvY3VtZW50LCJtb3VzZXVwIix0aGlzLl9vblJlc2l6ZU1vdXNlVXBEZWxlZ2F0ZSk7CnRoaXMuX293bmVyLl9pc1Jvd1Jlc2l6ZT10cnVlOwp9LF9vblJlc2l6ZU1vdXNlVXBIYW5kbGVyOmZ1bmN0aW9uKGEpeyR0ZWxlcmlrLnJlbW92ZUV4dGVybmFsSGFuZGxlcihkb2N1bWVudCwibW91c2V1cCIsdGhpcy5fb25SZXNpemVNb3VzZVVwRGVsZWdhdGUpOwp0aGlzLl9vd25lci5faXNSb3dSZXNpemU9bnVsbDsKdGhpcy5fZGVzdHJveVJvd1Jlc2l6ZXJBbmRSZXNpemVSb3coYSx0cnVlKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZXN0b3JlRG9jdW1lbnRFdmVudHMoKTsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWRJdGVtUmVzaXplci5yZWdpc3RlckNsYXNzKCJUZWxlcmlrLldlYi5VSS5HcmlkSXRlbVJlc2l6ZXIiLG51bGwsU3lzLklEaXNwb3NhYmxlKTsKVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtPWZ1bmN0aW9uKGEpe1RlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbS5pbml0aWFsaXplQmFzZSh0aGlzLFthXSk7CnRoaXMuX293bmVyPXt9Owp0aGlzLl9kYXRhPXt9Owp0aGlzLl9zZWxlY3RlZD1mYWxzZTsKdGhpcy5fc2VsZWN0YWJsZT10cnVlOwp0aGlzLl9leHBhbmRlZD1mYWxzZTsKdGhpcy5fZGlzcGxheT1mYWxzZTsKdGhpcy5fZGF0YUtleVZhbHVlPW51bGw7CnRoaXMuX2RhdGFJdGVtPW51bGw7CnRoaXMuX2l0ZW1JbmRleEhpZXJhcmNoaWNhbD0iIjsKdGhpcy5faXRlbUluZGV4PW51bGw7CnRoaXMuX2VkaXRGb3JtSXRlbT0ibm90U2V0IjsKdGhpcy5fbmVzdGVkVmlld3M9bnVsbDsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtLnByb3RvdHlwZT17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1RlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbS5jYWxsQmFzZU1ldGhvZCh0aGlzLCJpbml0aWFsaXplIik7CnZhciBiPXRoaXM7CnZhciBhPWIuX2VsZW1lbnQuaWQuc3BsaXQoIl8iKTsKYi5faXRlbUluZGV4PXBhcnNlSW50KGFbYS5sZW5ndGgtMV0sMTApOwp9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLl9vd25lci5fb3duZXIucmFpc2Vfcm93RGVzdHJveWluZyhuZXcgVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtRXZlbnRBcmdzKHRoaXMuZ2V0X2VsZW1lbnQoKSxudWxsKSk7CmlmKHRoaXMuZ2V0X2VsZW1lbnQoKSl7d2luZG93LiRjbGVhckhhbmRsZXJzKHRoaXMuZ2V0X2VsZW1lbnQoKSk7CnRoaXMuX2VsZW1lbnQuY29udHJvbD1udWxsOwp9VGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtLmNhbGxCYXNlTWV0aG9kKHRoaXMsImRpc3Bvc2UiKTsKfSxnZXRfaXRlbUluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2l0ZW1JbmRleDsKfSxnZXRfaXRlbUluZGV4SGllcmFyY2hpY2FsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2l0ZW1JbmRleEhpZXJhcmNoaWNhbDsKfSxnZXRfb3duZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3duZXI7Cn0sZ2V0X2NlbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0X3BhcmVudCgpLmdldENlbGxCeUNvbHVtblVuaXF1ZU5hbWUodGhpcyxhKTsKfSxnZXRfZGF0YUl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YUl0ZW07Cn0sZmluZENvbnRyb2w6ZnVuY3Rpb24oYSl7cmV0dXJuICR0ZWxlcmlrLmZpbmRDb250cm9sKHRoaXMuZ2V0X2VsZW1lbnQoKSxhKTsKfSxmaW5kRWxlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4gJHRlbGVyaWsuZmluZEVsZW1lbnQodGhpcy5nZXRfZWxlbWVudCgpLGEpOwp9LGdldERhdGFLZXlWYWx1ZTpmdW5jdGlvbihjKXt2YXIgYj10aGlzLmdldF9lbGVtZW50KCkuaWQuc3BsaXQoIl9fIilbMV07CnZhciBhPW51bGw7CmlmKHRoaXMuX293bmVyLl9vd25lci5fY2xpZW50S2V5VmFsdWVzJiZ0aGlzLl9vd25lci5fb3duZXIuX2NsaWVudEtleVZhbHVlc1tiXSl7YT10aGlzLl9vd25lci5fb3duZXIuX2NsaWVudEtleVZhbHVlc1tiXTsKfXJldHVybihhKT9hW2NdOm51bGw7Cn0sZ2V0X3NlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkOwp9LHNldF9zZWxlY3RlZDpmdW5jdGlvbihiKXtpZih0aGlzLl9zZWxlY3RlZCE9Yil7aWYoIXRoaXMuZ2V0X3NlbGVjdGFibGUoKSl7cmV0dXJuOwp9dmFyIGE9e2N0cmxLZXk6ZmFsc2V9OwppZighdGhpcy5fb3duZXIuX293bmVyLl9zZWxlY3Rpb24uX3NlbGVjdFJvd0ludGVybmFsKHRoaXMuZ2V0X2VsZW1lbnQoKSxhLHRydWUsdHJ1ZSx0cnVlKSl7cmV0dXJuOwp9fX0sZ2V0X3NlbGVjdGFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0YWJsZTsKfSxnZXRfZXhwYW5kZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhwYW5kZWQ7Cn0sc2V0X2V4cGFuZGVkOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2V4cGFuZGVkIT1hKXtpZihhJiYhdGhpcy5fb3duZXIuZXhwYW5kSXRlbSh0aGlzLmdldF9lbGVtZW50KCkpKXtyZXR1cm47Cn1pZighYSYmIXRoaXMuX293bmVyLmNvbGxhcHNlSXRlbSh0aGlzLmdldF9lbGVtZW50KCkpKXtyZXR1cm47Cn10aGlzLl9leHBhbmRlZD1hOwp9fSxnZXRfbmVzdGVkVmlld3M6ZnVuY3Rpb24oKXt2YXIgaj10aGlzLGc9ai5fbmVzdGVkVmlld3MsaD1UZWxlcmlrLldlYi5VSS5HcmlkLkdldE5vZGVOZXh0U2libGluZ0J5VGFnTmFtZShqLmdldF9lbGVtZW50KCksInRyIik7CmlmKCFnKXtqLl9uZXN0ZWRWaWV3cz1nPVtdOwppZihqLmdldF9vd25lcigpLl9kYXRhLmhhc0RldGFpbEl0ZW1UZW1wbGF0ZSl7aD1UZWxlcmlrLldlYi5VSS5HcmlkLkdldE5vZGVOZXh0U2libGluZ0J5VGFnTmFtZShoLCJ0ciIpOwp9aWYoaCl7dmFyIGE9ai5nZXRfb3duZXIoKS5nZXRfZWxlbWVudCgpLmlkLnNwbGl0KCJEZXRhaWwiKS5sZW5ndGgsYz1oLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0YWJsZSIpLGIsZjsKZm9yKHZhciBkPTAsZT1jLmxlbmd0aDsKZDxlOwpkKyspe2I9Y1tkXTsKaWYoYi5pZC5pbmRleE9mKCJEZXRhaWwiKSE9LTEmJmIuaWQuaW5kZXhPZigiX21haW5UYWJsZSIpPT0tMSYmYSsxPT1iLmlkLnNwbGl0KCJEZXRhaWwiKS5sZW5ndGgpe2Y9JGZpbmQoYi5pZCk7CmlmKGYmJlRlbGVyaWsuV2ViLlVJLkdyaWRUYWJsZVZpZXcuaXNJbnN0YW5jZU9mVHlwZShmKSl7QXJyYXkuYWRkKGcsZik7Cn19fX19cmV0dXJuIGc7Cn0sZ2V0X2Rpc3BsYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzcGxheTsKfSxzZXRfZGlzcGxheTpmdW5jdGlvbihhKXtpZih0aGlzLl9kaXNwbGF5IT1hKXt0aGlzLl9kaXNwbGF5PWE7Cn19LGdldF9pc0luRWRpdE1vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuaW5kZXhPZih0aGlzLmdldF9vd25lcigpLmdldF9vd25lcigpLl9lZGl0SW5kZXhlcyx0aGlzLl9pdGVtSW5kZXhIaWVyYXJjaGljYWwpPi0xOwp9LGdldF9lZGl0Rm9ybUl0ZW06ZnVuY3Rpb24oKXtpZih0aGlzLl9lZGl0Rm9ybUl0ZW09PT0ibm90U2V0Iil7aWYoJHRlbGVyaWsuJCl7dmFyIGE9JHRlbGVyaWsuJCh0aGlzLmdldF9lbGVtZW50KCkpLm5leHQoKTsKaWYoYS5jaGlsZHJlbigidGQiKS5jaGlsZHJlbigiZGl2LnJnRWRpdEZvcm0iKS5sZW5ndGgpe3RoaXMuX2VkaXRGb3JtSXRlbT1hLmdldCgwKTsKfX12YXIgYz1UZWxlcmlrLldlYi5VSS5HcmlkLkdldE5vZGVOZXh0U2libGluZ0J5VGFnTmFtZSh0aGlzLmdldF9lbGVtZW50KCksInRyIik7CmlmKGMmJmMuY2VsbHMpe2Zvcih2YXIgYj0wOwpiPGMuY2VsbHMubGVuZ3RoOwpiKyspe2lmKCR0ZWxlcmlrLmdldENoaWxkQnlDbGFzc05hbWUoYy5jZWxsc1tiXSwicmdFZGl0Rm9ybSIpKXt0aGlzLl9lZGl0Rm9ybUl0ZW09YzsKfX19aWYodGhpcy5fZWRpdEZvcm1JdGVtPT09Im5vdFNldCIpe3RoaXMuX2VkaXRGb3JtSXRlbT1udWxsOwp9fXJldHVybiB0aGlzLl9lZGl0Rm9ybUl0ZW07Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW0ucmVnaXN0ZXJDbGFzcygiVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtIixTeXMuVUkuQ29udHJvbCk7CihmdW5jdGlvbihhKXtUeXBlLnJlZ2lzdGVyTmFtZXNwYWNlKCJUZWxlcmlrLldlYi5VSSIpOwpUZWxlcmlrLldlYi5VSS5HcmlkU2Nyb2xsaW5nPWZ1bmN0aW9uKCl7VGVsZXJpay5XZWIuVUkuR3JpZFNjcm9sbGluZy5pbml0aWFsaXplQmFzZSh0aGlzKTsKdGhpcy5fb3duZXI9e307CnRoaXMuX29uR3JpZFNjcm9sbERlbGVnYXRlPW51bGw7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWRTY3JvbGxpbmcucHJvdG90eXBlPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7VGVsZXJpay5XZWIuVUkuR3JpZFNjcm9sbGluZy5jYWxsQmFzZU1ldGhvZCh0aGlzLCJpbml0aWFsaXplIik7CnRoaXMuQWxsb3dTY3JvbGw9dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLkFsbG93U2Nyb2xsOwp0aGlzLlVzZVN0YXRpY0hlYWRlcnM9dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLlVzZVN0YXRpY0hlYWRlcnM7CmlmKCF0aGlzLl9vd25lci5jYW5SZXBhaW50KCkpe3RoaXMuX3Nob3VsZEluaXRpYWxpemVMYXlvdXRBbmRTY3JvbGw9dHJ1ZTsKdGhpcy5fb3duZXIuYWRkX3BhcmVudFNob3duKHRoaXMuX293bmVyLmdldF9lbGVtZW50KCkpOwp9ZWxzZXt0aGlzLl9pbml0aWFsaXplRGltZW5zaW9ucygpOwp0aGlzLl9pbml0aWFsaXplU2Nyb2xsKCk7Cn1pZihUZWxlcmlrLldlYi5VSS5Ub3VjaFNjcm9sbEV4dGVuZGVyLl9nZXROZWVkc1Njcm9sbEV4dGVuZGVyKCkmJiF0aGlzLl9kcm9wRG93blRvdWNoU2Nyb2xsKXt0aGlzLl9jcmVhdGVUb3VjaFNjcm9sbEV4dGVuZGVyKHRydWUpOwp9fSx1cGRhdGVkOmZ1bmN0aW9uKCl7VGVsZXJpay5XZWIuVUkuR3JpZFNjcm9sbGluZy5jYWxsQmFzZU1ldGhvZCh0aGlzLCJ1cGRhdGVkIik7Cn0sZGlzcG9zZTpmdW5jdGlvbigpe2lmKHRoaXMuX29uUmVzaXplRGVsZWdhdGUpe3RyeXt3aW5kb3cuJHJlbW92ZUhhbmRsZXIod2luZG93LCJyZXNpemUiLHRoaXMuX29uUmVzaXplRGVsZWdhdGUpOwp0aGlzLl9vblJlc2l6ZURlbGVnYXRlPW51bGw7Cn1jYXRjaChiKXt9fWlmKHRoaXMuX29uR3JpZEZyb3plblNjcm9sbERlbGVnYXRlKXt3aW5kb3cuJHJlbW92ZUhhbmRsZXIodGhpcy5fZnJvemVuU2Nyb2xsLCJzY3JvbGwiLHRoaXMuX29uR3JpZEZyb3plblNjcm9sbERlbGVnYXRlKTsKdGhpcy5fb25HcmlkRnJvemVuU2Nyb2xsRGVsZWdhdGU9bnVsbDsKfWlmKHRoaXMuX29uR3JpZFNjcm9sbERlbGVnYXRlKXtpZih0aGlzLl9vd25lci5HcmlkRGF0YURpdil7d2luZG93LiRyZW1vdmVIYW5kbGVyKHRoaXMuX293bmVyLkdyaWREYXRhRGl2LCJzY3JvbGwiLHRoaXMuX29uR3JpZFNjcm9sbERlbGVnYXRlKTsKfWlmKHRoaXMuX293bmVyLkdyaWRIZWFkZXJEaXYpe3dpbmRvdy4kcmVtb3ZlSGFuZGxlcih0aGlzLl9vd25lci5HcmlkSGVhZGVyRGl2LCJzY3JvbGwiLHRoaXMuX29uR3JpZFNjcm9sbERlbGVnYXRlKTsKfXRoaXMuX29uR3JpZFNjcm9sbERlbGVnYXRlPW51bGw7Cn1pZih0aGlzLl9mcm96ZW5TY3JvbGwpe3dpbmRvdy4kY2xlYXJIYW5kbGVycyh0aGlzLl9mcm96ZW5TY3JvbGwpOwp9dGhpcy5fY3JlYXRlVG91Y2hTY3JvbGxFeHRlbmRlcihmYWxzZSk7ClRlbGVyaWsuV2ViLlVJLkdyaWRTY3JvbGxpbmcuY2FsbEJhc2VNZXRob2QodGhpcywiZGlzcG9zZSIpOwp9LGdldF9vd25lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcjsKfSxzZXRfb3duZXI6ZnVuY3Rpb24oYil7dGhpcy5fb3duZXI9YjsKfSxfaW5pdGlhbGl6ZURpbWVuc2lvbnM6ZnVuY3Rpb24oKXt2YXIgZj10aGlzOwp0aGlzLm9uV2luZG93UmVzaXplKCk7CnRoaXMuaW5pdGlhbGl6ZUF1dG9MYXlvdXQoKTsKdGhpcy5hcHBseUZyb3plblNjcm9sbCgpOwp2YXIgZT0wOwp0aGlzLl9vblJlc2l6ZURlbGVnYXRlPUZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMuX293bmVyLGZ1bmN0aW9uKCl7dmFyIGc9dGhpczsKY2xlYXJJbnRlcnZhbChlKTsKZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChlKTsKZy5yZXBhaW50KCk7Cn0sMjAwKTsKfSk7CmlmKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJtc2llIikhPS0xKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7d2luZG93LiRhZGRIYW5kbGVyKHdpbmRvdywicmVzaXplIixmLl9vblJlc2l6ZURlbGVnYXRlKTsKfSwwKTsKfWVsc2V7d2luZG93LiRhZGRIYW5kbGVyKHdpbmRvdywicmVzaXplIix0aGlzLl9vblJlc2l6ZURlbGVnYXRlKTsKfWlmKHRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5Gcm96ZW5Db2x1bW5zQ291bnQ+MCl7aWYodGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuUmVzaXppbmcuQWxsb3dSb3dSZXNpemUpe3RoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5Gcm96ZW5Db2x1bW5zQ291bnQrKzsKfWlmKHRoaXMuX293bmVyLk1hc3RlclRhYmxlVmlld0hlYWRlciYmdGhpcy5fb3duZXIuTWFzdGVyVGFibGVWaWV3SGVhZGVyLl9kYXRhLl9jb2x1bW5zRGF0YSl7Zm9yKHZhciBjPTAsZD10aGlzLl9vd25lci5NYXN0ZXJUYWJsZVZpZXdIZWFkZXIuX2RhdGEuX2NvbHVtbnNEYXRhLmxlbmd0aDsKYzxkOwpjKyspe3ZhciBiPXRoaXMuX293bmVyLk1hc3RlclRhYmxlVmlld0hlYWRlci5fZGF0YS5fY29sdW1uc0RhdGFbY107CmlmKGIuQ29sdW1uVHlwZT09IkdyaWRFeHBhbmRDb2x1bW4ifHwoYi5Db2x1bW5UeXBlPT0iR3JpZEdyb3VwU3BsaXR0ZXJDb2x1bW4iJiZ0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuQ291bnRHcm91cFNwbGl0dGVyQ29sdW1uQXNGcm96ZW49PT1mYWxzZSkpe3RoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5Gcm96ZW5Db2x1bW5zQ291bnQrKzsKfX19fX0sX2NyZWF0ZVRvdWNoU2Nyb2xsRXh0ZW5kZXI6ZnVuY3Rpb24oZCl7dmFyIGI9dGhpcy5fb3duZXIuR3JpZERhdGFEaXY7CmlmKGIpe3ZhciBjPXRoaXMuX2Ryb3BEb3duVG91Y2hTY3JvbGw7CmlmKGMpe2lmKCFkKXtjLmRpc3Bvc2UoKTsKdGhpcy5fZHJvcERvd25Ub3VjaFNjcm9sbD1udWxsOwp9fWVsc2V7aWYoZCl7dGhpcy5fZHJvcERvd25Ub3VjaFNjcm9sbD1uZXcgVGVsZXJpay5XZWIuVUkuVG91Y2hTY3JvbGxFeHRlbmRlcihiKTsKdGhpcy5fZHJvcERvd25Ub3VjaFNjcm9sbC5pbml0aWFsaXplKCk7Cn19fX0sYXBwbHlGcm96ZW5TY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLl9mcm96ZW5TY3JvbGw9JGdldCh0aGlzLl9vd25lci5DbGllbnRJRCsiX0Zyb3plbiIpOwp2YXIgYz1UZWxlcmlrLldlYi5VSS5HcmlkLmdldFNjcm9sbEJhckhlaWdodCgpOwp0aGlzLl9pbml0RnJvemVuU2Nyb2xsQnV0dG9ucygpOwppZih0aGlzLl9mcm96ZW5TY3JvbGwpe3ZhciBiPSRnZXQodGhpcy5fb3duZXIuQ2xpZW50SUQrIl9Gcm96ZW5TY3JvbGwiKTsKdGhpcy5fb25HcmlkRnJvemVuU2Nyb2xsRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLm9uR3JpZEZyb3plblNjcm9sbCk7CndpbmRvdy4kYWRkSGFuZGxlcih0aGlzLl9mcm96ZW5TY3JvbGwsInNjcm9sbCIsdGhpcy5fb25HcmlkRnJvemVuU2Nyb2xsRGVsZWdhdGUpOwp0aGlzLmdyaWRNYXN0ZXJUYWJsZVdpZHRoPXRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfZWxlbWVudCgpLm9mZnNldFdpZHRoOwpiLnN0eWxlLndpZHRoPXRoaXMuX293bmVyLkdyaWREYXRhRGl2LnNjcm9sbFdpZHRoKyJweCI7CmIuc3R5bGUuaGVpZ2h0PWMrInB4IjsKaWYodGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9lbGVtZW50KCkub2Zmc2V0V2lkdGg+dGhpcy5fb3duZXIuR3JpZERhdGFEaXYuY2xpZW50V2lkdGgpe2lmKCR0ZWxlcmlrLmlzSUUpe2MrKzsKfXRoaXMuX2Zyb3plblNjcm9sbC5zdHlsZS5oZWlnaHQ9YysicHgiOwppZih0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuU2F2ZVNjcm9sbFBvc2l0aW9uJiZ0eXBlb2YgdGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLlNjcm9sbExlZnQhPSJ1bmRlZmluZWQiKXt0aGlzLl9mcm96ZW5TY3JvbGwuc2Nyb2xsTGVmdD10aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuU2Nyb2xsTGVmdDsKfWlmKHRoaXMuX293bmVyLkdyaWREYXRhRGl2LnN0eWxlLm92ZXJmbG93WCE9bnVsbCl7dGhpcy5fb3duZXIuR3JpZERhdGFEaXYuc3R5bGUub3ZlcmZsb3dYPSJoaWRkZW4iOwp9ZWxzZXt0aGlzLl9mcm96ZW5TY3JvbGwuc3R5bGUubWFyZ2luVG9wPSItIitjKyJweCI7CnRoaXMuX2Zyb3plblNjcm9sbC5zdHlsZS56SW5kZXg9OTk5OTk7CnRoaXMuX2Zyb3plblNjcm9sbC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiOwp9aWYoVGVsZXJpay5XZWIuVUkuR3JpZC5Jc1JpZ2h0VG9MZWZ0KHRoaXMuX293bmVyLkdyaWRIZWFkZXJEaXYpJiZUZWxlcmlrLldlYi5VSS5HcmlkLklzU2Nyb2xsT25MZWZ0U2lkZSgpKXt0aGlzLl9mcm96ZW5TY3JvbGwuc3R5bGUubWFyZ2luTGVmdD1jKyJweCI7Cn1lbHNle2lmKCEoVGVsZXJpay5XZWIuVUkuR3JpZC5Jc1JpZ2h0VG9MZWZ0KHRoaXMuX293bmVyLkdyaWRIZWFkZXJEaXYpJiYkdGVsZXJpay5pc1NhZmFyaSkpe3RoaXMuX2Zyb3plblNjcm9sbC5zdHlsZS5tYXJnaW5SaWdodD1jKyJweCI7Cn19aWYodGhpcy5fb3duZXIuR3JpZEhlYWRlckRpdiYmdGhpcy5fb3duZXIuR3JpZERhdGFEaXYpe2lmKCh0aGlzLl9vd25lci5HcmlkRGF0YURpdi5jbGllbnRXaWR0aD09dGhpcy5fb3duZXIuR3JpZERhdGFEaXYub2Zmc2V0V2lkdGgpKXtpZih0eXBlb2YodGhpcy5fZnJvemVuU2Nyb2xsLnN0eWxlLm92ZXJmbG93WCkhPSJ1bmRlZmluZWQiJiZ0eXBlb2YodGhpcy5fZnJvemVuU2Nyb2xsLnN0eWxlLm92ZXJmbG93WSkhPSJ1bmRlZmluZWQiKXt0aGlzLl9mcm96ZW5TY3JvbGwuc3R5bGUub3ZlcmZsb3dYPSJhdXRvIjsKdGhpcy5fZnJvemVuU2Nyb2xsLnN0eWxlLm92ZXJmbG93WT0iaGlkZGVuIjsKfX19aWYoJHRlbGVyaWsuaXNJRTh8fCR0ZWxlcmlrLmlzQ2hyb21lKXt0aGlzLl9mcm96ZW5TY3JvbGwuc3R5bGUub3ZlcmZsb3dYPSJzY3JvbGwiOwp9fWVsc2V7dGhpcy5fZnJvemVuU2Nyb2xsLnN0eWxlLmhlaWdodD0wOwp9dGhpcy5pc0Zyb3plblNjcm9sbD10cnVlOwp0aGlzLmdyaWREYXRhVGFibGVXaWR0aD10aGlzLl9vd25lci5HcmlkRGF0YURpdi5jbGllbnRXaWR0aDsKdGhpcy5pc0Zyb3plblNjcm9sbEFwcGxpZWQ9dHJ1ZTsKfX0sb25HcmlkRnJvemVuUmVzaXplZDpmdW5jdGlvbigpe3ZhciBlPVRlbGVyaWsuV2ViLlVJLkdyaWQuZ2V0U2Nyb2xsQmFySGVpZ2h0KCk7CmlmKCR0ZWxlcmlrLmlzSUUpeysrZTsKfWlmKHRoaXMuZ3JpZERhdGFUYWJsZVdpZHRoIT10aGlzLl9vd25lci5HcmlkRGF0YURpdi5jbGllbnRXaWR0aCl7dGhpcy5ncmlkRGF0YVRhYmxlV2lkdGg9dGhpcy5fb3duZXIuR3JpZERhdGFEaXYuY2xpZW50V2lkdGg7CmlmKHRoaXMuZ3JpZE1hc3RlclRhYmxlV2lkdGg+dGhpcy5ncmlkRGF0YVRhYmxlV2lkdGgpe3RoaXMuX2Zyb3plblNjcm9sbC5zdHlsZS5oZWlnaHQ9ZSsicHgiOwppZih0aGlzLl9vd25lci5HcmlkRGF0YURpdi5zdHlsZS5vdmVyZmxvd1ghPW51bGwpe3RoaXMuX293bmVyLkdyaWREYXRhRGl2LnN0eWxlLm92ZXJmbG93WD0iaGlkZGVuIjsKfWVsc2V7dGhpcy5fZnJvemVuU2Nyb2xsLnN0eWxlLm1hcmdpblRvcD0iLSIrZSsicHgiOwp0aGlzLl9mcm96ZW5TY3JvbGwuc3R5bGUuekluZGV4PTk5OTk5Owp0aGlzLl9mcm96ZW5TY3JvbGwuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjsKfWlmKCh3aW5kb3cubmV0c2NhcGUpKXt0aGlzLl9mcm96ZW5TY3JvbGwuc3R5bGUud2lkdGg9dGhpcy5fb3duZXIuR3JpZERhdGFEaXYub2Zmc2V0V2lkdGgtZSsicHgiOwp0aGlzLl9mcm96ZW5TY3JvbGwuc3R5bGUubWFyZ2luUmlnaHQ9ZSsicHgiOwp9aWYodGhpcy5fb3duZXIuR3JpZEhlYWRlckRpdiYmdGhpcy5fb3duZXIuR3JpZERhdGFEaXYpe2lmKCh0aGlzLl9vd25lci5HcmlkRGF0YURpdi5jbGllbnRXaWR0aD09dGhpcy5fb3duZXIuR3JpZERhdGFEaXYub2Zmc2V0V2lkdGgpKXtpZih0eXBlb2YodGhpcy5fZnJvemVuU2Nyb2xsLnN0eWxlLm92ZXJmbG93WCkhPSJ1bmRlZmluZWQiJiZ0eXBlb2YodGhpcy5fZnJvemVuU2Nyb2xsLnN0eWxlLm92ZXJmbG93WSkhPSJ1bmRlZmluZWQiKXt0aGlzLl9mcm96ZW5TY3JvbGwuc3R5bGUub3ZlcmZsb3dYPSJhdXRvIjsKdGhpcy5fZnJvemVuU2Nyb2xsLnN0eWxlLm92ZXJmbG93WT0iaGlkZGVuIjsKaWYod2luZG93Lm5ldHNjYXBlKXt0aGlzLl9mcm96ZW5TY3JvbGwuc3R5bGUud2lkdGg9cGFyc2VJbnQodGhpcy5fZnJvemVuU2Nyb2xsLnN0eWxlLndpZHRoLDEwKStlKyJweCI7CnRoaXMuX2Zyb3plblNjcm9sbC5zdHlsZS5tYXJnaW5SaWdodD0wOwp9fX19aWYoJHRlbGVyaWsuaXNJRTh8fCR0ZWxlcmlrLmlzQ2hyb21lKXt0aGlzLl9mcm96ZW5TY3JvbGwuc3R5bGUub3ZlcmZsb3dYPSJzY3JvbGwiOwp9fWVsc2V7dGhpcy5fZnJvemVuU2Nyb2xsLnNjcm9sbExlZnQ9MDsKdGhpcy5fZnJvemVuU2Nyb2xsLnN0eWxlLmhlaWdodD0wOwp2YXIgYj10aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X2NvbHVtbnMoKTsKZm9yKHZhciBjPTAsZD1iLmxlbmd0aDsKYzxkOwpjKyspe2lmKCFiW2NdLmdldF92aXNpYmxlKCkpe3RoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5zaG93Q29sdW1uKGMpOwp9fX19fSxfaW5pdEZyb3plblNjcm9sbEJ1dHRvbnM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9vd25lcjsKYT1hfHwkdGVsZXJpay4kOwp2YXIgYz1hKGUuZ2V0X2VsZW1lbnQoKSk7CnZhciBkPWEoZS5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X2VsZW1lbnQoKSk7CnZhciBmPSI+IHRhYmxlID4gdGhlYWQgLnJnQ29tbWFuZFJvdywgPiB0YWJsZSA+IHRib2R5IC5yZ0NvbW1hbmRSb3csID4gdGFibGUgPiB0Zm9vdCAucmdDb21tYW5kUm93LCAjIit0aGlzLmdldF9pZCgpKyJfUGFnZXIgLnJnQ29tbWFuZFJvdyI7CnZhciBiOwppZihkLmhhc0NsYXNzKCJyZ0RldGFpbFRhYmxlIikpe2I9ZC5maW5kKCI+IHRoZWFkID4gLnJnQ29tbWFuZFJvdywgPiB0Zm9vdCA+IC5yZ0NvbW1hbmRSb3ciKTsKfWVsc2V7Yj1jLmZpbmQoZik7CmlmKGIubGVuZ3RoPT0wKXtiPWMuZmluZCgiPiAucmdEYXRhRGl2IikuZmluZChmKTsKfX10aGlzLl8kcHJldkJ1dHRvbj1iLmZpbmQoIi5yZ1ByZXYiKS5vbigiY2xpY2siLGEucHJveHkodGhpcy5fcHJldkZyb3plbkNvbHVtbkhhbmRsZXIsdGhpcykpOwp0aGlzLl8kbmV4dEJ1dHRvbj1iLmZpbmQoIi5yZ05leHQiKS5vbigiY2xpY2siLGEucHJveHkodGhpcy5fbmV4dEZyb3plbkNvbHVtbkhhbmRsZXIsdGhpcykpOwp0aGlzLl9jdXJyZW50Q29sdW1uSW5kZXg9MDsKdGhpcy5fbm90RnJvemVuQ29sdW1ucz10aGlzLl9nZXROb3RGcm96ZW5Db2x1bW5zKCk7Cn0sX3Njcm9sbFRvRmlyc3RDb2x1bW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXROb3RGcm96ZW5Db2x1bW5zKCk7CndoaWxlKHRoaXMuX2N1cnJlbnRDb2x1bW5JbmRleD4wKXt2YXIgYj1lW3RoaXMuX2N1cnJlbnRDb2x1bW5JbmRleC0xXTsKdmFyIGM9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpOwp2YXIgZD10aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCk7CmlmKCFiLkZyb3plbkRpc3BsYXkpe2QuX3Nob3dOb3RGcm96ZW5Db2x1bW4oYi5JbmRleCk7CnRoaXMuX2FmdGVyQ29sdW1uRnJlZXplKGMsZCk7Cn10aGlzLl8kbmV4dEJ1dHRvbi5yZW1vdmVDbGFzcygicmdEaXNhYmxlZCIpOwp0aGlzLl9jdXJyZW50Q29sdW1uSW5kZXgtLTsKfXRoaXMuXyRwcmV2QnV0dG9uLmFkZENsYXNzKCJyZ0Rpc2FibGVkIik7Cn0sX3ByZXZGcm96ZW5Db2x1bW5IYW5kbGVyOmZ1bmN0aW9uKGMpe3ZhciBnPXRoaXMuX2dldE5vdEZyb3plbkNvbHVtbnMoKTsKdmFyIGI9Z1stLXRoaXMuX2N1cnJlbnRDb2x1bW5JbmRleF07CnZhciBkPXRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKTsKdmFyIGY9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpOwppZih0eXBlb2YgYj09InVuZGVmaW5lZCIpeysrdGhpcy5fY3VycmVudENvbHVtbkluZGV4OwpjLnByZXZlbnREZWZhdWx0KCk7CnJldHVybjsKfWlmKCFiLkZyb3plbkRpc3BsYXkpe2YuX3Nob3dOb3RGcm96ZW5Db2x1bW4oYi5JbmRleCk7CnRoaXMuX2FmdGVyQ29sdW1uRnJlZXplKGQsZik7CmlmKFRlbGVyaWsuV2ViLkJyb3dzZXIuaWUmJlRlbGVyaWsuV2ViLkJyb3dzZXIudmVyc2lvbj43KXtkLmdldF9lbGVtZW50KCkuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjsKZi5nZXRfZWxlbWVudCgpLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7CndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5nZXRfZWxlbWVudCgpLnN0eWxlLnBvc2l0aW9uPSIiOwpmLmdldF9lbGVtZW50KCkuc3R5bGUucG9zaXRpb249IiI7Cn0sMCk7Cn19dGhpcy5fJG5leHRCdXR0b24ucmVtb3ZlQ2xhc3MoInJnRGlzYWJsZWQiKTsKaWYodGhpcy5fY3VycmVudENvbHVtbkluZGV4PT0wKXt0aGlzLl8kcHJldkJ1dHRvbi5hZGRDbGFzcygicmdEaXNhYmxlZCIpOwp9Yy5wcmV2ZW50RGVmYXVsdCgpOwp9LF9uZXh0RnJvemVuQ29sdW1uSGFuZGxlcjpmdW5jdGlvbihjKXtjLnByZXZlbnREZWZhdWx0KCk7CnZhciBpPXRoaXMuX2dldE5vdEZyb3plbkNvbHVtbnMoKTsKdmFyIGI9aVt0aGlzLl9jdXJyZW50Q29sdW1uSW5kZXgrK107CnZhciBmPXRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKTsKdmFyIGc9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpOwp2YXIgZD10aGlzLl9vd25lci5nZXRfZWxlbWVudCgpLm9mZnNldFdpZHRoOwp2YXIgaDsKZD10aGlzLl9vd25lci5nZXRfZWxlbWVudCgpLm9mZnNldFdpZHRoOwpoPXRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfZWxlbWVudCgpLm9mZnNldFdpZHRoOwppZih0eXBlb2YgYj09InVuZGVmaW5lZCJ8fGg8PWQpe3RoaXMuX2N1cnJlbnRDb2x1bW5JbmRleC0tOwpyZXR1cm47Cn1pZihiLkZyb3plbkRpc3BsYXkpe2cuX2hpZGVOb3RGcm96ZW5Db2x1bW4oYi5JbmRleCk7CnRoaXMuX2FmdGVyQ29sdW1uRnJlZXplKGYsZyk7Cn10aGlzLl8kcHJldkJ1dHRvbi5yZW1vdmVDbGFzcygicmdEaXNhYmxlZCIpOwppZih0aGlzLl9jdXJyZW50Q29sdW1uSW5kZXg+PWkubGVuZ3RoLTEpe3RoaXMuXyRuZXh0QnV0dG9uLmFkZENsYXNzKCJyZ0Rpc2FibGVkIik7Cn1lbHNle2g9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9lbGVtZW50KCkub2Zmc2V0V2lkdGg7CmlmKGg8PWQpe3RoaXMuXyRuZXh0QnV0dG9uLmFkZENsYXNzKCJyZ0Rpc2FibGVkIik7Cn19fSxfZ2V0Tm90RnJvemVuQ29sdW1uczpmdW5jdGlvbigpe3ZhciBlPVtdOwplLl9nZXRQcmV2aW91c05vdEZyb3plbkNvbHVtbldpZHRoPWZ1bmN0aW9uKGkpe3ZhciBqPTA7CmZvcih2YXIgaD0wOwpoPHRoaXMubGVuZ3RoLTE7CmgrKyl7aWYodGhpc1toXS5JbmRleDxpKXtqKz10aGlzW2hdLldpZHRoOwp9fXJldHVybiBqOwp9Owp2YXIgZD10aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCk7CnZhciBjOwp2YXIgYjsKZm9yKGM9dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLkZyb3plbkNvbHVtbnNDb3VudDsKYzxkLmdldF9jb2x1bW5zKCkubGVuZ3RoOwpjKyspe2I9ZC5nZXRfY29sdW1ucygpW2NdOwppZighYi5EaXNwbGF5KXtjb250aW51ZTsKfXZhciBnPWZhbHNlOwppZigod2luZG93Lm5ldHNjYXBlfHwkdGVsZXJpay5pc1NhZmFyaXx8JHRlbGVyaWsuaXNJRTh8fCgkdGVsZXJpay5pc09wZXJhKSkmJmIuZ2V0X2VsZW1lbnQoKS5zdHlsZS5kaXNwbGF5PT0ibm9uZSIpe2IuZ2V0X2VsZW1lbnQoKS5zdHlsZS5kaXNwbGF5PSJ0YWJsZS1jZWxsIjsKZz10cnVlOwp9dmFyIGY9ZC5Db2xHcm91cC5Db2xzW2NdLnN0eWxlLndpZHRoLnJlcGxhY2UoInB4IiwiIikqMTsKZVtlLmxlbmd0aF09e0luZGV4OmMsV2lkdGg6ZixGcm96ZW5EaXNwbGF5OnRydWV9OwppZih0eXBlb2YoYi5Gcm96ZW5EaXNwbGF5KT09ImJvb2xlYW4iKXtlW2UubGVuZ3RoLTFdLkZyb3plbkRpc3BsYXk9Yi5Gcm96ZW5EaXNwbGF5Owp9aWYoKHdpbmRvdy5uZXRzY2FwZXx8JHRlbGVyaWsuaXNTYWZhcml8fCR0ZWxlcmlrLmlzSUU4fHwoJHRlbGVyaWsuaXNPcGVyYSkpJiZnKXtiLmdldF9lbGVtZW50KCkuc3R5bGUuZGlzcGxheT0ibm9uZSI7Cmc9ZmFsc2U7Cn19cmV0dXJuIGU7Cn0sX2FmdGVyQ29sdW1uRnJlZXplOmZ1bmN0aW9uKGIsYyxkKXtpZihkPjAuOTk5OTkwMDAwMDAwMDAwMSYmKCR0ZWxlcmlrLmlzRmlyZWZveHx8JHRlbGVyaWsuaXNJRTcpKXtjLmdldF9lbGVtZW50KCkuc3R5bGUud2lkdGg9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpLmdldF9lbGVtZW50KCkub2Zmc2V0V2lkdGgrInB4IjsKfWMuZ2V0X2VsZW1lbnQoKS5zdHlsZS50YWJsZUxheW91dD0iYXV0byI7CmMuZ2V0X2VsZW1lbnQoKS5zdHlsZS50YWJsZUxheW91dD0iZml4ZWQiOwppZihkPjAuOTk5OTkwMDAwMDAwMDAwMSYmKCR0ZWxlcmlrLmlzRmlyZWZveHx8JHRlbGVyaWsuaXNJRTcpKXtiLmdldF9lbGVtZW50KCkuc3R5bGUud2lkdGg9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpLmdldF9lbGVtZW50KCkub2Zmc2V0V2lkdGgrInB4IjsKfWIuZ2V0X2VsZW1lbnQoKS5zdHlsZS50YWJsZUxheW91dD0iYXV0byI7CmIuZ2V0X2VsZW1lbnQoKS5zdHlsZS50YWJsZUxheW91dD0iZml4ZWQiOwpjLmdldF9lbGVtZW50KCkuc3R5bGUud2lkdGg9IjEwMCUiOwpiLmdldF9lbGVtZW50KCkuc3R5bGUud2lkdGg9IjEwMCUiOwp9LG9uR3JpZEZyb3plblNjcm9sbDpmdW5jdGlvbihiKXtpZighdGhpcy5fZnJvemVuU2Nyb2xsQ291bnRlcil7dGhpcy5fZnJvemVuU2Nyb2xsQ291bnRlcj0wOwp9dGhpcy5fZnJvemVuU2Nyb2xsQ291bnRlcisrOwp0aGlzLl9uZWVkVG9VcGRhdGVDbGllbnRTdGF0ZT1mYWxzZTsKdmFyIGM9dGhpczsKYy5fY3VycmVudEVsZW1lbnQ9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRDdXJyZW50RWxlbWVudChiKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5mcm96ZW5TY3JvbGxIYW5sZGVyPWZ1bmN0aW9uKGYpe3ZhciB3PTEwOwppZigkdGVsZXJpay5pc09wZXJhKXt3PW5hdmlnYXRvci51c2VyQWdlbnQuc3Vic3RyaW5nKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiVmVyc2lvbi8iKSsiVmVyc2lvbiIubGVuZ3RoKzEpKjE7Cn1pZihjLl9mcm96ZW5TY3JvbGxDb3VudGVyIT1mfHxjLl9vd25lci5faXNSZXNpemUpe3JldHVybjsKfWlmKCFjLl9sYXN0U2Nyb2xsSW5kZXgpe2MuX2xhc3RTY3JvbGxJbmRleD0wOwp9dmFyIHI9Yy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpOwp2YXIgcz1jLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCk7CnZhciBnPWMuX2N1cnJlbnRFbGVtZW50OwppZihjLl9vd25lci5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuRnJvemVuQ29sdW1uc0NvdW50PnMuZ2V0X2NvbHVtbnMoKS5sZW5ndGgpe2MuaXNGcm96ZW5TY3JvbGw9ZmFsc2U7Cn12YXIgZCxuOwppZihjLmlzRnJvemVuU2Nyb2xsKXt2YXIgdT1jLl9nZXROb3RGcm96ZW5Db2x1bW5zKCk7CnZhciB6PTA7CnZhciB2PS0xOwp2YXIgaD1nLnNjcm9sbFdpZHRoLWcub2Zmc2V0V2lkdGg7CmlmKChoKSE9MCl7dj1oOwp9ej1nLnNjcm9sbExlZnQvdjsKaWYoejwwKXt6PS0xKno7Cn1pZih6PjEpe3o9MTsKfWlmKFRlbGVyaWsuV2ViLlVJLkdyaWQuSXNSaWdodFRvTGVmdChjLl9vd25lci5HcmlkSGVhZGVyRGl2KSYmKCR0ZWxlcmlrLmlzU2FmYXJpfHwkdGVsZXJpay5pc0lFNykpe3o9MS16Owp9dmFyIG09ci5nZXRfY29sdW1ucygpOwp2YXIgbD1nLnNjcm9sbExlZnQ7Cm49MDsKd2hpbGUobjx1Lmxlbmd0aCl7ZD11W25dOwp2YXIgeD11Ll9nZXRQcmV2aW91c05vdEZyb3plbkNvbHVtbldpZHRoKGQuSW5kZXgpOwppZigoaCk8MCl7YnJlYWs7Cn12YXIgZT0oZC5XaWR0aCt4KS92OwppZihlPD16JiZsIT0wKXtpZihkLkZyb3plbkRpc3BsYXkpe3MuX2hpZGVOb3RGcm96ZW5Db2x1bW4oZC5JbmRleCk7Cn19ZWxzZXtpZighZC5Gcm96ZW5EaXNwbGF5KXtzLl9zaG93Tm90RnJvemVuQ29sdW1uKGQuSW5kZXgpOwp9fW4rKzsKaWYobj09KHUubGVuZ3RoLTEpJiZ6PjAuOTk5OTkwMDAwMDAwMDAwMSl7dmFyIHk9MDsKdmFyIHE9MDsKdmFyIHA9MDsKZm9yKHZhciBvPTA7Cm88bS5sZW5ndGgtMTsKbysrKXtpZih0eXBlb2YobVtvXS5Gcm96ZW5EaXNwbGF5KT09ImJvb2xlYW4iJiYhbVtvXS5Gcm96ZW5EaXNwbGF5KXt5Kz11W3BdLldpZHRoOwpwKys7CnE9bzsKfX1pZigoeS12KTwwKXt2YXIgdD11W3BdOwpzLl9oaWRlTm90RnJvemVuQ29sdW1uKHQuSW5kZXgpOwp9fX1jLl9hZnRlckNvbHVtbkZyZWV6ZShyLHMseik7CmlmKHo+MC45OTk5OTAwMDAwMDAwMDAxJiYkdGVsZXJpay5pc0ZpcmVmb3gpe3MuZ2V0X2VsZW1lbnQoKS5zdHlsZS53aWR0aD1zLmdldF9lbGVtZW50KCkub2Zmc2V0V2lkdGgrInB4IjsKcy5nZXRfZWxlbWVudCgpLnN0eWxlLnRhYmxlTGF5b3V0PSJhdXRvIjsKcy5nZXRfZWxlbWVudCgpLnN0eWxlLnRhYmxlTGF5b3V0PSJmaXhlZCI7CnIuZ2V0X2VsZW1lbnQoKS5zdHlsZS53aWR0aD1zLmdldF9lbGVtZW50KCkub2Zmc2V0V2lkdGgrInB4IjsKci5nZXRfZWxlbWVudCgpLnN0eWxlLnRhYmxlTGF5b3V0PSJhdXRvIjsKcy5nZXRfZWxlbWVudCgpLnN0eWxlLnRhYmxlTGF5b3V0PSIiOwpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoJHRlbGVyaWsuaXNGaXJlZm94JiZTeXMuQnJvd3Nlci52ZXJzaW9uPj00KXtyLmdldF9lbGVtZW50KCkuc3R5bGUudGFibGVMYXlvdXQ9ImZpeGVkIjsKfXMuZ2V0X2VsZW1lbnQoKS5zdHlsZS50YWJsZUxheW91dD0iYXV0byI7CnMuZ2V0X2VsZW1lbnQoKS5zdHlsZS50YWJsZUxheW91dD0iZml4ZWQiOwp9LDEwMCk7Cn1pZihjLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCkpe2MuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKS5nZXRfZWxlbWVudCgpLnN0eWxlLndpZHRoPXMuZ2V0X2VsZW1lbnQoKS5vZmZzZXRXaWR0aCsicHgiOwpjLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCkuZ2V0X2VsZW1lbnQoKS5zdHlsZS50YWJsZUxheW91dD0iYXV0byI7CmMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKS5nZXRfZWxlbWVudCgpLnN0eWxlLnRhYmxlTGF5b3V0PSJmaXhlZCI7Cn19ZWxzZXtjLl9vd25lci5HcmlkRGF0YURpdi5zY3JvbGxMZWZ0PWcuc2Nyb2xsTGVmdDsKfWMuX2Zyb3plblNjcm9sbENvdW50ZXI9MDsKYy5fbmVlZFRvVXBkYXRlQ2xpZW50U3RhdGU9dHJ1ZTsKc2V0VGltZW91dChUZWxlcmlrLldlYi5VSS5HcmlkLl9jbGllbnRTdGF0ZVVwZGF0ZXIsNTAwKTsKaWYoYy5fb3duZXIuZ2V0X2V2ZW50cygpLmdldEhhbmRsZXIoInNjcm9sbCIpKXtjLl9vd25lci5yYWlzZV9zY3JvbGwobmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRTY3JvbGxFdmVudEFyZ3MoYy5fY3VycmVudEVsZW1lbnQpKTsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWQuX2NsaWVudFN0YXRlVXBkYXRlcj1mdW5jdGlvbigpe2lmKGMuX25lZWRUb1VwZGF0ZUNsaWVudFN0YXRlKXtjLl9uZWVkVG9VcGRhdGVDbGllbnRTdGF0ZT1mYWxzZTsKYy5fb3duZXIudXBkYXRlQ2xpZW50U3RhdGUoKTsKfX07CnNldFRpbWVvdXQoIlRlbGVyaWsuV2ViLlVJLkdyaWQuZnJvemVuU2Nyb2xsSGFubGRlcigiK3RoaXMuX2Zyb3plblNjcm9sbENvdW50ZXIrIikiLDApOwp9LG9uV2luZG93UmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5zZXREYXRhRGl2SGVpZ2h0KCk7CnRoaXMuc2V0SGVhZGVyQW5kRm9vdGVyRGl2c1dpZHRoKCk7CmlmKHRoaXMuaXNGcm96ZW5TY3JvbGxBcHBsaWVkKXt0aGlzLm9uR3JpZEZyb3plblJlc2l6ZWQoKTsKfX0sc2V0SGVhZGVyQW5kRm9vdGVyRGl2c1dpZHRoOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5fb3duZXIsaj1kLmdldF9tYXN0ZXJUYWJsZVZpZXcoKSxiPWQuR3JpZERhdGFEaXYsZj1kLkdyaWRIZWFkZXJEaXY7CmlmKCFqfHwhYnx8IWYpe3JldHVybjsKfXZhciBrPWouZ2V0X2VsZW1lbnQoKSxtPVRlbGVyaWsuV2ViLlVJLkdyaWQuZ2V0U2Nyb2xsQmFySGVpZ2h0KCksZz1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigibXNpZSIpPi0xOwp2YXIgaD1UZWxlcmlrLldlYi5VSS5HcmlkLklzUmlnaHRUb0xlZnQoZikmJlRlbGVyaWsuV2ViLlVJLkdyaWQuSXNTY3JvbGxPbkxlZnRTaWRlKCk7CnZhciBjPXRoaXMuX293bmVyLkdyaWRGb290ZXJEaXY7CmlmKGIuY2xpZW50V2lkdGg9PT1iLm9mZnNldFdpZHRoKXtmLnN0eWxlLm1hcmdpblJpZ2h0PWYuc3R5bGUucGFkZGluZ1JpZ2h0PSIiOwpmLnN0eWxlLm1hcmdpbkxlZnQ9Zi5zdHlsZS5wYWRkaW5nTGVmdD0iIjsKfWVsc2V7dmFyIGk9MDsKaWYoIWgpe2k9ZC5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuRnJvemVuQ29sdW1uc0NvdW50PyhwYXJzZUludCgkdGVsZXJpay5nZXRDb21wdXRlZFN0eWxlKGYsImJvcmRlci1yaWdodC13aWR0aCIsMCksMTApfHwwKTowOwpmLnN0eWxlLm1hcmdpblJpZ2h0PShtLWkpKyJweCI7CmYuc3R5bGUubWFyZ2luTGVmdD1mLnN0eWxlLnBhZGRpbmdSaWdodD0iIjsKfWVsc2V7aT1kLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5Gcm96ZW5Db2x1bW5zQ291bnQ/KHBhcnNlSW50KCR0ZWxlcmlrLmdldENvbXB1dGVkU3R5bGUoZiwiYm9yZGVyLWxlZnQtd2lkdGgiLDApLDEwKXx8MCk6MDsKZi5zdHlsZS5tYXJnaW5MZWZ0PShtLWkpKyJweCI7CmYuc3R5bGUubWFyZ2luUmlnaHQ9Zi5zdHlsZS5wYWRkaW5nUmlnaHQ9IiI7Cn19aWYoYyl7Yy5zdHlsZS5wYWRkaW5nUmlnaHQ9Zi5zdHlsZS5wYWRkaW5nUmlnaHQ7CmMuc3R5bGUucGFkZGluZ0xlZnQ9Zi5zdHlsZS5wYWRkaW5nTGVmdDsKYy5zdHlsZS53aWR0aD1mLnN0eWxlLndpZHRoOwpjLnN0eWxlLm1hcmdpblJpZ2h0PWYuc3R5bGUubWFyZ2luUmlnaHQ7CmMuc3R5bGUubWFyZ2luTGVmdD1mLnN0eWxlLm1hcmdpbkxlZnQ7Cn1pZih0aGlzLl9vd25lci5fcmVuZGVyTW9kZSE9VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5Nb2JpbGUpe3ZhciBlPXRoaXMuX293bmVyLl9ncm91cFBhbmVsLGw9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpOwppZihlJiZlLl9pdGVtcy5sZW5ndGg+MCYmZyYmbCl7ay5zdHlsZS53aWR0aD1sLmdldF9lbGVtZW50KCkub2Zmc2V0V2lkdGgrInB4IjsKfX19LHNldERhdGFEaXZIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgZD0wLGI9dGhpcy5fb3duZXIuZ2V0X2VsZW1lbnQoKTsKaWYodGhpcy5fb3duZXIuR3JpZERhdGFEaXYmJmIuc3R5bGUuaGVpZ2h0IT0iIil7dGhpcy5fb3duZXIuR3JpZERhdGFEaXYuc3R5bGUuaGVpZ2h0PSIxMHB4IjsKaWYodGhpcy5fb3duZXIuX2dyb3VwUGFuZWxDbGllbnRJRCE9IiImJnRoaXMuX293bmVyLl9yZW5kZXJNb2RlIT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLk1vYmlsZSl7dmFyIGM9JGdldCh0aGlzLl9vd25lci5fZ3JvdXBQYW5lbENsaWVudElEKTsKaWYoYyl7ZCs9Yy5vZmZzZXRIZWlnaHQ7Cn19aWYodGhpcy5fb3duZXIuR3JpZEhlYWRlckRpdil7ZCs9dGhpcy5fb3duZXIuR3JpZEhlYWRlckRpdi5wYXJlbnROb2RlLm9mZnNldEhlaWdodDsKfWlmKHRoaXMuX293bmVyLkdyaWRGb290ZXJEaXYpe2QrPXRoaXMuX293bmVyLkdyaWRGb290ZXJEaXYucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQ7Cn1pZih0aGlzLl9vd25lci5QYWdlckNvbnRyb2wpe2QrPXRoaXMuX293bmVyLlBhZ2VyQ29udHJvbC5vZmZzZXRIZWlnaHQ7Cn1pZih0aGlzLl9vd25lci5Ub3BQYWdlckNvbnRyb2wpe2QrPXRoaXMuX293bmVyLlRvcFBhZ2VyQ29udHJvbC5vZmZzZXRIZWlnaHQ7Cn1pZih0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuRnJvemVuQ29sdW1uc0NvdW50JiYhJHRlbGVyaWsuJCgiLnJnQ29tbWFuZFJvdyAucmdOZXh0IixiKS5sZW5ndGgpe2QrPVRlbGVyaWsuV2ViLlVJLkdyaWQuZ2V0U2Nyb2xsQmFySGVpZ2h0KCk7Cn12YXIgZT1iLmNsaWVudEhlaWdodC1kOwppZihlPjApe3RoaXMuX293bmVyLkdyaWREYXRhRGl2LnN0eWxlLmhlaWdodD1lKyJweCI7Cn19fSxpbml0aWFsaXplQXV0b0xheW91dDpmdW5jdGlvbigpe3ZhciByPXRoaXMuX293bmVyLk1hc3RlclRhYmxlVmlldzsKdmFyIG09dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpOwppZih0aGlzLkFsbG93U2Nyb2xsJiZ0aGlzLlVzZVN0YXRpY0hlYWRlcnMmJnImJm0pe3ZhciBzPXIuZ2V0X2VsZW1lbnQoKTsKdmFyIG89bS5nZXRfZWxlbWVudCgpOwp2YXIgZz1yLl9nZXRGaXJzdERhdGFSb3coKTsKdmFyIGo9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpOwp2YXIgbD1qP2ouZ2V0X2VsZW1lbnQoKTpudWxsOwppZihzLnN0eWxlLnRhYmxlTGF5b3V0IT0iYXV0byIpe3JldHVybjsKfW8uc3R5bGUudGFibGVMYXlvdXQ9ImF1dG8iOwp0aGlzLl9vd25lci5HcmlkSGVhZGVyRGl2LnN0eWxlLm1hcmdpblJpZ2h0PVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0U2Nyb2xsQmFyV2lkdGgoKSsicHgiOwp2YXIgcD1tLkhlYWRlclJvdzsKdmFyIGM9MDsKdmFyIG49bnVsbDsKaWYocCl7bj1wLmNlbGxzOwp9ZWxzZXtpZihtLk11bHRpSGVhZGVyQ2VsbHMpe249bS5NdWx0aUhlYWRlckNlbGxzOwp9fWlmKG4hPW51bGwpe2M9bi5sZW5ndGg7CmlmKGcmJmcuY2VsbHMubGVuZ3RoPG4ubGVuZ3RoKXtjPWcuY2VsbHMubGVuZ3RoOwp9fXZhciBiPTA7CmZvcih2YXIgcT0wOwpxPGM7CnErKyl7dmFyIGQ9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpLkNvbEdyb3VwLkNvbHNbcV07CmlmKCFkfHwoZC5zdHlsZS53aWR0aCE9IiImJiF3aW5kb3cubmV0c2NhcGUpKXtjb250aW51ZTsKfXZhciB0PW5bcV0ub2Zmc2V0V2lkdGg7CmlmKGcmJmcuY2VsbHNbcV0ub2Zmc2V0V2lkdGg+dCl7dD1nLmNlbGxzW3FdLm9mZnNldFdpZHRoOwp9aWYobCl7dmFyIGg9bC50Qm9kaWVzWzBdLnJvd3NbMF07CnZhciBrPWg/aC5jZWxsc1txXTpudWxsOwppZihrJiZrLm9mZnNldFdpZHRoPnQpe3Q9ay5vZmZzZXRXaWR0aDsKfX1iKz10OwppZih0PD0wKXtjb250aW51ZTsKfXZhciBlPTA7CmQuc3R5bGUud2lkdGg9KHQrZSkrInB4IjsKci5Db2xHcm91cC5Db2xzW3FdLnN0eWxlLndpZHRoPXQrInB4IjsKaWYoaiYmai5Db2xHcm91cCl7ai5Db2xHcm91cC5Db2xzW3FdLnN0eWxlLndpZHRoPXQrInB4IjsKfX1zLnN0eWxlLnRhYmxlTGF5b3V0PW8uc3R5bGUudGFibGVMYXlvdXQ9ImZpeGVkIjsKdmFyIGY9dGhpcy5fb3duZXIuR3JpZERhdGFEaXY7CmlmKGYuY2xpZW50SGVpZ2h0PT1mLnNjcm9sbEhlaWdodCl7dGhpcy5fb3duZXIuR3JpZEhlYWRlckRpdi5zdHlsZS5tYXJnaW5SaWdodD0iYXV0byI7Cn1pZihsKXtsLnN0eWxlLnRhYmxlTGF5b3V0PSJmaXhlZCI7Cn19fSxpbml0aWFsaXplU2F2ZVNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5TYXZlU2Nyb2xsUG9zaXRpb24pe3JldHVybjsKfWlmKHRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5TY3JvbGxUb3AhPSIiJiYhdGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLkVuYWJsZVZpcnR1YWxTY3JvbGxQYWdpbmcpe3ZhciBkPXRoaXMsZT1kLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCkuX3ZpcnR1YWxpemF0aW9uLGM9ZC5fb3duZXIuQ2xpZW50U2V0dGluZ3MuVmlydHVhbGl6YXRpb247CmlmKGUpe2lmKGMuSXRlbUF0VG9wKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5fb3duZXIuYWRkX2RhdGFCb3VuZChkLl9zY3JvbGxUb0luZGV4KTsKZS5zZWxlY3QoYy5TdGFydEluZGV4LHRydWUpOwp9LDEwMCk7Cn1lbHNle2lmKHRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5TY3JvbGxUb3Ape2UuX3Nob3VsZExvYWRTdGF0ZT1mYWxzZTsKZS5fc3RhcnRTY3JvbGxUb3A9dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLlNjcm9sbFRvcDsKfX19dGhpcy5fb3duZXIuR3JpZERhdGFEaXYuc2Nyb2xsVG9wPXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5TY3JvbGxUb3A7Cn12YXIgYj0kZ2V0KHRoaXMuX293bmVyLkNsaWVudElEKyJfRnJvemVuIik7CmlmKHRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5TY3JvbGxMZWZ0JiZ0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuU2Nyb2xsTGVmdCE9IiIpe2lmKHRoaXMuX293bmVyLkdyaWRIZWFkZXJEaXYmJiFiKXt0aGlzLl9vd25lci5HcmlkSGVhZGVyRGl2LnNjcm9sbExlZnQ9dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLlNjcm9sbExlZnQ7Cn1pZih0aGlzLl9vd25lci5HcmlkRm9vdGVyRGl2JiYhYil7dGhpcy5fb3duZXIuR3JpZEZvb3RlckRpdi5zY3JvbGxMZWZ0PXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5TY3JvbGxMZWZ0Owp9aWYoYil7Yi5zY3JvbGxMZWZ0PXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5TY3JvbGxMZWZ0Owp9ZWxzZXt0aGlzLl9vd25lci5HcmlkRGF0YURpdi5zY3JvbGxMZWZ0PXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5TY3JvbGxMZWZ0Owp9fX0sX3Njcm9sbFRvSW5kZXg6ZnVuY3Rpb24oYil7Yi5nZXRfbWFzdGVyVGFibGVWaWV3KCkuX3ZpcnR1YWxpemF0aW9uLnNjcm9sbFRvSW5kZXgoYi5DbGllbnRTZXR0aW5ncy5WaXJ0dWFsaXphdGlvbi5JdGVtQXRUb3ApOwpiLnJlbW92ZV9kYXRhQm91bmQoYi5fc2Nyb2xsaW5nLl9zY3JvbGxUb0luZGV4KTsKfSxfaW5pdGlhbGl6ZVNjcm9sbDpmdW5jdGlvbigpe3ZhciBjPXRoaXM7CnZhciBiPWZ1bmN0aW9uKCl7Yy5pbml0aWFsaXplU2F2ZVNjcm9sbFBvc2l0aW9uKCk7Cn07CmlmKHdpbmRvdy5uZXRzY2FwZSYmIXdpbmRvdy5vcGVyYSl7d2luZG93LnNldFRpbWVvdXQoYiwwKTsKfWVsc2V7YigpOwp9dGhpcy5faW5pdGlhbGl6ZVZpcnR1YWxTY3JvbGxQYWdpbmcoKTsKaWYodGhpcy5fb3duZXIuR3JpZERhdGFEaXZ8fHRoaXMuX293bmVyLkdyaWRIZWFkZXJEaXYpe3RoaXMuX29uR3JpZFNjcm9sbERlbGVnYXRlPUZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fb25HcmlkU2Nyb2xsKTsKaWYodGhpcy5fb3duZXIuR3JpZERhdGFEaXYpe3dpbmRvdy4kYWRkSGFuZGxlcnModGhpcy5fb3duZXIuR3JpZERhdGFEaXYse3Njcm9sbDp0aGlzLl9vbkdyaWRTY3JvbGxEZWxlZ2F0ZX0pOwp9aWYodGhpcy5fb3duZXIuR3JpZEhlYWRlckRpdil7d2luZG93LiRhZGRIYW5kbGVycyh0aGlzLl9vd25lci5HcmlkSGVhZGVyRGl2LHtzY3JvbGw6dGhpcy5fb25HcmlkU2Nyb2xsRGVsZWdhdGV9KTsKfX19LF9oaWRlUmFkQ29tYm9Cb3hlczpmdW5jdGlvbigpe2lmKFRlbGVyaWsuV2ViLlVJLlJhZENvbWJvQm94KXt2YXIgYz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2Iik7CnZhciBmPVtdOwp2YXIgZyxrLGwsbTsKZm9yKGc9MCxsPWMubGVuZ3RoOwpnPGw7CmcrKyl7dmFyIGI9Y1tnXTsKaWYoU3lzLlVJLkRvbUVsZW1lbnQuY29udGFpbnNDc3NDbGFzcyhiLCJyY2JTbGlkZSIpKXtBcnJheS5hZGQoZixiKTsKfX1mb3IoZz0wLGw9Zi5sZW5ndGg7Cmc8bDsKZysrKXt2YXIgaD1mW2ddLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTsKaWYoaCl7Zm9yKGs9MCxtPWgubGVuZ3RoOwprPG07CmsrKyl7aWYoaFtrXS5pZC5pbmRleE9mKCJfRHJvcERvd24iKT4tMSl7dmFyIGU9aFtrXS5pZC5zdWJzdHIoMCxoW2tdLmlkLmluZGV4T2YoIl9Ecm9wRG93biIpKTsKdmFyIGQ9JGZpbmQoZSk7CmlmKGQmJmQuZ2V0X2Ryb3BEb3duVmlzaWJsZSgpJiZUZWxlcmlrLldlYi5VSS5HcmlkLklzQ2hpbGRPZihkLmdldF9lbGVtZW50KCksdGhpcy5fb3duZXIuZ2V0X2VsZW1lbnQoKSkpe2QuaGlkZURyb3BEb3duKCk7Cn19fX19fX0sX29uR3JpZFNjcm9sbDpmdW5jdGlvbihjKXtpZih0aGlzLl9vd25lci5fcmVuZGVyTW9kZSE9VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5Nb2JpbGUpe2lmKHRoaXMuX293bmVyLl9nZXRGaWx0ZXJNZW51KCkpe3RoaXMuX293bmVyLl9nZXRGaWx0ZXJNZW51KCkuaGlkZSgpOwp9aWYodGhpcy5fb3duZXIuX2hlYWRlckNvbnRleHRNZW51KXt0aGlzLl9vd25lci5faGVhZGVyQ29udGV4dE1lbnUuaGlkZSgpOwp9fXRoaXMuX2hpZGVSYWRDb21ib0JveGVzKCk7CnZhciBnPW51bGw7CmlmKFRlbGVyaWsuV2ViLlVJLlJhZERhdGVQaWNrZXIpe2c9VGVsZXJpay5XZWIuVUkuUmFkRGF0ZVBpY2tlci5Qb3B1cEluc3RhbmNlczsKfWVsc2V7aWYoVGVsZXJpay5XZWIuVUkuUmFkRGF0ZUlucHV0Q29tcG9uZW50KXtnPVRlbGVyaWsuV2ViLlVJLlJhZERhdGVQaWNrZXJDb21wb25lbnQuUG9wdXBJbnN0YW5jZXM7Cn19aWYoZyl7Zm9yKHZhciBmIGluIGcpe2lmKCRmaW5kKGYpJiYoKCRmaW5kKGYpLmdldF9pZCgpLmluZGV4T2YodGhpcy5fb3duZXIuQ2xpZW50SUQrIl9nZHRjU2hhcmVkQ2FsZW5kYXIiKT4tMSl8fCgkZmluZChmKS5nZXRfaWQoKS5pbmRleE9mKHRoaXMuX293bmVyLkNsaWVudElEKyJfZ2R0Y1NoYXJlZFRpbWVWaWV3Iik+LTEpKSl7Z1tmXS5IaWRlKCk7Cn19fXZhciBiPShjLnNyY0VsZW1lbnQpP2Muc3JjRWxlbWVudDpjLnRhcmdldDsKaWYod2luZG93Lm9wZXJhJiZ0aGlzLmlzRnJvemVuU2Nyb2xsKXt0aGlzLl9vd25lci5HcmlkRGF0YURpdi5zY3JvbGxMZWZ0PXRoaXMuX293bmVyLkdyaWRIZWFkZXJEaXYuc2Nyb2xsTGVmdD0wOwpyZXR1cm47Cn1pZih0aGlzLlVzZVN0YXRpY0hlYWRlcnMpe3RoaXMuX3VwZGF0ZURhdGFEaXZTY3JvbGxQb3MoYik7Cn1pZighVGVsZXJpay5XZWIuVUkuR3JpZFNlbGVjdGlvbnx8KFRlbGVyaWsuV2ViLlVJLkdyaWRTZWxlY3Rpb24mJnRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLkVuYWJsZVBvc3RCYWNrT25Sb3dDbGljayl8fCh0aGlzLl9vd25lci5fc2VsZWN0ZWRJdGVtc0ludGVybmFsLmxlbmd0aD4wJiZ0aGlzLl9vd25lci5fc2VsZWN0ZWRJbmRleGVzLmxlbmd0aD09MCkpe3ZhciBoPXRoaXMuX293bmVyLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWw7CmlmKGgubGVuZ3RoPjApe2Zvcih2YXIgZD0wOwpkPGgubGVuZ3RoOwpkKyspe2lmKGghPW51bGwmJiFBcnJheS5jb250YWlucyh0aGlzLl9vd25lci5fc2VsZWN0ZWRJbmRleGVzLGhbZF0uaXRlbUluZGV4KSl7QXJyYXkuYWRkKHRoaXMuX293bmVyLl9zZWxlY3RlZEluZGV4ZXMsaFtkXS5pdGVtSW5kZXgpOwp9fX19dGhpcy5fb3duZXIudXBkYXRlQ2xpZW50U3RhdGUoKTsKaWYodGhpcy5fb3duZXIuZ2V0X2V2ZW50cygpLmdldEhhbmRsZXIoInNjcm9sbCIpKXt0aGlzLl9vd25lci5yYWlzZV9zY3JvbGwobmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRTY3JvbGxFdmVudEFyZ3ModGhpcy5fb3duZXIuX2dyaWREYXRhRGl2KSk7Cn19LF91cGRhdGVEYXRhRGl2U2Nyb2xsUG9zOmZ1bmN0aW9uKGIpe2lmKCFiKXtyZXR1cm47Cn1pZighdGhpcy5pc0Zyb3plblNjcm9sbCl7aWYodGhpcy5fb3duZXIuR3JpZEhlYWRlckRpdil7aWYoYj09dGhpcy5fb3duZXIuR3JpZEhlYWRlckRpdil7aWYoJHRlbGVyaWsuaXNTYWZhcmkpe2lmKHRoaXMuX293bmVyLkdyaWRIZWFkZXJEaXYuc2Nyb2xsTGVmdCYmdGhpcy5fb3duZXIuR3JpZEhlYWRlckRpdi5zY3JvbGxMZWZ0IT10aGlzLl9vd25lci5HcmlkRGF0YURpdi5zY3JvbGxMZWZ0KXt0aGlzLl9vd25lci5HcmlkRGF0YURpdi5zY3JvbGxMZWZ0PXRoaXMuX293bmVyLkdyaWRIZWFkZXJEaXYuc2Nyb2xsTGVmdDsKfX1lbHNle3RoaXMuX293bmVyLkdyaWREYXRhRGl2LnNjcm9sbExlZnQ9dGhpcy5fb3duZXIuR3JpZEhlYWRlckRpdi5zY3JvbGxMZWZ0Owp9fWlmKGI9PXRoaXMuX293bmVyLkdyaWREYXRhRGl2KXtpZigkdGVsZXJpay5pc1NhZmFyaSl7aWYodGhpcy5fb3duZXIuR3JpZEhlYWRlckRpdi5zY3JvbGxMZWZ0IT10aGlzLl9vd25lci5HcmlkRGF0YURpdi5zY3JvbGxMZWZ0KXt0aGlzLl9vd25lci5HcmlkSGVhZGVyRGl2LnNjcm9sbExlZnQ9dGhpcy5fb3duZXIuR3JpZERhdGFEaXYuc2Nyb2xsTGVmdDsKfX1lbHNle3RoaXMuX293bmVyLkdyaWRIZWFkZXJEaXYuc2Nyb2xsTGVmdD10aGlzLl9vd25lci5HcmlkRGF0YURpdi5zY3JvbGxMZWZ0Owp9fX1pZih0aGlzLl9vd25lci5HcmlkRm9vdGVyRGl2KXt0aGlzLl9vd25lci5HcmlkRm9vdGVyRGl2LnNjcm9sbExlZnQ9dGhpcy5fb3duZXIuR3JpZERhdGFEaXYuc2Nyb2xsTGVmdDsKfX1lbHNle2lmKHRoaXMuX293bmVyLkdyaWRIZWFkZXJEaXYpe2lmKCR0ZWxlcmlrLmlzU2FmYXJpKXtpZih0aGlzLl9vd25lci5HcmlkSGVhZGVyRGl2LnNjcm9sbExlZnQmJnRoaXMuX293bmVyLkdyaWRIZWFkZXJEaXYuc2Nyb2xsTGVmdCE9dGhpcy5fb3duZXIuR3JpZERhdGFEaXYuc2Nyb2xsTGVmdCl7dGhpcy5fb3duZXIuR3JpZEhlYWRlckRpdi5zY3JvbGxMZWZ0PXRoaXMuX293bmVyLkdyaWREYXRhRGl2LnNjcm9sbExlZnQ7Cn19ZWxzZXt0aGlzLl9vd25lci5HcmlkSGVhZGVyRGl2LnNjcm9sbExlZnQ9dGhpcy5fb3duZXIuR3JpZERhdGFEaXYuc2Nyb2xsTGVmdDsKfX1pZih0aGlzLl9vd25lci5HcmlkRm9vdGVyRGl2KXt0aGlzLl9vd25lci5HcmlkRm9vdGVyRGl2LnNjcm9sbExlZnQ9dGhpcy5fb3duZXIuR3JpZERhdGFEaXYuc2Nyb2xsTGVmdDsKfX19LF9pbml0aWFsaXplVmlydHVhbFNjcm9sbFBhZ2luZzpmdW5jdGlvbihlKXtpZighdGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLkVuYWJsZVZpcnR1YWxTY3JvbGxQYWdpbmcpe3JldHVybjsKfXRoaXMuX3Njcm9sbENvdW50ZXI9MDsKdGhpcy5fY3VycmVudEFKQVhTY3JvbGxUb3A9MDsKaWYodGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLkFKQVhTY3JvbGxUb3AhPSIiJiZ0eXBlb2YodGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLkFKQVhTY3JvbGxUb3ApIT0idW5kZWZpbmVkIil7dGhpcy5fY3VycmVudEFKQVhTY3JvbGxUb3A9dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLkFKQVhTY3JvbGxUb3A7Cn12YXIgaT10aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X2N1cnJlbnRQYWdlSW5kZXgoKSp0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X3BhZ2VTaXplKCkqMjA7CnZhciBsPXRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfcGFnZUNvdW50KCkqdGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9wYWdlU2l6ZSgpKjIwOwp2YXIgaj1sLWk7CnZhciBnPXRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfZWxlbWVudCgpOwp2YXIgZDsKdmFyIGI7CmlmKCgkdGVsZXJpay5pc0lFOHx8JHRlbGVyaWsuaXNTYWZhcml8fCR0ZWxlcmlrLmlzT3BlcmEpJiZnKXtpZihnLnBhcmVudE5vZGUpe2Q9JGdldCgiZHVtbXlEaXZUb3AiLGcucGFyZW50Tm9kZSk7CmlmKCFkKXtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpkLmlubmVySFRNTD0iJm5ic3A7IjsKZC5zdHlsZS5oZWlnaHQ9IjFweCI7CmQuaWQ9ImR1bW15RGl2VG9wIjsKZC5zdHlsZS5tYXJnaW5Ub3A9Ii0xcHgiOwpnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGQsZyk7Cn1iPSRnZXQoImR1bW15RGl2Qm90dG9tIixnLnBhcmVudE5vZGUpOwppZighYil7Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKYi5pbm5lckhUTUw9IiZuYnNwOyI7CmIuc3R5bGUuaGVpZ2h0PSIxcHgiOwpiLmlkPSJkdW1teURpdkJvdHRvbSI7CmIuc3R5bGUubWFyZ2luQm90dG9tPSItMXB4IjsKZy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGIpOwp9fX12YXIgaz1nLm9mZnNldEhlaWdodDsKdmFyIGY9JHRlbGVyaWsuaXNPcGVyYSYmK1N5cy5Ccm93c2VyLnZlcnNpb248OS44MDAwMDAwMDAwMDAwMDE7CmlmKGUmJihmfHwoJHRlbGVyaWsuaXNGaXJlZm94JiYhJHRlbGVyaWsuaXNGaXJlZm94MykpKXtpZihnLnN0eWxlLm1hcmdpbkJvdHRvbSE9IiIpe2s9ay1wYXJzZUludChnLnN0eWxlLm1hcmdpbkJvdHRvbSwxMCk7Cn1pZihnLnN0eWxlLm1hcmdpblRvcCE9IiIpe2s9ay1wYXJzZUludChnLnN0eWxlLm1hcmdpblRvcCwxMCk7Cn19dmFyIGM9dGhpcy5fb3duZXIuX2dyaWREYXRhRGl2Lm9mZnNldEhlaWdodDsKaWYoIWYpe2lmKCgkdGVsZXJpay5pc0lFOHx8JHRlbGVyaWsuaXNPcGVyYSkmJmQmJmIpe2Quc3R5bGUuaGVpZ2h0PU1hdGgubWF4KGksMCkrInB4IjsKaWYoaj49Yyl7Yi5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgoai1rLDApKyJweCI7Cn1lbHNle2Iuc3R5bGUuaGVpZ2h0PU1hdGgubWF4KGMtaywwKSsicHgiOwp9fWVsc2V7Zy5zdHlsZS5tYXJnaW5Ub3A9aSsicHgiOwppZihqPj1jKXtnLnN0eWxlLm1hcmdpbkJvdHRvbT1qLWsrInB4IjsKfWVsc2V7Zy5zdHlsZS5tYXJnaW5Cb3R0b209Yy1rKyJweCI7Cn19fWVsc2V7Zy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiOwpnLnN0eWxlLnRvcD1pKyJweCI7Cmcuc3R5bGUubWFyZ2luQm90dG9tPWwtaysicHgiOwp9dGhpcy5fb3duZXIuX2dyaWREYXRhRGl2LnNjcm9sbFRvcD1pOwp0aGlzLl9jdXJyZW50QUpBWFNjcm9sbFRvcD1pOwp0aGlzLl9jcmVhdGVTY3JvbGxlclRvb2xUaXAoKTsKdmFyIGg9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9vbkFqYXhTY3JvbGxIYW5kbGVyKTsKd2luZG93LiRhZGRIYW5kbGVyKHRoaXMuX293bmVyLl9ncmlkRGF0YURpdiwic2Nyb2xsIixoKTsKfSxfY3JlYXRlU2Nyb2xsZXJUb29sVGlwOmZ1bmN0aW9uKCl7dmFyIGI9JGdldCh0aGlzLl9vd25lci5nZXRfaWQoKSsiU2Nyb2xsZXJUb29sVGlwIik7CmlmKCFiKXt0aGlzLl9zY3JvbGxlclRvb2xUaXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwp0aGlzLl9zY3JvbGxlclRvb2xUaXAuaWQ9dGhpcy5fb3duZXIuZ2V0X2lkKCkrIlNjcm9sbGVyVG9vbFRpcCI7CnRoaXMuX3Njcm9sbGVyVG9vbFRpcC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiOwp0aGlzLl9zY3JvbGxlclRvb2xUaXAuc3R5bGUuekluZGV4PTEwMDAwOwp0aGlzLl9zY3JvbGxlclRvb2xUaXAuc3R5bGUuZGlzcGxheT0ibm9uZSI7CmlmKHRoaXMuX293bmVyLlNraW4hPSIiKXt0aGlzLl9zY3JvbGxlclRvb2xUaXAuY2xhc3NOYW1lPVN0cmluZy5mb3JtYXQoIkdyaWRUb29sVGlwX3swfSIsdGhpcy5fb3duZXIuU2tpbik7Cn1pZighdGhpcy5fb3duZXIuX2VtYmVkZGVkU2tpbnx8dGhpcy5fb3duZXIuU2tpbj09IiIpe3RoaXMuX3Njcm9sbGVyVG9vbFRpcC5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCI7CnRoaXMuX3Njcm9sbGVyVG9vbFRpcC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNGNUY1REMiOwp0aGlzLl9zY3JvbGxlclRvb2xUaXAuc3R5bGUuZm9udD0iaWNvbiI7CnRoaXMuX3Njcm9sbGVyVG9vbFRpcC5zdHlsZS5wYWRkaW5nPSIycHgiOwp9ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9zY3JvbGxlclRvb2xUaXApOwp9fSxfb25BamF4U2Nyb2xsSGFuZGxlcjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl9vd25lci5fZ3JpZERhdGFEaXY7CmlmKGMpe3RoaXMuX2N1cnJlbnRTY3JvbGxUb3A9Yy5zY3JvbGxUb3A7Cn10aGlzLl9zY3JvbGxDb3VudGVyKys7CnZhciBoPXRoaXM7ClRlbGVyaWsuV2ViLlVJLkdyaWQuQWpheFNjcm9sbEludGVybmFsPWZ1bmN0aW9uKGUpe2lmKGguX3Njcm9sbENvdW50ZXIhPWUpe3JldHVybjsKfXZhciBpPWguX293bmVyLl9ncmlkRGF0YURpdjsKaWYoaC5fY3VycmVudEFKQVhTY3JvbGxUb3AhPWkuc2Nyb2xsVG9wKXtpZihoLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X2N1cnJlbnRQYWdlSW5kZXgoKT09ZCl7cmV0dXJuOwp9aC5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLnBhZ2UoZCsxKTsKfWguX3Njcm9sbENvdW50ZXI9MDsKaC5faGlkZVNjcm9sbGVyVG9vbFRpcCgpOwp9Owp0aGlzLl9vd25lci5yYWlzZV9zY3JvbGwobmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRTY3JvbGxFdmVudEFyZ3MoYykpOwp2YXIgZj1UZWxlcmlrLldlYi5VSS5HcmlkLmdldFNjcm9sbEJhckhlaWdodCgpOwp2YXIgZz1jLnNjcm9sbFRvcC8oYy5zY3JvbGxIZWlnaHQtYy5vZmZzZXRIZWlnaHQrZik7CnZhciBkPU1hdGgucm91bmQoKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfcGFnZUNvdW50KCktMSkqZyk7CndpbmRvdy5zZXRUaW1lb3V0KCJUZWxlcmlrLldlYi5VSS5HcmlkLkFqYXhTY3JvbGxJbnRlcm5hbCgiK3RoaXMuX3Njcm9sbENvdW50ZXIrIikiLDUwMCk7CnRoaXMuX3Nob3dTY3JvbGxlclRvb2x0aXAoZyxkKTsKfSxfc2hvd1Njcm9sbGVyVG9vbHRpcDpmdW5jdGlvbihmLGMpe3ZhciBlPSRnZXQodGhpcy5fb3duZXIuZ2V0X2lkKCkrIlNjcm9sbGVyVG9vbFRpcCIpOwppZihlKXt2YXIgZD10aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X3BhZ2VDb3VudCgpOwp0aGlzLl9hcHBseVBhZ2VyVG9vbHRpcFRleHQoZSxjLGQpOwp2YXIgYj10aGlzLl9vd25lci5fZ3JpZERhdGFEaXY7CmUuc3R5bGUuZGlzcGxheT0iIjsKZS5zdHlsZS50b3A9cGFyc2VJbnQoVGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWShiKSwxMCkrTWF0aC5yb3VuZChiLm9mZnNldEhlaWdodCpmKSsicHgiOwplLnN0eWxlLmxlZnQ9cGFyc2VJbnQoVGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWChiKSwxMCkrYi5vZmZzZXRXaWR0aC0oYi5vZmZzZXRXaWR0aC1iLmNsaWVudFdpZHRoKS1lLm9mZnNldFdpZHRoKyJweCI7Cn19LF9hcHBseVBhZ2VyVG9vbHRpcFRleHQ6ZnVuY3Rpb24oaCxmLGUpe2lmKHRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLkNsaWVudE1lc3NhZ2VzLlBhZ2VyVG9vbHRpcEZvcm1hdFN0cmluZz09IiIpe2guc3R5bGUuZGlzcGxheT0ibm9uZSI7Cn1lbHNle3ZhciBpPXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLkNsaWVudE1lc3NhZ2VzLlBhZ2VyVG9vbHRpcEZvcm1hdFN0cmluZzsKdmFyIGQ9L1x7MFteXH1dKlx9L2c7CnZhciBjPS9cezFbXlx9XSpcfS9nOwp2YXIgZz0oKGY9PTApPzE6ZisxKTsKdmFyIGI9ZTsKaT1pLnJlcGxhY2UoZCxnKS5yZXBsYWNlKGMsYik7CmguaW5uZXJIVE1MPWk7Cn19LF9oaWRlU2Nyb2xsZXJUb29sVGlwOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczsKc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBjPSRnZXQoYi5fb3duZXIuZ2V0X2lkKCkrIlNjcm9sbGVyVG9vbFRpcCIpOwppZihjJiZjLnBhcmVudE5vZGUpe2Muc3R5bGUuZGlzcGxheT0ibm9uZSI7Cn19LDIwMCk7Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkU2Nyb2xsaW5nLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRTY3JvbGxpbmciLFN5cy5Db21wb25lbnQpOwpUZWxlcmlrLldlYi5VSS5HcmlkU2Nyb2xsRXZlbnRBcmdzPWZ1bmN0aW9uKGIpe1RlbGVyaWsuV2ViLlVJLkdyaWRTY3JvbGxFdmVudEFyZ3MuaW5pdGlhbGl6ZUJhc2UodGhpcyk7CnRoaXMuc2Nyb2xsVG9wPWIuc2Nyb2xsVG9wOwp0aGlzLnNjcm9sbExlZnQ9Yi5zY3JvbGxMZWZ0Owp0aGlzLnNjcm9sbENvbnRyb2w9YjsKdGhpcy5pc09uVG9wPShiLnNjcm9sbFRvcD09MCk/dHJ1ZTpmYWxzZTsKdmFyIGM9VGVsZXJpay5XZWIuVUkuR3JpZC5nZXRTY3JvbGxCYXJIZWlnaHQoKTsKaWYoYi5jbGllbnRIZWlnaHQ9PWIub2Zmc2V0SGVpZ2h0KXtjPTA7Cn10aGlzLmlzT25Cb3R0b209KChiLnNjcm9sbEhlaWdodC1iLm9mZnNldEhlaWdodCtjKT09Yi5zY3JvbGxUb3ApP3RydWU6ZmFsc2U7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWRTY3JvbGxFdmVudEFyZ3MucHJvdG90eXBlPXtnZXRfc2Nyb2xsVG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Nyb2xsVG9wOwp9LGdldF9zY3JvbGxMZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Nyb2xsTGVmdDsKfSxnZXRfc2Nyb2xsQ29udHJvbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjcm9sbENvbnRyb2w7Cn0sZ2V0X2lzT25Ub3A6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc09uVG9wOwp9LGdldF9pc09uQm90dG9tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNPbkJvdHRvbTsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWRTY3JvbGxFdmVudEFyZ3MucmVnaXN0ZXJDbGFzcygiVGVsZXJpay5XZWIuVUkuR3JpZFNjcm9sbEV2ZW50QXJncyIsU3lzLkV2ZW50QXJncyk7Cn0pKCR0ZWxlcmlrLiQpOwpUeXBlLnJlZ2lzdGVyTmFtZXNwYWNlKCJUZWxlcmlrLldlYi5VSSIpOwpUZWxlcmlrLldlYi5VSS5HcmlkU2VsZWN0aW9uPWZ1bmN0aW9uKCl7VGVsZXJpay5XZWIuVUkuR3JpZFNlbGVjdGlvbi5pbml0aWFsaXplQmFzZSh0aGlzKTsKdGhpcy5fb3duZXI9e307CnRoaXMuX21hc3RlclRhYmxlPW51bGw7CnRoaXMuX3NlbGVjdGlvbkluUHJvZ3Jlc3M9ZmFsc2U7CnRoaXMuX2xhc3RTZWxlY3RlZEl0ZW1JbmRleD1udWxsOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkU2VsZWN0aW9uLnByb3RvdHlwZT17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXM7ClRlbGVyaWsuV2ViLlVJLkdyaWRTZWxlY3Rpb24uY2FsbEJhc2VNZXRob2QoYywiaW5pdGlhbGl6ZSIpOwppZihjLl9vd25lci5fbWFzdGVyQ2xpZW50SUQ9PW51bGwpe3JldHVybjsKfXdpbmRvdy4kYWRkSGFuZGxlcnMoYy5fb3duZXIuZ2V0X2VsZW1lbnQoKSx7Y2xpY2s6RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUoYyxjLl9jbGljayl9KTsKYy5fbWFzdGVyVGFibGU9JGdldChjLl9vd25lci5fbWFzdGVyQ2xpZW50SUQpLnRCb2RpZXNbMF07CmlmKGMuX293bmVyLkFsbG93TXVsdGlSb3dTZWxlY3Rpb24mJiFjLl9vd25lci5DbGllbnRTZXR0aW5ncy5TZWxlY3RpbmcuVXNlQ2xpZW50U2VsZWN0Q29sdW1uT25seSl7aWYoYy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2VsZWN0aW5nLkVuYWJsZURyYWdUb1NlbGVjdFJvd3Mpe3dpbmRvdy4kYWRkSGFuZGxlcnMoYy5fbWFzdGVyVGFibGUse21vdXNlZG93bjpGdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZShjLGMuX21vdXNlZG93bil9KTsKd2luZG93LiRhZGRIYW5kbGVycyhjLl9tYXN0ZXJUYWJsZSx7bW91c2Vtb3ZlOkZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKGMsYy5fbW91c2Vtb3ZlKX0pOwp3aW5kb3cuJGFkZEhhbmRsZXJzKGMuX21hc3RlclRhYmxlLHttb3VzZXVwOkZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKGMsYy5fbW91c2V1cCl9KTsKJHRlbGVyaWsuYWRkRXh0ZXJuYWxIYW5kbGVyKGRvY3VtZW50LCJtb3VzZXVwIixGdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZShjLGMuX21vdXNldXApKTsKfWVsc2V7d2luZG93LiRhZGRIYW5kbGVycyhjLl9tYXN0ZXJUYWJsZSx7bW91c2Vkb3duOmMuX21vdXNlRG93blRyeUNsZWFyRG9jdW1lbnRFdmVudHMsbW91c2V1cDpjLl9tb3VzZVVwUmVzdG9yZURvY3VtZW50RXZlbnRzfSxjKTsKfX12YXIgZD1mYWxzZTsKaWYodGhpcy5fb3duZXIuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbC5sZW5ndGg+MCl7dmFyIGE9bnVsbDsKZm9yKHZhciBiPTA7CmI8dGhpcy5fb3duZXIuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbC5sZW5ndGg7CmIrKyl7YT10aGlzLl9vd25lci5fc2VsZWN0ZWRJdGVtc0ludGVybmFsW2JdLml0ZW1JbmRleDsKaWYoIUFycmF5LmNvbnRhaW5zKHRoaXMuX293bmVyLl9zZWxlY3RlZEluZGV4ZXMsYSkpe0FycmF5LmFkZCh0aGlzLl9vd25lci5fc2VsZWN0ZWRJbmRleGVzLGEpOwpkPXRydWU7Cn19fWlmKGQpe3RoaXMuX293bmVyLnVwZGF0ZUNsaWVudFN0YXRlKCk7Cn19LHVwZGF0ZWQ6ZnVuY3Rpb24oKXtUZWxlcmlrLldlYi5VSS5HcmlkU2VsZWN0aW9uLmNhbGxCYXNlTWV0aG9kKHRoaXMsInVwZGF0ZWQiKTsKfSxkaXNwb3NlOmZ1bmN0aW9uKCl7aWYodGhpcy5fbWFzdGVyVGFibGUpe3dpbmRvdy4kY2xlYXJIYW5kbGVycyh0aGlzLl9tYXN0ZXJUYWJsZSk7CnRoaXMuX21hc3RlclRhYmxlLl9ldmVudHM9bnVsbDsKfXRoaXMuX21hc3RlclRhYmxlPW51bGw7CnRoaXMuX293bmVyPW51bGw7ClRlbGVyaWsuV2ViLlVJLkdyaWRTZWxlY3Rpb24uY2FsbEJhc2VNZXRob2QodGhpcywiZGlzcG9zZSIpOwp9LGdldF9vd25lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vd25lcjsKfSxzZXRfb3duZXI6ZnVuY3Rpb24oYSl7dGhpcy5fb3duZXI9YTsKfSxfbW91c2VEb3duVHJ5Q2xlYXJEb2N1bWVudEV2ZW50czpmdW5jdGlvbihhKXtpZighYS5zaGlmdEtleXx8dGhpcy5fc2hvdWxkUmV0dXJuT25Nb3VzZURvd24oYSkpe3JldHVybjsKfVRlbGVyaWsuV2ViLlVJLkdyaWQuQ2xlYXJEb2N1bWVudEV2ZW50cyh0cnVlKTsKfSxfbW91c2VVcFJlc3RvcmVEb2N1bWVudEV2ZW50czpmdW5jdGlvbihhKXtUZWxlcmlrLldlYi5VSS5HcmlkLlJlc3RvcmVEb2N1bWVudEV2ZW50cygpOwp9LF9tb3VzZWRvd246ZnVuY3Rpb24oYSl7aWYodGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2VsZWN0aW5nLkVuYWJsZURyYWdUb1NlbGVjdFJvd3MmJnRoaXMuX293bmVyLkFsbG93TXVsdGlSb3dTZWxlY3Rpb24mJiF0aGlzLl9vd25lci5fcm93UmVzaXplciYmYS5yYXdFdmVudC5idXR0b24hPTIpe3RoaXMuX2NyZWF0ZVJvd1NlbGVjdG9yQXJlYShhKTsKfX0sX21vdXNlbW92ZTpmdW5jdGlvbihhKXtpZih0aGlzLl9vd25lci5faXNSb3dEcmFnZ2VkKCkpe3RoaXMuX2Rlc3Ryb3lSb3dTZWxlY3RvckFyZWEoYSk7CnJldHVybjsKfXRoaXMuX3Jlc2l6ZVJvd1NlbGVjdG9yQXJlYShhKTsKfSxfbW91c2V1cDpmdW5jdGlvbihhKXt0aGlzLl9kZXN0cm95Um93U2VsZWN0b3JBcmVhKGEpOwp9LF9zaG91bGRSZXR1cm5Pbk1vdXNlRG93bjpmdW5jdGlvbihiKXtpZihiLmN0cmxLZXkpe3JldHVybiB0cnVlOwp9dmFyIGE9bnVsbDsKaWYoYi5zcmNFbGVtZW50KXthPWIuc3JjRWxlbWVudDsKfWVsc2V7aWYoYi50YXJnZXQpe2E9Yi50YXJnZXQ7Cn19aWYoIWF8fGE9PW51bGx8fCFhLnRhZ05hbWUpe3JldHVybiB0cnVlOwp9aWYoYS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJpbnB1dCJ8fGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0idGV4dGFyZWEifHxhLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InNlbGVjdCJ8fGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0ib3B0aW9uIil7cmV0dXJuIHRydWU7Cn1pZigoIXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNlbGVjdGluZy5BbGxvd1Jvd1NlbGVjdCl8fCghdGhpcy5fb3duZXIuQWxsb3dNdWx0aVJvd1NlbGVjdGlvbikpe3JldHVybiB0cnVlOwp9fSxfY3JlYXRlUm93U2VsZWN0b3JBcmVhOmZ1bmN0aW9uKGMpe2lmKHRoaXMuX3Nob3VsZFJldHVybk9uTW91c2VEb3duKGMpKXtyZXR1cm47Cn12YXIgYj1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEN1cnJlbnRFbGVtZW50KGMpOwppZigoIWIpfHwoIVRlbGVyaWsuV2ViLlVJLkdyaWQuSXNDaGlsZE9mKGIsdGhpcy5fb3duZXIuZ2V0X2VsZW1lbnQoKSkpKXtyZXR1cm47Cn10aGlzLl9maXJzdFJvdz1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKGIsInRyIik7CmlmKHRoaXMuX2ZpcnN0Um93LmlkPT0iIil7cmV0dXJuOwp9aWYoIXRoaXMuX3Jvd1NlbGVjdG9yQXJlYSl7dGhpcy5fcm93U2VsZWN0b3JBcmVhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKdGhpcy5fcm93U2VsZWN0b3JBcmVhLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CnRoaXMuX3Jvd1NlbGVjdG9yQXJlYS5zdHlsZS56SW5kZXg9MTAwMDEwMDsKaWYodGhpcy5fb3duZXIuU2tpbiE9IiIpe3RoaXMuX3Jvd1NlbGVjdG9yQXJlYS5jbGFzc05hbWU9U3RyaW5nLmZvcm1hdCgiR3JpZFJvd1NlbGVjdG9yX3swfSIsdGhpcy5fb3duZXIuU2tpbik7Cn1pZighdGhpcy5fb3duZXIuX2VtYmVkZGVkU2tpbnx8dGhpcy5fb3duZXIuU2tpbj09IiIpe3RoaXMuX3Jvd1NlbGVjdG9yQXJlYS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9Im5hdnkiOwp9aWYoIm9wYWNpdHkiIGluIHRoaXMuX3Jvd1NlbGVjdG9yQXJlYS5zdHlsZSl7dGhpcy5fcm93U2VsZWN0b3JBcmVhLnN0eWxlLm9wYWNpdHk9MC4xOwp9ZWxzZXtpZigiTW96T3BhY2l0eSIgaW4gdGhpcy5fcm93U2VsZWN0b3JBcmVhLnN0eWxlKXt0aGlzLl9yb3dTZWxlY3RvckFyZWEuc3R5bGUuTW96T3BhY2l0eT0xLzEwOwp9ZWxzZXt0aGlzLl9yb3dTZWxlY3RvckFyZWEuc3R5bGUuZmlsdGVyPSJhbHBoYShvcGFjaXR5PTEwKTsiOwp9fWlmKHRoaXMuX293bmVyLl9ncmlkRGF0YURpdil7dGhpcy5fcm93U2VsZWN0b3JBcmVhLnN0eWxlLnRvcD1UZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NZKHRoaXMuX2ZpcnN0Um93KSt0aGlzLl9vd25lci5fZ3JpZERhdGFEaXYuc2Nyb2xsVG9wKyJweCI7CnRoaXMuX3Jvd1NlbGVjdG9yQXJlYS5zdHlsZS5sZWZ0PVRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1godGhpcy5fZmlyc3RSb3cpK3RoaXMuX293bmVyLl9ncmlkRGF0YURpdi5zY3JvbGxMZWZ0KyJweCI7CmlmKHBhcnNlSW50KHRoaXMuX3Jvd1NlbGVjdG9yQXJlYS5zdHlsZS5sZWZ0LDEwKTxUZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NYKHRoaXMuX293bmVyLmdldF9lbGVtZW50KCkpKXt0aGlzLl9yb3dTZWxlY3RvckFyZWEuc3R5bGUubGVmdD1UZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NYKHRoaXMuX293bmVyLmdldF9lbGVtZW50KCkpKyJweCI7Cn19ZWxzZXt0aGlzLl9yb3dTZWxlY3RvckFyZWEuc3R5bGUudG9wPVRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1kodGhpcy5fZmlyc3RSb3cpKyJweCI7CnRoaXMuX3Jvd1NlbGVjdG9yQXJlYS5zdHlsZS5sZWZ0PVRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1godGhpcy5fZmlyc3RSb3cpKyJweCI7Cn1kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX3Jvd1NlbGVjdG9yQXJlYSk7ClRlbGVyaWsuV2ViLlVJLkdyaWQuQ2xlYXJEb2N1bWVudEV2ZW50cyh0cnVlKTsKdmFyIGE9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsKaWYoYSYmYS50YWdOYW1lJiZhLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCIpe2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpOwp9fX0sX2Rlc3Ryb3lSb3dTZWxlY3RvckFyZWE6ZnVuY3Rpb24oYyl7aWYodGhpcy5fcm93U2VsZWN0b3JBcmVhKXt2YXIgZj10aGlzLl9yb3dTZWxlY3RvckFyZWEuc3R5bGUuaGVpZ2h0Owpkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX3Jvd1NlbGVjdG9yQXJlYSk7CnRoaXMuX3Jvd1NlbGVjdG9yQXJlYT1udWxsOwpUZWxlcmlrLldlYi5VSS5HcmlkLlJlc3RvcmVEb2N1bWVudEV2ZW50cygpOwp2YXIgYT1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEN1cnJlbnRFbGVtZW50KGMpOwp2YXIgajsKaWYoKCFhKXx8KCFUZWxlcmlrLldlYi5VSS5HcmlkLklzQ2hpbGRPZihhLHRoaXMuX293bmVyLmdldF9lbGVtZW50KCkpKSl7cmV0dXJuOwp9dmFyIGw9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRGaXJzdFBhcmVudEJ5VGFnTmFtZShhLCJ0ZCIpOwppZigoYS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0ZCIpfHwoYS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0ciIpfHwobCYmbC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0ZCIpKXtpZihhLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InRkIil7aj1hLnBhcmVudE5vZGU7Cn1lbHNle2lmKGwudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0idGQiKXtqPWwucGFyZW50Tm9kZTsKfWVsc2V7aWYoYS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0ciIpe2o9YTsKfX19aWYodGhpcy5fZmlyc3RSb3cucGFyZW50Tm9kZS5wYXJlbnROb2RlLmlkPT1qLnBhcmVudE5vZGUucGFyZW50Tm9kZS5pZCl7dmFyIGs9dGhpcy5fb3duZXI7CnZhciBtPSh0aGlzLl9maXJzdFJvdy5yb3dJbmRleDxqLnJvd0luZGV4KT90aGlzLl9maXJzdFJvdy5yb3dJbmRleDpqLnJvd0luZGV4Owp2YXIgZD0obT09dGhpcy5fZmlyc3RSb3cucm93SW5kZXgpP2oucm93SW5kZXg6dGhpcy5fZmlyc3RSb3cucm93SW5kZXg7CmlmKCFjLmN0cmxLZXkmJiFjLnNoaWZ0S2V5JiZtIT09ZCl7ay5jbGVhclNlbGVjdGVkSXRlbXMoKTsKfXRoaXMuX3NlbGVjdGlvbkluUHJvZ3Jlc3M9dHJ1ZTsKay5fa2V5Ym9hcmROYXZpZ2F0aW9uUHJvcGVydGllcy5sYXN0Q2xpY2tTZWxlY3RlZEl0ZW09ajsKZm9yKHZhciBnPW07Cmc8ZCsxOwpnKyspe2lmKGc9PWQpe3RoaXMuX3NlbGVjdGlvbkluUHJvZ3Jlc3M9ZmFsc2U7Cn12YXIgYj10aGlzLl9maXJzdFJvdy5wYXJlbnROb2RlLnBhcmVudE5vZGUucm93c1tnXTsKaWYoYi5pZD09IiIpe2NvbnRpbnVlOwp9aWYoYil7aWYoZiE9IiIpe3ZhciBoPSRmaW5kKGIuaWQpOwppZihoKXtoLnNldF9zZWxlY3RlZCh0cnVlKTsKfWVsc2V7dmFyIG49JGZpbmQoYi5pZC5zcGxpdCgiX18iKVswXSk7Cm4uc2VsZWN0SXRlbShiKTsKfX19fX19fX0sX3Jlc2l6ZVJvd1NlbGVjdG9yQXJlYTpmdW5jdGlvbihjKXtpZigodGhpcy5fcm93U2VsZWN0b3JBcmVhKSYmKHRoaXMuX3Jvd1NlbGVjdG9yQXJlYS5wYXJlbnROb2RlKSl7dmFyIGE9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRDdXJyZW50RWxlbWVudChjKTsKaWYoKCFhKXx8KCFUZWxlcmlrLldlYi5VSS5HcmlkLklzQ2hpbGRPZihhLHRoaXMuX293bmVyLmdldF9lbGVtZW50KCkpKSl7cmV0dXJuOwp9dmFyIGg9cGFyc2VJbnQodGhpcy5fcm93U2VsZWN0b3JBcmVhLnN0eWxlLmxlZnQsMTApOwp2YXIgZj1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEV2ZW50UG9zWChjKTsKdmFyIGk9cGFyc2VJbnQodGhpcy5fcm93U2VsZWN0b3JBcmVhLnN0eWxlLnRvcCwxMCk7CnZhciBnPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0RXZlbnRQb3NZKGMpOwppZihnPj0kdGVsZXJpay5nZXRMb2NhdGlvbih0aGlzLl9yb3dTZWxlY3RvckFyZWEpLnkrdGhpcy5fcm93U2VsZWN0b3JBcmVhLm9mZnNldEhlaWdodCYmdGhpcy5fcm93U2VsZWN0b3JBcmVhLmRyYWdEaXJlY3Rpb25Ub3Ape3RoaXMuX3Jvd1NlbGVjdG9yQXJlYS5kcmFnRGlyZWN0aW9uVG9wPW51bGw7Cn1pZigoZi1oLTUpPjApe3RoaXMuX3Jvd1NlbGVjdG9yQXJlYS5zdHlsZS53aWR0aD1mLWgtNSsicHgiOwp9aWYodGhpcy5fcm93U2VsZWN0b3JBcmVhLm9mZnNldFdpZHRoPnRoaXMuX293bmVyLmdldF9lbGVtZW50KCkub2Zmc2V0V2lkdGgpe3RoaXMuX3Jvd1NlbGVjdG9yQXJlYS5zdHlsZS53aWR0aD10aGlzLl9vd25lci5nZXRfZWxlbWVudCgpLm9mZnNldFdpZHRoKyJweCI7Cn1pZihnPmkmJiF0aGlzLl9yb3dTZWxlY3RvckFyZWEuZHJhZ0RpcmVjdGlvblRvcCl7aWYoKGctaS01KT4wKXt0aGlzLl9yb3dTZWxlY3RvckFyZWEuc3R5bGUuaGVpZ2h0PWctaS01KyJweCI7Cn19ZWxzZXtpZighdGhpcy5fcm93U2VsZWN0b3JBcmVhLmRyYWdEaXJlY3Rpb25Ub3Ape3RoaXMuX3Jvd1NlbGVjdG9yQXJlYS5kcmFnRGlyZWN0aW9uVG9wPXRydWU7Cn1pZigoaS1nLTUpPjB8fHRoaXMuX3Jvd1NlbGVjdG9yQXJlYS5kcmFnRGlyZWN0aW9uVG9wKXt0aGlzLl9yb3dTZWxlY3RvckFyZWEuc3R5bGUudG9wPWctNSsicHgiOwp2YXIgZD1UZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NZKHRoaXMuX2ZpcnN0Um93KS1wYXJzZUludCh0aGlzLl9yb3dTZWxlY3RvckFyZWEuc3R5bGUudG9wLDEwKS01OwppZihkPjApe2lmKHRoaXMuX293bmVyLl9ncmlkRGF0YURpdil7aWYoKHRoaXMuX293bmVyLl9ncmlkRGF0YURpdi5vZmZzZXRIZWlnaHQrdGhpcy5fb3duZXIuX2dyaWREYXRhRGl2Lm9mZnNldFRvcCk+cGFyc2VJbnQodGhpcy5fcm93U2VsZWN0b3JBcmVhLnN0eWxlLnRvcCwxMCkrZCl7dGhpcy5fcm93U2VsZWN0b3JBcmVhLnN0eWxlLmhlaWdodD1kKyJweCI7Cn1lbHNle3ZhciBiPSh0aGlzLl9vd25lci5fZ3JpZERhdGFEaXYub2Zmc2V0SGVpZ2h0K3RoaXMuX293bmVyLl9ncmlkRGF0YURpdi5vZmZzZXRUb3ApLXBhcnNlSW50KHRoaXMuX3Jvd1NlbGVjdG9yQXJlYS5zdHlsZS50b3AsMTApLTU7CnRoaXMuX3Jvd1NlbGVjdG9yQXJlYS5zdHlsZS5oZWlnaHQ9KGI+PTApP2IrInB4IjowKyJweCI7Cn19ZWxzZXt0aGlzLl9yb3dTZWxlY3RvckFyZWEuc3R5bGUuaGVpZ2h0PWQrInB4IjsKfX19fX19LF9zaG91bGRSYWlzZVJvd0V2ZW50OmZ1bmN0aW9uKGIpe3ZhciBkLGE9JGZpbmQoYi5pZCk7CmlmKCFhJiZiLnBhcmVudE5vZGUpe2E9JGZpbmQoYi5wYXJlbnROb2RlLmlkKTsKfXZhciBjPShiLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09ImlucHV0IiYmYi50eXBlLnRvTG93ZXJDYXNlKCk9PSJjaGVja2JveCImJihiLmlkJiZiLmlkLmluZGV4T2YoIlNlbGVjdENoZWNrQm94IikhPS0xKSk7CmlmKChiLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09ImlucHV0IiYmIWMpfHxiLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InNlbGVjdCJ8fGIudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0ib3B0aW9uInx8Yi50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJidXR0b24ifHxiLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09ImEifHxiLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InRleHRhcmVhInx8Yi50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJpbWcifHwoJHRlbGVyaWsuaXNDaHJvbWUmJmIudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0ic3BhbiImJmIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09ImJ1dHRvbiIpfHwoYSYmVGVsZXJpay5XZWIuVUkuUmFkQnV0dG9uJiZUZWxlcmlrLldlYi5VSS5SYWRCdXR0b24uaXNJbnN0YW5jZU9mVHlwZShhKSkpe2Q9ZmFsc2U7Cn1lbHNle2Q9dHJ1ZTsKfXJldHVybiBkOwp9LF9jbGljazpmdW5jdGlvbihiKXt2YXIgYz0oYi50YXJnZXQpP2IudGFyZ2V0OmIuc3JjRWxlbWVudDsKaWYoJHRlbGVyaWsuaXNUb3VjaERldmljZSYmYy5ub2RlVHlwZT09Myl7Yz1jLnBhcmVudE5vZGU7Cn1pZighYy50YWdOYW1lKXtyZXR1cm47Cn1pZihjLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InNwYW4iJiZjLmNsYXNzTmFtZS5pbmRleE9mKCJyZmRUb2dnbGVJbWFnZSIpPi0xKXtyZXR1cm47Cn1pZihjLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09ImxhYmVsIiYmYy5odG1sRm9yKXtyZXR1cm47Cn12YXIgZz1jLmlkJiZjLmlkLmluZGV4T2YoIlJvd0RyYWdIYW5kbGUiKT4tMTsKaWYoIXRoaXMuX3Nob3VsZFJhaXNlUm93RXZlbnQoYykmJiFnKXtyZXR1cm47Cn12YXIgZj0oYy50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJpbnB1dCImJmMudHlwZS50b0xvd2VyQ2FzZSgpPT0iY2hlY2tib3giJiYoYy5pZCYmYy5pZC5pbmRleE9mKCJTZWxlY3RDaGVja0JveCIpIT0tMSkpOwp2YXIgbD10aGlzLl9vd25lcjsKaWYoZiYmbC5DbGllbnRTZXR0aW5ncy5BbGxvd0tleWJvYXJkTmF2aWdhdGlvbil7bC5nZXRfZWxlbWVudCgpLmZvY3VzKCk7Cn1pZihsLkNsaWVudFNldHRpbmdzLlNlbGVjdGluZyYmbC5DbGllbnRTZXR0aW5ncy5TZWxlY3RpbmcuQWxsb3dSb3dTZWxlY3Qpe2lmKGIuY3RybEtleSl7bC5fa2V5Ym9hcmROYXZpZ2F0aW9uUHJvcGVydGllcy5ob2xkaW5nQ3RybD10cnVlOwp9aWYoYy50YWdOYW1lLnRvTG93ZXJDYXNlKCkhPSJ0ciIpe2M9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRGaXJzdFBhcmVudEJ5VGFnTmFtZShjLCJ0ciIpOwp3aGlsZShjJiZjLmlkLnNwbGl0KCJfXyIpLmxlbmd0aCE9PTImJmMucGFyZW50Tm9kZSl7Yz1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKGMucGFyZW50Tm9kZSwidHIiKTsKfX1pZighKGwuQ2xpZW50U2V0dGluZ3MuU2VsZWN0aW5nLlVzZUNsaWVudFNlbGVjdENvbHVtbk9ubHkmJiFmJiZ0aGlzLl9maW5kQ2xpZW50U2VsZWN0Q29sdW1uKGMpJiYhZykpe3ZhciBrPWM7CnZhciBkPWZhbHNlOwp3aGlsZShjJiZUZWxlcmlrLldlYi5VSS5HcmlkLklzQ2hpbGRPZihjLGwuZ2V0X2VsZW1lbnQoKSkpe2lmKGMuaWQmJmMuaWQuc3BsaXQoIl9fIikubGVuZ3RoPT0yKXtkPXRydWU7CmJyZWFrOwp9Yz1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKGMucGFyZW50Tm9kZSwidHIiKTsKfWlmKCFkKXtjPWs7Cn1pZihjJiYoYy5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZT09bC5nZXRfZWxlbWVudCgpfHxjLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlPT1sLl9ncmlkRGF0YURpdnx8QXJyYXkuY29udGFpbnMobC5nZXRfZGV0YWlsVGFibGVzKCksJGZpbmQoYy5wYXJlbnROb2RlLnBhcmVudE5vZGUuaWQpKSkmJmMuaWQmJmMuaWQuc3BsaXQoIl9fIikubGVuZ3RoPT0yKXtpZihsLmdldF9hbGxvd011bHRpUm93U2VsZWN0aW9uKCkpe2lmKGIuc2hpZnRLZXkpe3ZhciBhPWwuX3NlYXJjaFJvd0luZGV4KGMuaWQpOwp2YXIgaj10aGlzLl9sYXN0U2VsZWN0ZWRJdGVtSW5kZXg7CnRoaXMuX3NlbGVjdGlvbkluUHJvZ3Jlc3M9dHJ1ZTsKaWYoIWlzTmFOKHBhcnNlSW50KGosMTApKSl7aWYoajxhKXtpZighYi5jdHJsS2V5KXtsLl9jbGVhclNlbGVjdGVkSXRlbXNFeGNsdWRpbmdJbnRlcnZhbChqLGEpOwp9bC5fc2VsZWN0SXRlbXNJbkludGVydmFsKGosYSwxKTsKfWVsc2V7aWYoaj5hKXtpZighYi5jdHJsS2V5KXtsLl9jbGVhclNlbGVjdGVkSXRlbXNFeGNsdWRpbmdJbnRlcnZhbChhLGopOwp9bC5fc2VsZWN0SXRlbXNJbkludGVydmFsKGEsaiwxKTsKfWVsc2V7bC5fY2xlYXJTZWxlY3RlZEl0ZW1zRXhjbHVkaW5nSW50ZXJ2YWwoaixqKTsKfX19ZWxzZXt0aGlzLl9sYXN0U2VsZWN0ZWRJdGVtSW5kZXg9YTsKfX1pZihiLmN0cmxLZXl8fCghYi5jdHJsS2V5JiYhYi5zaGlmdEtleSkpe3RoaXMuX2xhc3RTZWxlY3RlZEl0ZW1JbmRleD1sLl9zZWFyY2hSb3dJbmRleChjLmlkKTsKfXRoaXMuX3NlbGVjdGlvbkluUHJvZ3Jlc3M9ZmFsc2U7CnRoaXMuX3NlbGVjdFJvd0ludGVybmFsKGMsYixmLHRydWUsdHJ1ZSk7Cn1lbHNle2lmKGYpe3ZhciBpPUFycmF5LmNvbnRhaW5zKGwuX3NlbGVjdGVkSW5kZXhlcyxjLmlkLnNwbGl0KCJfXyIpWzFdKTsKdGhpcy5fc2VsZWN0Um93SW50ZXJuYWwoYyxiLGksaSx0cnVlKTsKfWVsc2V7dGhpcy5fc2VsZWN0Um93SW50ZXJuYWwoYyxiLGZhbHNlLGZhbHNlLHRydWUpOwp9fWwuX2tleWJvYXJkTmF2aWdhdGlvblByb3BlcnRpZXMubGFzdENsaWNrU2VsZWN0ZWRJdGVtPWM7Cn19fWlmKGwuQ2xpZW50U2V0dGluZ3MmJmwuQ2xpZW50U2V0dGluZ3MuRW5hYmxlUG9zdEJhY2tPblJvd0NsaWNrJiZjKXtpZihjJiZjLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9InRyIil7Yz1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKGMsInRyIik7Cn1pZihjJiZjLmlkIT0iIiYmYy5pZC5zcGxpdCgiX18iKS5sZW5ndGg9PTIpe3ZhciBuPSRmaW5kKFRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Rmlyc3RQYXJlbnRCeVRhZ05hbWUoYywidGFibGUiKS5pZCk7CmlmKG4mJm4uZ2V0X293bmVyKCk9PXRoaXMuX293bmVyKXt2YXIgaD1jLmlkLnNwbGl0KCJfXyIpWzFdOwp2YXIgbT1sLkNsaWVudFNldHRpbmdzLlBvc3RCYWNrRnVuY3Rpb247Cm09bS5yZXBsYWNlKCJ7MH0iLGwuVW5pcXVlSUQpOwptPW0ucmVwbGFjZSgiezF9IiwiUm93Q2xpY2s7IitoKTsKZXZhbChtKTsKfX19fSxfc2VsZWN0Um93SW50ZXJuYWw6ZnVuY3Rpb24ocyxoLG0seCx2LHQpe2lmKFN5cy5VSS5Eb21FbGVtZW50LmNvbnRhaW5zQ3NzQ2xhc3MocywicmdEZWxldGVkUm93Iikpe3JldHVybjsKfXZhciB1OwppZih0eXBlb2YodCk9PSJ1bmRlZmluZWQiKXt0PXRydWU7CnU9ZmFsc2U7Cn1lbHNle3U9dDsKfXZhciBvPXMuaWQuc3BsaXQoIl9fIilbMV07CnZhciB3PSRmaW5kKHMuaWQuc3BsaXQoIl9fIilbMF0pOwp3LmdldF9kYXRhSXRlbXMoKTsKdmFyIGY9JGZpbmQocy5pZCk7CmlmKGYmJiFmLmdldF9zZWxlY3RhYmxlKCkpe3RoaXMuX3NlbGVjdFJvd0ludGVybmFsU2V0QWN0aXZlUm93KHMsaCk7CnJldHVybjsKfXZhciBuLGwscCxxLGssYixjLGE7CmlmKCFtKXt2YXIgcj0oaC5yYXdFdmVudCYmIWgucmF3RXZlbnQubWV0YUtleSl8fCR0ZWxlcmlrLmlzVG91Y2hEZXZpY2U7CmlmKCF0aGlzLl9vd25lci5BbGxvd011bHRpUm93U2VsZWN0aW9ufHwodGhpcy5fb3duZXIuQWxsb3dNdWx0aVJvd1NlbGVjdGlvbiYmKCEoaC5jdHJsS2V5fHxoLnNoaWZ0S2V5KSYmcikpKXtpZighaC5zaGlmdEtleSl7dGhpcy5fb3duZXIuX2tleWJvYXJkTmF2aWdhdGlvblByb3BlcnRpZXMubGFzdFNlbGVjdGVkUm93SW5kZXg9dGhpcy5fb3duZXIuX3NlYXJjaFJvd0luZGV4KHMuaWQpOwp9aWYodGhpcy5fb3duZXIuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbC5sZW5ndGg+MCl7bD10aGlzLl9vd25lci5fc2VsZWN0ZWRJdGVtc0ludGVybmFsLmxlbmd0aC0xOwp3aGlsZShsPj0wKXt2YXIgZD0kZ2V0KHRoaXMuX293bmVyLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWxbbF0uaWQpOwppZihkPT1udWxsKXtBcnJheS5yZW1vdmUodGhpcy5fb3duZXIuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbCx0aGlzLl9vd25lci5fc2VsZWN0ZWRJdGVtc0ludGVybmFsW2xdKTsKQXJyYXkucmVtb3ZlKHRoaXMuX293bmVyLl9zZWxlY3RlZEluZGV4ZXMsdGhpcy5fb3duZXIuX3NlbGVjdGVkSW5kZXhlc1tsXSk7CmwtLTsKY29udGludWU7Cn1mPSRmaW5kKGQuaWQpOwppZihmJiYhZi5nZXRfc2VsZWN0YWJsZSgpKXtsLS07CmNvbnRpbnVlOwp9YT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtQ2FuY2VsRXZlbnRBcmdzKGQsaCk7CnRoaXMuX293bmVyLnJhaXNlX3Jvd0Rlc2VsZWN0aW5nKGEpOwppZihhLmdldF9jYW5jZWwoKSl7bC0tOwpjb250aW51ZTsKfVN5cy5VSS5Eb21FbGVtZW50LnJlbW92ZUNzc0NsYXNzKGQsdy5fZGF0YS5fc2VsZWN0ZWRJdGVtU3R5bGVDbGFzcyk7CmlmKHcuX2RhdGEuX3NlbGVjdGVkSXRlbVN0eWxlKXtjPWQuc3R5bGUuY3NzVGV4dC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywiIik7CmI9Yy5zcGxpdCgiOyIpOwpmb3IocD0wOwpwPGIubGVuZ3RoOwpwKyspe2lmKHcuX2RhdGEuX3NlbGVjdGVkSXRlbVN0eWxlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihiW3BdKSE9LTEpe2JbcF09IiI7Cn19ZC5zdHlsZS5jc3NUZXh0PWIuam9pbigiOyIpOwp9dGhpcy5fY2hlY2tDbGllbnRTZWxlY3RDb2x1bW4oZCxmYWxzZSk7Cm49JGZpbmQodGhpcy5fb3duZXIuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbFtsXS5pZCk7CmlmKG4pe24uX3NlbGVjdGVkPWZhbHNlOwp9QXJyYXkucmVtb3ZlKHRoaXMuX293bmVyLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWwsdGhpcy5fb3duZXIuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbFtsXSk7CkFycmF5LnJlbW92ZSh0aGlzLl9vd25lci5fc2VsZWN0ZWRJbmRleGVzLHRoaXMuX293bmVyLl9zZWxlY3RlZEluZGV4ZXNbbF0pOwppZih0aGlzLl9vd25lci5nZXRfZW5hYmxlQXJpYVN1cHBvcnQoKSl7ZC5zZXRBdHRyaWJ1dGUoImFyaWEtc2VsZWN0ZWQiLCJmYWxzZSIpOwp9dGhpcy5fb3duZXIucmFpc2Vfcm93RGVzZWxlY3RlZChuZXcgVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtRXZlbnRBcmdzKGQsaCkpOwpsPU1hdGgubWluKHRoaXMuX293bmVyLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWwubGVuZ3RoLGwpOwpsLS07Cn19az10aGlzLl9nZXRUYWJsZUhlYWRlclJvdyhzLnBhcmVudE5vZGUucGFyZW50Tm9kZSk7CmlmKGspe3RoaXMuX2NoZWNrQ2xpZW50U2VsZWN0Q29sdW1uKGssZmFsc2UpOwp9fX1pZighQXJyYXkuY29udGFpbnModGhpcy5fb3duZXIuX3NlbGVjdGVkSW5kZXhlcyxvKSl7aWYoIXRoaXMuX293bmVyLkFsbG93TXVsdGlSb3dTZWxlY3Rpb24mJnRoaXMuX293bmVyLl9zZWxlY3RlZEluZGV4ZXMubGVuZ3RoPjApe3RoaXMuX2NoZWNrQ2xpZW50U2VsZWN0Q29sdW1uKHMsZmFsc2UpOwp9ZWxzZXtpZighbXx8dCl7YT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtQ2FuY2VsRXZlbnRBcmdzKHMsaCk7CnRoaXMuX293bmVyLnJhaXNlX3Jvd1NlbGVjdGluZyhhKTsKaWYoYS5nZXRfY2FuY2VsKCkpe2lmKG0pe3RoaXMuX2NoZWNrQ2xpZW50U2VsZWN0Q29sdW1uKHMsZmFsc2UpOwppZihzLnBhcmVudE5vZGUhPW51bGwmJnR5cGVvZihzLnBhcmVudE5vZGUpIT0idW5kZWZpbmVkIiYmcy5wYXJlbnROb2RlLnBhcmVudE5vZGUhPW51bGwmJnR5cGVvZihzLnBhcmVudE5vZGUucGFyZW50Tm9kZSkhPSJ1bmRlZmluZWQiKXtrPXRoaXMuX2dldFRhYmxlSGVhZGVyUm93KHMucGFyZW50Tm9kZS5wYXJlbnROb2RlKTsKaWYoayl7dGhpcy5fY2hlY2tDbGllbnRTZWxlY3RDb2x1bW4oayxmYWxzZSk7Cn19fXJldHVybiBmYWxzZTsKfVN5cy5VSS5Eb21FbGVtZW50LmFkZENzc0NsYXNzKHMsdy5fZGF0YS5fc2VsZWN0ZWRJdGVtU3R5bGVDbGFzcyk7CmlmKHcuX2RhdGEuX3NlbGVjdGVkSXRlbVN0eWxlIT0iIil7cy5zdHlsZS5jc3NUZXh0PXMuc3R5bGUuY3NzVGV4dCsiOyIrdy5fZGF0YS5fc2VsZWN0ZWRJdGVtU3R5bGU7Cn1BcnJheS5hZGQodGhpcy5fb3duZXIuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbCx7aXRlbUluZGV4Om8saWQ6cy5pZH0pOwpBcnJheS5hZGQodGhpcy5fb3duZXIuX3NlbGVjdGVkSW5kZXhlcyxvKTsKdGhpcy5fY2hlY2tDbGllbnRTZWxlY3RDb2x1bW4ocyx0cnVlKTsKbj0kZmluZChzLmlkKTsKaWYobil7bi5fc2VsZWN0ZWQ9dHJ1ZTsKfWlmKHRoaXMuX293bmVyLmdldF9lbmFibGVBcmlhU3VwcG9ydCgpKXtzLnNldEF0dHJpYnV0ZSgiYXJpYS1zZWxlY3RlZCIsInRydWUiKTsKfXRoaXMuX293bmVyLnJhaXNlX3Jvd1NlbGVjdGVkKG5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1FdmVudEFyZ3MocyxoKSk7CnZhciB5PTA7CnZhciBnPXcuZ2V0X2RhdGFJdGVtcygpOwpmb3IobD0wOwpxPWcubGVuZ3RoLGw8cTsKbCsrKXtpZighZ1tsXS5nZXRfc2VsZWN0YWJsZSgpJiYhZ1tsXS5nZXRfc2VsZWN0ZWQoKSl7eSsrOwp9fWlmKCF1JiZ3LmdldF9zZWxlY3RlZEl0ZW1zKCkubGVuZ3RoPT13LmdldF9kYXRhSXRlbXMoKS5sZW5ndGgteSl7aWYocy5wYXJlbnROb2RlIT1udWxsJiZ0eXBlb2Yocy5wYXJlbnROb2RlKSE9InVuZGVmaW5lZCImJnMucGFyZW50Tm9kZS5wYXJlbnROb2RlIT1udWxsJiZ0eXBlb2Yocy5wYXJlbnROb2RlLnBhcmVudE5vZGUpIT0idW5kZWZpbmVkIil7az10aGlzLl9nZXRUYWJsZUhlYWRlclJvdyhzLnBhcmVudE5vZGUucGFyZW50Tm9kZSk7CmlmKGspe3RoaXMuX2NoZWNrQ2xpZW50U2VsZWN0Q29sdW1uKGssdHJ1ZSk7Cn19fX19fWVsc2V7aWYoKHh8fChtJiYhdCkpJiYhaC5zaGlmdEtleSl7YT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtQ2FuY2VsRXZlbnRBcmdzKHMsaCk7CnRoaXMuX293bmVyLnJhaXNlX3Jvd0Rlc2VsZWN0aW5nKGEpOwppZighYS5nZXRfY2FuY2VsKCkpe1N5cy5VSS5Eb21FbGVtZW50LnJlbW92ZUNzc0NsYXNzKHMsdy5fZGF0YS5fc2VsZWN0ZWRJdGVtU3R5bGVDbGFzcyk7CmlmKHcuX2RhdGEuX3NlbGVjdGVkSXRlbVN0eWxlKXtjPXMuc3R5bGUuY3NzVGV4dC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywiIik7CmI9Yy5zcGxpdCgiOyIpOwpmb3IocD0wOwpwPGIubGVuZ3RoOwpwKyspe2lmKHcuX2RhdGEuX3NlbGVjdGVkSXRlbVN0eWxlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihiW3BdKSE9LTEpe2JbcF09IiI7Cn19cy5zdHlsZS5jc3NUZXh0PWIuam9pbigiOyIpOwp9Zm9yKGw9MDsKbDx0aGlzLl9vd25lci5fc2VsZWN0ZWRJdGVtc0ludGVybmFsLmxlbmd0aDsKbCsrKXtpZih0aGlzLl9vd25lci5fc2VsZWN0ZWRJdGVtc0ludGVybmFsW2xdLml0ZW1JbmRleD09byl7bj0kZmluZCh0aGlzLl9vd25lci5fc2VsZWN0ZWRJdGVtc0ludGVybmFsW2xdLmlkKTsKaWYobil7bi5fc2VsZWN0ZWQ9ZmFsc2U7Cn1BcnJheS5yZW1vdmUodGhpcy5fb3duZXIuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbCx0aGlzLl9vd25lci5fc2VsZWN0ZWRJdGVtc0ludGVybmFsW2xdKTsKYnJlYWs7Cn19Zm9yKGw9MDsKbDx0aGlzLl9vd25lci5fc2VsZWN0ZWRJbmRleGVzLmxlbmd0aDsKbCsrKXtpZih0aGlzLl9vd25lci5fc2VsZWN0ZWRJbmRleGVzW2xdPT1vKXtBcnJheS5yZW1vdmUodGhpcy5fb3duZXIuX3NlbGVjdGVkSW5kZXhlcyx0aGlzLl9vd25lci5fc2VsZWN0ZWRJbmRleGVzW2xdKTsKYnJlYWs7Cn19dGhpcy5fY2hlY2tDbGllbnRTZWxlY3RDb2x1bW4ocyxmYWxzZSk7CmlmKHRoaXMuX293bmVyLmdldF9lbmFibGVBcmlhU3VwcG9ydCgpKXtzLnNldEF0dHJpYnV0ZSgiYXJpYS1zZWxlY3RlZCIsImZhbHNlIik7Cn10aGlzLl9vd25lci5yYWlzZV9yb3dEZXNlbGVjdGVkKG5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1FdmVudEFyZ3MocyxoKSk7CmlmKHMucGFyZW50Tm9kZSE9bnVsbCYmdHlwZW9mKHMucGFyZW50Tm9kZSkhPSJ1bmRlZmluZWQiJiZzLnBhcmVudE5vZGUucGFyZW50Tm9kZSE9bnVsbCYmdHlwZW9mKHMucGFyZW50Tm9kZS5wYXJlbnROb2RlKSE9InVuZGVmaW5lZCIpe2s9dGhpcy5fZ2V0VGFibGVIZWFkZXJSb3cocy5wYXJlbnROb2RlLnBhcmVudE5vZGUpOwppZihrKXt0aGlzLl9jaGVja0NsaWVudFNlbGVjdENvbHVtbihrLGZhbHNlKTsKfX19fX1pZih2KXt0aGlzLl9vd25lci51cGRhdGVDbGllbnRTdGF0ZSgpOwp9dGhpcy5fc2VsZWN0Um93SW50ZXJuYWxTZXRBY3RpdmVSb3cocyxoKTsKcmV0dXJuIHRydWU7Cn0sX3NlbGVjdFJvd0ludGVybmFsU2V0QWN0aXZlUm93OmZ1bmN0aW9uKGIsYSl7aWYodGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQWxsb3dLZXlib2FyZE5hdmlnYXRpb24pe2lmKHRoaXMuX3NlbGVjdGlvbkluUHJvZ3Jlc3MmJnRoaXMuX293bmVyLmdldF9hbGxvd011bHRpUm93U2VsZWN0aW9uKCkpe3JldHVybiB0cnVlOwp9aWYodGhpcy5fb3duZXIuX2FjdGl2ZVJvdyYmYi5pZCE9dGhpcy5fb3duZXIuX2FjdGl2ZVJvdy5pZCl7dGhpcy5fb3duZXIuX3NldEFjdGl2ZVJvdyhiLGEpOwp9fX0sX2NoZWNrQ2xpZW50U2VsZWN0Q29sdW1uOmZ1bmN0aW9uKGUsZCl7dmFyIGM9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKTsKZm9yKHZhciBhPTA7CmE8Yy5sZW5ndGg7CmErKyl7dmFyIGI9Y1thXTsKaWYoYi50eXBlLnRvTG93ZXJDYXNlKCkhPSJjaGVja2JveCIpe2NvbnRpbnVlOwp9aWYoYi5pZCYmYi5pZC5pbmRleE9mKCJTZWxlY3RDaGVja0JveCIpIT0tMSl7Yi5jaGVja2VkPWQ7CmlmKHRoaXMuX293bmVyLmdldF9lbmFibGVBcmlhU3VwcG9ydCgpKXtiLnNldEF0dHJpYnV0ZSgiYXJpYS1jaGVja2VkIixkLnRvU3RyaW5nKCkpOwp9aWYoJHRlbGVyaWsuaXNTYWZhcmkpe2Iuc2FmYXJpY2hlY2tlZD1kOwp9fX19LF9nZXRUYWJsZUhlYWRlclJvdzpmdW5jdGlvbihjKXt2YXIgYj1UZWxlcmlrLldlYi5VSS5HcmlkLmdldFRhYmxlSGVhZGVyUm93KGMpOwp2YXIgYT10aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCkuX2hhc011bHRpSGVhZGVyczsKaWYoYil7aWYoYSYmYi5wYXJlbnROb2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InRoZWFkIil7cmV0dXJuIGIucGFyZW50Tm9kZTsKfXJldHVybiBiOwp9Yj0kZ2V0KFN0cmluZy5mb3JtYXQoInswfV9IZWFkZXIiLHRoaXMuZ2V0X293bmVyKCkuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9pZCgpKSk7CmlmKGIpe2I9VGVsZXJpay5XZWIuVUkuR3JpZC5nZXRUYWJsZUhlYWRlclJvdyhiKTsKfWlmKGEmJmIucGFyZW50Tm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0aGVhZCIpe3JldHVybiBiLnBhcmVudE5vZGU7Cn1yZXR1cm4gYjsKfSxfZmluZENsaWVudFNlbGVjdENvbHVtbjpmdW5jdGlvbihkKXtpZighZCl7cmV0dXJuOwp9dmFyIGM9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKTsKaWYoIWMpe3JldHVybjsKfWZvcih2YXIgYT0wOwphPGMubGVuZ3RoOwphKyspe3ZhciBiPWNbYV07CmlmKGIudHlwZS50b0xvd2VyQ2FzZSgpIT0iY2hlY2tib3giKXtjb250aW51ZTsKfWlmKGIuaWQmJmIuaWQuaW5kZXhPZigiU2VsZWN0Q2hlY2tCb3giKSE9LTEpe3JldHVybiBiOwp9fX19OwpUZWxlcmlrLldlYi5VSS5HcmlkU2VsZWN0aW9uLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRTZWxlY3Rpb24iLFN5cy5Db21wb25lbnQpOwpUeXBlLnJlZ2lzdGVyTmFtZXNwYWNlKCJUZWxlcmlrLldlYi5VSSIpOwpUZWxlcmlrLldlYi5VSS5HcmlkVGFibGVWaWV3PWZ1bmN0aW9uKGEpe1RlbGVyaWsuV2ViLlVJLkdyaWRUYWJsZVZpZXcuaW5pdGlhbGl6ZUJhc2UodGhpcyxbYV0pOwp0aGlzLl9vd25lcj17fTsKdGhpcy5fZGF0YT17fTsKdGhpcy5faGlkZGVuQ29scz17fTsKdGhpcy5fZGF0YUl0ZW1zQ3JlYXRlZD1mYWxzZTsKdGhpcy5fZGF0YUl0ZW1zPVtdOwp0aGlzLl9jYWNoZWRJdGVtcz1bXTsKdGhpcy5fY29sdW1uc0ludGVybmFsPVtdOwp0aGlzLl9zb3J0RXhwcmVzc2lvbnM9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRTb3J0RXhwcmVzc2lvbnMoKTsKdGhpcy5fZmlsdGVyRXhwcmVzc2lvbnM9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJFeHByZXNzaW9ucygpOwp0aGlzLl9maXJzdERhdGFSb3c9bnVsbDsKdGhpcy5fZXhhcG5kZWRHcm91cEl0ZW1zVGVtcDsKdGhpcy5fZW5hYmxlR3JvdXBzRXhwYW5kQWxsOwp0aGlzLl9ncm91cEhlYWRlcnNDb3VudD1bXTsKdGhpcy5fZW5hYmxlSGllcmFyY2h5RXhwYW5kQWxsOwp0aGlzLl9kYXRhU291cmNlPW51bGw7CnRoaXMuX3ByZXZlbnRVcGRhdGVQYWdlcj1mYWxzZTsKdGhpcy5fdmlydHVhbEl0ZW1Db3VudD0wOwp0aGlzLl9wYWdlQnV0dG9uQ291bnQ9MTA7CnRoaXMuX2hhc0RldGFpbFRhYmxlcz1mYWxzZTsKdGhpcy5faGFzTXVsdGlIZWFkZXJzPWZhbHNlOwp0aGlzLl9oaWVyYXJjaHlMb2FkTW9kZT0iU2VydmVyT25EZW1hbmQiOwp0aGlzLl9fc2hvdWxkUGVyZm9ybUZpbHRlcmluZz10cnVlOwp0aGlzLl9zaG91bGRBdXRvUG9zdEJhY2tPbkZpbHRlcj10cnVlOwp0aGlzLl9yYW5nZVZhbGlkYXRpb25JblByb2Nlc3M9ZmFsc2U7CnRoaXMuX2NhbGN1bGF0ZWRQYXJlbnRUYWJsZUNlbGxzPWZhbHNlOwp0aGlzLl9ncm91cExldmVsc0NvdW50PTA7CnRoaXMuX2dyb3VwQ29sdW1uSW5kZXg9MTsKdGhpcy5fb3JpZ2luYWxHcm91cExldmVsPW51bGw7CnRoaXMuX3Jlc2l6ZWRDb2x1bW5zRGF0YT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZC5DbGllbnRTdGF0ZURhdGEoKTsKdGhpcy5faGlkZWRJdGVtc0RhdGE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWQuQ2xpZW50U3RhdGVEYXRhKCk7CnRoaXMuX3Nob3dlZEl0ZW1zRGF0YT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZC5DbGllbnRTdGF0ZURhdGEoKTsKdGhpcy5fcmVzaXplZEl0ZW1zRGF0YT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZC5DbGllbnRTdGF0ZURhdGEoKTsKdGhpcy5fcmVzaXplZENvbnRyb2xEYXRhPW5ldyBUZWxlcmlrLldlYi5VSS5HcmlkLkNsaWVudFN0YXRlRGF0YSgpOwp0aGlzLl9pbmNsdWRlQWxsSGVhZGVyUm93czsKdGhpcy5fc2Nyb2xsYmFySGVpZ2h0Owp9OwpUZWxlcmlrLldlYi5VSS5HcmlkVGFibGVWaWV3LnByb3RvdHlwZT17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1RlbGVyaWsuV2ViLlVJLkdyaWRUYWJsZVZpZXcuY2FsbEJhc2VNZXRob2QodGhpcywiaW5pdGlhbGl6ZSIpOwppZih0aGlzLl9lbGVtZW50JiZ0aGlzLl9vd25lciYmdGhpcy5fb3duZXIuX2VsZW1lbnQpe3ZhciBjPXRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZTsKd2hpbGUoYyl7aWYoKHRoaXMuX293bmVyLl9lbGVtZW50PT1jKSYmYy5jb250cm9sKXt0aGlzLl9vd25lcj1jLmNvbnRyb2w7CmJyZWFrOwp9Yz1jLnBhcmVudE5vZGU7Cn19aWYoJHRlbGVyaWsuaXNJRSYmdGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5fYmF0Y2hFZGl0aW5nU2V0dGluZ3MmJih0aGlzLl9kYXRhLl9iYXRjaEVkaXRpbmdTZXR0aW5ncy5ldmVudFR5cGV8fCIiKS50b0xvd2VyQ2FzZSgpPT0ibW91c2Vkb3duIil7dGhpcy5fZGF0YS5fYmF0Y2hFZGl0aW5nU2V0dGluZ3MuZXZlbnRUeXBlPSJjbGljayI7Cn1pZih0aGlzLl9kYXRhLl9zZWxlY3RlZEl0ZW1TdHlsZUNsYXNzPT0iIiYmdGhpcy5fZGF0YS5fc2VsZWN0ZWRJdGVtU3R5bGU9PSIiKXt0aGlzLl9kYXRhLl9zZWxlY3RlZEl0ZW1TdHlsZT0iYmFja2dyb3VuZC1jb2xvcjpuYXZ5O2NvbG9yOndoaXRlOyI7Cn1pZih0aGlzLl9kYXRhLl9yZW5kZXJBY3RpdmVJdGVtU3R5bGVDbGFzcz09IiImJnRoaXMuX2RhdGEuX3JlbmRlckFjdGl2ZUl0ZW1TdHlsZT09IiIpe3RoaXMuX2RhdGEuX3JlbmRlckFjdGl2ZUl0ZW1TdHlsZT0iYmFja2dyb3VuZC1jb2xvcjpuYXZ5O2NvbG9yOndoaXRlOyI7Cn10aGlzLkNvbEdyb3VwPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0VGFibGVDb2xHcm91cCh0aGlzLmdldF9lbGVtZW50KCkpOwppZih0aGlzLkNvbEdyb3VwKXt0aGlzLkNvbEdyb3VwLkNvbHM9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRUYWJsZUNvbEdyb3VwQ29scyh0aGlzLkNvbEdyb3VwKTsKfXZhciBwOwp2YXIgbjsKaWYoJHRlbGVyaWsucXVpcmtzTW9kZSl7Zm9yKHA9MDsKcDx0aGlzLkNvbEdyb3VwLkNvbHMubGVuZ3RoOwpwKyspe2lmKHRoaXMuQ29sR3JvdXAuQ29sc1twXS5zdHlsZS5kaXNwbGF5PT0ibm9uZSIpe3RoaXMuQ29sR3JvdXAuQ29sc1twXS5zdHlsZS5kaXNwbGF5PSIiOwp9fX10aGlzLlBhZ2VTaXplPXRoaXMuX2RhdGEuUGFnZVNpemU7CnRoaXMuUGFnZUNvdW50PXRoaXMuX2RhdGEuUGFnZUNvdW50Owp0aGlzLkN1cnJlbnRQYWdlSW5kZXg9dGhpcy5fZGF0YS5DdXJyZW50UGFnZUluZGV4Owp0aGlzLl92aXJ0dWFsSXRlbUNvdW50PXRoaXMuX2RhdGEuVmlydHVhbEl0ZW1Db3VudDsKdGhpcy5fcGFnZUJ1dHRvbkNvdW50PXRoaXMuX2RhdGEuUGFnZUJ1dHRvbkNvdW50Owp0aGlzLl9oYXNEZXRhaWxUYWJsZXM9dGhpcy5fZGF0YS5IYXNEZXRhaWxUYWJsZXM7CnRoaXMuX2hhc011bHRpSGVhZGVycz10aGlzLl9kYXRhLkhhc011bHRpSGVhZGVyczsKaWYodGhpcy5fZGF0YS5Hcm91cExldmVsc0NvdW50KXt0aGlzLl9ncm91cExldmVsc0NvdW50PXRoaXMuX2RhdGEuR3JvdXBMZXZlbHNDb3VudCoxOwp0aGlzLl9leGFwbmRlZEdyb3VwSXRlbXNUZW1wPW5ldyBBcnJheSh0aGlzLl9ncm91cExldmVsc0NvdW50KTsKfWlmKHRoaXMuX2RhdGEuR3JvdXBIZWFkZXJzQ291bnQpe3RoaXMuX2dyb3VwSGVhZGVyc0NvdW50PXRoaXMuX2RhdGEuR3JvdXBIZWFkZXJzQ291bnQ7Cn1pZih0aGlzLl9kYXRhLkhpZXJhcmNoeUxvYWRNb2RlKXt0aGlzLl9oaWVyYXJjaHlMb2FkTW9kZT10aGlzLl9kYXRhLkhpZXJhcmNoeUxvYWRNb2RlOwp9aWYodGhpcy5fZGF0YS5FbmFibGVHcm91cHNFeHBhbmRBbGwpe3RoaXMuX2VuYWJsZUdyb3Vwc0V4cGFuZEFsbD10aGlzLl9kYXRhLkVuYWJsZUdyb3Vwc0V4cGFuZEFsbDsKfWlmKHRoaXMuX2RhdGEuRW5hYmxlSGllcmFyY2h5RXhwYW5kQWxsKXt0aGlzLl9lbmFibGVIaWVyYXJjaHlFeHBhbmRBbGw9dGhpcy5fZGF0YS5FbmFibGVIaWVyYXJjaHlFeHBhbmRBbGw7Cn12YXIgaD1udWxsOwp2YXIgbz0odGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nJiZ0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuQWxsb3dTY3JvbGwmJnRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5Vc2VTdGF0aWNIZWFkZXJzKTsKaWYoKHRoaXMuZ2V0X2VsZW1lbnQoKS5pZC5pbmRleE9mKCJfSGVhZGVyIikhPS0xJiZvKXx8KCFvJiZ0aGlzLmdldF9lbGVtZW50KCkuaWQuaW5kZXhPZigiX0hlYWRlciIpPT0tMSl8fCh0aGlzLmdldF9lbGVtZW50KCkuaWQuaW5kZXhPZigiX0RldGFpbCIpIT0tMSkpe3ZhciByPVtdOwppZih0aGlzLl9oYXNNdWx0aUhlYWRlcnMpe3I9VGVsZXJpay5XZWIuVUkuR3JpZC5nZXRNdWx0aUhlYWRlckNlbGxzKHRoaXMpOwp0aGlzLk11bHRpSGVhZGVyQ2VsbHM9cjsKfWVsc2V7aD1UZWxlcmlrLldlYi5VSS5HcmlkLmdldFRhYmxlSGVhZGVyUm93KHRoaXMuZ2V0X2VsZW1lbnQoKSk7Cn1pZighaCl7dmFyIG09JGdldCh0aGlzLmdldF9lbGVtZW50KCkuaWQrIl9IZWFkZXIiKTsKaWYobSl7aD1UZWxlcmlrLldlYi5VSS5HcmlkLmdldFRhYmxlSGVhZGVyUm93KG0pOwp9fXRoaXMuSGVhZGVyUm93PWg7CnZhciBzPXRoaXMuX293bmVyOwp2YXIgdj1zLkNsaWVudFNldHRpbmdzOwppZigkdGVsZXJpay5pc01vYmlsZUlFMTAmJih2LkFsbG93Um93c0RyYWdEcm9wfHwodi5TY3JvbGxpbmcmJnYuU2Nyb2xsaW5nLkFsbG93U2Nyb2xsKSkpe3RoaXMuZ2V0X2VsZW1lbnQoKS5zdHlsZS5tc1RvdWNoQWN0aW9uPSJub25lIjsKdGhpcy5nZXRfZWxlbWVudCgpLnN0eWxlLnRvdWNoQWN0aW9uPSJub25lIjsKfXZhciBiPXRoaXMuX2RhdGEuX2NvbHVtbnNEYXRhOwpmb3Iobj0wOwpuPGIubGVuZ3RoOwpuKyspe2lmKCFoJiYoIXJ8fCFyW25dKSl7Y29udGludWU7Cn12YXIgZz1iW25dOwp2YXIgZT10aGlzLl9oYXNNdWx0aUhlYWRlcnM/cltuXTpoLmNlbGxzW25dOwppZighZSl7Y29udGludWU7Cn10aGlzLl9vd25lci5yYWlzZV9jb2x1bW5DcmVhdGluZyhuZXcgU3lzLkV2ZW50QXJncygpKTsKdmFyIGY9JGNyZWF0ZShUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uLHtfb3duZXI6dGhpcyxfZGF0YTpnfSxudWxsLG51bGwsZSk7CnZhciBkPW5ldyBTeXMuRXZlbnRBcmdzKCk7CmQuZ2V0X2NvbHVtbj1mdW5jdGlvbigpe3JldHVybiBmOwp9OwpBcnJheS5hZGQodGhpcy5fY29sdW1uc0ludGVybmFsLGYpOwp0aGlzLl9vd25lci5yYWlzZV9jb2x1bW5DcmVhdGVkKGQpOwp9dGhpcy5fc2V0dXBIZWFkZXJSb3RhdGlvbnMoKTsKaWYodGhpcy5faGFzTXVsdGlIZWFkZXJzKXt2YXIgdz10aGlzLmdldF9lbGVtZW50KCkudEhlYWQ7CnZhciB1PXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZzsKaWYodSYmdS5BbGxvd1Njcm9sbCYmdS5Vc2VTdGF0aWNIZWFkZXJzJiYhVGVsZXJpay5XZWIuVUkuR3JpZC5pc0RldGFpbFRhYmxlKHRoaXMpKXt3PXRoaXMuZ2V0X293bmVyKCkuR3JpZEhlYWRlckRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGFibGUiKVswXS50SGVhZDsKfXZhciBsPVtdOwppZih3JiZ3LnJvd3Mpe2Zvcih2YXIgcT0wOwpxPHcucm93cy5sZW5ndGg7CnErKyl7dmFyIHQ9dy5yb3dzW3FdOwppZih0LmNsYXNzTmFtZSYmdC5jbGFzc05hbWUuaW5kZXhPZigicmdNdWx0aUhlYWRlclJvdyIpPi0xKXtsLnB1c2godCk7Cn19fWlmKCF0aGlzLl9jYWxjdWxhdGVkUGFyZW50VGFibGVDZWxscyl7dGhpcy5fY2FsY3VsYXRlZFBhcmVudFRhYmxlQ2VsbHM9dHJ1ZTsKdGhpcy5fc2V0UGFyZW50VGFibGVDZWxscyhsKTsKfX19aWYoJHRlbGVyaWsuaXNJRSYmZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiZkb2N1bWVudC5kb2N1bWVudE1vZGU8PTcpe3RoaXMuX3NldEhlYWRlckZvb3RlclNwYW4oKTsKfWlmKHRoaXMuX2RhdGEuVmlydHVhbGl6YXRpb25EYXRhQXNKU09OJiZ0aGlzLmdldF9lbGVtZW50KCkucGFyZW50Tm9kZS5pZC5pbmRleE9mKCJfR3JpZERhdGEiKSE9PS0xKXt0aGlzLl92aXJ0dWFsaXphdGlvbj0kY3JlYXRlKFRlbGVyaWsuV2ViLlVJLkdyaWRWaXJ0dWFsaXphdGlvbixudWxsLG51bGwse190YWJsZVZpZXc6dGhpcy5nZXRfaWQoKX0sbnVsbCk7CnRoaXMuX3ZpcnR1YWxpemF0aW9uLl90YWJsZVZpZXc9dGhpczsKaWYodGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuVmlydHVhbGl6YXRpb24uU3RhcnRJbmRleCl7dGhpcy5fdmlydHVhbGl6YXRpb24uX3N0YXJ0SW5kZXg9dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuVmlydHVhbGl6YXRpb24uU3RhcnRJbmRleDsKfXRoaXMuX3ZpcnR1YWxpemF0aW9uLmluaXRpYWxpemUoKTsKfWVsc2V7aWYodGhpcy5fb3duZXIuZ2V0X2V2ZW50cygpLmdldEhhbmRsZXIoInJvd0NyZWF0aW5nIil8fHRoaXMuX293bmVyLmdldF9ldmVudHMoKS5nZXRIYW5kbGVyKCJyb3dDcmVhdGVkIikpe3RoaXMuZ2V0X2RhdGFJdGVtcygpOwp9fWlmKHRoaXMuX293bmVyLmdldF9lbmFibGVBcmlhU3VwcG9ydCgpKXt0aGlzLl9pbml0aWFsaXplQXJpYVN1cHBvcnQoKTsKfX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX293bmVyLnJhaXNlX3RhYmxlRGVzdHJveWluZyhTeXMuRXZlbnRBcmdzLkVtcHR5KTsKdGhpcy5fc29ydEV4cHJlc3Npb25zLmRpc3Bvc2UoKTsKdGhpcy5fZmlsdGVyRXhwcmVzc2lvbnMuZGlzcG9zZSgpOwp3aW5kb3cuJGNsZWFySGFuZGxlcnModGhpcy5nZXRfZWxlbWVudCgpKTsKaWYodGhpcy5nZXRfZWxlbWVudCgpLnRCb2RpZXNbMF0pe3dpbmRvdy4kY2xlYXJIYW5kbGVycyh0aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXSk7Cn12YXIgYTsKZm9yKGE9MDsKYTx0aGlzLl9kYXRhSXRlbXMubGVuZ3RoOwphKyspe2lmKHRoaXMuX2RhdGFJdGVtc1thXSl7dGhpcy5fZGF0YUl0ZW1zW2FdLmRpc3Bvc2UoKTsKdGhpcy5fZGF0YUl0ZW1zW2FdPW51bGw7Cn19aWYodGhpcy5fY2FjaGVkSXRlbXMpe2ZvcihhPTA7CmE8dGhpcy5fY2FjaGVkSXRlbXMubGVuZ3RoOwphKyspe2lmKHRoaXMuX2NhY2hlZEl0ZW1zW2FdKXt0aGlzLl9jYWNoZWRJdGVtc1thXS5kaXNwb3NlKCk7CnRoaXMuX2NhY2hlZEl0ZW1zW2FdPW51bGw7Cn19fXRoaXMuX2RhdGFJdGVtcz1bXTsKaWYodGhpcy5Db2xHcm91cCE9bnVsbCYmdGhpcy5Db2xHcm91cC5Db2xzIT1udWxsKXt0aGlzLkNvbEdyb3VwLkNvbHM9bnVsbDsKfWlmKHRoaXMuQ29sR3JvdXAhPW51bGwpe3RoaXMuQ29sR3JvdXA9bnVsbDsKfXRoaXMuX2VsZW1lbnQuY29udHJvbD1udWxsOwp0aGlzLl9vd25lcj1udWxsOwp0aGlzLl9kYXRhPW51bGw7CnRoaXMuX2hpZGRlbkNvbHM9bnVsbDsKdGhpcy5fZGF0YUl0ZW1zPW51bGw7CnRoaXMuX2NhY2hlZEl0ZW1zPW51bGw7CnRoaXMuX2NvbHVtbnNJbnRlcm5hbD1udWxsOwp0aGlzLl9ncm91cEhlYWRlcnNDb3VudD1udWxsOwpUZWxlcmlrLldlYi5VSS5HcmlkVGFibGVWaWV3LmNhbGxCYXNlTWV0aG9kKHRoaXMsImRpc3Bvc2UiKTsKfSxfc2V0dXBIZWFkZXJSb3RhdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGI9ZS5nZXRfY29sdW1ucygpLGQ9MCxhOwp2YXIgYzsKZm9yKGM9MDsKYzxiLmxlbmd0aDsKYysrKXthPWJbY10uZ2V0X2VsZW1lbnQoKTsKaWYoU3lzLlVJLkRvbUVsZW1lbnQuY29udGFpbnNDc3NDbGFzcyhhLCJyZ1JvdGF0ZUhlYWRlciIpJiZhLmNoaWxkcmVuWzBdLm9mZnNldFdpZHRoPmQpe2Q9YS5jaGlsZHJlblswXS5vZmZzZXRXaWR0aDsKfX1pZihwYXJzZUludCgkdGVsZXJpay5nZXRDb21wdXRlZFN0eWxlKGEsImhlaWdodCIsMCksMTApPmQpe3JldHVybjsKfWlmKCR0ZWxlcmlrLmlzT3BlcmEpe2QrPVsicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIl0ucmVkdWNlKGZ1bmN0aW9uKGcsZil7dmFyIGg9cGFyc2VJbnQoJHRlbGVyaWsuZ2V0Q3VycmVudFN0eWxlKGEsZiksMTApOwpyZXR1cm4gZysoaXNOYU4oaCk/MDpoKTsKfSwwKTsKfWlmKGQhPTApe2ZvcihjPTA7CmM8Yi5sZW5ndGg7CmMrKyl7aWYoYltjXS5nZXRfZWxlbWVudCgpLnN0eWxlLmhlaWdodD09IiIpe2JbY10uZ2V0X2VsZW1lbnQoKS5zdHlsZS5oZWlnaHQ9ZCsicHgiOwp9fX19LGdldF9jb2x1bW5zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbHVtbnNJbnRlcm5hbDsKfSxzaG93RmlsdGVySXRlbTpmdW5jdGlvbigpe3RoaXMuX3RvZ2dsZUZpbHRlckl0ZW1WaXNpYmlsaXR5KHRydWUpOwp9LGhpZGVGaWx0ZXJJdGVtOmZ1bmN0aW9uKCl7dGhpcy5fdG9nZ2xlRmlsdGVySXRlbVZpc2liaWxpdHkoZmFsc2UpOwp9LGdldF9pc0ZpbHRlckl0ZW1WaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuaXNGaWx0ZXJJdGVtRXhwYW5kZWQ7Cn0sX3RvZ2dsZUZpbHRlckl0ZW1WaXNpYmlsaXR5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2dldFRhYmxlRmlsdGVyUm93KCk7CmlmKGImJmEhPXRoaXMuX2RhdGEuaXNGaWx0ZXJJdGVtRXhwYW5kZWQpe2lmKGEpe2Iuc3R5bGUuZGlzcGxheT0iIjsKfWVsc2V7Yi5zdHlsZS5kaXNwbGF5PSJub25lIjsKfXRoaXMuX2RhdGEuaXNGaWx0ZXJJdGVtRXhwYW5kZWQ9YTsKQXJyYXkuYWRkKHRoaXMuX293bmVyLl9leHBhbmRlZEZpbHRlckl0ZW1zLHRoaXMuX2RhdGEuVW5pcXVlSUQrIiEiKTsKdGhpcy5fb3duZXIudXBkYXRlQ2xpZW50U3RhdGUoKTsKfX0sZ2V0X3RhYmxlRmlsdGVyUm93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFRhYmxlRmlsdGVyUm93KCk7Cn0sX2dldFRhYmxlRmlsdGVyUm93OmZ1bmN0aW9uKCl7dmFyIGE9bnVsbDsKdmFyIGU9dGhpcy5nZXRfZWxlbWVudCgpOwp2YXIgYjsKdmFyIGM7CmlmKGUudEhlYWQmJmUudEhlYWQuc3R5bGUuZGlzcGxheSE9Im5vbmUiKXtpZih0aGlzLl9oYXNNdWx0aUhlYWRlcnMpe2ZvcihiPTA7CmI8ZS50SGVhZC5yb3dzLmxlbmd0aDsKYisrKXtjPWUudEhlYWQucm93c1tiXTsKaWYoYy5jbGFzc05hbWUmJmMuY2xhc3NOYW1lLmluZGV4T2YoInJnRmlsdGVyUm93Iik+LTEpe3JldHVybiBjOwp9fX1pZighdGhpcy5IZWFkZXJSb3cpe3JldHVybiBudWxsOwp9dmFyIGQ9KHRoaXMuSGVhZGVyUm93KT90aGlzLkhlYWRlclJvdy5yb3dJbmRleDoxOwpmb3IoYj1kOwpiPGUudEhlYWQucm93cy5sZW5ndGg7CmIrKyl7Yz1lLnRIZWFkLnJvd3NbYl07CmlmKGMhPW51bGwmJmMuY2VsbHNbMF0hPW51bGwmJmMuY2VsbHNbMF0udGFnTmFtZSE9bnVsbCYmYy5jZWxsc1swXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkhPSJ0aCImJmMuY2xhc3NOYW1lJiZjLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0ZpbHRlclJvdyIpPi0xKXthPWM7CmJyZWFrOwp9fX1lbHNle2lmKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdIZWFkZXIoKSYmdGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpLmdldF9lbGVtZW50KCkpe2U9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpLmdldF9lbGVtZW50KCk7CmlmKGUudEhlYWQmJnRoaXMuX2hhc011bHRpSGVhZGVycyl7Zm9yKGI9MDsKYjxlLnRIZWFkLnJvd3MubGVuZ3RoOwpiKyspe2M9ZS50SGVhZC5yb3dzW2JdOwppZihjLmNsYXNzTmFtZSYmYy5jbGFzc05hbWUuaW5kZXhPZigicmdGaWx0ZXJSb3ciKT4tMSl7cmV0dXJuIGM7Cn19fWZvcihiPTE7CmI8ZS5yb3dzLmxlbmd0aDsKYisrKXtjPWUudEhlYWQucm93c1tiXTsKaWYoYyE9bnVsbCYmYy5jZWxsc1swXSE9bnVsbCYmYy5jZWxsc1swXS50YWdOYW1lIT1udWxsJiZjLmNsYXNzTmFtZSYmYy5jbGFzc05hbWUuaW5kZXhPZigicmdGaWx0ZXJSb3ciKT4tMSl7YT1lLnRIZWFkLnJvd3NbYl07CmJyZWFrOwp9fX19cmV0dXJuIGE7Cn0sX2luaXRpYWxpemVBcmlhU3VwcG9ydDpmdW5jdGlvbigpe3ZhciBqPXRoaXMuZ2V0X2VsZW1lbnQoKTsKaWYoai5pZCYmai5pZC5pbmRleE9mKCJEZXRhaWwiKSE9LTEpe2ouc2V0QXR0cmlidXRlKCJyb2xlIiwibGlzdGl0ZW0iKTsKdmFyIGg9ai5wYXJlbnROb2RlOwppZihoJiZoLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InRkIil7aC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJncm91cCIpOwp9dmFyIGY9dGhpcy5nZXRfZGF0YUl0ZW1zKCk7CmlmKGYubGVuZ3RoPjApe3ZhciBnPWZbMF0uZ2V0X2VsZW1lbnQoKS5pZC5zcGxpdCgiOiIpLmxlbmd0aDsKai5zZXRBdHRyaWJ1dGUoImFyaWEtbGV2ZWwiLGcudG9TdHJpbmcoKSk7Cn19dmFyIGE9dGhpcy5nZXRfdGFibGVGaWx0ZXJSb3coKTsKaWYoYSl7dmFyIGQ9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKTsKZm9yKHZhciBiPTA7CmI8ZC5sZW5ndGg7CmIrKyl7dmFyIGM9ZFtiXTsKdmFyIGU9Yy5zdHlsZS5kaXNwbGF5IT0ibm9uZSImJmMuc3R5bGUudmlzaWJpbGl0eSE9ImhpZGRlbiI7CmlmKGUpe3ZhciBrPWMudHlwZS50b0xvd2VyQ2FzZSgpOwppZihrPT0idGV4dCIpe2Muc2V0QXR0cmlidXRlKCJyb2xlIiwidGV4dGJveCIpOwp9aWYoaz09InN1Ym1pdCJ8fGs9PSJidXR0b24iKXtjLnNldEF0dHJpYnV0ZSgicm9sZSIsImJ1dHRvbiIpOwp9aWYoaz09ImNoZWNrYm94Iil7Yy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJjaGVja2JveCIpOwp9fX19dGhpcy5faW5pdGlhbGl6ZVRhYmxlVmlld0FyaWFTdXBwb3J0KCk7Cn0sX2luaXRpYWxpemVUYWJsZVZpZXdBcmlhU3VwcG9ydDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0X293bmVyKCkuQ2xpZW50U2V0dGluZ3M7CnZhciBoPXRoaXMuZ2V0X2NvbHVtbnMoKTsKdmFyIGw9dGhpcy5fZGF0YS5FZGl0TW9kZTsKdmFyIHE9dGhpcy5nZXRfZGF0YUl0ZW1zKCk7CnZhciBtOwp2YXIgbjsKdmFyIG87CnZhciBiOwpmb3IobT0wOwptPHEubGVuZ3RoOwptKyspe289cVttXTsKaWYoZSYmZS5BbGxvd1Jvd3NEcmFnRHJvcCYmZS5TZWxlY3RpbmcmJmUuU2VsZWN0aW5nLkFsbG93Um93U2VsZWN0KXt2YXIgcD1vLmdldF9lbGVtZW50KCk7CnAuc2V0QXR0cmlidXRlKCJhcmlhLWRyb3BlZmZlY3QiLCJtb3ZlIik7Cn1mb3Iobj0wOwpuPGgubGVuZ3RoOwpuKyspe3ZhciBmPWhbbl07CnZhciBrPW51bGw7CnZhciBnPWYuZ2V0X2VsZW1lbnQoKTsKaWYoZy5zdHlsZS5kaXNwbGF5PT0ibm9uZSIpe2cuc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsInRydWUiKTsKfWlmKGUuQWxsb3dDb2x1bW5zUmVvcmRlcil7Zy5zZXRBdHRyaWJ1dGUoImFyaWEtZHJvcGVmZmVjdCIsIm1vdmUiKTsKfXZhciByPWYuZ2V0X3VuaXF1ZU5hbWUoKTsKaWYoZy5jaGlsZE5vZGVzLmxlbmd0aD4wKXtnLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsZi5fZGF0YS5VbmlxdWVOYW1lKTsKfWlmKGYuX2RhdGEuQ29sdW1uVHlwZT09IkdyaWRFZGl0Q29tbWFuZENvbHVtbiImJmw9PSJQb3BVcCIpe2s9cjsKfWI9by5nZXRfY2VsbChyKTsKaWYoZi5fZGF0YS5Db2x1bW5UeXBlPT0iR3JpZENsaWVudFNlbGVjdENvbHVtbiIpe3ZhciBkPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0Iik7CmlmKGQubGVuZ3RoPjApe3ZhciBjPWRbMF07CmlmKGMuaWQmJmMuaWQuaW5kZXhPZigiU2VsZWN0Q2hlY2tCb3giKSE9LTEpe3ZhciBhPWYuX2RhdGEuVW5pcXVlTmFtZSsiIGNoZWNrYm94IjsKYy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJjaGVja2JveCIpOwpjLnNldEF0dHJpYnV0ZSgidGl0bGUiLGEpOwpjLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsYSk7CmMuc2V0QXR0cmlidXRlKCJhcmlhLWNoZWNrZWQiLGMuY2hlY2tlZCk7Cn19fWlmKGIuc3R5bGUuZGlzcGxheT09Im5vbmUiKXtiLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCJ0cnVlIik7Cn1pZihmLmdldF9yZWFkT25seSgpKXtiLnNldEF0dHJpYnV0ZSgiYXJpYS1yZWFkb25seSIsInRydWUiKTsKfWlmKGsmJmw9PSJQb3BVcCIpe2lmKGImJmIuZmlyc3RDaGlsZCYmKGIuZmlyc3RDaGlsZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJpbWcifHxiLmZpcnN0Q2hpbGQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iYSJ8fGIuZmlyc3RDaGlsZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJpbnB1dCIpKXtiLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJhcmlhLWhhc3BvcHVwIiwidHJ1ZSIpOwp9fX19fSxfaGFuZGxlQXV0b1Bvc3RCYWNrT25GaWx0ZXJXaXRob3V0RGVsYXk6ZnVuY3Rpb24oYixmLGMpe3ZhciBhPSRmaW5kKGIpOwppZih0aGlzLl9jdXJyZW50RmlsdGVyVGltZW91dElEKXtjbGVhclRpbWVvdXQodGhpcy5fY3VycmVudEZpbHRlclRpbWVvdXRJRCk7Cn10cnl7dmFyIGU9dGhpcy5nZXRfaWQoKTsKdGhpcy5fY3VycmVudEZpbHRlclRpbWVvdXRJRD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGk9JGZpbmQoZSk7CnZhciBnPWEuZ2V0X3RleHRCb3hWYWx1ZSgpOwp2YXIgaD1hLnBhcnNlRGF0ZShnKTsKaWYoIWkuX3Nob3VsZEF1dG9Qb3N0QmFja09uRmlsdGVyKXtyZXR1cm47Cn1pZihoIT1udWxsKXthLnNldF9zZWxlY3RlZERhdGUoaCk7CmlmKGEuZ2V0X3NlbGVjdGVkRGF0ZSgpKXtpLmZpbHRlcihmLGkuX2dldEZpbHRlckNvbnRyb2xWYWx1ZShmKSk7Cn19ZWxzZXtpZihnPT0iIil7aWYoaS5fX3Nob3VsZFBlcmZvcm1GaWx0ZXJpbmcpe2kuZmlsdGVyKGYsIiIpOwp9ZWxzZXt0aGlzLl9fc2hvdWxkUGVyZm9ybUZpbHRlcmluZz10cnVlOwp9fX19LGMpOwp9Y2F0Y2goZCl7fX0sX2hhbmRsZUF1dG9Qb3N0QmFja09uRmlsdGVyV2l0aERlbGF5OmZ1bmN0aW9uKGQsYixnLGMpe3ZhciBhPSRmaW5kKGIpOwp2YXIgZT1kP2Q6d2luZG93LmV2ZW50OwppZih0aGlzLl9jdXJyZW50RmlsdGVyVGltZW91dElEKXtjbGVhclRpbWVvdXQodGhpcy5fY3VycmVudEZpbHRlclRpbWVvdXRJRCk7Cn10cnl7aWYoZS5rZXlDb2RlPT0xM3x8ZS5rZXlDb2RlPT0yMCl7ZS5jYW5jZWxCdWJibGU9dHJ1ZTsKZS5yZXR1cm5WYWx1ZT1mYWxzZTsKaWYoZS5zdG9wUHJvcGFnYXRpb24pe2Uuc3RvcFByb3BhZ2F0aW9uKCk7CmUucHJldmVudERlZmF1bHQoKTsKfXRoaXMuX2N1cnJlbnRGaWx0ZXJUaW1lb3V0SUQ9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBoPWEuZ2V0X3RleHRCb3hWYWx1ZSgpOwp2YXIgaT1hLnBhcnNlRGF0ZShoKTsKaWYoaSE9bnVsbCl7YS5zZXRfc2VsZWN0ZWREYXRlKGkpOwp9ZWxzZXtpZihoPT0iIil7YS5zZXRfc2VsZWN0ZWREYXRlKGgpOwp9fX0sMCk7Cn1lbHNle3RoaXMuX2N1cnJlbnRGaWx0ZXJUaW1lb3V0SUQ9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBoPWEuZ2V0X3RleHRCb3hWYWx1ZSgpOwp2YXIgaT1hLnBhcnNlRGF0ZShoKTsKaWYoaSE9bnVsbCl7YS5zZXRfc2VsZWN0ZWREYXRlKGkpOwp9ZWxzZXtpZihoPT0iIil7YS5zZXRfc2VsZWN0ZWREYXRlKGgpOwp9fX0sYyk7Cn19Y2F0Y2goZil7fX0sX2ZpbHRlck9uS2V5RG93bldpdGhEZWxheTpmdW5jdGlvbihiLGQsZyxhLGUpe3ZhciBjPWI/Yjp3aW5kb3cuZXZlbnQ7CmlmKGMua2V5Q29kZT09OHx8Yy5rZXlDb2RlPT00Nil7aWYodGhpcy5fY3VycmVudEZpbHRlclRpbWVvdXRJRCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2N1cnJlbnRGaWx0ZXJUaW1lb3V0SUQpOwp9dmFyIGY9dGhpcy5nZXRfaWQoKTsKaWYoISR0ZWxlcmlrLmlzT3BlcmF8fGUpe3RoaXMuX2N1cnJlbnRGaWx0ZXJUaW1lb3V0SUQ9c2V0VGltZW91dChmdW5jdGlvbigpeyRmaW5kKGYpLmZpbHRlcihnLCRnZXQoZCkudmFsdWUpOwp9LGEpOwp9ZWxzZXt0aGlzLl9jdXJyZW50RmlsdGVyVGltZW91dElEPXNldFRpbWVvdXQoZnVuY3Rpb24oKXskZ2V0KGQpLmJsdXIoKTsKfSxhKTsKfX19LF9maWx0ZXJPbktleVByZXNzV2l0aERlbGF5OmZ1bmN0aW9uKGIsZCxnLGEsZSl7dmFyIGM9Yj9iOndpbmRvdy5ldmVudDsKdmFyIGY9dGhpcy5nZXRfaWQoKTsKaWYoJHRlbGVyaWsuaXNGaXJlZm94JiYoKGMua2V5Q29kZT49MzMmJmMua2V5Q29kZTw9NDApfHwoYy5rZXlDb2RlPj0xMTImJmMua2V5Q29kZTw9MTIzKXx8KGMua2V5Q29kZT49MTYmJmMua2V5Q29kZTw9MjApfHwoYy5rZXlDb2RlPj0xNDQmJmMua2V5Q29kZTw9MTQ1KXx8KGMua2V5Q29kZT49OTImJmMua2V5Q29kZTw9OTMpKSl7cmV0dXJuOwp9aWYodGhpcy5fY3VycmVudEZpbHRlclRpbWVvdXRJRCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2N1cnJlbnRGaWx0ZXJUaW1lb3V0SUQpOwp9aWYoYy5rZXlDb2RlPT0xMyl7Yy5jYW5jZWxCdWJibGU9dHJ1ZTsKYy5yZXR1cm5WYWx1ZT1mYWxzZTsKaWYoKGMucHJldmVudERlZmF1bHQpKXtjLnByZXZlbnREZWZhdWx0KCk7CmMuc3RvcFByb3BhZ2F0aW9uKCk7Cn1pZighJHRlbGVyaWsuaXNPcGVyYXx8ZSl7dGhpcy5fY3VycmVudEZpbHRlclRpbWVvdXRJRD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JGZpbmQoZikuZmlsdGVyKGcsJGdldChkKS52YWx1ZSk7Cn0sMCk7Cn1lbHNle3RoaXMuX2N1cnJlbnRGaWx0ZXJUaW1lb3V0SUQ9c2V0VGltZW91dChmdW5jdGlvbigpeyRnZXQoZCkuYmx1cigpOwp9LDApOwp9cmV0dXJuIGZhbHNlOwp9ZWxzZXtpZighJHRlbGVyaWsuaXNPcGVyYXx8ZSl7dGhpcy5fY3VycmVudEZpbHRlclRpbWVvdXRJRD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JGZpbmQoZikuZmlsdGVyKGcsJGdldChkKS52YWx1ZSk7Cn0sYSk7Cn1lbHNle3RoaXMuX2N1cnJlbnRGaWx0ZXJUaW1lb3V0SUQ9c2V0VGltZW91dChmdW5jdGlvbigpeyRnZXQoZCkuYmx1cigpOwp9LGEpOwp9fX0sX2ZpbHRlck5vRGVsYXk6ZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzLmdldF9pZCgpOwppZih0aGlzLl9jdXJyZW50RmlsdGVyVGltZW91dElEKXtjbGVhclRpbWVvdXQodGhpcy5fY3VycmVudEZpbHRlclRpbWVvdXRJRCk7Cn10aGlzLl9jdXJyZW50RmlsdGVyVGltZW91dElEPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT0kZ2V0KGEpLnZhbHVlOwp2YXIgZD0kZmluZChhKTsKaWYoZCYmZC5nZXRfdmFsdWUpe2U9ZC5nZXRfdmFsdWUoKTsKfSRmaW5kKGIpLmZpbHRlcihjLGUpOwp9LDApOwp9LGdldF9jbGllbnREYXRhS2V5TmFtZXM6ZnVuY3Rpb24oKXt2YXIgYT1bXTsKaWYodGhpcy5fZGF0YS5jbGllbnREYXRhS2V5TmFtZXMpe2E9dGhpcy5fZGF0YS5jbGllbnREYXRhS2V5TmFtZXM7Cn1yZXR1cm4gYTsKfSxnZXRfZGF0YUl0ZW1zOmZ1bmN0aW9uKCl7aWYodGhpcy5fZGF0YUl0ZW1zQ3JlYXRlZHx8KHRoaXMuX2NhY2hlZEl0ZW1zJiZ0aGlzLl9jYWNoZWRJdGVtcy5sZW5ndGg+MCkpe3JldHVybiB0aGlzLl9kYXRhSXRlbXM7Cn10aGlzLl9kYXRhSXRlbXNDcmVhdGVkPXRydWU7CnZhciBwPSgkdGVsZXJpay5pc09wZXJhKT90aGlzLmdldF9lbGVtZW50KCk6dGhpcy5nZXRfZWxlbWVudCgpLnRCb2RpZXNbMF07CnZhciBvPXAucm93czsKdmFyIGMsaCxrLG07CmZvcihjPTAsaz1vLmxlbmd0aDsKYzxrOwpjKyspe3ZhciBuPW9bY107CmlmKCFuLmlkKXtjb250aW51ZTsKfXZhciBiPSRmaW5kKG4uaWQpOwp2YXIgYT17fTsKdGhpcy5fb3duZXIucmFpc2Vfcm93Q3JlYXRpbmcobmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUNhbmNlbEV2ZW50QXJncyhuLG51bGwpKTsKdmFyIGU9dHJ1ZTsKdmFyIGc9dGhpcy5fb3duZXIuX3Vuc2VsZWN0YWJsZUl0ZW1zSW50ZXJuYWw7CmZvcihoPTAsbT1nLmxlbmd0aDsKaDxtOwpoKyspe2lmKGdbaF0uaWQ9PW4uaWQpe2U9ZmFsc2U7CmJyZWFrOwp9fXZhciBmPWZhbHNlOwpmb3IoaD0wOwpoPHRoaXMuX293bmVyLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWwubGVuZ3RoOwpoKyspe2lmKHRoaXMuX293bmVyLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWxbaF0uaWQ9PW4uaWQpe2Y9dHJ1ZTsKYnJlYWs7Cn19dmFyIGQ9ZmFsc2U7CmlmKHRoaXMuX293bmVyLl9leHBhbmRJdGVtc1tuLmlkLnNwbGl0KCJfXyIpWzFdXSl7ZD10cnVlOwp9Zm9yKGg9MDsKaDx0aGlzLl9vd25lci5fZXhwYW5kZWRJdGVtcy5sZW5ndGg7CmgrKyl7aWYodGhpcy5fb3duZXIuX2V4cGFuZGVkSXRlbXNbaF09PW4uaWQuc3BsaXQoIl9fIilbMV0pe2Q9IWQ7CmJyZWFrOwp9fWlmKCFiKXtiPSRjcmVhdGUoVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtLHtfb3duZXI6dGhpcyxfZGF0YTphfSxudWxsLG51bGwsbik7Cn1iLl9zZWxlY3RhYmxlPWU7CmIuX3NlbGVjdGVkPWY7CmIuX2V4cGFuZGVkPWQ7CmIuX2l0ZW1JbmRleEhpZXJhcmNoaWNhbD1uLmlkLnNwbGl0KCJfXyIpWzFdOwppZih0aGlzLl92aXJ0dWFsaXphdGlvbil7dGhpcy5fdmlydHVhbGl6YXRpb24udXBkYXRlSXRlbVN0YXRlKGIpOwp9dGhpcy5fZGF0YUl0ZW1zW3RoaXMuX2RhdGFJdGVtcy5sZW5ndGhdPWI7CmlmKGM9PTApe3RoaXMuX3NhdmVDZWxsQXR0cmlidXRlcyhiKTsKfXRoaXMuX293bmVyLnJhaXNlX3Jvd0NyZWF0ZWQobmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUV2ZW50QXJncyhuLG51bGwpKTsKfWlmKHRoaXMuX3ZpcnR1YWxpemF0aW9uKXt0aGlzLl92aXJ0dWFsaXphdGlvbi51cGRhdGVJdGVtc0NlbGxTZWxlY3Rpb25TdGF0ZSgpOwp9cmV0dXJuIHRoaXMuX2RhdGFJdGVtczsKfSxnZXRfb3duZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3duZXI7Cn0sZ2V0X25hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5OYW1lOwp9LGdldF9pc0l0ZW1JbnNlcnRlZDpmdW5jdGlvbigpe2lmKHRoaXMuX2RhdGEuRWRpdE1vZGU9PSJCYXRjaCIpe3ZhciBhPXRoaXMuZ2V0X2RhdGFJdGVtcygpOwpyZXR1cm4gYS5sZW5ndGg+MCYmYVswXS5nZXRfZWxlbWVudCgpLmlkLmluZGV4T2YoIi0iKT49MDsKfWVsc2V7cmV0dXJuIHRoaXMuX2RhdGEuSXNJdGVtSW5zZXJ0ZWQ7Cn19LGdldF9pbnNlcnRJdGVtOmZ1bmN0aW9uKCl7dmFyIGI9JGZpbmQodGhpcy5fb3duZXIuZ2V0X2lkKCkpOwp2YXIgYz1udWxsOwpmdW5jdGlvbiBhKGope2Zvcih2YXIgZz0wOwpnPGoubGVuZ3RoOwpnKyspe3ZhciBoPWpbZ107CmlmKGguY2xhc3NOYW1lLmluZGV4T2YoInJnRWRpdFJvdyIpPi0xKXtyZXR1cm4gaDsKfWVsc2V7dmFyIGY9aC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IilbMF07CmlmKGYmJmYuY2xhc3NOYW1lLmluZGV4T2YoInJnRWRpdEZvcm0iKT4tMSl7cmV0dXJuIGg7Cn19fXJldHVybiBudWxsOwp9aWYodGhpcz09PWIuZ2V0X21hc3RlclRhYmxlVmlldygpJiZiLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5BbGxvd1Njcm9sbCYmYi5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuVXNlU3RhdGljSGVhZGVycyl7aWYoYi5HcmlkSGVhZGVyRGl2KXt2YXIgZT1iLkdyaWRIZWFkZXJEaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRoZWFkIilbMF07CmlmKGUpe2M9YShlLnJvd3MpOwp9aWYoIWMmJmIuUGFnZXJDb250cm9sKXtjPWEoYi5QYWdlckNvbnRyb2wucm93cyk7Cn19fWVsc2V7dmFyIGQ9dGhpcy5nZXRfZWxlbWVudCgpOwppZihkLnRIZWFkKXtjPWEoZC50SGVhZC5yb3dzKTsKfWlmKCFjJiZkLnRGb290KXtjPWEoZC50Rm9vdC5yb3dzKTsKfX1yZXR1cm4gYzsKfSxnZXRfZWRpdEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGE9W107CnZhciBjPXRoaXMuZ2V0X2RhdGFJdGVtcygpOwpmb3IodmFyIGI9MDsKYjxjLmxlbmd0aDsKYisrKXtpZihjW2JdLmdldF9pc0luRWRpdE1vZGUoKSl7YVthLmxlbmd0aF09Y1tiXTsKfX1yZXR1cm4gYTsKfSxfaGFuZGxlcktleURvd25Jbkluc2VySXRlbTpmdW5jdGlvbihhKXt2YXIgZD1hLmtleUNvZGV8fGEuY2hhckNvZGU7CmlmKGEuY2hhckNvZGUpe2Q9U3RyaW5nLmZyb21DaGFyQ29kZShhLmNoYXJDb2RlKS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCk7Cn12YXIgYj0oZD09dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuRXhpdEVkaXRJbnNlcnRNb2RlS2V5KTsKdmFyIGM9KGQ9PXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLlVwZGF0ZUluc2VydEl0ZW1LZXkpOwppZighdGhpcy5fb3duZXIuX2NhbkhhbmRsZUtleWJvYXJkQWN0aW9uKGEpKXtyZXR1cm47Cn1pZihiKXt0aGlzLmNhbmNlbEluc2VydCgpOwphLmNhbmNlbEJ1YmJsZT10cnVlOwphLnJldHVyblZhbHVlPWZhbHNlOwppZihhLnN0b3BQcm9wYWdhdGlvbil7YS5wcmV2ZW50RGVmYXVsdCgpOwphLnN0b3BQcm9wYWdhdGlvbigpOwp9fWVsc2V7aWYoYyl7dGhpcy5pbnNlcnRJdGVtKCk7CmEuY2FuY2VsQnViYmxlPXRydWU7CmEucmV0dXJuVmFsdWU9ZmFsc2U7CmlmKGEuc3RvcFByb3BhZ2F0aW9uKXthLnByZXZlbnREZWZhdWx0KCk7CmEuc3RvcFByb3BhZ2F0aW9uKCk7Cn19fXJldHVybiBmYWxzZTsKfSxfc2hvd05vdEZyb3plbkNvbHVtbjpmdW5jdGlvbihhKXt0aGlzLl9oaWRlU2hvd05vdEZyb3plbkNvbHVtbihhLHRydWUsdHJ1ZSk7Cn0sX2hpZGVOb3RGcm96ZW5Db2x1bW46ZnVuY3Rpb24oYSl7dGhpcy5faGlkZVNob3dOb3RGcm96ZW5Db2x1bW4oYSxmYWxzZSx0cnVlKTsKfSxzaG93Q29sdW1uOmZ1bmN0aW9uKGMpe2lmKHRoaXMuZ2V0X2NvbHVtbnMoKVtjXS5nZXRfdmlzaWJsZSgpKXtyZXR1cm47Cn12YXIgYT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbkNhbmNlbEV2ZW50QXJncyh0aGlzLmdldF9jb2x1bW5zKClbY10sbnVsbCk7CnRoaXMuX293bmVyLnJhaXNlX2NvbHVtblNob3dpbmcoYSk7CmlmKGEuZ2V0X2NhbmNlbCgpKXtyZXR1cm4gZmFsc2U7Cn10aGlzLl9oaWRlU2hvd0NvbHVtbihjLHRydWUpOwp2YXIgYj10aGlzLl9kYXRhLlVuaXF1ZUlEKyIsIit0aGlzLmdldF9jb2x1bW5zKClbY10uZ2V0X3VuaXF1ZU5hbWUoKTsKaWYoIUFycmF5LmNvbnRhaW5zKHRoaXMuX293bmVyLl9zaG93ZWRDb2x1bW5zLGIpKXtBcnJheS5hZGQodGhpcy5fb3duZXIuX3Nob3dlZENvbHVtbnMsYik7Cn1pZihBcnJheS5jb250YWlucyh0aGlzLl9vd25lci5faGlkZWRDb2x1bW5zLGIpKXtBcnJheS5yZW1vdmUodGhpcy5fb3duZXIuX2hpZGVkQ29sdW1ucyxiKTsKfXRoaXMuX293bmVyLnVwZGF0ZUNsaWVudFN0YXRlKCk7CiRmaW5kKHRoaXMuX293bmVyLmdldF9pZCgpKS5yZXBhaW50KCk7CmE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5FdmVudEFyZ3ModGhpcy5nZXRfY29sdW1ucygpW2NdLG51bGwpOwp0aGlzLl9vd25lci5yYWlzZV9jb2x1bW5TaG93bihhKTsKfSxoaWRlQ29sdW1uOmZ1bmN0aW9uKGQpe2lmKCF0aGlzLmdldF9jb2x1bW5zKClbZF0uZ2V0X3Zpc2libGUoKSl7cmV0dXJuOwp9aWYodGhpcy5fZ2V0VmlzaWJsZUNvbHVtbnNDb3VudCgpPT0xKXt2YXIgYz10aGlzLmdldF9jb2x1bW5zKClbZF0uX2RhdGEuQ29sdW1uVHlwZTsKaWYoIXRoaXMuX2lzSGVscGVyQ29sdW1uVHlwZShjKSl7cmV0dXJuOwp9fXZhciBhPW5ldyBUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uQ2FuY2VsRXZlbnRBcmdzKHRoaXMuZ2V0X2NvbHVtbnMoKVtkXSxudWxsKTsKdGhpcy5fb3duZXIucmFpc2VfY29sdW1uSGlkaW5nKGEpOwppZihhLmdldF9jYW5jZWwoKSl7cmV0dXJuIGZhbHNlOwp9dGhpcy5faGlkZVNob3dDb2x1bW4oZCxmYWxzZSk7CnZhciBiPXRoaXMuX2RhdGEuVW5pcXVlSUQrIiwiK3RoaXMuZ2V0X2NvbHVtbnMoKVtkXS5nZXRfdW5pcXVlTmFtZSgpOwppZighQXJyYXkuY29udGFpbnModGhpcy5fb3duZXIuX2hpZGVkQ29sdW1ucyxiKSl7QXJyYXkuYWRkKHRoaXMuX293bmVyLl9oaWRlZENvbHVtbnMsYik7Cn1pZihBcnJheS5jb250YWlucyh0aGlzLl9vd25lci5fc2hvd2VkQ29sdW1ucyxiKSl7QXJyYXkucmVtb3ZlKHRoaXMuX293bmVyLl9zaG93ZWRDb2x1bW5zLGIpOwp9dGhpcy5fb3duZXIudXBkYXRlQ2xpZW50U3RhdGUoKTsKYT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbkV2ZW50QXJncyh0aGlzLmdldF9jb2x1bW5zKClbZF0sbnVsbCk7CnRoaXMuX293bmVyLnJhaXNlX2NvbHVtbkhpZGRlbihhKTsKfSxfZ2V0VmlzaWJsZUNvbHVtbnNDb3VudDpmdW5jdGlvbigpe3ZhciBjPTA7CnZhciBiPXRoaXMuZ2V0X2NvbHVtbnMoKTsKdmFyIGE9bnVsbDsKdmFyIGQ9bnVsbDsKZm9yKHZhciBlPTAsZj1iLmxlbmd0aDsKZTxmOwplKyspe2E9YltlXTsKZD1hLl9kYXRhLkNvbHVtblR5cGU7CmlmKHRoaXMuX2lzSGVscGVyQ29sdW1uVHlwZShkKXx8YS5nZXRfZWxlbWVudCgpLnN0eWxlLmRpc3BsYXk9PSJub25lIil7Y29udGludWU7Cn1jKys7Cn1yZXR1cm4gYzsKfSxfaXNIZWxwZXJDb2x1bW5UeXBlOmZ1bmN0aW9uKGEpe2lmKGE9PSJHcmlkRXhwYW5kQ29sdW1uInx8YT09IkdyaWRHcm91cFNwbGl0dGVyQ29sdW1uInx8YT09IkdyaWRSb3dJbmRpY2F0b3JDb2x1bW4ifHxhPT0iR3JpZERyYWdEcm9wQ29sdW1uIil7cmV0dXJuIHRydWU7Cn1yZXR1cm4gZmFsc2U7Cn0sX2hpZGVTaG93Q29sdW1uOmZ1bmN0aW9uKGMsYSxiKXthPXRoaXMuZ2V0X2NvbHVtbnMoKVtjXS5EaXNwbGF5PWE7CmlmKHRoaXMuZ2V0X2NvbHVtbnMoKVtjXS5fZGF0YSl7dGhpcy5nZXRfY29sdW1ucygpW2NdLl9kYXRhLkRpc3BsYXk9YTsKfXZhciBkPWZhbHNlOwppZih0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5SZXNpemluZyYmdGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuUmVzaXppbmcuRW5hYmxlUmVhbFRpbWVSZXNpemUpe2Q9dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuUmVzaXppbmcuRW5hYmxlUmVhbFRpbWVSZXNpemU7Cn1pZih0aGlzIT10aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkmJnRoaXMhPXRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKSYmdGhpcyE9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpKXt0aGlzLl9oaWRlU2hvd0NvbCh0aGlzLGMsYSk7CmlmKCFiKXtUZWxlcmlrLldlYi5VSS5HcmlkLmhpZGVTaG93Q2VsbHModGhpcy5nZXRfZWxlbWVudCgpLGMsYSx0aGlzLkNvbEdyb3VwLkNvbHMpOwp9dGhpcy5fc2V0SGVhZGVyRm9vdGVyU3BhbigpOwpyZXR1cm47Cn1pZih0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkpe3RoaXMuX2hpZGVTaG93Q29sKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdIZWFkZXIoKSxjLGEpOwpUZWxlcmlrLldlYi5VSS5HcmlkLmhpZGVTaG93Q2VsbHModGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpLmdldF9lbGVtZW50KCksYyxhLHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5Db2xHcm91cC5Db2xzKTsKfWlmKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKSl7dGhpcy5faGlkZVNob3dDb2wodGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLGMsYSk7CmlmKCFiKXtUZWxlcmlrLldlYi5VSS5HcmlkLmhpZGVTaG93Q2VsbHModGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9lbGVtZW50KCksYyxhLHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5Db2xHcm91cC5Db2xzKTsKfX1pZih0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCkmJiFiKXt0aGlzLl9oaWRlU2hvd0NvbCh0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCksYyxhKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5oaWRlU2hvd0NlbGxzKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKS5nZXRfZWxlbWVudCgpLGMsYSx0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCkuQ29sR3JvdXAuQ29scyk7Cn1pZighYil7dGhpcy5fc2V0SGVhZGVyRm9vdGVyU3BhbigpOwp9fSxfc2V0UGFyZW50VGFibGVDZWxsczpmdW5jdGlvbihuKXt2YXIgdz1bXTsKdmFyIG89dGhpcy5fZGF0YS5oaWRkZW5Db2x1bW5IZWFkZXJTcGFuczsKdmFyIHA9by5zcGxpdCgiOyIpOwp2YXIgcz0wOwpmb3IodmFyIHU9MDsKdTxuLmxlbmd0aC0xOwp1Kyspe3ZhciB4PW5bdV07CmZvcih2YXIgdj0wOwp2PHguY2VsbHMubGVuZ3RoOwp2Kyspe3ZhciBhPXguY2VsbHNbdl07CmlmKCFhLmlkKXthLmFjdHVhbENvbFNwYW49cGFyc2VJbnQocFtzXSwxMCk7CnMrKzsKfX19Zm9yKHZhciBxPTA7CnE8bi5sZW5ndGg7CnErKyl7dmFyIHk9bltxXTsKdmFyIGI9MDsKdmFyIGY9MDsKdmFyIGg9bnVsbDsKdmFyIG09MDsKdmFyIGc9W107CmlmKHcubGVuZ3RoPjApe2g9d1swXTsKZj1oLmFjdHVhbENvbFNwYW4/aC5hY3R1YWxDb2xTcGFuOmguY29sU3BhbjsKfWZvcih2YXIgdD0wOwp0PHkuY2VsbHMubGVuZ3RoOwp0Kyspe3ZhciBkPXkuY2VsbHNbdF07CnZhciBlPWQuYWN0dWFsQ29sU3Bhbj9kLmFjdHVhbENvbFNwYW46ZC5jb2xTcGFuOwppZihxPT0wKXtkLnBhcmVudENlbGw9bnVsbDsKYis9ZTsKfWVsc2V7ZC5wYXJlbnRDZWxsPWg7CmlmKGQuY29sU3BhbjxmKXtmLT1lOwp9ZWxzZXtpZihlPT1mKXtpZihtPHcubGVuZ3RoLTEpe2g9d1srK21dOwpmPWguYWN0dWFsQ29sU3Bhbj9oLmFjdHVhbENvbFNwYW46aC5jb2xTcGFuOwp9fX19aWYoIWQuaWR8fGQuaWQuaW5kZXhPZigiTXVsdGlIZWFkZXIiKT09LTEpe2cucHVzaChkKTsKfX13PWc7Cn19LF9zZXRIZWFkZXJGb290ZXJTcGFuOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oaSl7aWYoIWkpe3JldHVybiAwOwp9dmFyIGs9MDsKZm9yKHZhciBsPTAsbT1pLmxlbmd0aDsKbDxtOwpsKyspe2srPWlbbF0uY29sU3BhbjsKfXJldHVybiBrOwp9Owp2YXIgZz10aGlzLmdldF9lbGVtZW50KCkudEZvb3Q7CnZhciBoPXRoaXMuZ2V0X2VsZW1lbnQoKS50SGVhZDsKdmFyIGU9TWF0aC5tYXgodGhpcy5fZ2V0VmlzaWJsZUNvbHVtbnNMZW5ndGhPbmx5KCksMSk7CnZhciBjLGQsYjsKaWYoZyYmZy5yb3dzKXtmb3IoYz0wLGQ9Zy5yb3dzLmxlbmd0aDsKYzxkOwpjKyspe2lmKGcucm93c1tjXS5jZWxscyYmZy5yb3dzW2NdLmNlbGxzWzBdKXtiPWEoZy5yb3dzW2NdLmNlbGxzKTsKaWYoZT5iKXtnLnJvd3NbY10uY2VsbHNbMF0uY29sU3Bhbj1lOwp9fX19aWYoaCYmaC5yb3dzKXtmb3IoYz0wLGQ9aC5yb3dzLmxlbmd0aDsKYzxkOwpjKyspe2lmKGgucm93c1tjXSYmKGgucm93c1tjXT09dGhpcy5nZXRfZWxlbWVudCgpLkhlYWRlclJvd3x8KGgucm93c1tjXS5jZWxscy5sZW5ndGg+MCYmaC5yb3dzW2NdLmNlbGxzWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InRoIikpKXt2YXIgZj0odGhpcy5nZXRfZWxlbWVudCgpLnRCb2RpZXMmJnRoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdKT90aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXTpudWxsOwppZihmJiZmLnJvd3MmJmYuc3R5bGUuZGlzcGxheT09Im5vbmUiJiZmLnJvd3NbMF0uY2VsbHMubGVuZ3RoPT0xJiZmLnJvd3NbMF0uY2VsbHNbMF0uY29sU3Bhbil7Zi5yb3dzWzBdLmNlbGxzWzBdLmNvbFNwYW49ZTsKfWJyZWFrOwp9aWYoaC5yb3dzW2NdJiZoLnJvd3NbY10uY2VsbHMmJmgucm93c1tjXS5jZWxscy5sZW5ndGg+MCYmaC5yb3dzW2NdLmNlbGxzWzBdKXtiPWEoaC5yb3dzW2NdLmNlbGxzKTsKaWYoZT5iKXtoLnJvd3NbY10uY2VsbHNbMF0uY29sU3Bhbj1lOwp9fX19fSxfZ2V0VmlzaWJsZUNvbHVtbnNMZW5ndGhPbmx5OmZ1bmN0aW9uKCl7dmFyIGM9MDsKdmFyIGI9dGhpcy5nZXRfY29sdW1ucygpOwppZihiKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoOwpkPGU7CmQrKyl7dmFyIGE9YltkXTsKaWYoYS5nZXRfZWxlbWVudCgpLnN0eWxlLnZpc2liaWxpdHkhPSJoaWRkZW4iJiZhLmdldF9lbGVtZW50KCkuc3R5bGUuZGlzcGxheSE9Im5vbmUiJiYoYS5EaXNwbGF5PT1udWxsfHxhLkRpc3BsYXkpKXtjKys7Cn19fXJldHVybiBjOwp9LF9nZXRWaXNpYmxlQ29sdW1uczpmdW5jdGlvbigpe3ZhciBlPVtdOwp2YXIgYj10aGlzLmdldF9jb2x1bW5zKCk7CmlmKGIpe2Zvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7CmM8ZDsKYysrKXt2YXIgYT1iW2NdOwppZihhLmdldF9lbGVtZW50KCkuc3R5bGUudmlzaWJpbGl0eSE9ImhpZGRlbiImJmEuZ2V0X2VsZW1lbnQoKS5zdHlsZS5kaXNwbGF5IT0ibm9uZSImJihhLkRpc3BsYXk9PW51bGx8fGEuRGlzcGxheSkpe0FycmF5LmFkZChlLGEpOwp9fX1yZXR1cm4gZTsKfSxfaGlkZVNob3dDb2w6ZnVuY3Rpb24oZSxkLGMpe2lmKGUmJmUuQ29sR3JvdXAmJmUuQ29sR3JvdXAuQ29scyYmZS5Db2xHcm91cC5Db2xzW2RdKXt2YXIgYT1lLkNvbEdyb3VwLkNvbHNbZF07CnZhciBiPShhLnN0eWxlLmRpc3BsYXk9PSIiKT90cnVlOmZhbHNlOwppZihiIT1jKXtpZihjKXthLnN0eWxlLmRpc3BsYXk9IiI7CmlmKHRoaXMuX293bmVyLmdldF9lbmFibGVBcmlhU3VwcG9ydCgpKXthLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCJmYWxzZSIpOwp9fWVsc2V7YS5zdHlsZS5kaXNwbGF5PSJub25lIjsKaWYodGhpcy5fb3duZXIuZ2V0X2VuYWJsZUFyaWFTdXBwb3J0KCkpe2Euc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsInRydWUiKTsKfX10aGlzLl90cnlBZGRSZW1vdmVDb2xXaWR0aChlLGMpOwp9fX0sX3RyeUFkZFJlbW92ZUNvbFdpZHRoOmZ1bmN0aW9uKGYsYyl7dmFyIGQ9JGdldCh0aGlzLl9vd25lci5DbGllbnRJRCsiX0Zyb3plbiIpIT1udWxsOwppZigoISR0ZWxlcmlrLmlzSUU4JiYhJHRlbGVyaWsuaXNDaHJvbWUmJiEkdGVsZXJpay5pc1NhZmFyaSl8fGQpe3JldHVybjsKfXZhciBnPWYuX2dldFZpc2libGVDb2x1bW5zKCk7CmlmKGcubGVuZ3RoIT09MSl7cmV0dXJuOwp9dmFyIGE9Zi5fZ2V0VmlzaWJsZUNvbHVtbnMoKVswXSxlPWEuZ2V0X2VsZW1lbnQoKS5jZWxsSW5kZXgsYjsKaWYoZiYmZi5Db2xHcm91cCYmZi5Db2xHcm91cC5Db2xzJiZmLkNvbEdyb3VwLkNvbHNbZV0pe2I9Zi5Db2xHcm91cC5Db2xzW2VdOwppZihjKXtpZihhLl9idWZmZXJXaWR0aCl7Yi5zdHlsZS53aWR0aD1hLl9idWZmZXJXaWR0aDsKYS5fYnVmZmVyV2lkdGg9bnVsbDsKfX1lbHNle2EuX2J1ZmZlcldpZHRoPWIuc3R5bGUud2lkdGg7CmIuc3R5bGUud2lkdGg9IiI7Cn19fSxfaGlkZVNob3dOb3RGcm96ZW5Db2x1bW46ZnVuY3Rpb24oZCxiLGope3ZhciBnPTEwOwppZighYiYmdGhpcy5fZ2V0VmlzaWJsZUNvbHVtbnNDb3VudCgpPT0xKXt2YXIgYT10aGlzLmdldF9jb2x1bW5zKClbZF0uX2RhdGEuQ29sdW1uVHlwZTsKaWYoIXRoaXMuX2lzSGVscGVyQ29sdW1uVHlwZShhKSl7cmV0dXJuOwp9fWlmKCR0ZWxlcmlrLmlzT3BlcmEpe2c9bmF2aWdhdG9yLnVzZXJBZ2VudC5zdWJzdHJpbmcobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJWZXJzaW9uLyIpKyJWZXJzaW9uIi5sZW5ndGgrMSkqMTsKfXZhciBjLGUsaCxrOwppZih0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkpe3RoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdIZWFkZXIoKS5nZXRfY29sdW1ucygpW2RdLkZyb3plbkRpc3BsYXk9YjsKdGhpcy5faGlkZVNob3dDb2wodGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpLGQsYik7ClRlbGVyaWsuV2ViLlVJLkdyaWQuaGlkZVNob3dDZWxscyh0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkuZ2V0X2VsZW1lbnQoKSxkLGIsdGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpLkNvbEdyb3VwLkNvbHMsaik7CnRoaXMuX3NldEhlYWRlckZvb3RlclNwYW4oKTsKfXZhciBmPXRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKTsKaWYoZil7Zi5nZXRfY29sdW1ucygpW2RdLkZyb3plbkRpc3BsYXk9YjsKdGhpcy5faGlkZVNob3dDb2woZixkLGIpOwp0aGlzLl9oaWRlU2hvd0NvbCh0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCksZCxiKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5oaWRlU2hvd0NlbGxzKGYuZ2V0X2VsZW1lbnQoKSxkLGIsZi5Db2xHcm91cC5Db2xzLGopOwp0aGlzLl9zZXRIZWFkZXJGb290ZXJTcGFuKCk7Cmg9Zi5nZXRfZWxlbWVudCgpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzZWxlY3QiKTsKaWYoaC5sZW5ndGg+MCl7az1mLmdldF9lbGVtZW50KCk7CnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmb3IoYz0wLGU9ay5yb3dzLmxlbmd0aDsKYzxlOwpjKyspe3ZhciBpPWsucm93c1tjXS5jZWxsc1tkXTsKVGVsZXJpay5XZWIuVUkuR3JpZC5faGlkZVNob3dTZWxlY3QoaSxiKTsKfX0sMCk7Cn19aWYodGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpKXt0aGlzLl9oaWRlU2hvd0NvbCh0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCksZCxiKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5oaWRlU2hvd0NlbGxzKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKS5nZXRfZWxlbWVudCgpLGQsYix0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCkuQ29sR3JvdXAuQ29scyxqKTsKdGhpcy5fc2V0SGVhZGVyRm9vdGVyU3BhbigpOwpoPXRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKS5nZXRfZWxlbWVudCgpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzZWxlY3QiKTsKaWYoaC5sZW5ndGg+MCl7az10aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCkuZ2V0X2VsZW1lbnQoKTsKc2V0VGltZW91dChmdW5jdGlvbigpe2ZvcihjPTAsZT1rLnJvd3MubGVuZ3RoOwpjPGU7CmMrKyl7dmFyIGk9ay5yb3dzW2NdLmNlbGxzW2RdOwpUZWxlcmlrLldlYi5VSS5HcmlkLl9oaWRlU2hvd1NlbGVjdChpLGIpOwp9fSwwKTsKfX19LGhpZGVJdGVtOmZ1bmN0aW9uKGQpe2lmKCF0aGlzLl9jYW5TaG93SGlkZUl0ZW0oZCkpe3JldHVybiBmYWxzZTsKfXZhciBlPW51bGw7CmlmKHRoaXMuZ2V0X2VsZW1lbnQoKSYmdGhpcy5nZXRfZWxlbWVudCgpLnRCb2RpZXMubGVuZ3RoPjEpe3ZhciBiPSR0ZWxlcmlrLmdldEZpcnN0Q2hpbGRCeVRhZ05hbWUodGhpcy5nZXRfZWxlbWVudCgpLCJ0Ym9keSIsMCk7CmlmKGImJmIucm93c1tkXSl7ZT1iLnJvd3NbZF07Cn19ZWxzZXtpZih0aGlzLmdldF9lbGVtZW50KCkmJnRoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdJiZ0aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXS5yb3dzW2RdKXtlPXRoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdLnJvd3NbZF07Cn19dmFyIGE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUNhbmNlbEV2ZW50QXJncyhlLG51bGwpOwp0aGlzLl9vd25lci5yYWlzZV9yb3dIaWRpbmcoYSk7CmlmKGEuZ2V0X2NhbmNlbCgpKXtyZXR1cm4gZmFsc2U7Cn1pZihlKXtlLnN0eWxlLmRpc3BsYXk9Im5vbmUiOwp9aWYoZSYmZS5pZCE9IiImJmUuaWQuc3BsaXQoIl9fIikubGVuZ3RoPT0yKXt2YXIgZj1lLmlkLnNwbGl0KCJfXyIpWzFdOwp2YXIgYz10aGlzLl9oaWRlZEl0ZW1zRGF0YTsKYy5hZGQoU3RyaW5nLmZvcm1hdCgiezB9LHsxfSIsdGhpcy5nZXRfaWQoKSxmKSk7CnRoaXMuX293bmVyLl9oaWRlZEl0ZW1zPWMudG9TdHJpbmcoKTsKdGhpcy5fb3duZXIudXBkYXRlQ2xpZW50U3RhdGUoKTsKfSRmaW5kKHRoaXMuX293bmVyLmdldF9pZCgpKS5fZ2V0UG9zaXRpb25lZERhdGFJdGVtcyh0cnVlKTsKYT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtRXZlbnRBcmdzKGUsbnVsbCk7CnRoaXMuX293bmVyLnJhaXNlX3Jvd0hpZGRlbihhKTsKfSxzaG93SXRlbTpmdW5jdGlvbihjKXtpZighdGhpcy5fY2FuU2hvd0hpZGVJdGVtKGMpKXtyZXR1cm4gZmFsc2U7Cn12YXIgZD1udWxsOwppZih0aGlzLmdldF9lbGVtZW50KCkmJnRoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzLmxlbmd0aD4xKXt2YXIgYj0kdGVsZXJpay5nZXRGaXJzdENoaWxkQnlUYWdOYW1lKHRoaXMuZ2V0X2VsZW1lbnQoKSwidGJvZHkiLDApOwppZihiJiZiLnJvd3NbY10pe2Q9Yi5yb3dzW2NdOwp9fWVsc2V7aWYodGhpcy5nZXRfZWxlbWVudCgpJiZ0aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXSYmdGhpcy5nZXRfZWxlbWVudCgpLnRCb2RpZXNbMF0ucm93c1tjXSl7ZD10aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXS5yb3dzW2NdOwp9fXZhciBhPW5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1DYW5jZWxFdmVudEFyZ3MoZCxudWxsKTsKdGhpcy5fb3duZXIucmFpc2Vfcm93U2hvd2luZyhhKTsKaWYoYS5nZXRfY2FuY2VsKCkpe3JldHVybiBmYWxzZTsKfWlmKGQpe2lmKHdpbmRvdy5uZXRzY2FwZSl7ZC5zdHlsZS5kaXNwbGF5PSJ0YWJsZS1yb3ciOwp9ZWxzZXtkLnN0eWxlLmRpc3BsYXk9IiI7Cn19aWYoZCYmZC5pZCE9IiImJmQuaWQuc3BsaXQoIl9fIikubGVuZ3RoPT0yKXt2YXIgZT1kLmlkLnNwbGl0KCJfXyIpWzFdOwp2YXIgZj10aGlzLl9zaG93ZWRJdGVtc0RhdGE7CmYuYWRkKFN0cmluZy5mb3JtYXQoInswfSx7MX0iLHRoaXMuZ2V0X2lkKCksZSkpOwp0aGlzLl9vd25lci5fc2hvd2VkSXRlbXM9Zi50b1N0cmluZygpOwp0aGlzLl9vd25lci51cGRhdGVDbGllbnRTdGF0ZSgpOwp9JGZpbmQodGhpcy5fb3duZXIuZ2V0X2lkKCkpLl9nZXRQb3NpdGlvbmVkRGF0YUl0ZW1zKHRydWUpOwphPW5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1FdmVudEFyZ3MoZCxudWxsKTsKdGhpcy5fb3duZXIucmFpc2Vfcm93U2hvd24oYSk7Cn0sX2NhblNob3dIaWRlSXRlbTpmdW5jdGlvbihiKXtpZihpc05hTihwYXJzZUludChiLDEwKSkpe3JldHVybiBmYWxzZTsKfWlmKGI8MCl7cmV0dXJuIGZhbHNlOwp9aWYodGhpcy5nZXRfZWxlbWVudCgpJiZ0aGlzLmdldF9lbGVtZW50KCkudEJvZGllcy5sZW5ndGg+MSl7dmFyIGE9JHRlbGVyaWsuZ2V0Rmlyc3RDaGlsZEJ5VGFnTmFtZSh0aGlzLmdldF9lbGVtZW50KCksInRib2R5IiwwKTsKaWYoYSYmYS5yb3dzW2JdJiYoYj5hLnJvd3NbYl0ubGVuZ3RoLTEpKXtyZXR1cm4gZmFsc2U7Cn19ZWxzZXtpZih0aGlzLmdldF9lbGVtZW50KCkmJnRoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdJiZ0aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXS5yb3dzW2JdJiYoYj4odGhpcy5nZXRfZWxlbWVudCgpLnRCb2RpZXNbMF0ucm93c1tiXS5sZW5ndGgtMSkpKXtyZXR1cm4gZmFsc2U7Cn19cmV0dXJuIHRydWU7Cn0sX2dldFJvd3NGcm9tQm9keTpmdW5jdGlvbihiKXt2YXIgYz1iLmxlbmd0aDsKZm9yKHZhciBhPTA7CmE8YzsKYSsrKXtpZihiW2FdLnBhcmVudE5vZGUudGFnTmFtZS50b1VwcGVyQ2FzZSgpPT0iVEJPRFkiKXtyZXR1cm4gYlthXS5wYXJlbnROb2RlLnJvd3M7Cn19fSxfZ2V0Rmlyc3REYXRhUm93OmZ1bmN0aW9uKCl7aWYodGhpcy5fZmlyc3REYXRhUm93IT1udWxsKXtyZXR1cm4gdGhpcy5fZmlyc3REYXRhUm93Owp9aWYodGhpcy5fZGF0YUl0ZW1zLmxlbmd0aD4wKXtyZXR1cm4gdGhpcy5fZGF0YUl0ZW1zWzBdLmdldF9lbGVtZW50KCk7Cn12YXIgZD1bXTsKaWYoJHRlbGVyaWsuaXNPcGVyYSl7ZD10aGlzLl9nZXRSb3dzRnJvbUJvZHkodGhpcy5nZXRfZWxlbWVudCgpLnJvd3MpOwp9ZWxzZXt2YXIgZT10aGlzLmdldF9lbGVtZW50KCkudEJvZGllczsKaWYoZS5sZW5ndGg+MCl7ZD1lWzBdLnJvd3M7Cn19Zm9yKHZhciBhPTAsYj1kLmxlbmd0aDsKYTxiOwphKyspe3ZhciBjPWRbYV07CmlmKGMuaWQhPSIiJiZjLmlkLnNwbGl0KCJfXyIpLmxlbmd0aD09Mil7dGhpcy5fZmlyc3RSb3c9YzsKYnJlYWs7Cn19cmV0dXJuIHRoaXMuX2ZpcnN0Um93Owp9LF9nZXROZXh0RGF0YVJvdzpmdW5jdGlvbihkKXt2YXIgYz1udWxsOwp2YXIgZTsKaWYoJHRlbGVyaWsuaXNPcGVyYSl7ZT10aGlzLl9nZXRSb3dzRnJvbUJvZHkodGhpcy5nZXRfZWxlbWVudCgpLnJvd3MpOwp9ZWxzZXtlPXRoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdLnJvd3M7Cn1mb3IodmFyIGE9ZC5zZWN0aW9uUm93SW5kZXgrMSxiPWUubGVuZ3RoOwphPGI7CmErKyl7ZD1lW2FdOwppZihkLmlkIT0iIiYmZC5pZC5zcGxpdCgiX18iKS5sZW5ndGg9PTIpe2M9ZDsKYnJlYWs7Cn19cmV0dXJuIGM7Cn0sX2dldE5lc3RlZFRhYmxlV2hlblJvd0lzSW5FZGl0TW9kZTpmdW5jdGlvbihkKXt2YXIgYj1udWxsOwp2YXIgYz1UZWxlcmlrLldlYi5VSS5HcmlkLkdldE5vZGVOZXh0U2libGluZ0J5VGFnTmFtZShkLCJ0ciIpOwppZih0aGlzLl9kYXRhLmhhc0RldGFpbEl0ZW1UZW1wbGF0ZSl7Yz1UZWxlcmlrLldlYi5VSS5HcmlkLkdldE5vZGVOZXh0U2libGluZ0J5VGFnTmFtZShjLCJ0ciIpOwp9aWYoYyl7dmFyIGE9Yy5uZXh0U2libGluZy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGFibGUiKTsKaWYoYS5sZW5ndGg+MCYmYVswXS5pZC5pbmRleE9mKCJEZXRhaWwiKSE9LTEpe2I9YVswXTsKfX1yZXR1cm4gYjsKfSxfZ2V0TmV4dE5lc3RlZERhdGFSb3c6ZnVuY3Rpb24oZyl7dmFyIGY9bnVsbDsKdmFyIGQ9bnVsbDsKdmFyIGI9Zy5pZDsKdmFyIGE9JGZpbmQoYik7CmlmKHRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLkFsbG93S2V5Ym9hcmROYXZpZ2F0aW9uJiZhJiZhLmdldF9pc0luRWRpdE1vZGUoKSl7ZD10aGlzLl9nZXROZXN0ZWRUYWJsZVdoZW5Sb3dJc0luRWRpdE1vZGUoZyk7Cn1lbHNle2lmKHRoaXMuX2RhdGEuaGFzRGV0YWlsSXRlbVRlbXBsYXRlKXt2YXIgZT1UZWxlcmlrLldlYi5VSS5HcmlkLkdldE5vZGVOZXh0U2libGluZ0J5VGFnTmFtZShnLCJ0ciIpOwpkPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0TmVzdGVkVGFibGUoZSk7Cn1lbHNle2Q9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXROZXN0ZWRUYWJsZShnKTsKfX1pZihkKXt2YXIgaDsKaWYoJHRlbGVyaWsuaXNPcGVyYSl7aD10aGlzLl9nZXRSb3dzRnJvbUJvZHkodGhpcy5nZXRfZWxlbWVudCgpLnJvd3MpOwp9ZWxzZXtoPXRoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdLnJvd3M7Cn1mb3IodmFyIGM9MDsKYzxoLmxlbmd0aDsKYysrKXtnPWhbY107CmlmKGcuaWQhPSIiJiZnLmlkLnNwbGl0KCJfXyIpLmxlbmd0aD09Mil7Zj1nOwpicmVhazsKfX19cmV0dXJuIGY7Cn0sX2dldFByZXZpb3VzRGF0YVJvdzpmdW5jdGlvbihjKXt2YXIgYj1udWxsOwp2YXIgZDsKaWYoJHRlbGVyaWsuaXNPcGVyYSl7ZD10aGlzLl9nZXRSb3dzRnJvbUJvZHkodGhpcy5nZXRfZWxlbWVudCgpLnJvd3MpOwp9ZWxzZXtkPXRoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdLnJvd3M7Cn1mb3IodmFyIGE9Yy5zZWN0aW9uUm93SW5kZXgtMTsKYT49MDsKYS0tKXtjPWRbYV07CmlmKGMuaWQhPSIiJiZjLmlkLnNwbGl0KCJfXyIpLmxlbmd0aD09Mil7Yj1jOwpicmVhazsKfX1yZXR1cm4gYjsKfSxfZ2V0UHJldmlvdXNOZXN0ZWREYXRhUm93OmZ1bmN0aW9uKGQpe3ZhciBjPW51bGw7CnZhciBiPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0TmVzdGVkVGFibGUoZCk7CmlmKGIpe3ZhciBlOwppZigkdGVsZXJpay5pc09wZXJhKXtlPXRoaXMuX2dldFJvd3NGcm9tQm9keSh0aGlzLmdldF9lbGVtZW50KCkucm93cyk7Cn1lbHNle2U9dGhpcy5nZXRfZWxlbWVudCgpLnRCb2RpZXNbMF0ucm93czsKfWZvcih2YXIgYT1kLnNlY3Rpb25Sb3dJbmRleC0xOwphPj0wOwphLS0pe2Q9ZVthXTsKaWYoZC5pZCE9IiImJmQuaWQuc3BsaXQoIl9fIikubGVuZ3RoPT0yKXtjPWQ7CmJyZWFrOwp9fX1yZXR1cm4gYzsKfSxnZXRfcGFyZW50VmlldzpmdW5jdGlvbigpe3ZhciBhPW51bGw7CmlmKHRoaXMuZ2V0X2lkKCkhPXRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfaWQoKSl7YT0kZmluZCh0aGlzLmdldF9wYXJlbnRSb3coKS5pZC5zcGxpdCgiX18iKVswXSk7Cn1yZXR1cm4gYTsKfSxnZXRfcGFyZW50Um93OmZ1bmN0aW9uKCl7dmFyIGE9bnVsbDsKaWYodGhpcy5nZXRfaWQoKSE9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9pZCgpKXthPXRoaXMuZ2V0X2VsZW1lbnQoKS5wYXJlbnROb2RlLnBhcmVudE5vZGUucHJldmlvdXNTaWJsaW5nOwp9cmV0dXJuIGE7Cn0sZ2V0X3NlbGVjdGVkSXRlbXM6ZnVuY3Rpb24oKXt2YXIgZD1bXTsKZm9yKHZhciBhPTA7CmE8dGhpcy5fb3duZXIuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbC5sZW5ndGg7CmErKyl7dmFyIGM9dGhpcy5fb3duZXIuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbFthXS5pZC5zcGxpdCgiX18iKVswXTsKaWYoYz09dGhpcy5nZXRfaWQoKSl7dmFyIGI9JGZpbmQodGhpcy5fb3duZXIuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbFthXS5pZCk7CmlmKGI9PW51bGwpe2lmKCRnZXQodGhpcy5fb3duZXIuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbFthXS5pZCkpe2I9JGNyZWF0ZShUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW0se19vd25lcjp0aGlzLF9kYXRhOnRoaXMuX2RhdGEsX3NlbGVjdGVkOnRydWV9LG51bGwsbnVsbCwkZ2V0KHRoaXMuX293bmVyLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWxbYV0uaWQpKTsKQXJyYXkuYWRkKGQsYik7Cn19ZWxzZXtpZihiJiZiLl9vd25lci5nZXRfZWxlbWVudCgpLmlkPT10aGlzLmdldF9lbGVtZW50KCkuaWQpe0FycmF5LmFkZChkLGIpOwp9fX19cmV0dXJuIGQ7Cn0sc2VsZWN0QWxsSXRlbXM6ZnVuY3Rpb24oKXtpZighdGhpcy5fb3duZXIuQWxsb3dNdWx0aVJvd1NlbGVjdGlvbil7cmV0dXJuOwp9dmFyIGY9KCR0ZWxlcmlrLmlzT3BlcmEpP3RoaXMuZ2V0X2VsZW1lbnQoKTp0aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXTsKdmFyIGU9Zi5yb3dzOwppZighZSl7cmV0dXJuOwp9Zm9yKHZhciBhPTAsYz1lLmxlbmd0aDsKYTxjOwphKyspe3ZhciBkPWVbYV07CmlmKCFkLmlkKXtjb250aW51ZTsKfXZhciBiPSRmaW5kKGQuaWQpOwppZihiKXtiLnNldF9zZWxlY3RlZCh0cnVlKTsKfWVsc2V7dGhpcy5zZWxlY3RJdGVtKGQpOwp9fX0sY2xlYXJTZWxlY3RlZEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxkPWguX293bmVyLGE9aC5nZXRfZWxlbWVudCgpLmlkLGc9ZC5fc2VsZWN0ZWRJdGVtc0ludGVybmFsLGU9ZC5fc2VsZWN0ZWRJbmRleGVzLGIsYyxmOwppZihnLmxlbmd0aD4wKXtiPWcubGVuZ3RoLTE7CndoaWxlKGI+PTApe2Y9Z1tiXTsKYz0kZmluZChmLmlkKTsKaWYoYyl7aWYoYy5fb3duZXIuZ2V0X2VsZW1lbnQoKS5pZD09YSl7Yy5zZXRfc2VsZWN0ZWQoZmFsc2UpOwp9fWVsc2V7Yz0kZ2V0KGYuaWQpOwppZihjJiZjLnBhcmVudE5vZGUmJmMucGFyZW50Tm9kZS5wYXJlbnROb2RlLmlkPT1hKXtoLmRlc2VsZWN0SXRlbSgkZ2V0KGYuaWQpKTsKfWVsc2V7QXJyYXkucmVtb3ZlKGcsZik7CkFycmF5LnJlbW92ZShlLGVbYl0pOwpoLl9vd25lci51cGRhdGVDbGllbnRTdGF0ZSgpOwp9fWI9TWF0aC5taW4oZy5sZW5ndGgsYik7CmItLTsKfX19LGNsZWFyU2VsZWN0ZWRDZWxsczpmdW5jdGlvbigpe2lmKHRoaXMuX293bmVyLl9jZWxsU2VsZWN0aW9uIT1udWxsKXt0aGlzLl9vd25lci5fY2VsbFNlbGVjdGlvbi5fZGVzZWxlY3RUYWJsZVZpZXdDZWxscyh0aGlzKTsKfX0sc2VsZWN0SXRlbTpmdW5jdGlvbihhKXthPXRoaXMuX2dldFJvd0J5SW5kZXhPckl0ZW1JbmRleEhpZXJhcmNoaWNhbChhKTsKaWYodGhpcy5fb3duZXIuX3NlbGVjdGlvbiYmYSYmYS5pZCl7aWYoIXRoaXMuX293bmVyLkFsbG93TXVsdGlSb3dTZWxlY3Rpb24pe3RoaXMuY2xlYXJTZWxlY3RlZEl0ZW1zKCk7Cn10aGlzLl9vd25lci5fa2V5Ym9hcmROYXZpZ2F0aW9uUHJvcGVydGllcy5sYXN0Q2xpY2tTZWxlY3RlZEl0ZW09YTsKdGhpcy5fb3duZXIuX3NlbGVjdGlvbi5fc2VsZWN0Um93SW50ZXJuYWwoYSx7Y3RybEtleTpmYWxzZX0sdHJ1ZSxmYWxzZSx0cnVlKTsKfX0sZGVzZWxlY3RJdGVtOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7CmE9Yi5fZ2V0Um93QnlJbmRleE9ySXRlbUluZGV4SGllcmFyY2hpY2FsKGEpOwppZihiLl9vd25lci5fc2VsZWN0aW9uJiZhJiZhLmlkJiZBcnJheS5jb250YWlucyhiLl9vd25lci5fc2VsZWN0ZWRJbmRleGVzLGEuaWQuc3BsaXQoIl9fIilbMV0pKXtiLl9vd25lci5fc2VsZWN0aW9uLl9zZWxlY3RSb3dJbnRlcm5hbChhLHtjdHJsS2V5OmZhbHNlfSx0cnVlLHRydWUsdHJ1ZSk7Cn19LF9nZXRSb3dCeUluZGV4T3JJdGVtSW5kZXhIaWVyYXJjaGljYWw6ZnVuY3Rpb24oayl7dmFyIGo9bnVsbDsKaWYodHlwZW9mKGspPT0ibnVtYmVyIil7aWYodGhpcy5nZXRfZWxlbWVudCgpLnRCb2RpZXMubGVuZ3RoPjApe2lmKHRoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdLnJvd3Nba10pe2o9dGhpcy5nZXRfZWxlbWVudCgpLnRCb2RpZXNbMF0ucm93c1trXTsKfWlmKGomJihqLmlkPT0iInx8IWouaWQuZW5kc1dpdGgoay50b1N0cmluZygpKSkpe3doaWxlKGomJiFqLmlkLmVuZHNXaXRoKGsudG9TdHJpbmcoKSkpe2o9dGhpcy5fZ2V0TmV4dERhdGFSb3coaik7Cn19fWs9ajsKfWlmKHR5cGVvZihrKT09InN0cmluZyIpe3ZhciBhPWs7Cms9JGdldCh0aGlzLmdldF9lbGVtZW50KCkuaWQrIl9fIitrKTsKaWYoIWspe3ZhciBmPWEuc3BsaXQoIjoiKTsKdmFyIGI9Zi5sZW5ndGg7CmlmKGI+MSl7dmFyIGc9dGhpczsKaj1nLmdldF9kYXRhSXRlbXMoKVtmWzBdXTsKaWYoIWope2lmKGcuZ2V0X2RhdGFJdGVtcygpLmxlbmd0aD09MSl7aj1nLmdldF9kYXRhSXRlbXMoKVswXTsKfWVsc2V7aj1nLmdldF9kYXRhSXRlbXMoKVtmWzBdLnNwbGl0KCJfXyIpWzFdXTsKfX1mb3IodmFyIGM9MTsKYzxiOwpjKyspe3ZhciBoPWZbY10uc3BsaXQoIl8iKVsxXTsKZz1qLmdldF9uZXN0ZWRWaWV3cygpWzBdOwppZighZyl7Zz10aGlzOwp9aWYoZy5nZXRfZGF0YUl0ZW1zKCkubGVuZ3RoPT0xKXtqPWcuZ2V0X2RhdGFJdGVtcygpWzBdOwp9ZWxzZXtqPWcuZ2V0X2RhdGFJdGVtcygpW2hdOwp9fWs9ai5nZXRfZWxlbWVudCgpOwp9ZWxzZXt2YXIgZD1wYXJzZUludChmWzBdLnNwbGl0KCJfXyIpWzFdLDEwKTsKdmFyIGU9dGhpcy5nZXRfZGF0YUl0ZW1zKCk7CmlmKCFpc05hTihkKSYmZDxlLmxlbmd0aCl7az1lW2RdLmdldF9lbGVtZW50KCk7Cn1lbHNle2s9bnVsbDsKfX19fXJldHVybiBrOwp9LF9yZW9yZGVyQ29sdW1uczpmdW5jdGlvbihoLGkpe3ZhciBkPXRoaXMuZ2V0Q29sdW1uQnlVbmlxdWVOYW1lKGgpOwp2YXIgZT10aGlzLmdldENvbHVtbkJ5VW5pcXVlTmFtZShpKTsKaWYoIWR8fCFlfHwoaD09PWkpKXtyZXR1cm47Cn12YXIgbj1kLmdldF9lbGVtZW50KCkucGFyZW50Tm9kZTsKdmFyIGY9dGhpcy5fZ2V0Q2VsbEluZGV4QnlDb2x1bW5VbmlxdWVOYW1lRnJvbVRhYmxlUm93RWxlbWVudChuLGgpOwp2YXIgZz10aGlzLl9nZXRDZWxsSW5kZXhCeUNvbHVtblVuaXF1ZU5hbWVGcm9tVGFibGVSb3dFbGVtZW50KG4saSk7CmlmKHRoaXMuX2hhc011bHRpSGVhZGVycyYmbi5jbGFzc05hbWUuaW5kZXhPZigicmdNdWx0aUhlYWRlclJvdyIpPi0xKXt2YXIgaz10aGlzLl9nZXRNdWx0aUhlYWRlckJ5Q29sdW1uVW5pcXVlTmFtZShoKTsKaWYoayl7Zj1rLmluZGV4Owp9dmFyIGw9dGhpcy5fZ2V0TXVsdGlIZWFkZXJCeUNvbHVtblVuaXF1ZU5hbWUoaSk7CmlmKGwpe2c9bC5pbmRleDsKfX12YXIgbT10aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5SZW9yZGVyQ29sdW1uc09uQ2xpZW50Owp0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5SZW9yZGVyQ29sdW1uc09uQ2xpZW50PXRydWU7CnZhciBqPXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLkNvbHVtbnNSZW9yZGVyTWV0aG9kOwp0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5Db2x1bW5zUmVvcmRlck1ldGhvZD0wOwp2YXIgYSxiLGM7CmlmKGc+Zil7YT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbkNhbmNlbEV2ZW50QXJncyhkLG51bGwpOwp0aGlzLl9vd25lci5yYWlzZV9jb2x1bW5Nb3ZpbmdUb0xlZnQoYSk7CmlmKGEuZ2V0X2NhbmNlbCgpKXtyZXR1cm4gZmFsc2U7Cn13aGlsZShmPGcpe2I9dGhpcy5nZXRDb2x1bW5VbmlxdWVOYW1lQnlDZWxsSW5kZXgobixmKzEpOwpjPXRoaXMuZ2V0Q29sdW1uVW5pcXVlTmFtZUJ5Q2VsbEluZGV4KG4sZik7CnRoaXMuc3dhcENvbHVtbnMoYixjKTsKZisrOwp9YT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbkV2ZW50QXJncyhkLG51bGwpOwp0aGlzLl9vd25lci5yYWlzZV9jb2x1bW5Nb3ZlZFRvTGVmdChhKTsKfWVsc2V7YT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbkNhbmNlbEV2ZW50QXJncyhkLG51bGwpOwp0aGlzLl9vd25lci5yYWlzZV9jb2x1bW5Nb3ZpbmdUb1JpZ2h0KGEpOwppZihhLmdldF9jYW5jZWwoKSl7cmV0dXJuIGZhbHNlOwp9d2hpbGUoZzxmKXtiPXRoaXMuZ2V0Q29sdW1uVW5pcXVlTmFtZUJ5Q2VsbEluZGV4KG4sZi0xKTsKYz10aGlzLmdldENvbHVtblVuaXF1ZU5hbWVCeUNlbGxJbmRleChuLGYpOwp0aGlzLnN3YXBDb2x1bW5zKGIsYyk7CmYtLTsKfWE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5FdmVudEFyZ3MoZCxudWxsKTsKdGhpcy5fb3duZXIucmFpc2VfY29sdW1uTW92ZWRUb1JpZ2h0KGEpOwp9dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQ29sdW1uc1Jlb3JkZXJNZXRob2Q9ajsKdGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuUmVvcmRlckNvbHVtbnNPbkNsaWVudD1tOwp9LHJlb3JkZXJDb2x1bW5zOmZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLkFsbG93Q29sdW1uc1Jlb3JkZXIpe3JldHVybjsKfWlmKHRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLkNvbHVtbnNSZW9yZGVyTWV0aG9kIT0xKXtyZXR1cm47Cn10aGlzLl9yZW9yZGVyQ29sdW1ucyhhLGIpOwppZighdGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuUmVvcmRlckNvbHVtbnNPbkNsaWVudCl7dmFyIGM9dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuUG9zdEJhY2tGdW5jdGlvbjsKYz1jLnJlcGxhY2UoInswfSIsdGhpcy5fb3duZXIuVW5pcXVlSUQpOwpldmFsKGMpOwpyZXR1cm47Cn19LHN3YXBDb2x1bW5zOmZ1bmN0aW9uKGcsaCl7dmFyIGU9dGhpcy5nZXRDb2x1bW5CeVVuaXF1ZU5hbWUoZyk7CnZhciBmPXRoaXMuZ2V0Q29sdW1uQnlVbmlxdWVOYW1lKGgpOwppZighZXx8IWZ8fChnPT09aCkpe3JldHVybjsKfWlmKCF0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5BbGxvd0NvbHVtbnNSZW9yZGVyKXtyZXR1cm47Cn1pZighZS5nZXRfcmVvcmRlcmFibGUoKXx8IWYuZ2V0X3Jlb3JkZXJhYmxlKCkpe3JldHVybjsKfWlmKCF0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5SZW9yZGVyQ29sdW1uc09uQ2xpZW50KXt2YXIgcD10aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5Qb3N0QmFja0Z1bmN0aW9uOwpwPXAucmVwbGFjZSgiezB9Iix0aGlzLl9vd25lci5VbmlxdWVJRCk7CnA9cC5yZXBsYWNlKCJ7MX0iLCJSZW9yZGVyQ29sdW1ucywiK3RoaXMuX2RhdGEuVW5pcXVlSUQrIiwiK2UuZ2V0X3VuaXF1ZU5hbWUoKSsiLCIrZi5nZXRfdW5pcXVlTmFtZSgpKTsKZXZhbChwKTsKcmV0dXJuOwp9aWYodGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQ29sdW1uc1Jlb3JkZXJNZXRob2QhPTApe3JldHVybjsKfXZhciBsPXRoaXMuX2dldENlbGxJbmRleEJ5Q29sdW1uVW5pcXVlTmFtZUZyb21UYWJsZVJvd0VsZW1lbnQoZS5nZXRfZWxlbWVudCgpLnBhcmVudE5vZGUsZyk7CnZhciBtPXRoaXMuX2dldENlbGxJbmRleEJ5Q29sdW1uVW5pcXVlTmFtZUZyb21UYWJsZVJvd0VsZW1lbnQoZi5nZXRfZWxlbWVudCgpLnBhcmVudE5vZGUsaCk7CnZhciBiPW5ldyBTeXMuQ2FuY2VsRXZlbnRBcmdzKCk7CmIuZ2V0X2dyaWRTb3VyY2VDb2x1bW49ZnVuY3Rpb24oKXtyZXR1cm4gZTsKfTsKYi5nZXRfZ3JpZFRhcmdldENvbHVtbj1mdW5jdGlvbigpe3JldHVybiBmOwp9Owp0aGlzLl9vd25lci5yYWlzZV9jb2x1bW5Td2FwcGluZyhiKTsKaWYoYi5nZXRfY2FuY2VsKCkpe3JldHVybiBmYWxzZTsKfXZhciBvPXRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKTsKaWYodGhpcy5nZXRfaWQoKSYmdGhpcy5nZXRfaWQoKS5pbmRleE9mKCJEZXRhaWwiKSE9LTEmJighb3x8KG8mJihvLmdldF9pZCgpIT10aGlzLmdldF9pZCgpKSkpKXt0aGlzLl9yZW9yZGVyQ29sdW1uc0ludGVybmFsKGcsaCk7Cm89bnVsbDsKfWlmKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdIZWFkZXIoKSl7dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpLl9yZW9yZGVyQ29sdW1uc0ludGVybmFsKGcsaCk7Cn1pZihvKXtvLl9yZW9yZGVyQ29sdW1uc0ludGVybmFsKGcsaCk7Cn1pZih0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCkpe3ZhciBuPSh0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcmJnRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5BbGxvd1Njcm9sbCYmdGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLlVzZVN0YXRpY0hlYWRlcnMpOwppZigodGhpcy5nZXRfaWQoKSYmdGhpcy5nZXRfaWQoKS5pbmRleE9mKCJEZXRhaWwiKT09LTEpJiZuKXt0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCkuX3Jlb3JkZXJGb290ZXJJblN0YXRpY0hlYWRlcnMoZyxoKTsKfWVsc2V7dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpLl9yZW9yZGVyQ29sdW1uc0ludGVybmFsKGcsaCk7Cn19dmFyIGQ9Zi5nZXRfZWxlbWVudCgpLlVuaXF1ZU5hbWU7CnZhciBjPWUuZ2V0X2VsZW1lbnQoKS5VbmlxdWVOYW1lOwplLmdldF9lbGVtZW50KCkuVW5pcXVlTmFtZT1kOwpmLmdldF9lbGVtZW50KCkuVW5pcXVlTmFtZT1jOwp2YXIgaj1mLl9kYXRhOwp2YXIgcz1mLnBvcHVsYXRlQ2VsbDsKdmFyIHI9Zi5EaXNwbGF5OwpmLl9kYXRhPWUuX2RhdGE7CmYucG9wdWxhdGVDZWxsPWUucG9wdWxhdGVDZWxsOwpmLkRpc3BsYXk9ZS5EaXNwbGF5OwplLl9kYXRhPWo7CmUucG9wdWxhdGVDZWxsPXM7CmUuRGlzcGxheT1yOwp0aGlzLmdldF9jb2x1bW5zKClbbV09ZjsKdGhpcy5nZXRfY29sdW1ucygpW2xdPWU7CmlmKHRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLkFsbG93S2V5Ym9hcmROYXZpZ2F0aW9uJiZ0aGlzLl9vd25lci5fY2VsbFNlbGVjdGlvbiE9bnVsbCl7dmFyIHE9dGhpcy5nZXRfZWxlbWVudCgpLnJvd3M7CmZvcih2YXIgaz0wOwprPHEubGVuZ3RoOwprKyspe2lmKHFba10uaWQ9PSIifHxxW2tdLmlkPT11bmRlZmluZWQpe2NvbnRpbnVlOwp9ZWxzZXt0aGlzLl9vd25lci5fY2VsbFNlbGVjdGlvbi5fc2V0QWN0aXZlQ2VsbEVsZW1lbnQocVtrXS5jZWxsc1ttXSk7CmJyZWFrOwp9fX10aGlzLl9jb3B5Q29sQXR0cmlidXRlcyh0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCkuQ29sR3JvdXAuQ29sc1tsXSx0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCkuQ29sR3JvdXAuQ29sc1ttXSk7CmlmKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdIZWFkZXIoKSYmdGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpLkNvbEdyb3VwKXt0aGlzLl9jb3B5Q29sQXR0cmlidXRlcyh0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkuQ29sR3JvdXAuQ29sc1tsXSx0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkuQ29sR3JvdXAuQ29sc1ttXSk7Cn1pZih0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCkmJnRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKS5Db2xHcm91cCl7dGhpcy5fY29weUNvbEF0dHJpYnV0ZXModGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpLkNvbEdyb3VwLkNvbHNbbF0sdGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpLkNvbEdyb3VwLkNvbHNbbV0pOwp9Yj1uZXcgU3lzLkV2ZW50QXJncygpOwpiLmdldF9ncmlkU291cmNlQ29sdW1uPWZ1bmN0aW9uKCl7cmV0dXJuIGU7Cn07CmIuZ2V0X2dyaWRUYXJnZXRDb2x1bW49ZnVuY3Rpb24oKXtyZXR1cm4gZjsKfTsKdGhpcy5fY3JlYXRlQ29sdW1uc0J5VW5pcXVlTmFtZUhhc2goKTsKdGhpcy5fb3duZXIucmFpc2VfY29sdW1uU3dhcHBlZChiKTsKdmFyIGE9dGhpcy5fZGF0YS5VbmlxdWVJRCsiLCIrZysiLCIraDsKQXJyYXkuYWRkKHRoaXMuX293bmVyLl9yZW9yZGVyZWRDb2x1bW5zLGEpOwp0aGlzLl9vd25lci51cGRhdGVDbGllbnRTdGF0ZSgpOwp9LF9jb3B5Q29sQXR0cmlidXRlczpmdW5jdGlvbihjLGQpe2lmKGMmJmQpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNvbCIpOwp2YXIgZT1mYWxzZTsKdmFyIGY9ZmFsc2U7CmlmKGMuc3R5bGUud2lkdGg9PSIiJiZkLnN0eWxlLndpZHRoIT0iIil7Zj10cnVlOwp9aWYoZC5zdHlsZS53aWR0aD09IiImJmMuc3R5bGUud2lkdGghPSIiKXtlPXRydWU7Cn12YXIgYT1jLnN0eWxlLmRpc3BsYXk7CnZhciBiPWQuc3R5bGUuZGlzcGxheTsKJHRlbGVyaWsubWVyZ2VFbGVtZW50QXR0cmlidXRlcyhjLGksZmFsc2UpOwokdGVsZXJpay5tZXJnZUVsZW1lbnRBdHRyaWJ1dGVzKGQsYyxmYWxzZSk7CiR0ZWxlcmlrLm1lcmdlRWxlbWVudEF0dHJpYnV0ZXMoaSxkLGZhbHNlKTsKYy5zdHlsZS5kaXNwbGF5PWI7CmQuc3R5bGUuZGlzcGxheT1hOwppZihlKXtjLnN0eWxlLndpZHRoPSIiOwp9aWYoZil7ZC5zdHlsZS53aWR0aD0iIjsKfXZhciBnPWMucGFyZW50Tm9kZTsKaWYoIWcpe3JldHVybjsKfXZhciBoPWcucGFyZW50Tm9kZTsKaWYoIWgpe3JldHVybjsKfX19LF9yZW9yZGVyRm9vdGVySW5TdGF0aWNIZWFkZXJzOmZ1bmN0aW9uKGMsZCl7Zm9yKHZhciBlPTA7CmU8dGhpcy5nZXRfZWxlbWVudCgpLnJvd3MubGVuZ3RoOwplKyspe3ZhciBmPXRoaXMuZ2V0X2VsZW1lbnQoKS5yb3dzW2VdOwp2YXIgYT10aGlzLl9nZXRDZWxsQnlGb290ZXJDb2x1bW5VbmlxdWVOYW1lRnJvbVRhYmxlUm93RWxlbWVudChmLGMpOwp2YXIgYj10aGlzLl9nZXRDZWxsQnlGb290ZXJDb2x1bW5VbmlxdWVOYW1lRnJvbVRhYmxlUm93RWxlbWVudChmLGQpOwppZighYXx8IWIpe2NvbnRpbnVlOwp9dGhpcy5fcmVvcmRlckNvbnRyb2xzKGEsYik7Cn19LF9nZXRDZWxsQnlGb290ZXJDb2x1bW5VbmlxdWVOYW1lRnJvbVRhYmxlUm93RWxlbWVudDpmdW5jdGlvbihjLGQpe2Zvcih2YXIgYT0wLGI9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9jb2x1bW5zKCkubGVuZ3RoOwphPGI7CmErKyl7aWYodGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9jb2x1bW5zKClbYV0uZ2V0X2VsZW1lbnQoKS5VbmlxdWVOYW1lLnRvVXBwZXJDYXNlKCk9PWQudG9VcHBlckNhc2UoKSl7cmV0dXJuIGMuY2VsbHNbYV07Cn19cmV0dXJuIG51bGw7Cn0sX3Jlb3JkZXJDb2x1bW5zSW50ZXJuYWw6ZnVuY3Rpb24oYyxkKXt2YXIgaj1mYWxzZTsKZm9yKHZhciBnPTA7Cmc8dGhpcy5nZXRfZWxlbWVudCgpLnJvd3MubGVuZ3RoOwpnKyspe3ZhciBrPXRoaXMuZ2V0X2VsZW1lbnQoKS5yb3dzW2ddOwppZighay5pZCYmay5wYXJlbnROb2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InRib2R5IiYmay5jbGFzc05hbWUuaW5kZXhPZigicmdGb290ZXIiKT09PS0xKXtjb250aW51ZTsKfXZhciBhPXRoaXMuX2dldENlbGxCeUNvbHVtblVuaXF1ZU5hbWVGcm9tVGFibGVSb3dFbGVtZW50KGssYyk7CnZhciBiPXRoaXMuX2dldENlbGxCeUNvbHVtblVuaXF1ZU5hbWVGcm9tVGFibGVSb3dFbGVtZW50KGssZCk7CnZhciBoPXRoaXMuX2hhc011bHRpSGVhZGVycyYmay5jbGFzc05hbWUuaW5kZXhPZigicmdNdWx0aUhlYWRlclJvdyIpPi0xOwppZihoKXtpZihqKXtjb250aW51ZTsKfWo9dHJ1ZTsKdmFyIGU9dGhpcy5fZ2V0TXVsdGlIZWFkZXJCeUNvbHVtblVuaXF1ZU5hbWUoYyk7CmlmKGUpe2E9ZS5jZWxsOwp9dmFyIGY9dGhpcy5fZ2V0TXVsdGlIZWFkZXJCeUNvbHVtblVuaXF1ZU5hbWUoZCk7CmlmKGYpe2I9Zi5jZWxsOwp9fWlmKCFhfHwhYil7Y29udGludWU7Cn10aGlzLl9yZW9yZGVyQ29udHJvbHMoYSxiKTsKfX0sX3Jlb3JkZXJDb250cm9sczpmdW5jdGlvbihmLGope3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwp2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChiKTsKdGhpcy5fbW92ZU5vZGVzKGYsYik7CnRoaXMuX21vdmVOb2RlcyhqLGEpOwp2YXIgZz1mLnN0eWxlLmNzc1RleHQ7CnZhciBoPWouc3R5bGUuY3NzVGV4dDsKdmFyIGM9Zi5jbGFzc05hbWU7CnZhciBkPWouY2xhc3NOYW1lOwp2YXIgZT1mLmFsaWduOwp2YXIgaT1qLmFsaWduOwpmLmlubmVySFRNTD1qLmlubmVySFRNTD0iIjsKdGhpcy5fbW92ZU5vZGVzKGIsaik7CnRoaXMuX21vdmVOb2RlcyhhLGYpOwp0aGlzLl9yZWNyZWF0ZUNvbnRyb2xzKGYpOwp0aGlzLl9yZWNyZWF0ZUNvbnRyb2xzKGopOwpmLnN0eWxlLmNzc1RleHQ9aDsKai5zdHlsZS5jc3NUZXh0PWc7CmYuY2xhc3NOYW1lPWQ7CmouY2xhc3NOYW1lPWM7CmYuYWxpZ249aTsKai5hbGlnbj1lOwphLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSk7CmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKTsKfSxfbW92ZU5vZGVzOmZ1bmN0aW9uKGIsYyl7dmFyIGE9Yi5jaGlsZE5vZGVzOwp3aGlsZShhLmxlbmd0aD4wKXtjLmFwcGVuZENoaWxkKGFbMF0pOwp9fSxfcmVjcmVhdGVDb250cm9sczpmdW5jdGlvbihmKXt2YXIgZT1mLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIik7CmZvcih2YXIgYj0wLGM9ZS5sZW5ndGg7CmI8YzsKYisrKXt2YXIgZD1lW2JdOwppZih0eXBlb2YoZC5pZCkhPSJ1bmRlZmluZWQiJiZkLmlkIT0iIil7dmFyIGE9JGZpbmQoZC5pZCk7CmlmKCFhKXtjb250aW51ZTsKfWEuX2VsZW1lbnQ9JGdldChkLmlkKTsKfX19LGdldENvbHVtbkJ5VW5pcXVlTmFtZTpmdW5jdGlvbihiKXtmb3IodmFyIGE9MDsKYTx0aGlzLmdldF9jb2x1bW5zKCkubGVuZ3RoOwphKyspe2lmKHRoaXMuZ2V0X2NvbHVtbnMoKVthXS5nZXRfZWxlbWVudCgpLlVuaXF1ZU5hbWU9PWIpe3JldHVybiB0aGlzLmdldF9jb2x1bW5zKClbYV07Cn19cmV0dXJuIG51bGw7Cn0sZ2V0Q2VsbEJ5Q29sdW1uVW5pcXVlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9nZXRDZWxsQnlDb2x1bW5VbmlxdWVOYW1lRnJvbVRhYmxlUm93RWxlbWVudChhLmdldF9lbGVtZW50KCksYik7Cn0sX2dldENlbGxCeUNvbHVtblVuaXF1ZU5hbWVGcm9tVGFibGVSb3dFbGVtZW50OmZ1bmN0aW9uKGIsZCl7dmFyIGM9dGhpcyxhPWMuX2NlbGxzQnlVbmlxdWVOYW1lPWMuX2NlbGxzQnlVbmlxdWVOYW1lfHxjLl9jcmVhdGVDb2x1bW5zQnlVbmlxdWVOYW1lSGFzaCgpOwpyZXR1cm4gYi5jZWxsc1thW2RdXXx8bnVsbDsKfSxfY3JlYXRlQ29sdW1uc0J5VW5pcXVlTmFtZUhhc2g6ZnVuY3Rpb24oKXt2YXIgaj10aGlzLGc9e30sYT1qLl9jb2x1bW5zSW50ZXJuYWwsZj1qLl9vd25lcixlPWouZ2V0X2lkKCksaD1mLmdldF9tYXN0ZXJUYWJsZVZpZXcoKSxiPWYuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpLGM9Zi5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCk7CmZvcih2YXIgZD0wOwpkPGEubGVuZ3RoOwpkKyspe2dbYVtkXS5nZXRfdW5pcXVlTmFtZSgpXT1kOwp9aWYoZT09aC5nZXRfaWQoKXx8KGImJmU9PWIuZ2V0X2lkKCkpfHwoYyYmZT09Yy5nZXRfaWQoKSkpe2YuZ2V0X21hc3RlclRhYmxlVmlldygpLl9jZWxsc0J5VW5pcXVlTmFtZT1nOwppZihjKXtjLl9jZWxsc0J5VW5pcXVlTmFtZT1nOwp9aWYoYil7Yi5fY2VsbHNCeVVuaXF1ZU5hbWU9ZzsKfX1lbHNle2ouX2NlbGxzQnlVbmlxdWVOYW1lPWc7Cn1yZXR1cm4gZzsKfSxfZ2V0Q2VsbEluZGV4QnlDb2x1bW5VbmlxdWVOYW1lRnJvbVRhYmxlUm93RWxlbWVudDpmdW5jdGlvbihiLGMpe2lmKCFjfHxjPT0iIil7cmV0dXJuIG51bGw7Cn1mb3IodmFyIGE9MDsKYTx0aGlzLmdldF9jb2x1bW5zKCkubGVuZ3RoOwphKyspe2lmKHRoaXMuZ2V0X2NvbHVtbnMoKVthXS5nZXRfZWxlbWVudCgpLlVuaXF1ZU5hbWUudG9VcHBlckNhc2UoKT09Yy50b1VwcGVyQ2FzZSgpKXtyZXR1cm4gYTsKfX1yZXR1cm4gbnVsbDsKfSxnZXRDb2x1bW5VbmlxdWVOYW1lQnlDZWxsSW5kZXg6ZnVuY3Rpb24oZCxjKXt2YXIgYT10aGlzLl90b0FycmF5KGQuY2VsbHMpLnNvcnQoZnVuY3Rpb24oZSxmKXtyZXR1cm4gZS5jZWxsSW5kZXgtZi5jZWxsSW5kZXg7Cn0pOwpmb3IodmFyIGI9MDsKYjxhLmxlbmd0aDsKYisrKXtpZihhW2JdLlVuaXF1ZU5hbWUmJmI9PWMpe3JldHVybiBhW2JdLlVuaXF1ZU5hbWU7Cn19cmV0dXJuIG51bGw7Cn0sX3RvQXJyYXk6ZnVuY3Rpb24oYSl7dmFyIGM9QXJyYXkoYS5sZW5ndGgpOwpmb3IodmFyIGI9MDsKYjxjLmxlbmd0aDsKYisrKXtjW2JdPWFbYl07Cn1yZXR1cm4gYzsKfSxfZ2V0TXVsdGlIZWFkZXJCeUNvbHVtblVuaXF1ZU5hbWU6ZnVuY3Rpb24oZil7aWYodGhpcy5faGFzTXVsdGlIZWFkZXJzKXt2YXIgYz10aGlzLmdldENvbHVtbkJ5VW5pcXVlTmFtZShmKTsKaWYoYyl7dmFyIGU9Yy5nZXRfZWxlbWVudCgpLnBhcmVudE5vZGU7CnZhciBiPWUuY2VsbHM7CmZvcih2YXIgZD0wOwpkPGIubGVuZ3RoOwpkKyspe3ZhciBhPWJbZF07CmlmKGEuVW5pcXVlTmFtZT09Zil7cmV0dXJue2luZGV4OmQsY2VsbDphfTsKfX19fXJldHVybiBudWxsOwp9LF9zbGlkZXJDbGllbnRWYWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oYyxnLGUpe3ZhciBiPSRnZXQoYyk7CnZhciBmPSRmaW5kKGcpOwp2YXIgYT0iLTIxNDc0ODM2NDgiOwp2YXIgZD0wOwppZihiJiZmKXtkPWYuZ2V0X3ZhbHVlKCk7CmlmKCFlKXt0aGlzLl9hcHBseVBhZ2VyTGFiZWxUZXh0KGIsZCx0aGlzLmdldF9wYWdlQ291bnQoKSk7Cn19aWYoZSl7d2luZG93LmxvY2F0aW9uLmhyZWY9ZS5yZXBsYWNlKGEsZCsxKTsKfX0sX2FwcGx5UGFnZXJMYWJlbFRleHQ6ZnVuY3Rpb24oZCxmLGUpe3ZhciBoPXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLkNsaWVudE1lc3NhZ2VzLlBhZ2VyVG9vbHRpcEZvcm1hdFN0cmluZzsKdmFyIGM9L1x7MFteXH1dKlx9L2c7CnZhciBiPS9cezFbXlx9XSpcfS9nOwp2YXIgZz0oKGY9PTApPzE6ZisxKTsKdmFyIGE9ZTsKaD1oLnJlcGxhY2UoYyxnKS5yZXBsYWNlKGIsYSk7CmQuaW5uZXJIVE1MPWg7Cn0scmVzaXplSXRlbTpmdW5jdGlvbihmLGUsZyl7aWYoIXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlJlc2l6aW5nLkFsbG93Um93UmVzaXplKXtyZXR1cm47Cn12YXIgYz10aGlzLmdldF9lbGVtZW50KCkucm93c1tmXTsKaWYoYyYmYy5pZCE9IiImJmMuaWQuc3BsaXQoIl9fIikubGVuZ3RoPT0yKXt2YXIgYT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtQ2FuY2VsRXZlbnRBcmdzKGMsbnVsbCk7CnRoaXMuX293bmVyLnJhaXNlX3Jvd1Jlc2l6aW5nKGEpOwppZihhLmdldF9jYW5jZWwoKSl7cmV0dXJuIGZhbHNlOwp9fXZhciBiPXRoaXMuZ2V0X2VsZW1lbnQoKS5zdHlsZS50YWJsZUxheW91dDsKdGhpcy5nZXRfZWxlbWVudCgpLnN0eWxlLnRhYmxlTGF5b3V0PSIiOwp2YXIgaT10aGlzLmdldF9lbGVtZW50KCkucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZTsKdmFyIGQ9JGZpbmQoaS5pZCk7CnZhciBqOwppZihkIT1udWxsKXtqPWQuZ2V0X2VsZW1lbnQoKS5zdHlsZS50YWJsZUxheW91dDsKZC5nZXRfZWxlbWVudCgpLnN0eWxlLnRhYmxlTGF5b3V0PSIiOwp9aWYoIWcpe2lmKHRoaXMuZ2V0X2VsZW1lbnQoKSl7aWYodGhpcy5nZXRfZWxlbWVudCgpLnJvd3NbZl0pe2lmKHRoaXMuZ2V0X2VsZW1lbnQoKS5yb3dzW2ZdLmNlbGxzWzBdKXt0aGlzLmdldF9lbGVtZW50KCkucm93c1tmXS5jZWxsc1swXS5zdHlsZS5oZWlnaHQ9ZSsicHgiOwp0aGlzLmdldF9lbGVtZW50KCkucm93c1tmXS5zdHlsZS5oZWlnaHQ9ZSsicHgiOwp9fX19ZWxzZXtpZih0aGlzLmdldF9lbGVtZW50KCkpe2lmKHRoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdKXtpZih0aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXS5yb3dzW2ZdKXtpZih0aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXS5yb3dzW2ZdLmNlbGxzWzBdKXt0aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXS5yb3dzW2ZdLmNlbGxzWzBdLnN0eWxlLmhlaWdodD1lKyJweCI7CnRoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdLnJvd3NbZl0uc3R5bGUuaGVpZ2h0PWUrInB4IjsKfX19fX10aGlzLmdldF9lbGVtZW50KCkuc3R5bGUudGFibGVMYXlvdXQ9YjsKaWYoZCE9bnVsbCl7ZC5nZXRfZWxlbWVudCgpLnN0eWxlLnRhYmxlTGF5b3V0PWo7Cn1pZihjJiZjLmlkIT0iIiYmYy5pZC5zcGxpdCgiX18iKS5sZW5ndGg9PTIpe3ZhciBoPWMuaWQuc3BsaXQoIl9fIilbMV07CnZhciBrPXRoaXMuX3Jlc2l6ZWRJdGVtc0RhdGE7CmsuYWRkKFN0cmluZy5mb3JtYXQoInswfSx7MX0iLHRoaXMuZ2V0X2lkKCksaCksZSk7CnRoaXMuX293bmVyLl9yZXNpemVkSXRlbXM9ay50b1N0cmluZygpOwp0aGlzLl9vd25lci5yYWlzZV9yb3dSZXNpemVkKG5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1FdmVudEFyZ3MoYyxudWxsKSk7Cn1pZih0aGlzLl9vd25lci5faXNCYXRjaEVkaXRpbmdFbmFibGVkJiZ0aGlzLl9vd25lci5fcm93SGlnaGxpZ2h0aW5nRm9yRGVsZXRlZFJvd3Mpe3RoaXMuX293bmVyLmdldF9iYXRjaEVkaXRpbmdNYW5hZ2VyKCkuX2FkanVzdEJhdGNoRGVsZXRlZFJvd3MoKTsKfXRoaXMuX293bmVyLnVwZGF0ZUNsaWVudFN0YXRlKCk7Cn0scmVzaXplQ29sdW1uOmZ1bmN0aW9uKGoscyxrKXt2YXIgaD10aGlzLl9oYXNNdWx0aUhlYWRlcnM7CmlmKCF0aGlzLl92YWxpZGF0ZVJlc2l6ZUNvbHVtblBhcmFtcyhqLHMpKXtyZXR1cm47Cn1pZih0eXBlb2Yoaik9PSJzdHJpbmciKXtqPXBhcnNlSW50KGosMTApOwp9dmFyIGE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5DYW5jZWxFdmVudEFyZ3ModGhpcy5nZXRfY29sdW1ucygpW2pdLG51bGwpOwp0aGlzLl9vd25lci5yYWlzZV9jb2x1bW5SZXNpemluZyhhKTsKaWYoYS5nZXRfY2FuY2VsKCkpe3JldHVybiBmYWxzZTsKfXZhciBtPXRoaXMuZ2V0X2VsZW1lbnQoKS5vZmZzZXRXaWR0aDsKdmFyIGw9dGhpcy5fb3duZXIuZ2V0X2VsZW1lbnQoKS5vZmZzZXRXaWR0aC1wYXJzZUludCgkdGVsZXJpay5nZXRDdXJyZW50U3R5bGUodGhpcy5fb3duZXIuZ2V0X2VsZW1lbnQoKSwiYm9yZGVyTGVmdFdpZHRoIiwwKSwxMCktcGFyc2VJbnQoJHRlbGVyaWsuZ2V0Q3VycmVudFN0eWxlKHRoaXMuX293bmVyLmdldF9lbGVtZW50KCksImJvcmRlclJpZ2h0V2lkdGgiLDApLDEwKTsKaWYodGhpcz09dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpJiZ0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkpe3RoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdIZWFkZXIoKS5yZXNpemVDb2x1bW4oaixzKTsKfXZhciBkOwp2YXIgaTsKaWYodGhpcy5IZWFkZXJSb3cmJnRoaXMuSGVhZGVyUm93LnN0eWxlLmRpc3BsYXk9PT0ibm9uZSIpe3ZhciBiPXRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfZWxlbWVudCgpLnRCb2RpZXM7CmlmKGImJmIubGVuZ3RoPjApe3ZhciBwPWJbMF0ucm93czsKaWYocCYmcC5sZW5ndGg+MCl7dGhpcy5IZWFkZXJSb3c9cFswXTsKfX19aWYodGhpcy5IZWFkZXJSb3d8fHRoaXMuTXVsdGlIZWFkZXJDZWxscyl7dmFyIGM9ajsKaT1oP3RoaXMuTXVsdGlIZWFkZXJDZWxsczp0aGlzLkhlYWRlclJvdy5jZWxsczsKZD1pW2NdLm9mZnNldFdpZHRoLXM7Cn12YXIgcj10aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5SZXNpemluZy5FbmFibGVOZXh0Q29sdW1uUmVzaXplJiZqPHRoaXMuZ2V0X2NvbHVtbnMoKS5sZW5ndGgtMSYmIWs7CnZhciBvOwppZihyKXt2YXIgbj10aGlzLmdldF9jb2x1bW5zKClbaisxXTsKbz1uLmdldF9lbGVtZW50KCkub2Zmc2V0V2lkdGgrZDsKaWYobzw9MSl7cmV0dXJuIGZhbHNlOwp9fWlmKHRoaXMuQ29sR3JvdXApe2lmKHRoaXMuQ29sR3JvdXAuQ29sc1tqXSl7aWYocz4wKXt0aGlzLkNvbEdyb3VwLkNvbHNbal0uc3R5bGUud2lkdGg9cysicHgiOwp9fX1pZih0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkmJih0aGlzLmdldF9pZCgpPT10aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkuZ2V0X2lkKCkpKXtpZih0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCkuQ29sR3JvdXApe2lmKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5Db2xHcm91cC5Db2xzW2pdKXtpZihzPjApe3RoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5Db2xHcm91cC5Db2xzW2pdLnN0eWxlLndpZHRoPXMrInB4IjsKfX19aWYodGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpJiZ0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCkuQ29sR3JvdXApe2lmKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKS5Db2xHcm91cC5Db2xzW2pdKXtpZihzPjApe3RoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKS5Db2xHcm91cC5Db2xzW2pdLnN0eWxlLndpZHRoPXMrInB4IjsKfX19fWlmKHMudG9TdHJpbmcoKS5pbmRleE9mKCJweCIpIT0tMSl7cz1zLnJlcGxhY2UoInB4IiwiIik7Cn1pZihzLnRvU3RyaW5nKCkuaW5kZXhPZigiJSIpPT0tMSl7cz1zKyJweCI7Cn10aGlzLl9yZXNpemVkQ29sdW1uc0RhdGEuYWRkKFN0cmluZy5mb3JtYXQoInswfSx7MX0iLHRoaXMuX2RhdGEuVW5pcXVlSUQsdGhpcy5nZXRfY29sdW1ucygpW2pdLmdldF91bmlxdWVOYW1lKCkpLHMpOwp2YXIgZz0kZ2V0KHRoaXMuX293bmVyLkNsaWVudElEKyJfRnJvemVuIikhPW51bGw7CmlmKCFnKXtpZih0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkpe3RoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlJlc2l6aW5nLlJlc2l6ZUdyaWRPbkNvbHVtblJlc2l6ZT10cnVlOwp9aWYodGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuUmVzaXppbmcuUmVzaXplR3JpZE9uQ29sdW1uUmVzaXplKXtpZihkIT1udWxsKXt0aGlzLl9yZXNpemVHcmlkT25Db2x1bW5SZXNpemUoaixkLG0pOwp9fWVsc2V7dGhpcy5fbm9SZXNpemVHcmlkT25Db2x1bW5SZXNpemUobSxqLGwpOwp9fXRoaXMuX293bmVyLl9yZXNpemVkQ29sdW1ucz10aGlzLl9yZXNpemVkQ29sdW1uc0RhdGEudG9TdHJpbmcoKTsKaWYodGhpcy5fb3duZXIuR3JvdXBQYW5lbE9iamVjdCYmdGhpcy5fb3duZXIuR3JvdXBQYW5lbE9iamVjdC5JdGVtcy5sZW5ndGg+MCYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIm1zaWUiKSE9LTEpe2lmKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKSYmdGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpKXt0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X2VsZW1lbnQoKS5zdHlsZS53aWR0aD10aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkuZ2V0X2VsZW1lbnQoKS5vZmZzZXRXaWR0aCsicHgiOwp9fWE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRDb2x1bW5FdmVudEFyZ3ModGhpcy5nZXRfY29sdW1ucygpW2pdLG51bGwpOwp0aGlzLl9vd25lci5yYWlzZV9jb2x1bW5SZXNpemVkKGEpOwppZih0aGlzLl9kYXRhLkVkaXRNb2RlPT0iQmF0Y2giJiZ0aGlzLl9kYXRhLl9iYXRjaEVkaXRpbmdTZXR0aW5ncy5oaWdobGlnaHREZWxldGVkUm93cyl7dGhpcy5fb3duZXIuZ2V0X2JhdGNoRWRpdGluZ01hbmFnZXIoKS5fYWRqdXN0QmF0Y2hEZWxldGVkUm93cygpOwp9aWYod2luZG93Lm5ldHNjYXBlKXt0aGlzLmdldF9lbGVtZW50KCkuc3R5bGUuY3NzVGV4dD10aGlzLmdldF9lbGVtZW50KCkuc3R5bGUuY3NzVGV4dDsKfWlmKGcmJmQhPW51bGwpe3ZhciBlPSRnZXQodGhpcy5fb3duZXIuQ2xpZW50SUQrIl9Gcm96ZW5TY3JvbGwiKTsKZS5zdHlsZS53aWR0aD1lLm9mZnNldFdpZHRoLWQrInB4IjsKdmFyIGY9JGdldCh0aGlzLl9vd25lci5DbGllbnRJRCsiX0Zyb3plbiIpOwppZighdGhpcy5fc2Nyb2xsYmFySGVpZ2h0KXt0aGlzLl9zY3JvbGxiYXJIZWlnaHQ9VGVsZXJpay5XZWIuVUkuR3JpZC5nZXRTY3JvbGxCYXJIZWlnaHQoKTsKfXZhciBxPXRoaXMuX3Njcm9sbGJhckhlaWdodDsKaWYoZi5vZmZzZXRXaWR0aD49dGhpcy5fb3duZXIuR3JpZERhdGFEaXYuY2xpZW50V2lkdGgpe2lmKCR0ZWxlcmlrLmlzSUUpe3ErKzsKfWYuc3R5bGUuaGVpZ2h0PXErInB4IjsKaWYodGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLlNhdmVTY3JvbGxQb3NpdGlvbiYmdHlwZW9mIHRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5TY3JvbGxMZWZ0IT0idW5kZWZpbmVkIil7Zi5zY3JvbGxMZWZ0PXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5TY3JvbGxMZWZ0Owp9aWYodGhpcy5fb3duZXIuR3JpZERhdGFEaXYuc3R5bGUub3ZlcmZsb3dYIT1udWxsKXt0aGlzLl9vd25lci5HcmlkRGF0YURpdi5zdHlsZS5vdmVyZmxvd1g9ImhpZGRlbiI7Cn1lbHNle2Yuc3R5bGUubWFyZ2luVG9wPSItIitxKyJweCI7CmYuc3R5bGUuekluZGV4PTk5OTk5OwpmLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7Cn10aGlzLl9pc1JpZ2h0VG9MZWZ0PXRoaXMuX2lzUmlnaHRUb0xlZnR8fFRlbGVyaWsuV2ViLlVJLkdyaWQuSXNSaWdodFRvTGVmdCh0aGlzLl9vd25lci5HcmlkSGVhZGVyRGl2KTsKdGhpcy5faXNTY3JvbGxPbkxlZnRTaWRlPXRoaXMuX2lzU2Nyb2xsT25MZWZ0U2lkZXx8VGVsZXJpay5XZWIuVUkuR3JpZC5Jc1Njcm9sbE9uTGVmdFNpZGUoKTsKaWYodGhpcy5faXNSaWdodFRvTGVmdCYmdGhpcy5faXNTY3JvbGxPbkxlZnRTaWRlKXtmLnN0eWxlLm1hcmdpbkxlZnQ9cSsicHgiOwp9ZWxzZXtpZighdGhpcy5faXNSaWdodFRvTGVmdCYmJHRlbGVyaWsuaXNTYWZhcmkpe2Yuc3R5bGUubWFyZ2luUmlnaHQ9cSsicHgiOwp9fWlmKHRoaXMuX293bmVyLkdyaWRIZWFkZXJEaXYmJnRoaXMuX293bmVyLkdyaWREYXRhRGl2KXtpZigodGhpcy5fb3duZXIuR3JpZERhdGFEaXYuY2xpZW50V2lkdGg9PXRoaXMuX293bmVyLkdyaWREYXRhRGl2Lm9mZnNldFdpZHRoKSl7aWYodHlwZW9mKGYuc3R5bGUub3ZlcmZsb3dYKSE9InVuZGVmaW5lZCImJnR5cGVvZihmLnN0eWxlLm92ZXJmbG93WSkhPSJ1bmRlZmluZWQiKXtmLnN0eWxlLm92ZXJmbG93WD0iYXV0byI7CmYuc3R5bGUub3ZlcmZsb3dZPSJoaWRkZW4iOwp9fX1pZigoJHRlbGVyaWsuaXNJRTh8fCR0ZWxlcmlrLmlzQ2hyb21lKSYmZil7Zi5zdHlsZS5vdmVyZmxvd1g9InNjcm9sbCI7Cn19ZWxzZXtmLnN0eWxlLmhlaWdodD0wOwp9fWlmKHIpe2lmKG8+MSl7dGhpcy5yZXNpemVDb2x1bW4oaisxLG8sdHJ1ZSk7Cn19fSxfcmVzaXplR3JpZE9uQ29sdW1uUmVzaXplOmZ1bmN0aW9uKGYsYyxnKXt2YXIgYTsKaWYodGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpJiYodGhpcy5nZXRfaWQoKT09dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpLmdldF9pZCgpKSl7dGhpcy5nZXRfZWxlbWVudCgpLnN0eWxlLndpZHRoPShnLWMpKyJweCI7CnRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfZWxlbWVudCgpLnN0eWxlLndpZHRoPXRoaXMuZ2V0X2VsZW1lbnQoKS5zdHlsZS53aWR0aDsKZm9yKHZhciBlPTA7CmU8dGhpcy5Db2xHcm91cC5Db2xzLmxlbmd0aDsKZSsrKXtpZihlIT1mJiZ0aGlzLkNvbEdyb3VwLkNvbHNbZV0uc3R5bGUud2lkdGg9PSIiKXt2YXIgYj1lOwp2YXIgZD10aGlzLl9oYXNNdWx0aUhlYWRlcnM/dGhpcy5NdWx0aUhlYWRlckNlbGxzOnRoaXMuSGVhZGVyUm93LmNlbGxzOwppZihkW2JdLnN0eWxlLmRpc3BsYXkhPSJub25lIil7dmFyIGo9ZFtiXS5vZmZzZXRXaWR0aDsKdGhpcy5Db2xHcm91cC5Db2xzW2VdLnN0eWxlLndpZHRoPWorInB4IjsKdGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLkNvbEdyb3VwLkNvbHNbZV0uc3R5bGUud2lkdGg9dGhpcy5Db2xHcm91cC5Db2xzW2VdLnN0eWxlLndpZHRoOwppZih0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCkmJnRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKS5Db2xHcm91cCl7dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpLkNvbEdyb3VwLkNvbHNbZV0uc3R5bGUud2lkdGg9dGhpcy5Db2xHcm91cC5Db2xzW2VdLnN0eWxlLndpZHRoOwp9fX19aWYodGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpJiZ0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3Rm9vdGVyKCkuZ2V0X2VsZW1lbnQoKSl7dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpLmdldF9lbGVtZW50KCkuc3R5bGUud2lkdGg9dGhpcy5nZXRfZWxlbWVudCgpLnN0eWxlLndpZHRoOwp9YT10aGlzLmdldF9lbGVtZW50KCkub2Zmc2V0V2lkdGgrInB4IjsKfWVsc2V7dmFyIGg9Z3x8dGhpcy5nZXRfZWxlbWVudCgpLm9mZnNldFdpZHRoOwppZihoPmMpe3RoaXMuZ2V0X2VsZW1lbnQoKS5zdHlsZS53aWR0aD1hPShoLWMpKyJweCI7Cn1lbHNle3RoaXMuZ2V0X2VsZW1lbnQoKS5zdHlsZS53aWR0aD1hPWgrInB4IjsKfXRoaXMuX293bmVyLmdldF9lbGVtZW50KCkuc3R5bGUud2lkdGg9YTsKfXRoaXMuX3Jlc2l6ZWRDb250cm9sRGF0YS5hZGQodGhpcy5fZGF0YS5VbmlxdWVJRCxhKTsKdGhpcy5fb3duZXIuX3Jlc2l6ZWRDb250cm9sPXRoaXMuX3Jlc2l6ZWRDb250cm9sRGF0YS50b1N0cmluZygpOwp9LF9ub1Jlc2l6ZUdyaWRPbkNvbHVtblJlc2l6ZTpmdW5jdGlvbihlLGMsZCl7dmFyIGE9dGhpcy5faGFzTXVsdGlIZWFkZXJzP3RoaXMuTXVsdGlIZWFkZXJDZWxsczp0aGlzLkhlYWRlclJvdy5jZWxsczsKZm9yKHZhciBiPWMrMTsKYjx0aGlzLkNvbEdyb3VwLkNvbHMubGVuZ3RoOwpiKyspe2FbYl0uc3R5bGUud2lkdGg9IiI7CnRoaXMuQ29sR3JvdXAuQ29sc1tiXS5zdHlsZS53aWR0aD0iIjsKaWYodGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpJiZ0aGlzLmdldF9pZCgpPT10aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkuZ2V0X2lkKCkpe3RoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5Db2xHcm91cC5Db2xzW2JdLnN0eWxlLndpZHRoPSIiOwp0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkuZ2V0X2VsZW1lbnQoKS5jZWxsc1tiXS5zdHlsZS53aWR0aD0iIjsKfWlmKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKSl7dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpLkNvbEdyb3VwLkNvbHNbYl0uc3R5bGUud2lkdGg9IiI7CnRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKS5nZXRfZWxlbWVudCgpLmNlbGxzW2JdLnN0eWxlLndpZHRoPSIiOwp9dGhpcy5fcmVzaXplZENvbHVtbnNEYXRhLmFkZChTdHJpbmcuZm9ybWF0KCJ7MH0sezF9Iix0aGlzLl9kYXRhLlVuaXF1ZUlELHRoaXMuZ2V0X2NvbHVtbnMoKVtiXS5nZXRfdW5pcXVlTmFtZSgpKSwiIik7Cn1pZihkPjApe3RoaXMuX293bmVyLmdldF9lbGVtZW50KCkuc3R5bGUud2lkdGg9ZCsicHgiOwp9dGhpcy5nZXRfZWxlbWVudCgpLnN0eWxlLndpZHRoPWUrInB4IjsKaWYodGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpJiZ0aGlzLmdldF9pZCgpPT10aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyKCkuZ2V0X2lkKCkpe3RoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfZWxlbWVudCgpLnN0eWxlLndpZHRoPXRoaXMuZ2V0X2VsZW1lbnQoKS5zdHlsZS53aWR0aDsKfWlmKHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKSl7dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpLmdldF9lbGVtZW50KCkuc3R5bGUud2lkdGg9dGhpcy5nZXRfZWxlbWVudCgpLnN0eWxlLndpZHRoOwp9fSxfdmFsaWRhdGVSZXNpemVDb2x1bW5QYXJhbXM6ZnVuY3Rpb24oYSxiKXtpZihpc05hTihwYXJzZUludChhLDEwKSkpe3JldHVybiBmYWxzZTsKfWlmKGlzTmFOKHBhcnNlSW50KGIsMTApKSl7cmV0dXJuIGZhbHNlOwp9aWYoYTwwKXtyZXR1cm4gZmFsc2U7Cn1pZihiPDApe3JldHVybiBmYWxzZTsKfWlmKGE+KHRoaXMuZ2V0X2NvbHVtbnMoKS5sZW5ndGgtMSkpe3JldHVybiBmYWxzZTsKfWlmKCF0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5SZXNpemluZy5BbGxvd0NvbHVtblJlc2l6ZSl7cmV0dXJuIGZhbHNlOwp9aWYoIXRoaXMuZ2V0X2NvbHVtbnMoKSl7cmV0dXJuIGZhbHNlOwp9aWYoIXRoaXMuZ2V0X2NvbHVtbnMoKVthXS5nZXRfcmVzaXphYmxlKCkpe3JldHVybiBmYWxzZTsKfXJldHVybiB0cnVlOwp9LHJlc2l6ZUNvbHVtblRvRml0OmZ1bmN0aW9uKGEpe2lmKHR5cGVvZihhKT09PSJzdHJpbmciKXthPXRoaXMuZ2V0Q29sdW1uQnlVbmlxdWVOYW1lKGEpOwp9aWYodHlwZW9mKGEpPT09Im51bWJlciIpe2E9dGhpcy5nZXRfY29sdW1ucygpW2FdOwp9aWYodHlwZW9mKGEpPT09Im9iamVjdCImJmEucmVzaXplVG9GaXQpe2EucmVzaXplVG9GaXQoKTsKfX0sZ2V0X2FsbG93UGFnaW5nOmZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fZGF0YS5BbGxvd1BhZ2luZzsKfSxnZXRfcGFnZUNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUGFnZUNvdW50Owp9LGdldF9wYWdlU2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLlBhZ2VTaXplOwp9LHNldF9wYWdlU2l6ZTpmdW5jdGlvbihiKXt2YXIgYT10aGlzLlBhZ2VTaXplOwppZih0aGlzLlBhZ2VTaXplIT1iKXt0aGlzLlBhZ2VTaXplPWI7CnRoaXMuc2V0X2N1cnJlbnRQYWdlSW5kZXgoMCx0cnVlKTsKaWYoIXRoaXMuZmlyZUNvbW1hbmQoIlBhZ2VTaXplIixiKSYmdGhpcy5fcHJldmVudFVwZGF0ZVBhZ2VyKXt0aGlzLlBhZ2VTaXplPWE7CnRoaXMuX3JlZnJlc2hQYWdlclNsaWRlcigpOwp0aGlzLl9yZWZyZXNoQWR2YW5jZWRQYWdlVGV4dEJveGVzKCk7CnRoaXMuX3JlZnJlc2hEcm9wRG93blBhZ2VyKCk7CnRoaXMuX2dlbmVyYXRlTnVtZXJpY1BhZ2VyKCk7CnRoaXMuX3ByZXZlbnRVcGRhdGVQYWdlcj1mYWxzZTsKfWVsc2V7dGhpcy5fdXBkYXRlUGFnZXIoKTsKfX19LGdldF92aXJ0dWFsSXRlbUNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpcnR1YWxJdGVtQ291bnQ7Cn0sc2V0X3ZpcnR1YWxJdGVtQ291bnQ6ZnVuY3Rpb24oYSl7aWYodGhpcy5fdmlydHVhbEl0ZW1Db3VudCE9YXx8YT09PTApe3RoaXMuX3ZpcnR1YWxJdGVtQ291bnQ9YTsKaWYoYT09MCYmKCF0aGlzLl9kYXRhU291cmNlfHx0aGlzLl9kYXRhU291cmNlLmxlbmd0aD09MCkpe3RoaXMuc2V0X2N1cnJlbnRQYWdlSW5kZXgoMCx0cnVlKTsKfWVsc2V7dGhpcy5zZXRfY3VycmVudFBhZ2VJbmRleCgwLGZhbHNlKTsKfXRoaXMuX3VwZGF0ZVBhZ2VyKCk7CnRoaXMuX2luaXRpYWxpemVWaXJ0dWFsU2Nyb2xsUGFnaW5nKCk7CmlmKHRoaXMuX3ZpcnR1YWxpemF0aW9uKXt0aGlzLl92aXJ0dWFsaXphdGlvbi5zZXRfdmlydHVhbEl0ZW1Db3VudChhKTsKfX19LHNldF9wYWdlQnV0dG9uQ291bnQ6ZnVuY3Rpb24oYSl7dGhpcy5fcGFnZUJ1dHRvbkNvdW50PWE7CnRoaXMuX3VwZGF0ZVBhZ2VyKCk7Cn0sZ2V0X3BhZ2VCdXR0b25Db3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYWdlQnV0dG9uQ291bnQ7Cn0sX2luaXRpYWxpemVWaXJ0dWFsU2Nyb2xsUGFnaW5nOmZ1bmN0aW9uKCl7dmFyIGE9JGZpbmQodGhpcy5fb3duZXIuZ2V0X2lkKCkpOwppZihhLl9zY3JvbGxpbmcpe2EuX3Njcm9sbGluZy5faW5pdGlhbGl6ZVZpcnR1YWxTY3JvbGxQYWdpbmcodHJ1ZSk7Cn19LF91cGRhdGVQYWdlcjpmdW5jdGlvbigpe3ZhciBhPU1hdGguY2VpbCh0aGlzLmdldF92aXJ0dWFsSXRlbUNvdW50KCkvdGhpcy5nZXRfcGFnZVNpemUoKSk7CnRoaXMuUGFnZUNvdW50PWE7CnZhciBiPVN0cmluZy5mb3JtYXQoInswfVBDTiIsdGhpcy5nZXRfaWQoKSk7CnZhciBjPVN0cmluZy5mb3JtYXQoInswfUZJUCIsdGhpcy5nZXRfaWQoKSk7CnZhciBlPVN0cmluZy5mb3JtYXQoInswfURTQyIsdGhpcy5nZXRfaWQoKSk7CnZhciBkPVN0cmluZy5mb3JtYXQoInswfUxJUCIsdGhpcy5nZXRfaWQoKSk7CnZhciBmPXRoaXMuX2RhdGEucGFnZU9mTGFiZWxDbGllbnRJRDsKdGhpcy5fcG9wdWxhdGVQYWdlclN0YXRzRWxlbWVudHMoYixjLGQsZSxmKTsKYj1TdHJpbmcuZm9ybWF0KCJ7MH1QQ05Ub3AiLHRoaXMuZ2V0X2lkKCkpOwpjPVN0cmluZy5mb3JtYXQoInswfUZJUFRvcCIsdGhpcy5nZXRfaWQoKSk7CmU9U3RyaW5nLmZvcm1hdCgiezB9RFNDVG9wIix0aGlzLmdldF9pZCgpKTsKZD1TdHJpbmcuZm9ybWF0KCJ7MH1MSVBUb3AiLHRoaXMuZ2V0X2lkKCkpOwpmPXRoaXMuX2RhdGEucGFnZU9mTGFiZWxUb3BDbGllbnRJRDsKdGhpcy5fcG9wdWxhdGVQYWdlclN0YXRzRWxlbWVudHMoYixjLGQsZSxmKTsKdGhpcy5fcmVmcmVzaFBhZ2VyU2xpZGVyKCk7CnRoaXMuX3JlZnJlc2hBZHZhbmNlZFBhZ2VUZXh0Qm94ZXMoKTsKdGhpcy5fcmVmcmVzaERyb3BEb3duUGFnZXIoKTsKdGhpcy5fZ2VuZXJhdGVOdW1lcmljUGFnZXIoKTsKdGhpcy5fc2V0UGFnZXJWaXNpYmlsaXR5KGE+MXx8dGhpcy5fZGF0YS5QYWdlckFsd2F5c1Zpc2libGUpOwp9LF9yZWZyZXNoUGFnZXJTbGlkZXI6ZnVuY3Rpb24oKXtpZih0aGlzLl9kYXRhLnNsaWRlckNsaWVudElEJiZ0aGlzLl9kYXRhLnNsaWRlckNsaWVudElEIT0iIil7dGhpcy5fc2V0U2xpZGVyVmFsdWUoJGZpbmQodGhpcy5fZGF0YS5zbGlkZXJDbGllbnRJRCksdGhpcy5nZXRfcGFnZUNvdW50KCksdGhpcy5fZGF0YS5zbGlkZXJMYWJlbENsaWVudElEKTsKfWlmKHRoaXMuX2RhdGEuc2xpZGVyVG9wQ2xpZW50SUQmJnRoaXMuX2RhdGEuc2xpZGVyVG9wQ2xpZW50SUQhPSIiKXt0aGlzLl9zZXRTbGlkZXJWYWx1ZSgkZmluZCh0aGlzLl9kYXRhLnNsaWRlclRvcENsaWVudElEKSx0aGlzLmdldF9wYWdlQ291bnQoKSx0aGlzLl9kYXRhLnNsaWRlclRvcExhYmVsQ2xpZW50SUQpOwp9fSxfcmVmcmVzaEFkdmFuY2VkUGFnZVRleHRCb3hlczpmdW5jdGlvbigpe2lmKHRoaXMuX2RhdGEuZ29Ub1BhZ2VUZXh0Qm94Q2xpZW50SUQmJnRoaXMuX2RhdGEuZ29Ub1BhZ2VUZXh0Qm94Q2xpZW50SUQhPSIiKXt0aGlzLl9zZXRUZXh0Qm94VmFsdWUoJGZpbmQodGhpcy5fZGF0YS5nb1RvUGFnZVRleHRCb3hDbGllbnRJRCksdGhpcy5QYWdlQ291bnR8fDEpOwp9aWYodGhpcy5fZGF0YS5nb1RvUGFnZVRleHRCb3hUb3BDbGllbnRJRCYmdGhpcy5fZGF0YS5nb1RvUGFnZVRleHRCb3hUb3BDbGllbnRJRCE9IiIpe3RoaXMuX3NldFRleHRCb3hWYWx1ZSgkZmluZCh0aGlzLl9kYXRhLmdvVG9QYWdlVGV4dEJveFRvcENsaWVudElEKSx0aGlzLlBhZ2VDb3VudHx8MSk7Cn1pZih0aGlzLl9kYXRhLmNoYW5nZVBhZ2VTaXplVGV4dEJveENsaWVudElEJiZ0aGlzLl9kYXRhLmNoYW5nZVBhZ2VTaXplVGV4dEJveENsaWVudElEIT0iIil7dGhpcy5fc2V0VGV4dEJveFZhbHVlKCRmaW5kKHRoaXMuX2RhdGEuY2hhbmdlUGFnZVNpemVUZXh0Qm94Q2xpZW50SUQpLHRoaXMuZ2V0X3ZpcnR1YWxJdGVtQ291bnQoKXx8MSx0aGlzLlBhZ2VTaXplKTsKfWlmKHRoaXMuX2RhdGEuY2hhbmdlUGFnZVNpemVUZXh0Qm94VG9wQ2xpZW50SUQmJnRoaXMuX2RhdGEuY2hhbmdlUGFnZVNpemVUZXh0Qm94VG9wQ2xpZW50SUQhPSIiKXt0aGlzLl9zZXRUZXh0Qm94VmFsdWUoJGZpbmQodGhpcy5fZGF0YS5jaGFuZ2VQYWdlU2l6ZVRleHRCb3hUb3BDbGllbnRJRCksdGhpcy5nZXRfdmlydHVhbEl0ZW1Db3VudCgpfHwxLHRoaXMuUGFnZVNpemUpOwp9fSxfcmVmcmVzaERyb3BEb3duUGFnZXI6ZnVuY3Rpb24oKXtpZih0aGlzLl9kYXRhLmNoYW5nZVBhZ2VTaXplQ29tYm9Cb3hUb3BDbGllbnRJRCYmdGhpcy5fZGF0YS5jaGFuZ2VQYWdlU2l6ZUNvbWJvQm94VG9wQ2xpZW50SUQhPSIiKXt0aGlzLl9zZXRDaGFuZ2VQYWdlQ29tYm9TZWxlY3RlZFZhbHVlKCRmaW5kKHRoaXMuX2RhdGEuY2hhbmdlUGFnZVNpemVDb21ib0JveFRvcENsaWVudElEKSx0aGlzLlBhZ2VTaXplKTsKfWlmKHRoaXMuX2RhdGEuY2hhbmdlUGFnZVNpemVDb21ib0JveENsaWVudElEJiZ0aGlzLl9kYXRhLmNoYW5nZVBhZ2VTaXplQ29tYm9Cb3hDbGllbnRJRCE9IiIpe3RoaXMuX3NldENoYW5nZVBhZ2VDb21ib1NlbGVjdGVkVmFsdWUoJGZpbmQodGhpcy5fZGF0YS5jaGFuZ2VQYWdlU2l6ZUNvbWJvQm94Q2xpZW50SUQpLHRoaXMuUGFnZVNpemUpOwp9fSxfc2V0Q2hhbmdlUGFnZUNvbWJvU2VsZWN0ZWRWYWx1ZTpmdW5jdGlvbihhLGope2lmKGEhPW51bGwpe3ZhciBlPWEuZmluZEl0ZW1CeVZhbHVlKGopOwppZihlKXthLnRyYWNrQ2hhbmdlcygpOwplLnNlbGVjdCgpOwphLmNvbW1pdENoYW5nZXMoKTsKfWVsc2V7dmFyIGY9YS5nZXRfaXRlbXMoKTsKdmFyIGQ9Zi5nZXRfY291bnQoKTsKdmFyIGg7CmZvcih2YXIgYz0wLGc9Zi5nZXRfY291bnQoKTsKYzxnOwpjKyspe2lmKGYuZ2V0SXRlbShjKS5nZXRfdmFsdWUoKT5qKXtoPWYuZ2V0SXRlbShjKS5nZXRfYXR0cmlidXRlcygpLmdldEF0dHJpYnV0ZSgib3duZXJUYWJsZVZpZXdJZCIpOwpkPWM7CmJyZWFrOwp9fWEudHJhY2tDaGFuZ2VzKCk7CnZhciBiOwppZihhLmdldF9pZCgpLmluZGV4T2YoIlBhZ2VTaXplQ29tYm8iKT4tMSl7Yj1uZXcgVGVsZXJpay5XZWIuVUkuUmFkQ29tYm9Cb3hJdGVtKCk7Cn1lbHNle2I9bmV3IFRlbGVyaWsuV2ViLlVJLkRyb3BEb3duTGlzdEl0ZW0oKTsKfWIuc2V0X3RleHQoai50b1N0cmluZygpKTsKYi5zZXRfdmFsdWUoaik7CmYuaW5zZXJ0KGQsYik7CmIuZ2V0X2F0dHJpYnV0ZXMoKS5zZXRBdHRyaWJ1dGUoIm93bmVyVGFibGVWaWV3SWQiLGgpOwpiLnNlbGVjdCgpOwphLmNvbW1pdENoYW5nZXMoKTsKfX19LF9zZXRTbGlkZXJWYWx1ZTpmdW5jdGlvbihjLGEsYil7aWYoYyE9bnVsbCl7YT1NYXRoLm1heChhLTEsMCk7CmMuc2V0X21heGltdW1WYWx1ZShhKTsKdGhpcy5fYXBwbHlQYWdlckxhYmVsVGV4dCgkZ2V0KGIpLDAsYSsxKTsKfX0sX3NldFRleHRCb3hWYWx1ZTpmdW5jdGlvbihiLGEsYyl7aWYoYiE9bnVsbCl7aWYodHlwZW9mKGEpIT0idW5kZWZpbmVkIil7Yi5zZXRfbWF4VmFsdWUoYSk7Cn1pZih0eXBlb2YoYykhPSJ1bmRlZmluZWQiKXtiLnNldF92YWx1ZShNYXRoLm1pbihjLGEpKTsKfX19LF9wb3B1bGF0ZVBhZ2VyU3RhdHNFbGVtZW50czpmdW5jdGlvbihhLGIsYyxkLGUpe2lmKCRnZXQoYSkpeyRnZXQoYSkuaW5uZXJIVE1MPXRoaXMuUGFnZUNvdW50Owp9aWYoZSYmZSE9IiImJiRnZXQoZSkpeyRnZXQoZSkuaW5uZXJIVE1MPVN0cmluZy5mb3JtYXQoIiBvZiB7MH0iLHRoaXMuUGFnZUNvdW50fHwxKTsKfWlmKCRnZXQoYikpe2lmKHRoaXMuZ2V0X3ZpcnR1YWxJdGVtQ291bnQoKT09MCl7JGdldChiKS5pbm5lckhUTUw9MDsKfWVsc2V7JGdldChiKS5pbm5lckhUTUw9KHRoaXMuZ2V0X2N1cnJlbnRQYWdlSW5kZXgoKSsxKSp0aGlzLmdldF9wYWdlU2l6ZSgpLXRoaXMuZ2V0X3BhZ2VTaXplKCkrMTsKfX1pZigkZ2V0KGQpKXskZ2V0KGQpLmlubmVySFRNTD10aGlzLmdldF92aXJ0dWFsSXRlbUNvdW50KCk7Cn1pZigkZ2V0KGMpKXt2YXIgZz10aGlzLmdldF92aXJ0dWFsSXRlbUNvdW50KCk7CnZhciBmPSh0aGlzLmdldF9jdXJyZW50UGFnZUluZGV4KCkrMSkqdGhpcy5nZXRfcGFnZVNpemUoKTsKaWYoZj5nKXtmPWc7Cn0kZ2V0KGMpLmlubmVySFRNTD1mOwp9aWYoJGdldChjKSYmJGdldChkKSl7dmFyIGg9cGFyc2VJbnQoJGdldChjKS5pbm5lckhUTUwsMTApOwp2YXIgaT1wYXJzZUludCgkZ2V0KGQpLmlubmVySFRNTCwxMCk7CmlmKGg+aSl7JGdldChjKS5pbm5lckhUTUw9aTsKfX19LF9nZW5lcmF0ZU51bWVyaWNQYWdlcjpmdW5jdGlvbigpe3RoaXMuX3BvcHVsYXRlTnVtZXJpY1BhZ2VyRGl2KCRnZXQoU3RyaW5nLmZvcm1hdCgiezB9TlBQSFRvcCIsdGhpcy5nZXRfaWQoKSkpKTsKdGhpcy5fcG9wdWxhdGVOdW1lcmljUGFnZXJEaXYoJGdldChTdHJpbmcuZm9ybWF0KCJ7MH1OUFBIIix0aGlzLmdldF9pZCgpKSkpOwp9LF9wb3B1bGF0ZU51bWVyaWNQYWdlckRpdjpmdW5jdGlvbihlKXtpZihlKXtlLmlubmVySFRNTD0iIjsKdmFyIGY9bmV3IFN5cy5TdHJpbmdCdWlsZGVyKCk7CnZhciBnPTE7CnZhciBhPXRoaXMuX3BhZ2VCdXR0b25Db3VudDsKaWYodGhpcy5nZXRfY3VycmVudFBhZ2VJbmRleCgpKzE+YSl7Zz0oTWF0aC5mbG9vcih0aGlzLmdldF9jdXJyZW50UGFnZUluZGV4KCkvYSkqYSkrMTsKfXZhciBiPU1hdGgubWluKHRoaXMuUGFnZUNvdW50LChnK2EpLTEpOwppZihnPmEpe2YuYXBwZW5kKCc8YSBocmVmPSIjIicpOwpmLmFwcGVuZChTdHJpbmcuZm9ybWF0KCIgb25jbGljaz1cIlRlbGVyaWsuV2ViLlVJLkdyaWQuTmF2aWdhdGVUb1BhZ2UoJ3swfScsezF9KTsgcmV0dXJuIGZhbHNlO1wiIix0aGlzLmdldF9pZCgpLE1hdGgubWF4KGctYSwwKSkpOwpmLmFwcGVuZCgiPjxzcGFuPi4uLjwvc3Bhbj48L2E+Iik7Cn1mb3IodmFyIGM9ZyxkPWI7CmM8PWQ7CmMrKyl7aWYoYz09KHRoaXMuZ2V0X2N1cnJlbnRQYWdlSW5kZXgoKSsxKSl7Zi5hcHBlbmQoJzxhIGhyZWY9IiMiJyk7CmYuYXBwZW5kKCcgb25jbGljaz0icmV0dXJuIGZhbHNlOyIgY2xhc3M9InJnQ3VycmVudFBhZ2UiJyk7CmYuYXBwZW5kKFN0cmluZy5mb3JtYXQoIj48c3Bhbj57MH08L3NwYW4+PC9hPiIsYykpOwp9ZWxzZXtmLmFwcGVuZCgnPGEgaHJlZj0iIyInKTsKZi5hcHBlbmQoU3RyaW5nLmZvcm1hdCgiIG9uY2xpY2s9XCJUZWxlcmlrLldlYi5VSS5HcmlkLk5hdmlnYXRlVG9QYWdlKCd7MH0nLHsxfSk7IHJldHVybiBmYWxzZTtcIiIsdGhpcy5nZXRfaWQoKSxjKSk7CmYuYXBwZW5kKFN0cmluZy5mb3JtYXQoIj48c3Bhbj57MH08L3NwYW4+PC9hPiIsYykpOwp9fWlmKGI8dGhpcy5QYWdlQ291bnQpe2YuYXBwZW5kKCc8YSBocmVmPSIjIicpOwpmLmFwcGVuZChTdHJpbmcuZm9ybWF0KCIgb25jbGljaz1cIlRlbGVyaWsuV2ViLlVJLkdyaWQuTmF2aWdhdGVUb1BhZ2UoJ3swfScsezF9KTsgcmV0dXJuIGZhbHNlO1wiIix0aGlzLmdldF9pZCgpLGIrMSkpOwpmLmFwcGVuZCgiPjxzcGFuPi4uLjwvc3Bhbj48L2E+Iik7Cn1lLmlubmVySFRNTD1mLnRvU3RyaW5nKCk7Cn19LGdldF9jdXJyZW50UGFnZUluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ3VycmVudFBhZ2VJbmRleDsKfSxzZXRfY3VycmVudFBhZ2VJbmRleDpmdW5jdGlvbihuLGEpe2lmKHRoaXMuQ3VycmVudFBhZ2VJbmRleCE9bil7dGhpcy5DdXJyZW50UGFnZUluZGV4PW47CnZhciBiPVN0cmluZy5mb3JtYXQoInswfUNQSSIsdGhpcy5nZXRfaWQoKSk7CnZhciBkPVN0cmluZy5mb3JtYXQoInswfUZJUCIsdGhpcy5nZXRfaWQoKSk7CnZhciBmPVN0cmluZy5mb3JtYXQoInswfUxJUCIsdGhpcy5nZXRfaWQoKSk7CnZhciBoPVN0cmluZy5mb3JtYXQoInswfURTQyIsdGhpcy5nZXRfaWQoKSk7CnZhciBjPVN0cmluZy5mb3JtYXQoInswfUNQSVRvcCIsdGhpcy5nZXRfaWQoKSk7CnZhciBlPVN0cmluZy5mb3JtYXQoInswfUZJUFRvcCIsdGhpcy5nZXRfaWQoKSk7CnZhciBnPVN0cmluZy5mb3JtYXQoInswfUxJUFRvcCIsdGhpcy5nZXRfaWQoKSk7CnZhciBpPVN0cmluZy5mb3JtYXQoInswfURTQ1RvcCIsdGhpcy5nZXRfaWQoKSk7CmlmKCRnZXQoYikpeyRnZXQoYikuaW5uZXJIVE1MPW4rMTsKfWlmKCRnZXQoZCkpeyRnZXQoZCkuaW5uZXJIVE1MPShuKzEpKnRoaXMuZ2V0X3BhZ2VTaXplKCktdGhpcy5nZXRfcGFnZVNpemUoKSsxOwp9dmFyIG09MDsKaWYoJGdldChoKSl7bT1wYXJzZUludCgkZ2V0KGgpLmlubmVySFRNTCwxMCk7Cn12YXIgajsKaWYoJGdldChmKSl7aj0obisxKSp0aGlzLmdldF9wYWdlU2l6ZSgpOwppZihqPm0pe2o9bTsKfSRnZXQoZikuaW5uZXJIVE1MPWo7Cn1pZigkZ2V0KGMpKXskZ2V0KGMpLmlubmVySFRNTD1uKzE7Cn1pZigkZ2V0KGUpKXskZ2V0KGUpLmlubmVySFRNTD0obisxKSp0aGlzLmdldF9wYWdlU2l6ZSgpLXRoaXMuZ2V0X3BhZ2VTaXplKCkrMTsKfW09MDsKaWYoJGdldChpKSl7bT1wYXJzZUludCgkZ2V0KGkpLmlubmVySFRNTCwxMCk7Cn1pZigkZ2V0KGcpKXtqPShuKzEpKnRoaXMuZ2V0X3BhZ2VTaXplKCk7CmlmKGo+bSl7aj1tOwp9JGdldChnKS5pbm5lckhUTUw9ajsKfXRoaXMuX2dlbmVyYXRlTnVtZXJpY1BhZ2VyKCk7CmlmKHRoaXMuX2RhdGEuc2xpZGVyQ2xpZW50SUQmJnRoaXMuX2RhdGEuc2xpZGVyQ2xpZW50SUQhPSIiJiZ0aGlzLl9kYXRhLnNsaWRlclRvcENsaWVudElEJiZ0aGlzLl9kYXRhLnNsaWRlclRvcENsaWVudElEIT0iIil7dmFyIGs9JGZpbmQodGhpcy5fZGF0YS5zbGlkZXJDbGllbnRJRCk7CmlmKGspe2suc2V0X3ZhbHVlKG4pOwp9az0kZmluZCh0aGlzLl9kYXRhLnNsaWRlclRvcENsaWVudElEKTsKaWYoayl7ay5zZXRfdmFsdWUobik7Cn19aWYodGhpcy5fZGF0YS5nb1RvUGFnZVRleHRCb3hDbGllbnRJRCYmdGhpcy5fZGF0YS5nb1RvUGFnZVRleHRCb3hDbGllbnRJRCE9IiImJnRoaXMuX2RhdGEuZ29Ub1BhZ2VUZXh0Qm94VG9wQ2xpZW50SUQmJnRoaXMuX2RhdGEuZ29Ub1BhZ2VUZXh0Qm94VG9wQ2xpZW50SUQhPSIiKXt2YXIgbD0kZmluZCh0aGlzLl9kYXRhLmdvVG9QYWdlVGV4dEJveENsaWVudElEKTsKaWYobCE9bnVsbCl7bC5zZXRfdmFsdWUobisxKTsKfWw9JGZpbmQodGhpcy5fZGF0YS5nb1RvUGFnZVRleHRCb3hUb3BDbGllbnRJRCk7CmlmKGwhPW51bGwpe2wuc2V0X3ZhbHVlKG4rMSk7Cn19aWYoIWEpe3RoaXMuZmlyZUNvbW1hbmQoIlBhZ2UiLG4pOwp9fX0sZ2V0X2RhdGFTb3VyY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YVNvdXJjZTsKfSxzZXRfZGF0YVNvdXJjZTpmdW5jdGlvbihhKXtpZih0aGlzLl9kYXRhU291cmNlIT1hKXt0aGlzLl9kYXRhU291cmNlPWE7Cn19LGdldF9hbGxvd011bHRpQ29sdW1uU29ydGluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLkFsbG93TXVsdGlDb2x1bW5Tb3J0aW5nOwp9LHNldF9hbGxvd011bHRpQ29sdW1uU29ydGluZzpmdW5jdGlvbihhKXtpZih0aGlzLl9kYXRhLkFsbG93TXVsdGlDb2x1bW5Tb3J0aW5nIT1hKXt0aGlzLl9kYXRhLkFsbG93TXVsdGlDb2x1bW5Tb3J0aW5nPWE7Cn19LGdldF9hbGxvd05hdHVyYWxTb3J0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuQWxsb3dOYXR1cmFsU29ydDsKfSxzZXRfYWxsb3dOYXR1cmFsU29ydDpmdW5jdGlvbihhKXtpZih0aGlzLl9kYXRhLkFsbG93TmF0dXJhbFNvcnQhPWEpe3RoaXMuX2RhdGEuQWxsb3dOYXR1cmFsU29ydD1hOwp9fSxfc2V0UGFnZXJWaXNpYmlsaXR5OmZ1bmN0aW9uKGope3ZhciBiPWo/IiI6Im5vbmUiOwp2YXIgYzsKdmFyIGU7CnZhciBkOwppZih0aGlzLmdldF9lbGVtZW50KCkudEZvb3Qpe3ZhciBmPXRoaXMuZ2V0X2VsZW1lbnQoKS50Rm9vdDsKaWYoZi5yb3dzKXtmb3IoYz0wLGQ9Zi5yb3dzLmxlbmd0aDsKYzxkOwpjKyspe2lmKGYucm93c1tjXS5jbGFzc05hbWUuaW5kZXhPZigicmdQYWdlciIpPi0xKXtmLnJvd3NbY10uc3R5bGUuZGlzcGxheT1iOwp9fX19ZWxzZXt2YXIgYT0kZ2V0KFN0cmluZy5mb3JtYXQoInswfV9QYWdlciIsdGhpcy5nZXRfaWQoKSkpOwppZihhKXtlPWEucm93c3x8KGEudEJvZGllcyYmYS50Qm9kaWVzWzBdLnJvd3MpOwppZihlJiZlLmxlbmd0aCl7Zm9yKGM9MCxkPWUubGVuZ3RoOwpjPGQ7CmMrKyl7aWYoZVtjXS5jbGFzc05hbWUuaW5kZXhPZigicmdQYWdlciIpPi0xKXtlW2NdLnN0eWxlLmRpc3BsYXk9YjsKfX19fX12YXIgZz10aGlzLmdldF9lbGVtZW50KCkudEhlYWQ7CmlmKGcpe2ZvcihjPTAsZD1nLnJvd3MubGVuZ3RoOwpjPGQ7CmMrKyl7aWYoZy5yb3dzW2NdLmNsYXNzTmFtZS5pbmRleE9mKCJyZ1BhZ2VyIik+LTEpe2cucm93c1tjXS5zdHlsZS5kaXNwbGF5PWI7Cn19fWVsc2V7dmFyIGg9JGdldChTdHJpbmcuZm9ybWF0KCJ7MH1fVG9wUGFnZXIiLHRoaXMuZ2V0X2lkKCkpKTsKaWYoaCl7ZT1oLnJvd3N8fChoLnRCb2RpZXMmJmgudEJvZGllc1swXS5yb3dzKTsKaWYoZSYmZS5sZW5ndGgpe2ZvcihjPTAsZD1lLmxlbmd0aDsKYzxkOwpjKyspe2lmKGVbY10uY2xhc3NOYW1lLmluZGV4T2YoInJnUGFnZXIiKT4tMSl7ZVtjXS5zdHlsZS5kaXNwbGF5PWI7Cn19fX19fSxfZml4Um93c0NsYXNzTmFtZXM6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXS5yb3dzLGM9MCxiOwpmb3IodmFyIGE9MDsKYTxkLmxlbmd0aDsKYSsrKXtiPWRbYV07CmlmKChiLmNsYXNzTmFtZS5pbmRleE9mKCJyZ1JvdyIpIT09LTF8fGIuY2xhc3NOYW1lLmluZGV4T2YoInJnQWx0Um93IikhPT0tMSkmJmIuc3R5bGUuZGlzcGxheSE9PSJub25lIil7aWYoYyUyPT0wfHx0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5FbmFibGVBbHRlcm5hdGluZ0l0ZW1zPT1mYWxzZSl7U3lzLlVJLkRvbUVsZW1lbnQucmVtb3ZlQ3NzQ2xhc3MoYiwicmdBbHRSb3ciKTsKU3lzLlVJLkRvbUVsZW1lbnQuYWRkQ3NzQ2xhc3MoYiwicmdSb3ciKTsKfWVsc2V7U3lzLlVJLkRvbUVsZW1lbnQucmVtb3ZlQ3NzQ2xhc3MoYiwicmdSb3ciKTsKU3lzLlVJLkRvbUVsZW1lbnQuYWRkQ3NzQ2xhc3MoYiwicmdBbHRSb3ciKTsKfWMrKzsKfX19LGV4cGFuZEl0ZW06ZnVuY3Rpb24oYil7Yj10aGlzLl9nZXRSb3dCeUluZGV4T3JJdGVtSW5kZXhIaWVyYXJjaGljYWwoYik7CnZhciBhPXRoaXMuX2dldEV4cGFuZEJ1dHRvbihiKTsKdGhpcy5fZW5zdXJlRXhwYW5kQ29sbGFwc2VCdXR0b25zKGEsZmFsc2UpOwpyZXR1cm4gdGhpcy5fZXhwYW5kUm93KGIpOwp9LF9leHBhbmRSb3c6ZnVuY3Rpb24obCl7aWYoIXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLkFsbG93RXhwYW5kQ29sbGFwc2Upe3JldHVybiBmYWxzZTsKfXZhciBiPWw7CnZhciBmPWIuaWQuc3BsaXQoIl9fIilbMV07CnZhciBoPTE7CmlmKCEkZmluZChiLmlkKSl7dmFyIG09JGZpbmQoYi5pZC5zcGxpdCgiX18iKVswXSk7CmlmKG0pe20uZ2V0X2RhdGFJdGVtcygpOwp9fXZhciBkPSRmaW5kKGIuaWQpOwppZihkJiZkLmdldF9pc0luRWRpdE1vZGUoKSYmdGhpcy5fZGF0YS5FZGl0TW9kZSE9IkluUGxhY2UiKXtoPTI7Cn12YXIgYz10aGlzLl9kYXRhLmhhc0RldGFpbEl0ZW1UZW1wbGF0ZT8xOjA7CnZhciBnPWIucGFyZW50Tm9kZS5yb3dzW2Iuc2VjdGlvblJvd0luZGV4K2grY107CmlmKGcmJmcuc3R5bGUuZGlzcGxheT09Im5vbmUiKXt2YXIgYT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtQ2FuY2VsRXZlbnRBcmdzKGIsbnVsbCk7CmEuZ2V0X25lc3RlZFZpZXdJdGVtPWZ1bmN0aW9uKCl7cmV0dXJuIGc7Cn07CnRoaXMuX293bmVyLnJhaXNlX2hpZXJhcmNoeUV4cGFuZGluZyhhKTsKaWYoYS5nZXRfY2FuY2VsKCkpe3JldHVybiBmYWxzZTsKfXZhciBlPSRmaW5kKGIuaWQpOwppZihlKXtlLl9leHBhbmRlZD10cnVlOwp9Zy5zdHlsZS5kaXNwbGF5PSh3aW5kb3cubmV0c2NhcGUpPyJ0YWJsZS1yb3ciOiIiOwphPW5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1FdmVudEFyZ3MoYixudWxsKTsKYS5nZXRfbmVzdGVkVmlld0l0ZW09ZnVuY3Rpb24oKXtyZXR1cm4gZzsKfTsKdGhpcy5fb3duZXIucmFpc2VfaGllcmFyY2h5RXhwYW5kZWQoYSk7CmlmKHRoaXMuX2RhdGEuRWRpdE1vZGU9PSJCYXRjaCImJnRoaXMuX2RhdGEuX2JhdGNoRWRpdGluZ1NldHRpbmdzLmhpZ2hsaWdodERlbGV0ZWRSb3dzKXt0aGlzLmdldF9vd25lcigpLmdldF9iYXRjaEVkaXRpbmdNYW5hZ2VyKCkuX2FkanVzdEJhdGNoRGVsZXRlZFJvd3MoKTsKfUFycmF5LmFkZCh0aGlzLl9vd25lci5fZXhwYW5kZWRJdGVtcyxmKTsKdGhpcy5fb3duZXIudXBkYXRlQ2xpZW50U3RhdGUoKTsKfWlmKHRoaXMuZ2V0X2VsZW1lbnQoKS5wYXJlbnROb2RlLnBhcmVudE5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0idHIiKXtpZih0aGlzLmdldF9pZCgpIT10aGlzLl9vd25lci5fbWFzdGVyQ2xpZW50SUQpe3ZhciBrPXRoaXMuZ2V0X2VsZW1lbnQoKS5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlOwp2YXIgaj0kZmluZChrLmlkKTsKdmFyIGk9ay5yb3dzW3RoaXMuZ2V0X2VsZW1lbnQoKS5wYXJlbnROb2RlLnBhcmVudE5vZGUucm93SW5kZXgtMV07CmlmKGkpe2ouX2V4cGFuZFJvdyhpKTsKfX19cmV0dXJuIHRydWU7Cn0sY29sbGFwc2VJdGVtOmZ1bmN0aW9uKGIpe2I9dGhpcy5fZ2V0Um93QnlJbmRleE9ySXRlbUluZGV4SGllcmFyY2hpY2FsKGIpOwp2YXIgYT10aGlzLl9nZXRFeHBhbmRCdXR0b24oYik7CnRoaXMuX2Vuc3VyZUV4cGFuZENvbGxhcHNlQnV0dG9ucyhhLHRydWUpOwpyZXR1cm4gdGhpcy5fY29sbGFwc2VSb3coYik7Cn0sX3BlcmZvcm1Db2xsYXBzZUl0ZW06ZnVuY3Rpb24oYyl7Yz10aGlzLl9nZXRSb3dCeUluZGV4T3JJdGVtSW5kZXhIaWVyYXJjaGljYWwoYyk7CnZhciBiPTA7CmlmKHRoaXMuX2RhdGEuX2NvbHVtbnNEYXRhJiZ0aGlzLl9kYXRhLl9jb2x1bW5zRGF0YS5sZW5ndGg+MCYmdGhpcy5fZGF0YS5fY29sdW1uc0RhdGFbMF0uQ29sdW1uVHlwZT09IkdyaWRHcm91cFNwbGl0dGVyQ29sdW1uIil7Yj0xOwp9dmFyIGE9Yy5jZWxsc1tiXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXTsKaWYoYT09dW5kZWZpbmVkKXthPWMuY2VsbHNbYl0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpWzBdOwp9dGhpcy5fZW5zdXJlRXhwYW5kQ29sbGFwc2VCdXR0b25zKGEsdHJ1ZSk7CmlmKCEkZmluZChjLmlkKSl7dmFyIGQ9JGZpbmQoYy5pZC5zcGxpdCgiX18iKVswXSk7CnRoaXMuX293bmVyLl9lbnN1cmVEYXRhSXRlbXNDcmVhdGVkKGQpOwp9cmV0dXJuIHRoaXMuX2NvbGxhcHNlUm93KGMpOwp9LF9jb2xsYXBzZVJvdzpmdW5jdGlvbihpKXtpZighdGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQWxsb3dFeHBhbmRDb2xsYXBzZSl7cmV0dXJuIGZhbHNlOwp9dmFyIGM9aTsKdmFyIGc9Yy5pZC5zcGxpdCgiX18iKVsxXTsKdmFyIGU9MTsKaWYodGhpcy5fb3duZXIuX2VkaXRJbmRleGVzLmxlbmd0aD4wJiYodGhpcy5faGllcmFyY2h5TG9hZE1vZGU9PSJDbGllbnQifHx0aGlzLl9oaWVyYXJjaHlMb2FkTW9kZT09IkNvbmRpdGlvbmFsIikmJnRoaXMuX2RhdGEuRWRpdE1vZGUhPSJJblBsYWNlIil7dmFyIGI9JGZpbmQoYy5pZCk7CmlmKGImJmIuZ2V0X2lzSW5FZGl0TW9kZSgpKXtlKz0xOwp9fXZhciBkPXRoaXMuX2RhdGEuaGFzRGV0YWlsSXRlbVRlbXBsYXRlPzE6MDsKdmFyIGg9Yy5wYXJlbnROb2RlLnJvd3NbYy5zZWN0aW9uUm93SW5kZXgrZStkXTsKaWYoaCYmaC5zdHlsZS5kaXNwbGF5IT0ibm9uZSIpe3ZhciBhPW5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1DYW5jZWxFdmVudEFyZ3MoYyxudWxsKTsKYS5nZXRfbmVzdGVkVmlld0l0ZW09ZnVuY3Rpb24oKXtyZXR1cm4gaDsKfTsKdGhpcy5fb3duZXIucmFpc2VfaGllcmFyY2h5Q29sbGFwc2luZyhhKTsKaWYoYS5nZXRfY2FuY2VsKCkpe3JldHVybiBmYWxzZTsKfXZhciBmPSRmaW5kKGMuaWQpOwppZihmKXtmLl9leHBhbmRlZD1mYWxzZTsKfWguc3R5bGUuZGlzcGxheT0ibm9uZSI7CmE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUV2ZW50QXJncyhjLG51bGwpOwphLmdldF9uZXN0ZWRWaWV3SXRlbT1mdW5jdGlvbigpe3JldHVybiBoOwp9Owp0aGlzLl9vd25lci5yYWlzZV9oaWVyYXJjaHlDb2xsYXBzZWQoYSk7CmlmKHRoaXMuX2RhdGEuRWRpdE1vZGU9PSJCYXRjaCImJnRoaXMuX2RhdGEuX2JhdGNoRWRpdGluZ1NldHRpbmdzLmhpZ2hsaWdodERlbGV0ZWRSb3dzKXt0aGlzLmdldF9vd25lcigpLmdldF9iYXRjaEVkaXRpbmdNYW5hZ2VyKCkuX2FkanVzdEJhdGNoRGVsZXRlZFJvd3MoKTsKfUFycmF5LmFkZCh0aGlzLl9vd25lci5fZXhwYW5kZWRJdGVtcyxnKTsKdGhpcy5fb3duZXIudXBkYXRlQ2xpZW50U3RhdGUoKTsKfXJldHVybiB0cnVlOwp9LF9lbnN1cmVFeHBhbmRDb2xsYXBzZUJ1dHRvbnM6ZnVuY3Rpb24oYixjKXtpZighYil7cmV0dXJuOwp9dmFyIGE7CmlmKGMpe2lmKGIudGl0bGU9PXRoaXMuX293bmVyLl9oaWVyYXJjaHlTZXR0aW5ncy5Db2xsYXBzZVRvb2x0aXApe2IudGl0bGU9dGhpcy5fb3duZXIuX2hpZXJhcmNoeVNldHRpbmdzLkV4cGFuZFRvb2x0aXA7Cn1pZihiLnNyYyl7YT10aGlzLmdldF9jb2x1bW5zKClbYi5wYXJlbnROb2RlLmNlbGxJbmRleF07CmlmKGEpe2Iuc3JjPWEuX2RhdGEuRXhwYW5kSW1hZ2VVcmw7Cn19ZWxzZXthPXRoaXMuZ2V0X2NvbHVtbnMoKVtiLnBhcmVudE5vZGUuY2VsbEluZGV4XTsKaWYoYSYmYi5jbGFzc05hbWUuaW5kZXhPZigicmdDb2xsYXBzZSIpIT09LTEpe2lmKHRoaXMuZ2V0X293bmVyKCkuX3JlbmRlck1vZGU9PVRlbGVyaWsuV2ViLlVJLlJlbmRlck1vZGUuTGl0ZSl7Yi5jbGFzc05hbWU9Yi5jbGFzc05hbWUucmVwbGFjZSgvcmdDb2xsYXBzZS9nLCJyZ0V4cGFuZCIpOwppZihiLmNoaWxkcmVuLmxlbmd0aD4wJiZiLmNoaWxkcmVuWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InNwYW4iKXtiLmNoaWxkcmVuWzBdLmNsYXNzTmFtZT1iLmNoaWxkcmVuWzBdLmNsYXNzTmFtZS5yZXBsYWNlKC9yZ0NvbGxhcHNlL2csInJnRXhwYW5kIik7Cn19ZWxzZXtiLmNsYXNzTmFtZT0icmdFeHBhbmQiOwp9fWlmKGIudGV4dENvbnRlbnQmJmIudGV4dENvbnRlbnQ9PSItIil7Yi50ZXh0Q29udGVudD0iKyI7Cn19aWYodGhpcy5fb3duZXIuZ2V0X2VuYWJsZUFyaWFTdXBwb3J0KCkpe2Iuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwiZmFsc2UiKTsKYi5wYXJlbnROb2RlLnBhcmVudE5vZGUuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwiZmFsc2UiKTsKfX1lbHNle2lmKGIudGl0bGU9PXRoaXMuX293bmVyLl9oaWVyYXJjaHlTZXR0aW5ncy5FeHBhbmRUb29sdGlwKXtiLnRpdGxlPXRoaXMuX293bmVyLl9oaWVyYXJjaHlTZXR0aW5ncy5Db2xsYXBzZVRvb2x0aXA7Cn1pZihiLnNyYyl7YT10aGlzLmdldF9jb2x1bW5zKClbYi5wYXJlbnROb2RlLmNlbGxJbmRleF07CmlmKGEpe2Iuc3JjPWEuX2RhdGEuQ29sbGFwc2VJbWFnZVVybDsKfX1lbHNle2E9dGhpcy5nZXRfY29sdW1ucygpW2IucGFyZW50Tm9kZS5jZWxsSW5kZXhdOwppZihhJiZiLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0V4cGFuZCIpIT09LTEpe2lmKHRoaXMuZ2V0X293bmVyKCkuX3JlbmRlck1vZGU9PVRlbGVyaWsuV2ViLlVJLlJlbmRlck1vZGUuTGl0ZSl7Yi5jbGFzc05hbWU9Yi5jbGFzc05hbWUucmVwbGFjZSgvcmdFeHBhbmQvZywicmdDb2xsYXBzZSIpOwppZihiLmNoaWxkcmVuLmxlbmd0aD4wJiZiLmNoaWxkcmVuWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InNwYW4iKXtiLmNoaWxkcmVuWzBdLmNsYXNzTmFtZT1iLmNoaWxkcmVuWzBdLmNsYXNzTmFtZS5yZXBsYWNlKC9yZ0V4cGFuZC9nLCJyZ0NvbGxhcHNlIik7Cn19ZWxzZXtiLmNsYXNzTmFtZT0icmdDb2xsYXBzZSI7Cn19aWYoYi50ZXh0Q29udGVudCYmYi50ZXh0Q29udGVudD09IisiKXtiLnRleHRDb250ZW50PSItIjsKfX1pZih0aGlzLl9vd25lci5nZXRfZW5hYmxlQXJpYVN1cHBvcnQoKSl7Yi5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIik7CmIucGFyZW50Tm9kZS5wYXJlbnROb2RlLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsInRydWUiKTsKfX19LF90b2dnbGVFeHBhbmQ6ZnVuY3Rpb24oaCxjKXtpZighdGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuQWxsb3dFeHBhbmRDb2xsYXBzZSl7cmV0dXJuOwp9dmFyIGE9aC5wYXJlbnROb2RlLnBhcmVudE5vZGU7CnZhciBmPTE7CmlmKHRoaXMuX293bmVyLl9lZGl0SW5kZXhlcy5sZW5ndGg+MCYmKHRoaXMuX2hpZXJhcmNoeUxvYWRNb2RlPT0iQ2xpZW50Inx8dGhpcy5faGllcmFyY2h5TG9hZE1vZGU9PSJDb25kaXRpb25hbCIpJiZ0aGlzLl9kYXRhLkVkaXRNb2RlIT0iSW5QbGFjZSIpe2lmKCRmaW5kKGEuaWQpLmdldF9pc0luRWRpdE1vZGUoKSl7Zis9MTsKfX12YXIgYj10aGlzLl9kYXRhLmhhc0RldGFpbEl0ZW1UZW1wbGF0ZT8xOjA7CnZhciBnPWEucGFyZW50Tm9kZS5yb3dzW2Euc2VjdGlvblJvd0luZGV4K2YrYl07CnZhciBkPSRmaW5kKHRoaXMuX293bmVyLmdldF9pZCgpKTsKaWYoZy5zdHlsZS5kaXNwbGF5IT0ibm9uZSIpe2lmKCF0aGlzLl9jb2xsYXBzZVJvdyhhKSl7cmV0dXJuIGZhbHNlOwp9dGhpcy5fZW5zdXJlRXhwYW5kQ29sbGFwc2VCdXR0b25zKGgsdHJ1ZSk7Cn1lbHNle2lmKCF0aGlzLl9leHBhbmRSb3coYSkpe3JldHVybiBmYWxzZTsKfXRoaXMuX2Vuc3VyZUV4cGFuZENvbGxhcHNlQnV0dG9ucyhoLGZhbHNlKTsKfWlmKGQuX3Njcm9sbGluZyYmZC5fc2Nyb2xsaW5nLlVzZVN0YXRpY0hlYWRlcnMpe2QucmVwYWludCgpOwp9aWYoZC5DbGllbnRTZXR0aW5ncy5BbGxvd0tleWJvYXJkTmF2aWdhdGlvbil7ZC5nZXRfZWxlbWVudCgpLmZvY3VzKCk7Cn1pZihkLkNsaWVudFNldHRpbmdzLkFsbG93S2V5Ym9hcmROYXZpZ2F0aW9ufHxkLmdldF9hbGxvd011bHRpUm93U2VsZWN0aW9uKCkpe2QuX2dldFBvc2l0aW9uZWREYXRhSXRlbXModHJ1ZSk7Cn1pZih0aGlzLl9lbmFibGVIaWVyYXJjaHlFeHBhbmRBbGwpe3RoaXMuX3RvZ2dsZUhpZXJhcmNoeUV4cGFuZEFsbEhlYWRlckJ1dHRvbnMoKTsKfX0sX3RvZ2dsZUV4cGFuZEJ5Um93RWxlbWVudDpmdW5jdGlvbihiLGEpe2lmKCF0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5BbGxvd0V4cGFuZENvbGxhcHNlKXtyZXR1cm47Cn12YXIgZj0xOwppZih0aGlzLl9vd25lci5fZWRpdEluZGV4ZXMubGVuZ3RoPjAmJih0aGlzLl9oaWVyYXJjaHlMb2FkTW9kZT09IkNsaWVudCJ8fHRoaXMuX2hpZXJhcmNoeUxvYWRNb2RlPT0iQ29uZGl0aW9uYWwiKSYmdGhpcy5fZGF0YS5FZGl0TW9kZSE9IkluUGxhY2UiKXtpZigkZmluZChiLmlkKS5nZXRfaXNJbkVkaXRNb2RlKCkpe2YrPTE7Cn19dmFyIGU9JGZpbmQodGhpcy5fb3duZXIuZ2V0X2lkKCkpOwp2YXIgZD0wOwppZih0aGlzLl9kYXRhLl9jb2x1bW5zRGF0YSYmdGhpcy5fZGF0YS5fY29sdW1uc0RhdGEubGVuZ3RoPjAmJnRoaXMuX2RhdGEuX2NvbHVtbnNEYXRhWzBdLkNvbHVtblR5cGU9PSJHcmlkR3JvdXBTcGxpdHRlckNvbHVtbiIpe2Q9MTsKfXZhciBjPWIuY2VsbHNbZF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF18fGIuY2VsbHNbZF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpWzBdfHxiLmNlbGxzW2RdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJidXR0b24iKVswXTsKaWYoYSl7aWYoIXRoaXMuX2NvbGxhcHNlUm93KGIpKXtyZXR1cm4gZmFsc2U7Cn10aGlzLl9lbnN1cmVFeHBhbmRDb2xsYXBzZUJ1dHRvbnMoYyx0cnVlKTsKfWVsc2V7aWYoIXRoaXMuX2V4cGFuZFJvdyhiKSl7cmV0dXJuIGZhbHNlOwp9dGhpcy5fZW5zdXJlRXhwYW5kQ29sbGFwc2VCdXR0b25zKGMsZmFsc2UpOwp9aWYoZS5DbGllbnRTZXR0aW5ncy5BbGxvd0tleWJvYXJkTmF2aWdhdGlvbil7ZS5nZXRfZWxlbWVudCgpLmZvY3VzKCk7Cn1pZihlLkNsaWVudFNldHRpbmdzLkFsbG93S2V5Ym9hcmROYXZpZ2F0aW9ufHxlLmdldF9hbGxvd011bHRpUm93U2VsZWN0aW9uKCkpe2UuX2dldFBvc2l0aW9uZWREYXRhSXRlbXModHJ1ZSk7Cn19LF9leHBhbmRBbGw6ZnVuY3Rpb24oZCl7dmFyIGY9ZD9kOndpbmRvdy5ldmVudDsKdmFyIG49Zi5zcmNFbGVtZW50P2Yuc3JjRWxlbWVudDpmLnRhcmdldDsKdmFyIGE7CmYucmV0dXJuVmFsdWU9ZmFsc2U7CmYuY2FuY2VsQnViYmxlPXRydWU7CmlmKGYucHJldmVudERlZmF1bHQpe2YucHJldmVudERlZmF1bHQoKTsKZi5zdG9wUHJvcGFnYXRpb24oKTsKfXZhciBjPXRoaXMuZ2V0X2NvbHVtbnMoKVtuLnBhcmVudE5vZGUuY2VsbEluZGV4XTsKdmFyIGI9bi5jbGFzc05hbWUuaW5kZXhPZigicmdDb2xsYXBzZSIpPi0xfHwobi5zcmMmJm4uc3JjLmluZGV4T2YoYy5fZGF0YS5Db2xsYXBzZUltYWdlVXJsKT4tMSk/dHJ1ZTpmYWxzZTsKdmFyIGo9dGhpcy5nZXRfZWxlbWVudCgpOwp2YXIgbz0oJHRlbGVyaWsuaXNPcGVyYSk/ajpqLnRCb2RpZXNbMF07CnZhciBtPW8ucm93czsKZm9yKHZhciBnPTAsaD1tLmxlbmd0aDsKZzxoOwpnKyspe3ZhciBrPW1bZ107CmlmKCFrLmlkKXtjb250aW51ZTsKfWVsc2V7dGhpcy5fdG9nZ2xlRXhwYW5kQnlSb3dFbGVtZW50KGssYik7Cn19aWYoYil7aWYobi5zcmMpe24uc3JjPWMuX2RhdGEuRXhwYW5kSW1hZ2VVcmw7Cn1lbHNle2lmKHRoaXMuZ2V0X293bmVyKCkuX3JlbmRlck1vZGU9PVRlbGVyaWsuV2ViLlVJLlJlbmRlck1vZGUuTGl0ZSl7YT1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKG4sInRoIikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJ1dHRvbiIpWzBdOwphLmNsYXNzTmFtZT0idC1idXR0b24gcmdBY3Rpb25CdXR0b24gcmdFeHBhbmQiOwphLmNoaWxkcmVuWzBdLmNsYXNzTmFtZT0idC1mb250LWljb24gcmdJY29uIHJnRXhwYW5kSWNvbiI7Cn1lbHNle24uY2xhc3NOYW1lPSJyZ0V4cGFuZCI7Cn19dGhpcy5fb3duZXIuZ2V0X2hpZXJhcmNoeUNvbHNFeHBhbmRlZFN0YXRlKClbdGhpcy5fZGF0YS5VbmlxdWVJRF09ZmFsc2U7Cn1lbHNle2lmKG4uc3JjKXtuLnNyYz1jLl9kYXRhLkNvbGxhcHNlSW1hZ2VVcmw7Cn1lbHNle2lmKHRoaXMuZ2V0X293bmVyKCkuX3JlbmRlck1vZGU9PVRlbGVyaWsuV2ViLlVJLlJlbmRlck1vZGUuTGl0ZSl7YT1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKG4sInRoIikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJ1dHRvbiIpWzBdOwphLmNsYXNzTmFtZT0idC1idXR0b24gcmdBY3Rpb25CdXR0b24gcmdDb2xsYXBzZSI7CmEuY2hpbGRyZW5bMF0uY2xhc3NOYW1lPSJ0LWZvbnQtaWNvbiByZ0ljb24gcmdDb2xsYXBzZUljb24iOwp9ZWxzZXtuLmNsYXNzTmFtZT0icmdDb2xsYXBzZSI7Cn19dGhpcy5fb3duZXIuZ2V0X2hpZXJhcmNoeUNvbHNFeHBhbmRlZFN0YXRlKClbdGhpcy5fZGF0YS5VbmlxdWVJRF09dHJ1ZTsKfXRoaXMuX293bmVyLnVwZGF0ZUNsaWVudFN0YXRlKCk7Cn0sX3RvZ2dsZUhpZXJhcmNoeUV4cGFuZEFsbEhlYWRlckJ1dHRvbnM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmdldF9kYXRhSXRlbXMoKTsKdmFyIGE9dGhpcy5fZ2V0SGllcmFyY2h5Q29sRXhwQnV0dG9ucygpOwp2YXIgYjsKdmFyIGQ9Y1swXS5nZXRfZXhwYW5kZWQoKTsKdmFyIGc9dHJ1ZTsKdmFyIGU7CmZvcihlPTA7CmU8Yy5sZW5ndGg7CmUrKyl7aWYoZCE9Y1tlXS5nZXRfZXhwYW5kZWQoKSl7Zz1mYWxzZTsKYnJlYWs7Cn19aWYoZyl7dmFyIGY9dGhpcy5nZXRfb3duZXIoKS5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlOwpmb3IoZT0wOwplPGEubGVuZ3RoOwplKyspe2lmKGQpe2lmKGFbZV0uc3JjKXtiPXRoaXMuZ2V0X2NvbHVtbnMoKVthW2VdLnBhcmVudE5vZGUuY2VsbEluZGV4XTsKaWYoYil7YVtlXS5zcmM9Yi5fZGF0YS5Db2xsYXBzZUltYWdlVXJsOwp9fWVsc2V7aWYoZil7YVtlXS5jbGFzc05hbWU9InQtYnV0dG9uIHJnQWN0aW9uQnV0dG9uIHJnQ29sbGFwc2UiOwppZihhW2VdLmNoaWxkcmVuLmxlbmd0aD4wJiZhW2VdLmNoaWxkcmVuWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InNwYW4iKXthW2VdLmNoaWxkcmVuWzBdLmNsYXNzTmFtZT0idC1mb250LWljb24gcmdJY29uIHJnQ29sbGFwc2VJY29uIjsKfX1lbHNle2FbZV0uY2xhc3NOYW1lPSJyZ0NvbGxhcHNlIjsKfX19ZWxzZXtpZihhW2VdLnNyYyl7Yj10aGlzLmdldF9jb2x1bW5zKClbYVtlXS5wYXJlbnROb2RlLmNlbGxJbmRleF07CmlmKGIpe2FbZV0uc3JjPWIuX2RhdGEuRXhwYW5kSW1hZ2VVcmw7Cn19ZWxzZXtpZihmKXthW2VdLmNsYXNzTmFtZT0idC1idXR0b24gcmdBY3Rpb25CdXR0b24gcmdFeHBhbmQiOwppZihhW2VdLmNoaWxkcmVuLmxlbmd0aD4wJiZhW2VdLmNoaWxkcmVuWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InNwYW4iKXthW2VdLmNoaWxkcmVuWzBdLmNsYXNzTmFtZT0idC1mb250LWljb24gcmdJY29uIHJnRXhwYW5kSWNvbiI7Cn19ZWxzZXthW2VdLmNsYXNzTmFtZT0icmdFeHBhbmQiOwp9fX19dGhpcy5fb3duZXIuZ2V0X2hpZXJhcmNoeUNvbHNFeHBhbmRlZFN0YXRlKClbdGhpcy5fZGF0YS5VbmlxdWVJRF09ZDsKdGhpcy5fb3duZXIudXBkYXRlQ2xpZW50U3RhdGUoKTsKfX0sX3RvZ2dsZURpc3BsYXlIaWVyYXJjaHlFeHBhbmRBbGxCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5faXNMYXN0TGV2ZWxHcm91cEFsbEJ1dHRvbk9wZW4oKT8iIjoibm9uZSI7CnZhciBhPXRoaXMuX2dldEhlYWRlckhpZXJhcmNoeUV4cGFuZEFsbEJ1dHRvbnMoKTsKZm9yKHZhciBjPTA7CmM8YS5sZW5ndGg7CmMrKyl7YVtjXS5zdHlsZS5kaXNwbGF5PWI7Cn19LF9nZXRIZWFkZXJIaWVyYXJjaHlFeHBhbmRBbGxCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIGE9W107CnZhciBjPXRoaXMuZ2V0X2NvbHVtbnMoKTsKdmFyIGI9dGhpcy5nZXRfb3duZXIoKS5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlPyJidXR0b24iOiJpbnB1dCI7CmZvcih2YXIgZj0wOwpmPGMubGVuZ3RoOwpmKyspe3ZhciBlPWNbZl0uZ2V0X2VsZW1lbnQoKTsKaWYoZS5jbGFzc05hbWUuaW5kZXhPZigicmdFeHBhbmRDb2wiKT4tMSl7dmFyIGQ9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZShiKVswXTsKaWYoZCl7QXJyYXkuYWRkKGEsZCk7CmNvbnRpbnVlOwp9ZD1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKVswXTsKaWYoZCl7QXJyYXkuYWRkKGEsZCk7Cn19fXJldHVybiBhOwp9LF9pc0xhc3RMZXZlbEdyb3VwQWxsQnV0dG9uT3BlbjpmdW5jdGlvbigpe3ZhciBjPWZhbHNlOwp2YXIgYT10aGlzLl9nZXRHcm91cENvbEV4cEJ1dHRvbnMoKTsKdmFyIGI9YVthLmxlbmd0aC0xXTsKaWYoYi5zdHlsZS5kaXNwbGF5IT0ibm9uZSImJmIuY2xhc3NOYW1lLmluZGV4T2YoInJnQ29sbGFwc2UiKT4tMSl7Yz10cnVlOwp9cmV0dXJuIGM7Cn0sX2V4cGFuZEFsbEdyb3VwczpmdW5jdGlvbihhLGMpe3ZhciBiPWE/YTp3aW5kb3cuZXZlbnQ7CnZhciBkPWIudGFyZ2V0fHxiLnNyY0VsZW1lbnQ7CmlmKGQudGFnTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpPT0ic3BhbiIpe2Q9ZC5wYXJlbnROb2RlOwp9dGhpcy5fZ3JvdXBFeHBhbmRBbGwoZCxjKTsKdGhpcy5fdG9nZ2xlRGlzcGxheUhpZXJhcmNoeUV4cGFuZEFsbEJ1dHRvbnMoKTsKfSxfY3JlYXRlRmFrZUVsZW1lbnQ6ZnVuY3Rpb24oYyxhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGMpOwpiLmNsYXNzTmFtZT1hOwpyZXR1cm4gYjsKfSxfZ2V0R3JvdXBDb2xFeHBCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIGE9W107CnZhciBiPXRoaXMuZ2V0X2NvbHVtbnMoKTsKdmFyIGY9dGhpcy5nZXRfb3duZXIoKS5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlOwpmb3IodmFyIGU9MDsKZTxiLmxlbmd0aDsKZSsrKXt2YXIgZD1iW2VdLmdldF9lbGVtZW50KCk7CmlmKGQuY2xhc3NOYW1lLmluZGV4T2YoInJnR3JvdXBDb2wiKT4tMSl7dmFyIGM9Zj9kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJidXR0b24iKVswXTpkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdOwppZihjKXtBcnJheS5hZGQoYSxjKTsKY29udGludWU7Cn1jPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpWzBdOwppZighYyl7Yz10aGlzLl9jcmVhdGVGYWtlRWxlbWVudCgiaW5wdXQiLCJyZ0V4cGFuZCIpOwp9aWYoYyl7QXJyYXkuYWRkKGEsYyk7Cn19fXJldHVybiBhOwp9LF9nZXRIaWVyYXJjaHlDb2xFeHBCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIGE9W107CnZhciBiPXRoaXMuZ2V0X2NvbHVtbnMoKTsKdmFyIGY9dGhpcy5nZXRfb3duZXIoKS5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlOwpmb3IodmFyIGU9MDsKZTxiLmxlbmd0aDsKZSsrKXt2YXIgZD1iW2VdLmdldF9lbGVtZW50KCk7CmlmKGQuY2xhc3NOYW1lLmluZGV4T2YoInJnRXhwYW5kQ29sIik+LTEpe3ZhciBjPWY/ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYnV0dG9uIilbMF06KGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF18fGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpWzBdKTsKQXJyYXkuYWRkKGEsYyk7Cn19cmV0dXJuIGE7Cn0sX3Nob3dHcm91cENvbEV4cEJ1dHRvbnNPbkNvbGxhcHNlOmZ1bmN0aW9uKGQsYil7dmFyIGE9dGhpcy5fZ2V0R3JvdXBDb2xFeHBCdXR0b25zKCk7CmZvcih2YXIgYz1iKzE7CmM8YS5sZW5ndGg7CmMrKyl7aWYoZC5jbGFzc05hbWUuaW5kZXhPZigicmdDb2xsYXBzZSIpPi0xJiZkLnN0eWxlLmRpc3BsYXkhPSJub25lIil7YVtjXS5zdHlsZS5kaXNwbGF5PSIiOwp9ZD1hW2NdOwp9fSxfaGlkZUdyb3VwQ29sRXhwQnV0dG9uc09uQ29sbGFwc2U6ZnVuY3Rpb24oZCxiKXt2YXIgYT10aGlzLl9nZXRHcm91cENvbEV4cEJ1dHRvbnMoKTsKZm9yKHZhciBjPWIrMTsKYzxhLmxlbmd0aDsKYysrKXthW2NdLnN0eWxlLmRpc3BsYXk9Im5vbmUiOwp9fSxfdXBkYXRlR3JvdXBzQ29sU3RhdGU6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLl9vd25lci5fZ3JvdXBDb2xzU3RhdGVbdGhpcy5fZGF0YS5VbmlxdWVJRF0pe3RoaXMuX293bmVyLl9ncm91cENvbHNTdGF0ZVt0aGlzLl9kYXRhLlVuaXF1ZUlEXVtiXT1hOwp9ZWxzZXt0aGlzLl9vd25lci5fZ3JvdXBDb2xzU3RhdGVbdGhpcy5fZGF0YS5VbmlxdWVJRF09bmV3IEFycmF5KHRoaXMuX2RhdGEuR3JvdXBMZXZlbHNDb3VudCoxKTsKdGhpcy5fb3duZXIuX2dyb3VwQ29sc1N0YXRlW3RoaXMuX2RhdGEuVW5pcXVlSURdW2JdPWE7Cn19LF9ncm91cEV4cGFuZEFsbDpmdW5jdGlvbihrLGMpe2lmKCF0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5BbGxvd0V4cGFuZENvbGxhcHNlKXtyZXR1cm47Cn10aGlzLl9vd25lci5fc2hvdWxkVXBkYXRlQ2xpZW50U3RhdGU9ZmFsc2U7CnZhciBnPXRoaXMuZ2V0X2VsZW1lbnQoKTsKdmFyIG09KCR0ZWxlcmlrLmlzT3BlcmEpP2c6Zy50Qm9kaWVzWzBdOwp2YXIgaj1tLnJvd3M7CmZvcih2YXIgZD0wLGY9ai5sZW5ndGg7CmQ8ZjsKZCsrKXt2YXIgaD1qW2RdOwppZihoLmlkfHxoLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0dyb3VwSGVhZGVyIikhPT0tMSl7dmFyIGE9dGhpcy5fZ2V0R3JvdXBFeHBhbmRCdXR0b24oaCk7CmlmKGEpe3ZhciBiPWEuaWQuc3BsaXQoIl9fIilbMl07CmlmKGI9PWMpe2lmKGsuY2xhc3NOYW1lLmluZGV4T2YoInJnQ29sbGFwc2UiKT4tMSl7dGhpcy5fdG9nZ2xlR3JvdXBzRXhwYW5kQWxsKGEse30sdHJ1ZSk7CnRoaXMuX2hpZGVHcm91cENvbEV4cEJ1dHRvbnNPbkNvbGxhcHNlKGEsYyk7CnRoaXMuX3VwZGF0ZUdyb3Vwc0NvbFN0YXRlKGZhbHNlLGMpOwp9ZWxzZXt0aGlzLl90b2dnbGVHcm91cHNFeHBhbmRBbGwoYSx7fSxmYWxzZSk7CnRoaXMuX3Nob3dHcm91cENvbEV4cEJ1dHRvbnNPbkNvbGxhcHNlKGEsYyk7CnRoaXMuX3VwZGF0ZUdyb3Vwc0NvbFN0YXRlKHRydWUsYyk7Cn19fX19dmFyIGU9dGhpcy5nZXRfb3duZXIoKS5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlOwppZihrLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0NvbGxhcHNlIik+LTEpe2lmKGUpe2suY2xhc3NOYW1lPSJ0LWJ1dHRvbiByZ0FjdGlvbkJ1dHRvbiByZ0V4cGFuZCI7CmsudGl0bGU9dGhpcy5nZXRfb3duZXIoKS5fZ3JvdXBpbmdTZXR0aW5ncy5FeHBhbmRBbGxUb29sdGlwOwppZihrLmNoaWxkcmVuLmxlbmd0aD4wJiZrLmNoaWxkcmVuWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InNwYW4iKXtrLmNoaWxkcmVuWzBdLmNsYXNzTmFtZT0idC1mb250LWljb24gcmdJY29uIHJnRXhwYW5kSWNvbiI7Cn19ZWxzZXtrLmNsYXNzTmFtZT0icmdFeHBhbmQiOwprLnRpdGxlPXRoaXMuZ2V0X293bmVyKCkuX2dyb3VwaW5nU2V0dGluZ3MuRXhwYW5kQWxsVG9vbHRpcDsKfX1lbHNle2lmKGUpe2suY2xhc3NOYW1lPSJ0LWJ1dHRvbiByZ0FjdGlvbkJ1dHRvbiByZ0NvbGxhcHNlIjsKay50aXRsZT10aGlzLmdldF9vd25lcigpLl9ncm91cGluZ1NldHRpbmdzLkNvbGxhcHNlQWxsVG9vbHRpcDsKaWYoay5jaGlsZHJlbi5sZW5ndGg+MCYmay5jaGlsZHJlblswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJzcGFuIil7ay5jaGlsZHJlblswXS5jbGFzc05hbWU9InQtZm9udC1pY29uIHJnSWNvbiByZ0NvbGxhcHNlSWNvbiI7Cn19ZWxzZXtrLmNsYXNzTmFtZT0icmdDb2xsYXBzZSI7CmsudGl0bGU9dGhpcy5nZXRfb3duZXIoKS5fZ3JvdXBpbmdTZXR0aW5ncy5Db2xsYXBzZUFsbFRvb2x0aXA7Cn19dGhpcy5fb3duZXIuX3Nob3VsZFVwZGF0ZUNsaWVudFN0YXRlPXRydWU7CnRoaXMuX293bmVyLnVwZGF0ZUNsaWVudFN0YXRlKCk7Cn0sX3Nob3VsZFNraXBPdGhlclJvd3M6ZnVuY3Rpb24oYixkKXtpZihiLmNsYXNzTmFtZS5pbmRleE9mKCJyZ05vUmVjb3JkcyIpPi0xKXtyZXR1cm4gdHJ1ZTsKfWlmKGIuY2xhc3NOYW1lLmluZGV4T2YoInJnUm93Iik+LTF8fGIuY2xhc3NOYW1lLmluZGV4T2YoInJnQWx0Um93Iik+LTEpe3ZhciBjPWIuaWQuc3BsaXQoIl9fIik7CmlmKGMubGVuZ3RoPjEpe3ZhciBhPXBhcnNlSW50KGNbMV0sMTApOwppZihhPj1kKXtyZXR1cm4gdHJ1ZTsKfX19cmV0dXJuIGZhbHNlOwp9LF90b2dnbGVHcm91cHNFeHBhbmRBbGw6ZnVuY3Rpb24oRixuLHYsQil7dmFyIEg9ZmFsc2U7CmlmKCFCKXtIPXRydWU7Cn12YXIgbz1GOwp2YXIgeD10eXBlb2YoQik9PT0idW5kZWZpbmVkIj9mYWxzZTp0cnVlOwppZih0eXBlb2YoQik9PT0idW5kZWZpbmVkIil7Qj1vOwp9aWYoIXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLkFsbG93R3JvdXBFeHBhbmRDb2xsYXBzZSl7cmV0dXJuOwp9dmFyIEw9by5pZC5zcGxpdCgiX18iKVswXTsKdmFyIEs9JGZpbmQoTCk7CnZhciBHPW8uaWQuc3BsaXQoIl9fIilbMV07CnZhciBzPW8uaWQuc3BsaXQoIl9fIilbMl07CnZhciB0PWZhbHNlOwppZighdGhpcy5fb3JpZ2luYWxHcm91cExldmVsKXt0aGlzLl9vcmlnaW5hbEdyb3VwTGV2ZWw9czsKfWlmKHBhcnNlSW50KHMsMTApPHBhcnNlSW50KHRoaXMuX29yaWdpbmFsR3JvdXBMZXZlbCwxMCl8fEgpe3RoaXMuX29yaWdpbmFsR3JvdXBMZXZlbD1zOwp9dmFyIGc9by5wYXJlbnROb2RlLmNlbGxJbmRleDsKdmFyIEU9by5wYXJlbnROb2RlLnBhcmVudE5vZGUuc2VjdGlvblJvd0luZGV4Owp2YXIgSj1LLmdldF9lbGVtZW50KCkudEJvZGllc1swXTsKdmFyIGs9dGhpcy5nZXRfY29sdW1ucygpW2ddOwp2YXIgYT1uZXcgU3lzLkNhbmNlbEV2ZW50QXJncygpOwppZigheCl7aWYodil7dGhpcy5fb3duZXIucmFpc2VfZ3JvdXBDb2xsYXBzaW5nKGEpOwp9ZWxzZXt0aGlzLl9vd25lci5yYWlzZV9ncm91cEV4cGFuZGluZyhhKTsKfX1pZihhLmdldF9jYW5jZWwoKSl7cmV0dXJuIGZhbHNlOwp9aWYobz09PUIpe2lmKGspe2lmKG8uc3JjKXtpZighdiYmby5zcmMhPT1rLl9kYXRhLkNvbGxhcHNlSW1hZ2VVcmwpe3Q9dHJ1ZTsKby5zcmM9ay5fZGF0YS5Db2xsYXBzZUltYWdlVXJsOwpvLnRpdGxlPUsuX293bmVyLl9ncm91cGluZ1NldHRpbmdzLkNvbGxhcHNlVG9vbHRpcDsKaWYodGhpcy5fb3duZXIuZ2V0X2VuYWJsZUFyaWFTdXBwb3J0KCkpe28uc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwidHJ1ZSIpOwpvLnBhcmVudE5vZGUucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIik7Cn19ZWxzZXtpZih2JiZvLnNyYyE9PWsuX2RhdGEuRXhwYW5kSW1hZ2VVcmwpe3Q9dHJ1ZTsKby5zcmM9ay5fZGF0YS5FeHBhbmRJbWFnZVVybDsKby50aXRsZT1LLl9vd25lci5fZ3JvdXBpbmdTZXR0aW5ncy5FeHBhbmRUb29sdGlwOwppZih0aGlzLl9vd25lci5nZXRfZW5hYmxlQXJpYVN1cHBvcnQoKSl7by5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpOwpvLnBhcmVudE5vZGUucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpOwp9fX19ZWxzZXt2YXIgdz10aGlzLmdldF9vd25lcigpLl9yZW5kZXJNb2RlPT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLkxpdGU7CmlmKCF2JiZvLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0NvbGxhcHNlIik9PT0tMSl7dD10cnVlOwpvLmNsYXNzTmFtZT13PyJ0LWJ1dHRvbiByZ0FjdGlvbkJ1dHRvbiByZ0NvbGxhcHNlIjoicmdDb2xsYXBzZSI7CmlmKHcpe2lmKG8uY2hpbGRyZW4ubGVuZ3RoPjAmJm8uY2hpbGRyZW5bMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0ic3BhbiIpe28uY2hpbGRyZW5bMF0uY2xhc3NOYW1lPSJ0LWZvbnQtaWNvbiByZ0ljb24gcmdDb2xsYXBzZUljb24iOwp9fW8udGl0bGU9Sy5fb3duZXIuX2dyb3VwaW5nU2V0dGluZ3MuQ29sbGFwc2VUb29sdGlwOwppZih0aGlzLl9vd25lci5nZXRfZW5hYmxlQXJpYVN1cHBvcnQoKSl7by5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIik7Cm8ucGFyZW50Tm9kZS5wYXJlbnROb2RlLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsInRydWUiKTsKfX1lbHNle2lmKHYmJm8uY2xhc3NOYW1lLmluZGV4T2YoInJnRXhwYW5kIik9PT0tMSl7dD10cnVlOwppZih3KXtvLmNsYXNzTmFtZT0idC1idXR0b24gcmdBY3Rpb25CdXR0b24gcmdFeHBhbmQiOwppZihvLmNoaWxkcmVuLmxlbmd0aD4wJiZvLmNoaWxkcmVuWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InNwYW4iKXtvLmNoaWxkcmVuWzBdLmNsYXNzTmFtZT0idC1mb250LWljb24gcmdJY29uIHJnRXhwYW5kSWNvbiI7Cn19ZWxzZXtvLmNsYXNzTmFtZT0icmdFeHBhbmQiOwp9by50aXRsZT1LLl9vd25lci5fZ3JvdXBpbmdTZXR0aW5ncy5FeHBhbmRUb29sdGlwOwppZih0aGlzLl9vd25lci5nZXRfZW5hYmxlQXJpYVN1cHBvcnQoKSl7by5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpOwpvLnBhcmVudE5vZGUucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpOwp9fX19fX12YXIgbT0ibm9uZSI7CmlmKCF2JiZvLm9mZnNldEhlaWdodCE9PTAmJnRoaXMuX2lzR3JvdXBCdXR0b25Db2xsYXBzZShvKSl7bT0od2luZG93Lm5ldHNjYXBlKT8idGFibGUtcm93IjoiIjsKfWlmKHRoaXMuX293bmVyLl9ncm91cGluZ1NldHRpbmdzLlJldGFpbkdyb3VwRm9vdGVyc1Zpc2liaWxpdHkmJiFuLmdyb3VwTGV2ZWwpe24uZ3JvdXBMZXZlbD1zOwp9dmFyIEE9czsKdmFyIGM9ZmFsc2U7CnZhciBsPXBhcnNlSW50KHRoaXMuX2dyb3VwTGV2ZWxzQ291bnQsMTApLXBhcnNlSW50KHRoaXMuX29yaWdpbmFsR3JvdXBMZXZlbCwxMCk7CnZhciBJPXBhcnNlSW50KHRoaXMuX2dyb3VwTGV2ZWxzQ291bnQsMTApLXBhcnNlSW50KHMsMTApOwp2YXIgdTsKdmFyIEQ7CnZhciB5Owp2YXIgYjsKdmFyIE09dGhpcy5nZXRfdmlydHVhbEl0ZW1Db3VudCgpOwpmb3IodT1FKzE7CnU8Si5yb3dzLmxlbmd0aDsKdSsrKXtEPUoucm93c1t1XTsKaWYoTSYmIXYmJnRoaXMuX3Nob3VsZFNraXBPdGhlclJvd3MoRCxNKSl7Y29udGludWU7Cn12YXIgQz10aGlzLl9wcmV2aW91c1JvdyhKLnJvd3NbdV0pOwppZihELmNsYXNzTmFtZS5pbmRleE9mKCJyZ1JvdyIpPDAmJkQuY2xhc3NOYW1lLmluZGV4T2YoInJnQWx0Um93Iik8MCYmQyYmQy5pZCl7dmFyIHE9dGhpcy5fZ2V0RXhwYW5kQnV0dG9uKEMpOwppZihxJiYhdGhpcy5faXNHcm91cEJ1dHRvbkNvbGxhcHNlKHEpJiZELmNsYXNzTmFtZS5pbmRleE9mKCJyZ0Zvb3RlciIpPT0tMSl7Y29udGludWU7Cn19dmFyIGY7CmlmKEQuaWR8fEQuY2xhc3NOYW1lLmluZGV4T2YoInJnR3JvdXBIZWFkZXIiKSE9PS0xKXtmPXRoaXMuX2dldEdyb3VwRXhwYW5kQnV0dG9uKEQpOwp9aWYoIWYpe2lmKEE9PXMpe2lmKGw+MCl7RC5zdHlsZS5kaXNwbGF5PW07Cn1pZihELmNsYXNzTmFtZS5pbmRleE9mKCJyZ0Zvb3RlciIpIT0tMSl7bC0tOwp9ZWxzZXtELnN0eWxlLmRpc3BsYXk9bTsKfX1pZihtPT0iInx8bT09InRhYmxlLXJvdyIpe2lmKEQuY2xhc3NOYW1lLmluZGV4T2YoInJnRm9vdGVyIikhPS0xKXt2YXIgZD0xOwppZih0aGlzLl9vd25lci5fZ3JvdXBpbmdTZXR0aW5ncy5SZXRhaW5Hcm91cEZvb3RlcnNWaXNpYmlsaXR5KXtkPTI7Cn1pZihJPD1kKXtELnN0eWxlLmRpc3BsYXk9bTsKfUktLTsKfX19ZWxzZXtBPWYuaWQuc3BsaXQoIl9fIilbMl07CmlmKEE9PXN8fChwYXJzZUludChBLDEwKTxwYXJzZUludChzLDEwKSkpe2lmKG4uZ3JvdXBMZXZlbCYmcz09bi5ncm91cExldmVsJiZtPT0ibm9uZSIpe2I9cy1BKzE7CmZvcih5PTA7Cnk8YjsKeSsrKXtEPUoucm93c1t1LXktMV07CmlmKCFELmlkKXtELnN0eWxlLmRpc3BsYXk9IiI7Cn19fWJyZWFrOwp9ZWxzZXtpZihwYXJzZUludChBLDEwKS1wYXJzZUludChzLDEwKT09MSl7aWYoZi5zcmM9PW8uc3JjfHwoby5jbGFzc05hbWU9PWYuY2xhc3NOYW1lKSl7aWYoZj09PUIpe2lmKG09PSJub25lIil7aWYoby5zcmMpe2Yuc3JjPWsuX2RhdGEuQ29sbGFwc2VJbWFnZVVybDsKfWVsc2V7aWYodGhpcy5nZXRfb3duZXIoKS5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlKXtmLmNsYXNzTmFtZT0idC1idXR0b24gcmdBY3Rpb25CdXR0b24gcmdDb2xsYXBzZSI7CmlmKGYuY2hpbGRyZW4ubGVuZ3RoPjAmJmYuY2hpbGRyZW5bMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0ic3BhbiIpe2YuY2hpbGRyZW5bMF0uY2xhc3NOYW1lPSJ0LWZvbnQtaWNvbiByZ0ljb24gcmdDb2xsYXBzZUljb24iOwp9fWVsc2V7Zi5jbGFzc05hbWU9InJnQ29sbGFwc2UiOwp9fX19dmFyIGg9ZmFsc2U7CmlmKCF2KXtpZighdGhpcy5faXNHcm91cEJ1dHRvbkNvbGxhcHNlKG8pKXtoPXRydWU7Cn19ZWxzZXtoPXY7Cn1ELnN0eWxlLmRpc3BsYXk9bTsKdGhpcy5fdG9nZ2xlR3JvdXBzRXhwYW5kKGYsbixvLGgpOwpJPXBhcnNlSW50KHRoaXMuX2dyb3VwTGV2ZWxzQ291bnQsMTApLXBhcnNlSW50KHMsMTApOwp9RC5zdHlsZS5kaXNwbGF5PW07Cn19fWlmKHU9PUoucm93cy5sZW5ndGgtMSl7Yz10cnVlOwp9fWlmKG4uZ3JvdXBMZXZlbCYmYyYmbi5ncm91cExldmVsPT1zJiZtPT0ibm9uZSIpe2I9cyoxKzE7CmZvcih5PTA7Cnk8YjsKeSsrKXtEPUoucm93c1tKLnJvd3MubGVuZ3RoLXktMV07CmlmKCFELmlkKXtELnN0eWxlLmRpc3BsYXk9IiI7Cn19fWlmKG89PT1CJiZ0KXt2YXIgcD10aGlzLl9vd25lci5fZXhwYW5kZWRHcm91cEl0ZW1zOwp2YXIgej1LLl9kYXRhLlVuaXF1ZUlEKyIhIitHOwpsPTA7CmZvcih1PTA7CnU8cC5sZW5ndGg7CnUrKyl7aWYocFt1XT09eil7bCsrOwp9fWlmKGw9PT0yKXtBcnJheS5yZW1vdmUocCx6KTsKfWVsc2V7QXJyYXkuYWRkKHAseik7Cn19dGhpcy5fb3duZXIudXBkYXRlQ2xpZW50U3RhdGUoKTsKYT1uZXcgU3lzLkV2ZW50QXJncygpOwppZigheCl7aWYodil7dGhpcy5fb3duZXIucmFpc2VfZ3JvdXBDb2xsYXBzZWQoYSk7Cn1lbHNle3RoaXMuX293bmVyLnJhaXNlX2dyb3VwRXhwYW5kZWQoYSk7Cn19dmFyIHI9JGZpbmQodGhpcy5fb3duZXIuZ2V0X2lkKCkpOwpyLl9nZXRQb3NpdGlvbmVkRGF0YUl0ZW1zKHRydWUpOwp9LF9wcmV2aW91c1JvdzpmdW5jdGlvbihiKXt2YXIgYT1iLnByZXZpb3VzU2libGluZzsKaWYodGhpcy5fZGF0YS5oYXNEZXRhaWxJdGVtVGVtcGxhdGUmJmEuY2xhc3NOYW1lJiYoYS5jbGFzc05hbWUuaW5kZXhPZigicmdSb3ciKSE9LTF8fGEuY2xhc3NOYW1lLmluZGV4T2YoInJnQWx0Um93IikhPS0xKSl7YT1iLnByZXZpb3VzU2libGluZzsKfXJldHVybiBhOwp9LF9wcmV2aW91c0RhdGFJdGVtRWxlbWVudDpmdW5jdGlvbihhKXt2YXIgYj10aGlzOwppZihiLl9pc0RhdGFJdGVtRWxlbWVudChhKSl7cmV0dXJuIGE7Cn13aGlsZSghYi5faXNEYXRhSXRlbUVsZW1lbnQoYSkmJmEpe2E9YS5wcmV2aW91c1NpYmxpbmc7Cn1pZighYi5faXNEYXRhSXRlbUVsZW1lbnQoYSkpe3JldHVybiBudWxsOwp9cmV0dXJuIGE7Cn0sX2lzRGF0YUl0ZW1FbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVybihhJiYoYS5jbGFzc05hbWUmJigoYS5jbGFzc05hbWUuaW5kZXhPZigicmdSb3ciKSE9LTF8fGEuY2xhc3NOYW1lLmluZGV4T2YoInJnQWx0Um93IikhPS0xKSYmYS5pZC5pbmRleE9mKCJfXyIpIT0tMSkpKTsKfSxfZXhwYW5kQ29sbGFwc2VHcm91cDpmdW5jdGlvbihsLGssaSl7dmFyIGU9e2V4cGFuZENoaWxkcmVuOmZhbHNlLGV4cGFuZFBhcmVudHM6dHJ1ZSxjb2xsYXBzZUNoaWxkcmVuOmZhbHNlLGNvbGxhcHNlUGFyZW50czpmYWxzZSx0b2dnbGVDaGlsZHJlbjpmYWxzZSx0b2dnbGVQYXJlbnRzOmZhbHNlLGZpbmRDbG9zZXN0R3JvdXA6dHJ1ZX07CnZhciBvPXRoaXM7Cms9a3x8e307CnZhciBuPWwucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJvd3MsbSxnLGQsaD0haSxiLGY7CmZvcih2YXIgaiBpbiBlKXtpZih0eXBlb2Yga1tqXT09PSJ1bmRlZmluZWQiKXtrW2pdPWVbal07Cn19aWYoay5maW5kQ2xvc2VzdEdyb3VwKXttPWwucm93SW5kZXg7CndoaWxlKG5bbV0mJiFTeXMuVUkuRG9tRWxlbWVudC5jb250YWluc0Nzc0NsYXNzKG5bbV0sInJnR3JvdXBIZWFkZXIiKSl7bS0tOwp9bD1uW21dOwppZighbCl7cmV0dXJuOwp9fWc9by5fZ2V0R3JvdXBFeHBhbmRCdXR0b24obCk7CmY9Zy5jbGFzc05hbWUuaW5kZXhPZigicmdFeHBhbmQiKSE9PS0xOwppZihpPT09dHJ1ZXx8Zil7Yj0icmdFeHBhbmQiOwp9ZWxzZXtpZihpPT09ZmFsc2V8fCFmKXtiPSJyZ0NvbGxhcHNlIjsKfX1pZih0aGlzLmdldF9vd25lcigpLl9yZW5kZXJNb2RlPT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLkxpdGUpe2I9InQtYnV0dG9uIHJnQWN0aW9uQnV0dG9uICIrYjsKfWlmKCFnKXtnPSR0ZWxlcmlrLmdldEVsZW1lbnRCeUNsYXNzTmFtZShsLCJyZ0dyb3VwQ29sIik7CmlmKGcpe2c9JHRlbGVyaWsuZ2V0RWxlbWVudEJ5Q2xhc3NOYW1lKGcsInJnRXhwYW5kIik7Cn19aWYoIWcpe2c9JHRlbGVyaWsuZ2V0RWxlbWVudEJ5Q2xhc3NOYW1lKGwsInJnR3JvdXBDb2wiKTsKaWYoZyl7Zz0kdGVsZXJpay5nZXRFbGVtZW50QnlDbGFzc05hbWUoZywicmdDb2xsYXBzZSIpOwp9fWlmKGcpe2lmKCFifHxnLmNsYXNzTmFtZS5pbmRleE9mKGIpPi0xKXtpZighYil7Yj1nLmNsYXNzTmFtZTsKfW8uX3RvZ2dsZUdyb3Vwc0V4cGFuZChnLHt9KTsKfWVsc2V7cmV0dXJuIGZhbHNlOwp9aWYoKGsuZXhwYW5kUGFyZW50cyYmaSYmaSE9PXVuZGVmaW5lZCl8fChrLmNvbGxhcHNlUGFyZW50cyYmaCYmaSE9PXVuZGVmaW5lZCl8fGsudG9nZ2xlUGFyZW50cyl7ZD0kdGVsZXJpay5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGwsInJnR3JvdXBDb2wiKS5sZW5ndGgtMTsKbT1sLnJvd0luZGV4LTE7CndoaWxlKGQ+MCYmblttXSl7aWYoJHRlbGVyaWsuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShuW21dLCJyZ0dyb3VwQ29sIikubGVuZ3RoPT09ZCl7by5fZXhwYW5kQ29sbGFwc2VHcm91cChuW21dLHtleHBhbmRQYXJlbnRzOmZhbHNlLGZpbmRDbG9zZXN0R3JvdXA6ZmFsc2V9LGkpOwpkLS07Cn1tLS07Cn19aWYoKGsuZXhwYW5kQ2hpbGRyZW4mJmkpfHwoay5jb2xsYXBzZUNoaWxkcmVuJiZoKXx8ay50b2dnbGVDaGlsZHJlbil7ZD0kdGVsZXJpay5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGwsInJnR3JvdXBDb2wiKS5sZW5ndGg7Cm09bC5yb3dJbmRleCsxOwp3aGlsZShuW21dKXtpZigkdGVsZXJpay5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG5bbV0sInJnR3JvdXBDb2wiKS5sZW5ndGg9PT1kKXticmVhazsKfW8uX2V4cGFuZENvbGxhcHNlR3JvdXAoblttXSx7ZXhwYW5kUGFyZW50czpmYWxzZSxmaW5kQ2xvc2VzdEdyb3VwOmZhbHNlfSxpKTsKbSsrOwp9fWlmKHRoaXMuX2RhdGEuR3JvdXBMb2FkTW9kZT09PSJTZXJ2ZXIiKXt2YXIgYz0iIixhPWcuaWQuc3BsaXQoIl9fIik7CmlmKGsuZXhwYW5kQ2hpbGRyZW58fChrLnRvZ2dsZUNoaWxkcmVuJiZiLmluZGV4T2YoInJnRXhwYW5kIikpKXtjPSJleHBhbmRDaGlsZHJlbjsiK2FbMV0rIjsiK2FbMl07Cn10aGlzLmZpcmVDb21tYW5kKCJHcm91cHNDdXN0b21FeHBhbmRDb2xsYXBzZSIsYyk7Cn1yZXR1cm4gdHJ1ZTsKfXJldHVybiBmYWxzZTsKfSx0b2dnbGVHcm91cDpmdW5jdGlvbihiLGEpe3JldHVybiB0aGlzLl9leHBhbmRDb2xsYXBzZUdyb3VwKGIsYSk7Cn0sZXhwYW5kR3JvdXA6ZnVuY3Rpb24oYixhKXtyZXR1cm4gdGhpcy5fZXhwYW5kQ29sbGFwc2VHcm91cChiLGEsdHJ1ZSk7Cn0sY29sbGFwc2VHcm91cDpmdW5jdGlvbihiLGEpe3JldHVybiB0aGlzLl9leHBhbmRDb2xsYXBzZUdyb3VwKGIsYSxmYWxzZSk7Cn0sX2V4cGFuZENvbGxhcHNlQWxsR3JvdXBzOmZ1bmN0aW9uKGYsYil7Zj1wYXJzZUludChmLDEwKTsKdmFyIGc9aXNOYU4oZil8fGY9PT0wOwp2YXIgZD10aGlzLl9nZXRHcm91cENvbEV4cEJ1dHRvbnMoKTsKdmFyIGM9Zz9iLmluZGV4T2YoInJnRXhwYW5kIik+LTE/ImV4cGFuZFRvTGV2ZWwiOiJjb2xsYXBzZVRvTGV2ZWwiOmIuaW5kZXhPZigicmdFeHBhbmQiKT4tMT8iZXhwYW5kTGV2ZWwiOiJjb2xsYXBzZUxldmVsIjsKdmFyIGE7CmlmKGcpe2Zvcih2YXIgZT0wOwplPGQubGVuZ3RoOwplKyspe2E9ZFtlXTsKYS5jbGFzc05hbWU9YjsKdGhpcy5fZ3JvdXBFeHBhbmRBbGwoYSxlKTsKZj1lOwp9fWVsc2V7YT1kW2ZdOwppZighYSl7cmV0dXJuIGZhbHNlOwp9YS5jbGFzc05hbWU9YjsKdGhpcy5fZ3JvdXBFeHBhbmRBbGwoYSxmKTsKfWlmKHRoaXMuX2RhdGEuR3JvdXBMb2FkTW9kZT09PSJTZXJ2ZXIiKXt0aGlzLmZpcmVDb21tYW5kKCJHcm91cHNDdXN0b21FeHBhbmRDb2xsYXBzZSIsU3RyaW5nLmZvcm1hdCgiezB9O3sxfSIsYyxmKSk7Cn1yZXR1cm4gdHJ1ZTsKfSxleHBhbmRBbGxHcm91cHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2V4cGFuZENvbGxhcHNlQWxsR3JvdXBzKGEsInJnRXhwYW5kIik7Cn0sY29sbGFwc2VBbGxHcm91cHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2V4cGFuZENvbGxhcHNlQWxsR3JvdXBzKGEsInJnQ29sbGFwc2UiKTsKfSxfdG9nZ2xlR3JvdXBzRXhwYW5kOmZ1bmN0aW9uKEgsbixELHgpe3ZhciBKPWZhbHNlOwppZighRCl7Sj10cnVlOwp9dmFyIG89SDsKdmFyIHo9dHlwZW9mKEQpPT09InVuZGVmaW5lZCI/ZmFsc2U6dHJ1ZTsKaWYodHlwZW9mKEQpPT09InVuZGVmaW5lZCIpe0Q9bzsKfWlmKCF0aGlzLl9vd25lci5DbGllbnRTZXR0aW5ncy5BbGxvd0dyb3VwRXhwYW5kQ29sbGFwc2Upe3JldHVybjsKfXZhciBQPW8uaWQuc3BsaXQoIl9fIilbMF07CnZhciBPPSRmaW5kKFApOwp2YXIgST1vLmlkLnNwbGl0KCJfXyIpWzFdOwp2YXIgdD1vLmlkLnNwbGl0KCJfXyIpWzJdOwp2YXIgdT1mYWxzZTsKaWYoIXRoaXMuX29yaWdpbmFsR3JvdXBMZXZlbCl7dGhpcy5fb3JpZ2luYWxHcm91cExldmVsPXQ7Cn1pZihwYXJzZUludCh0LDEwKTxwYXJzZUludCh0aGlzLl9vcmlnaW5hbEdyb3VwTGV2ZWwsMTApfHxKKXt0aGlzLl9vcmlnaW5hbEdyb3VwTGV2ZWw9dDsKfXZhciBnPW8ucGFyZW50Tm9kZS5jZWxsSW5kZXg7CnZhciBHPW8ucGFyZW50Tm9kZS5wYXJlbnROb2RlLnNlY3Rpb25Sb3dJbmRleDsKdmFyIE49Ty5nZXRfZWxlbWVudCgpLnRCb2RpZXNbMF07CnZhciBrPXRoaXMuZ2V0X2NvbHVtbnMoKVtnXTsKdmFyIGE9bmV3IFN5cy5DYW5jZWxFdmVudEFyZ3MoKTsKdmFyIHc9ZmFsc2U7CmlmKHRoaXMuX2lzR3JvdXBCdXR0b25Db2xsYXBzZShvKSl7dz10cnVlOwp9aWYodHlwZW9mKHgpIT09InVuZGVmaW5lZCIpe3c9eDsKfWlmKCF6KXtpZih3KXt0aGlzLl9vd25lci5yYWlzZV9ncm91cENvbGxhcHNpbmcoYSk7Cn1lbHNle3RoaXMuX293bmVyLnJhaXNlX2dyb3VwRXhwYW5kaW5nKGEpOwp9fWlmKGEuZ2V0X2NhbmNlbCgpKXtyZXR1cm4gZmFsc2U7Cn12YXIgSz10aGlzLl9vd25lci5fc2hvdWxkVXBkYXRlQ2xpZW50U3RhdGU7CnRoaXMuX293bmVyLl9zaG91bGRVcGRhdGVDbGllbnRTdGF0ZT1mYWxzZTsKaWYobz09PUQpe2lmKGspe2lmKG8uc3JjKXtpZighdyYmby5zcmMhPT1rLl9kYXRhLkNvbGxhcHNlSW1hZ2VVcmwpe3U9dHJ1ZTsKby5zcmM9ay5fZGF0YS5Db2xsYXBzZUltYWdlVXJsOwpvLnRpdGxlPU8uX293bmVyLl9ncm91cGluZ1NldHRpbmdzLkNvbGxhcHNlVG9vbHRpcDsKaWYodGhpcy5fb3duZXIuZ2V0X2VuYWJsZUFyaWFTdXBwb3J0KCkpe28uc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwidHJ1ZSIpOwpvLnBhcmVudE5vZGUucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIik7Cn19ZWxzZXtpZih3JiZvLnNyYyE9PWsuX2RhdGEuRXhwYW5kSW1hZ2VVcmwpe3U9dHJ1ZTsKby5zcmM9ay5fZGF0YS5FeHBhbmRJbWFnZVVybDsKby50aXRsZT1PLl9vd25lci5fZ3JvdXBpbmdTZXR0aW5ncy5FeHBhbmRUb29sdGlwOwppZih0aGlzLl9vd25lci5nZXRfZW5hYmxlQXJpYVN1cHBvcnQoKSl7by5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpOwpvLnBhcmVudE5vZGUucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpOwp9fX19ZWxzZXt2YXIgeT10aGlzLmdldF9vd25lcigpLl9yZW5kZXJNb2RlPT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLkxpdGU7CnZhciBNOwppZighdyYmby5jbGFzc05hbWUuaW5kZXhPZigicmdDb2xsYXBzZSIpPT09LTEpe3U9dHJ1ZTsKby50aXRsZT1PLl9vd25lci5fZ3JvdXBpbmdTZXR0aW5ncy5Db2xsYXBzZVRvb2x0aXA7CmlmKHkpe009by5jaGlsZHJlblswXTsKby52YWx1ZT1vLnZhbHVlLnJlcGxhY2UoL0V4cGFuZC9nLCJDb2xsYXBzZSIpOwpvLmNsYXNzTmFtZT1vLmNsYXNzTmFtZS5yZXBsYWNlKC9yZ0V4cGFuZC9nLCJyZ0NvbGxhcHNlIik7CmlmKE0mJk0uY2xhc3NOYW1lLmluZGV4T2YoInQtZm9udC1pY29uIHJnSWNvbiIpPi0xKXtNLmNsYXNzTmFtZT1NLmNsYXNzTmFtZS5yZXBsYWNlKC9FeHBhbmQvZywiQ29sbGFwc2UiKTsKfX1lbHNle28uY2xhc3NOYW1lPSJyZ0NvbGxhcHNlIjsKfWlmKHRoaXMuX293bmVyLmdldF9lbmFibGVBcmlhU3VwcG9ydCgpKXtvLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsInRydWUiKTsKby5wYXJlbnROb2RlLnBhcmVudE5vZGUuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwidHJ1ZSIpOwp9fWVsc2V7aWYodyYmby5jbGFzc05hbWUuaW5kZXhPZigicmdFeHBhbmQiKT09PS0xKXt1PXRydWU7Cm8udGl0bGU9Ty5fb3duZXIuX2dyb3VwaW5nU2V0dGluZ3MuRXhwYW5kVG9vbHRpcDsKaWYoeSl7TT1vLmNoaWxkcmVuWzBdOwpvLnZhbHVlPW8udmFsdWUucmVwbGFjZSgvQ29sbGFwc2UvZywiRXhwYW5kIik7Cm8uY2xhc3NOYW1lPW8uY2xhc3NOYW1lLnJlcGxhY2UoL3JnQ29sbGFwc2UvZywicmdFeHBhbmQiKTsKaWYoTSYmTS5jbGFzc05hbWUuaW5kZXhPZigidC1mb250LWljb24gcmdJY29uIik+LTEpe00uY2xhc3NOYW1lPU0uY2xhc3NOYW1lLnJlcGxhY2UoL0NvbGxhcHNlL2csIkV4cGFuZCIpOwp9fWVsc2V7by5jbGFzc05hbWU9InJnRXhwYW5kIjsKfWlmKHRoaXMuX293bmVyLmdldF9lbmFibGVBcmlhU3VwcG9ydCgpKXtvLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsImZhbHNlIik7Cm8ucGFyZW50Tm9kZS5wYXJlbnROb2RlLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsImZhbHNlIik7Cn19fX19fXZhciBtPSJub25lIjsKaWYoIXcmJm8ub2Zmc2V0SGVpZ2h0IT09MCYmdGhpcy5faXNHcm91cEJ1dHRvbkNvbGxhcHNlKG8pKXttPSh3aW5kb3cubmV0c2NhcGUpPyJ0YWJsZS1yb3ciOiIiOwp9aWYodGhpcy5fb3duZXIuX2dyb3VwaW5nU2V0dGluZ3MuUmV0YWluR3JvdXBGb290ZXJzVmlzaWJpbGl0eSYmIW4uZ3JvdXBMZXZlbCl7bi5ncm91cExldmVsPXQ7Cn12YXIgQz10Owp2YXIgYz1mYWxzZTsKdmFyIGw9cGFyc2VJbnQodGhpcy5fZ3JvdXBMZXZlbHNDb3VudCwxMCktcGFyc2VJbnQodGhpcy5fb3JpZ2luYWxHcm91cExldmVsLDEwKTsKdmFyIEw9cGFyc2VJbnQodGhpcy5fZ3JvdXBMZXZlbHNDb3VudCwxMCktcGFyc2VJbnQodCwxMCk7CnZhciB2LEE7CnZhciBGOwp2YXIgYjsKdmFyIFE9dGhpcy5nZXRfdmlydHVhbEl0ZW1Db3VudCgpOwpmb3Iodj1HKzE7CnY8Ti5yb3dzLmxlbmd0aDsKdisrKXtGPU4ucm93c1t2XTsKaWYoUSYmIXcmJnRoaXMuX3Nob3VsZFNraXBPdGhlclJvd3MoRixRKSl7Y29udGludWU7Cn12YXIgRT10aGlzLl9wcmV2aW91c1JvdyhOLnJvd3Nbdl0pOwppZihGLmNsYXNzTmFtZS5pbmRleE9mKCJyZ1JvdyIpPDAmJkYuY2xhc3NOYW1lLmluZGV4T2YoInJnQWx0Um93Iik8MCYmRSYmRS5pZCl7dmFyIHE9dGhpcy5fZ2V0RXhwYW5kQnV0dG9uKEUpOwppZihxJiYhdGhpcy5faXNHcm91cEJ1dHRvbkNvbGxhcHNlKHEpJiZGLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0Zvb3RlciIpPT0tMSl7Y29udGludWU7Cn19dmFyIGY7CmlmKEYuaWR8fEYuY2xhc3NOYW1lLmluZGV4T2YoInJnR3JvdXBIZWFkZXIiKSE9PS0xKXtmPXRoaXMuX2dldEdyb3VwRXhwYW5kQnV0dG9uKEYpOwp9aWYoIWYpe2lmKEM9PXQpe2lmKGw+MCl7Ri5zdHlsZS5kaXNwbGF5PW07Cn1pZihGLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0Zvb3RlciIpIT0tMSl7bC0tOwp9ZWxzZXtGLnN0eWxlLmRpc3BsYXk9bTsKfX1pZihtPT0iInx8bT09InRhYmxlLXJvdyIpe2lmKEYuY2xhc3NOYW1lLmluZGV4T2YoInJnRm9vdGVyIikhPS0xKXt2YXIgZD0xOwppZih0aGlzLl9vd25lci5fZ3JvdXBpbmdTZXR0aW5ncy5SZXRhaW5Hcm91cEZvb3RlcnNWaXNpYmlsaXR5KXtkPTI7Cn1pZihMPD1kKXtGLnN0eWxlLmRpc3BsYXk9bTsKfUwtLTsKfX19ZWxzZXtDPWYuaWQuc3BsaXQoIl9fIilbMl07CmlmKEM9PXR8fChwYXJzZUludChDLDEwKTxwYXJzZUludCh0LDEwKSkpe2lmKG4uZ3JvdXBMZXZlbCYmdD09bi5ncm91cExldmVsJiZtPT0ibm9uZSIpe2I9dC1DKzE7CmZvcihBPTA7CkE8YjsKQSsrKXtGPU4ucm93c1t2LUEtMV07CmlmKCFGLmlkKXtGLnN0eWxlLmRpc3BsYXk9IiI7Cn19fWJyZWFrOwp9ZWxzZXtpZihwYXJzZUludChDLDEwKS1wYXJzZUludCh0LDEwKT09MSl7aWYoZi5zcmM9PW8uc3JjfHwoby5jbGFzc05hbWU9PWYuY2xhc3NOYW1lKSl7aWYoZj09PUQpe2lmKG09PSJub25lIil7aWYoby5zcmMpe2Yuc3JjPWsuX2RhdGEuQ29sbGFwc2VJbWFnZVVybDsKfWVsc2V7aWYodGhpcy5nZXRfb3duZXIoKS5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlKXtmLmNsYXNzTmFtZT0idC1idXR0b24gcmdBY3Rpb25CdXR0b24gcmdDb2xsYXBzZSI7CmlmKGYuY2hpbGRyZW4ubGVuZ3RoPjAmJmYuY2hpbGRyZW5bMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0ic3BhbiIpe2YuY2hpbGRyZW5bMF0uY2xhc3NOYW1lPSJ0LWZvbnQtaWNvbiByZ0ljb24gcmdDb2xsYXBzZUljb24iOwp9fWVsc2V7Zi5jbGFzc05hbWU9InJnQ29sbGFwc2UiOwp9fX19dmFyIGg9ZmFsc2U7CmlmKCF3KXtpZighdGhpcy5faXNHcm91cEJ1dHRvbkNvbGxhcHNlKG8pKXtoPXRydWU7Cn19ZWxzZXtoPXc7Cn1GLnN0eWxlLmRpc3BsYXk9bTsKdGhpcy5fdG9nZ2xlR3JvdXBzRXhwYW5kKGYsbixvLGgpOwpMPXBhcnNlSW50KHRoaXMuX2dyb3VwTGV2ZWxzQ291bnQsMTApLXBhcnNlSW50KHQsMTApOwp9Ri5zdHlsZS5kaXNwbGF5PW07Cn19fWlmKHY9PU4ucm93cy5sZW5ndGgtMSl7Yz10cnVlOwp9fWlmKG4uZ3JvdXBMZXZlbCYmYyYmbi5ncm91cExldmVsPT10JiZtPT0ibm9uZSIpe2I9dCoxKzE7CmZvcihBPTA7CkE8YjsKQSsrKXtGPU4ucm93c1tOLnJvd3MubGVuZ3RoLUEtMV07CmlmKCFGLmlkKXtGLnN0eWxlLmRpc3BsYXk9IiI7Cn19fWlmKG89PT1EJiZ1KXt2YXIgcD10aGlzLl9vd25lci5fZXhwYW5kZWRHcm91cEl0ZW1zLEI9Ty5fZGF0YS5VbmlxdWVJRCsiISIrSSsiISIrdDsKbD0wOwpmb3IodmFyIHI9MDsKcjxwLmxlbmd0aDsKcisrKXtpZihwW3JdPT1CKXtsKys7Cn19aWYobD09PTIpe0FycmF5LnJlbW92ZShwLEIpOwppZih0aGlzLl9lbmFibGVHcm91cHNFeHBhbmRBbGwpe3RoaXMuX3RvZ2dsZUdyb3Vwc0V4cGFuZEFsbEJ1dHRvbih0KjEpOwp9fWVsc2V7QXJyYXkuYWRkKHAsQik7CmlmKHRoaXMuX2VuYWJsZUdyb3Vwc0V4cGFuZEFsbCl7dGhpcy5fdG9nZ2xlR3JvdXBzRXhwYW5kQWxsQnV0dG9uKHQqMSk7Cn19fXRoaXMuX293bmVyLl9zaG91bGRVcGRhdGVDbGllbnRTdGF0ZT1LOwp0aGlzLl9vd25lci51cGRhdGVDbGllbnRTdGF0ZSgpOwphPW5ldyBTeXMuRXZlbnRBcmdzKCk7CmlmKCF6KXtpZih3KXt0aGlzLl9vd25lci5yYWlzZV9ncm91cENvbGxhcHNlZChhKTsKfWVsc2V7dGhpcy5fb3duZXIucmFpc2VfZ3JvdXBFeHBhbmRlZChhKTsKfX12YXIgcz0kZmluZCh0aGlzLl9vd25lci5nZXRfaWQoKSk7CnMuX2dldFBvc2l0aW9uZWREYXRhSXRlbXModHJ1ZSk7CmlmKHRoaXMuX2RhdGEuRWRpdE1vZGU9PSJCYXRjaCImJnRoaXMuX2RhdGEuX2JhdGNoRWRpdGluZ1NldHRpbmdzLmhpZ2hsaWdodERlbGV0ZWRSb3dzKXt0aGlzLmdldF9vd25lcigpLmdldF9iYXRjaEVkaXRpbmdNYW5hZ2VyKCkuX2FkanVzdEJhdGNoRGVsZXRlZFJvd3MoKTsKfX0sX2FycmF5Q29udGFpbnM6ZnVuY3Rpb24oYixkKXt2YXIgYz1iLmxlbmd0aDsKd2hpbGUoYy0tKXtpZihiW2NdPT09ZCl7cmV0dXJuIHRydWU7Cn19cmV0dXJuIGZhbHNlOwp9LF90b2dnbGVHcm91cHNFeHBhbmRBbGxCdXR0b246ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcy5fb3duZXIuX2V4cGFuZGVkR3JvdXBJdGVtczsKdmFyIGQ9dGhpcy5fZ2V0R3JvdXBDb2xFeHBCdXR0b25zKClbY107CnZhciBmPWQuY2xhc3NOYW1lLmluZGV4T2YoInJnQ29sbGFwc2UiKT4tMTsKdmFyIGc9dGhpcy5nZXRfb3duZXIoKS5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlOwp2YXIgaD10aGlzLl9ncm91cEhlYWRlcnNDb3VudFtjXTsKdmFyIGo9aDsKdmFyIGs9W107CmZvcih2YXIgZT0wOwplPGIubGVuZ3RoOwplKyspe3ZhciBhPWJbZV0uc3BsaXQoIiEiKVsyXTsKaWYoYT09Yyl7aWYodGhpcy5fYXJyYXlDb250YWlucyhrLGJbZV0pKXtqLS07Cn1BcnJheS5hZGQoayxiW2VdKTsKfX1pZihqPT0wJiZ0aGlzLl9leGFwbmRlZEdyb3VwSXRlbXNUZW1wW2NdIT1rLmxlbmd0aCYmKGsubGVuZ3RoPT1ofHxrLmxlbmd0aD09aCoyKSl7dGhpcy5fZXhhcG5kZWRHcm91cEl0ZW1zVGVtcFtjXT1rLmxlbmd0aDsKaWYoIWYpe2lmKGcpe2QuY2xhc3NOYW1lPSJ0LWJ1dHRvbiByZ0FjdGlvbkJ1dHRvbiByZ0NvbGxhcHNlIjsKZC50aXRsZT10aGlzLmdldF9vd25lcigpLl9ncm91cGluZ1NldHRpbmdzLkNvbGxhcHNlQWxsVG9vbHRpcDsKaWYoZC5jaGlsZHJlbi5sZW5ndGg+MCYmZC5jaGlsZHJlblswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJzcGFuIil7ZC5jaGlsZHJlblswXS5jbGFzc05hbWU9InQtZm9udC1pY29uIHJnSWNvbiByZ0NvbGxhcHNlSWNvbiI7Cn19ZWxzZXtkLmNsYXNzTmFtZT0icmdDb2xsYXBzZSI7CmQudGl0bGU9dGhpcy5nZXRfb3duZXIoKS5fZ3JvdXBpbmdTZXR0aW5ncy5Db2xsYXBzZUFsbFRvb2x0aXA7Cn10aGlzLl9zaG93R3JvdXBDb2xFeHBCdXR0b25zT25Db2xsYXBzZShkLGMqMSk7CnRoaXMuX3VwZGF0ZUdyb3Vwc0NvbFN0YXRlKHRydWUsYyk7CnRoaXMuX3RvZ2dsZURpc3BsYXlIaWVyYXJjaHlFeHBhbmRBbGxCdXR0b25zKCk7Cn1lbHNle2lmKGcpe2QuY2xhc3NOYW1lPSJ0LWJ1dHRvbiByZ0FjdGlvbkJ1dHRvbiByZ0V4cGFuZCI7CmQudGl0bGU9dGhpcy5nZXRfb3duZXIoKS5fZ3JvdXBpbmdTZXR0aW5ncy5FeHBhbmRBbGxUb29sdGlwOwppZihkLmNoaWxkcmVuLmxlbmd0aD4wJiZkLmNoaWxkcmVuWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InNwYW4iKXtkLmNoaWxkcmVuWzBdLmNsYXNzTmFtZT0idC1mb250LWljb24gcmdJY29uIHJnRXhwYW5kSWNvbiI7Cn19ZWxzZXtkLmNsYXNzTmFtZT0icmdFeHBhbmQiOwpkLnRpdGxlPXRoaXMuZ2V0X293bmVyKCkuX2dyb3VwaW5nU2V0dGluZ3MuRXhwYW5kQWxsVG9vbHRpcDsKfXRoaXMuX2hpZGVHcm91cENvbEV4cEJ1dHRvbnNPbkNvbGxhcHNlKGQsYyoxKTsKdGhpcy5fdXBkYXRlR3JvdXBzQ29sU3RhdGUoZmFsc2UsYyk7CnRoaXMuX3RvZ2dsZURpc3BsYXlIaWVyYXJjaHlFeHBhbmRBbGxCdXR0b25zKCk7Cn19fSxfaXNHcm91cEJ1dHRvbkNvbGxhcHNlOmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZS5jZWxsSW5kZXg7CnZhciBkPXRoaXMuZ2V0X2NvbHVtbnMoKVtiXTsKdmFyIGM9ZC5fZGF0YS5Db2xsYXBzZUltYWdlVXJsOwppZigoYS5jbGFzc05hbWUmJmEuY2xhc3NOYW1lLmluZGV4T2YoInJnQ29sbGFwc2UiKSE9PS0xKXx8KGEuc3JjJiZhLnNyYy5pbmRleE9mKGMpIT09LTEpKXtyZXR1cm4gdHJ1ZTsKfXJldHVybiBmYWxzZTsKfSxfZ2V0R3JvdXBFeHBhbmRCdXR0b246ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5fZmluZEJ1dHRvbkJ5Q2xpY2tTY3JpcHQoYiwiX3RvZ2dsZUdyb3Vwc0V4cGFuZCIpOwppZighYSYmYi5jbGFzc05hbWUuaW5kZXhPZigicmdHcm91cEhlYWRlciIpIT0tMSl7cmV0dXJuICR0ZWxlcmlrLmdldEVsZW1lbnRCeUNsYXNzTmFtZShiLCJyZ0NvbGxhcHNlIil8fCR0ZWxlcmlrLmdldEVsZW1lbnRCeUNsYXNzTmFtZShiLCJyZ0V4cGFuZCIpOwp9cmV0dXJuIGE7Cn0sX2dldEV4cGFuZEJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fZmluZEJ1dHRvbkJ5Q2xpY2tTY3JpcHQoYSwiX3RvZ2dsZUV4cGFuZCIpOwp9LF9maW5kQnV0dG9uQnlDbGlja1NjcmlwdDpmdW5jdGlvbihiLGYpe3ZhciBnPVsiaW1nIiwiaW5wdXQiLCJidXR0b24iXTsKdmFyIGE7CnZhciBjOwpmb3IodmFyIGQ9MDsKZDxnLmxlbmd0aDsKZCsrKXthPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZ1tkXSk7CmZvcih2YXIgZT0wOwplPGEubGVuZ3RoOwplKyspe2M9YVtlXTsKaWYoYy5vbmNsaWNrIT1udWxsJiZjLm9uY2xpY2sudG9TdHJpbmcoKS5pbmRleE9mKGYpIT0tMSl7cmV0dXJuIGM7Cn19fXJldHVybiBudWxsOwp9LGVkaXRJdGVtOmZ1bmN0aW9uKGIpe2I9dGhpcy5fZ2V0Um93QnlJbmRleE9ySXRlbUluZGV4SGllcmFyY2hpY2FsKGIpOwp2YXIgYT1iLmlkLnNwbGl0KCJfXyIpWzFdOwppZighdGhpcy5maXJlQ29tbWFuZCgiRWRpdCIsYSkpe3JldHVybiBmYWxzZTsKfX0sdXBkYXRlSXRlbTpmdW5jdGlvbihiKXtiPXRoaXMuX2dldFJvd0J5SW5kZXhPckl0ZW1JbmRleEhpZXJhcmNoaWNhbChiKTsKdmFyIGE9Yi5pZC5zcGxpdCgiX18iKVsxXTsKaWYoIXRoaXMuZmlyZUNvbW1hbmQoIlVwZGF0ZSIsYSkpe3JldHVybiBmYWxzZTsKfX0sZGVsZXRlSXRlbTpmdW5jdGlvbihiKXtiPXRoaXMuX2dldFJvd0J5SW5kZXhPckl0ZW1JbmRleEhpZXJhcmNoaWNhbChiKTsKdmFyIGE9Yi5pZC5zcGxpdCgiX18iKVsxXTsKaWYoIXRoaXMuZmlyZUNvbW1hbmQoIkRlbGV0ZSIsYSkpe3JldHVybiBmYWxzZTsKfX0scmViaW5kOmZ1bmN0aW9uKCl7dGhpcy5fZm9yY2VSZWJpbmQ9dHJ1ZTsKaWYoIXRoaXMuZmlyZUNvbW1hbmQoIlJlYmluZEdyaWQiLCIiKSl7cmV0dXJuIGZhbHNlOwp9fSxpbnNlcnRJdGVtOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZmlyZUNvbW1hbmQoIlBlcmZvcm1JbnNlcnQiLCIiKSl7cmV0dXJuIGZhbHNlOwp9fSxzaG93SW5zZXJ0SXRlbTpmdW5jdGlvbigpe2lmKCF0aGlzLmZpcmVDb21tYW5kKCJJbml0SW5zZXJ0IiwiIikpe3JldHVybiBmYWxzZTsKfX0sY2FuY2VsSW5zZXJ0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuZmlyZUNvbW1hbmQoIkNhbmNlbEluc2VydCIsIiIpKXtyZXR1cm4gZmFsc2U7Cn19LHNvcnQ6ZnVuY3Rpb24oYil7dmFyIGY9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRTb3J0RXhwcmVzc2lvbigpOwp2YXIgYz1iLnNwbGl0KCIgIilbMF07CnZhciBnPVRlbGVyaWsuV2ViLlVJLkdyaWRTb3J0T3JkZXIuQXNjZW5kaW5nOwp2YXIgYT0tMTsKdmFyIGQ9dGhpcy5fc29ydEV4cHJlc3Npb25zLmZpbmQoYyk7CmlmKGQhPW51bGwpe2E9ZC5nZXRfc29ydE9yZGVyKCk7Cn1pZihiLnRvVXBwZXJDYXNlKCkuaW5kZXhPZigiIEFTQyIpIT0tMSl7Zz1UZWxlcmlrLldlYi5VSS5HcmlkU29ydE9yZGVyLkFzY2VuZGluZzsKfWVsc2V7aWYoYi50b1VwcGVyQ2FzZSgpLmluZGV4T2YoIiBERVNDIikhPS0xKXtnPVRlbGVyaWsuV2ViLlVJLkdyaWRTb3J0T3JkZXIuRGVzY2VuZGluZzsKfWVsc2V7aWYoZCE9bnVsbCl7aWYoYT09VGVsZXJpay5XZWIuVUkuR3JpZFNvcnRPcmRlci5Ob25lKXtnPVRlbGVyaWsuV2ViLlVJLkdyaWRTb3J0T3JkZXIuQXNjZW5kaW5nOwp9ZWxzZXtpZihhPT1UZWxlcmlrLldlYi5VSS5HcmlkU29ydE9yZGVyLkFzY2VuZGluZyl7Zz1UZWxlcmlrLldlYi5VSS5HcmlkU29ydE9yZGVyLkRlc2NlbmRpbmc7Cn1lbHNle2lmKHRoaXMuZ2V0X2FsbG93TmF0dXJhbFNvcnQoKSl7Zz1UZWxlcmlrLldlYi5VSS5HcmlkU29ydE9yZGVyLk5vbmU7Cn1lbHNle2c9VGVsZXJpay5XZWIuVUkuR3JpZFNvcnRPcmRlci5Bc2NlbmRpbmc7Cn19fX1lbHNle2c9VGVsZXJpay5XZWIuVUkuR3JpZFNvcnRPcmRlci5Bc2NlbmRpbmc7Cn19fWlmKGQhPW51bGwpe3RoaXMuX3NvcnRFeHByZXNzaW9ucy5yZW1vdmUoZCk7Cn1pZighdGhpcy5nZXRfYWxsb3dNdWx0aUNvbHVtblNvcnRpbmcoKSl7Zm9yKHZhciBlPTA7CmU8dGhpcy5fc29ydEV4cHJlc3Npb25zLl9hcnJheS5sZW5ndGg7CmUrKyl7dGhpcy5fc2hvd1NvcnRJY29uRm9yRmllbGQodGhpcy5fc29ydEV4cHJlc3Npb25zLl9hcnJheVtlXS5nZXRfZmllbGROYW1lKCksVGVsZXJpay5XZWIuVUkuR3JpZFNvcnRPcmRlci5Ob25lKTsKdGhpcy5fc3R5bGVTb3J0ZWRDb2x1bW5FbGVtZW50cyh0aGlzLl9zb3J0RXhwcmVzc2lvbnMuX2FycmF5W2VdLmdldF9maWVsZE5hbWUoKSxUZWxlcmlrLldlYi5VSS5HcmlkU29ydE9yZGVyLk5vbmUpOwp9dGhpcy5fc29ydEV4cHJlc3Npb25zLmNsZWFyKCk7Cn1pZihnIT1hKXt0aGlzLl9zaG93U29ydEljb25Gb3JGaWVsZChjLGcpOwp9aWYoZyE9VGVsZXJpay5XZWIuVUkuR3JpZFNvcnRPcmRlci5Ob25lKXtmLnNldF9maWVsZE5hbWUoYyk7CmYuc2V0X3NvcnRPcmRlcihnKTsKdGhpcy5fc29ydEV4cHJlc3Npb25zLmFkZChmKTsKfWlmKCF0aGlzLmZpcmVDb21tYW5kKCJTb3J0IixiKSl7dGhpcy5fc3R5bGVTb3J0ZWRDb2x1bW5FbGVtZW50cyhjLGcpOwpyZXR1cm4gZmFsc2U7Cn19LF9zdHlsZVNvcnRlZENvbHVtbkVsZW1lbnRzOmZ1bmN0aW9uKGQsaCl7dmFyIGM9dGhpcy5nZXRfY29sdW1ucygpOwp2YXIgZT10aGlzLmdldF9kYXRhSXRlbXMoKTsKdmFyIGo9KGghPVRlbGVyaWsuV2ViLlVJLkdyaWRTb3J0T3JkZXIuTm9uZSk/U3lzLlVJLkRvbUVsZW1lbnQuYWRkQ3NzQ2xhc3M6U3lzLlVJLkRvbUVsZW1lbnQucmVtb3ZlQ3NzQ2xhc3M7CnZhciBnPXRoaXMuZ2V0X293bmVyKCkuU29ydGluZ1NldHRpbmdzLkVuYWJsZVNraW5Tb3J0U3R5bGVzOwp2YXIgYTsKZm9yKHZhciBiPTA7CmI8Yy5sZW5ndGg7CmIrKyl7aWYoY1tiXS5fZGF0YS5Tb3J0RXhwcmVzc2lvbj09ZCl7aWYoZyl7aihjW2JdLmdldF9lbGVtZW50KCksInJnU29ydGVkIik7Cn1mb3IodmFyIGY9MDsKZjxlLmxlbmd0aDsKZisrKXthPWVbZl0uZ2V0X2NlbGwoY1tiXS5nZXRfdW5pcXVlTmFtZSgpKTsKaWYoZyl7aihhLCJyZ1NvcnRlZCIpOwp9aWYodGhpcy5nZXRfb3duZXIoKS5Tb3J0aW5nU2V0dGluZ3MuU29ydGVkQmFja0NvbG9yKXtpZihoIT1UZWxlcmlrLldlYi5VSS5HcmlkU29ydE9yZGVyLk5vbmUpe2Euc3R5bGUuYmFja2dyb3VuZENvbG9yPXRoaXMuZ2V0X293bmVyKCkuU29ydGluZ1NldHRpbmdzLlNvcnRlZEJhY2tDb2xvci5OYW1lOwp9ZWxzZXthLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIjsKfX19YnJlYWs7Cn19fSxfc2hvd1NvcnRJY29uRm9yRmllbGQ6ZnVuY3Rpb24oZixnKXtpZighZnx8Zj09IiIpe3JldHVybjsKfWlmKHR5cGVvZiBnPT0idW5kZWZpbmVkIil7cmV0dXJuOwp9dmFyIGI9Zz09VGVsZXJpay5XZWIuVUkuR3JpZFNvcnRPcmRlci5Bc2NlbmRpbmc/IiI6Im5vbmUiOwp2YXIgZT1nPT1UZWxlcmlrLldlYi5VSS5HcmlkU29ydE9yZGVyLkRlc2NlbmRpbmc/IiI6Im5vbmUiOwp2YXIgZD10aGlzLmdldF9jb2x1bW5zKCk7CmZvcih2YXIgYz0wOwpjPGQubGVuZ3RoOwpjKyspe2lmKGRbY10uX2RhdGEuU29ydEV4cHJlc3Npb249PWYpe3ZhciBhPSR0ZWxlcmlrLmdldENoaWxkcmVuQnlDbGFzc05hbWUoZFtjXS5nZXRfZWxlbWVudCgpLCJyZ1NvcnQiKTsKaWYoYSYmYS5sZW5ndGg+MSl7YVswXS5zdHlsZS5kaXNwbGF5PWI7CmFbMV0uc3R5bGUuZGlzcGxheT1lOwp9fX19LGNsZWFyU29ydDpmdW5jdGlvbihiKXtpZighYil7dmFyIGE9dGhpcy5nZXRfc29ydEV4cHJlc3Npb25zKCk7CmZvcih2YXIgYz0wOwpjPGEuZ2V0X2NvdW50KCk7CmMrKyl7dGhpcy5fc2hvd1NvcnRJY29uRm9yRmllbGQoYS5nZXRJdGVtKGMpLmdldF9maWVsZE5hbWUoKSxUZWxlcmlrLldlYi5VSS5HcmlkU29ydE9yZGVyLk5vbmUpOwp9dGhpcy5nZXRfc29ydEV4cHJlc3Npb25zKCkuY2xlYXIoKTsKcmV0dXJuIHRoaXMuZmlyZUNvbW1hbmQoIkNsZWFyU29ydCIsIiIpOwp9dmFyIGQ9dGhpcy5nZXRfc29ydEV4cHJlc3Npb25zKCkuZmluZChiKTsKaWYoZCl7dGhpcy5fc2hvd1NvcnRJY29uRm9yRmllbGQoYixUZWxlcmlrLldlYi5VSS5HcmlkU29ydE9yZGVyLk5vbmUpOwp0aGlzLmdldF9zb3J0RXhwcmVzc2lvbnMoKS5yZW1vdmUoZCk7Cn1yZXR1cm4gdGhpcy5maXJlQ29tbWFuZCgiQ2xlYXJTb3J0IixiKTsKfSxnZXRfc29ydEV4cHJlc3Npb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvcnRFeHByZXNzaW9uczsKfSxmaWx0ZXI6ZnVuY3Rpb24oYixtLGcsbCxqKXt2YXIgZj1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckV4cHJlc3Npb24oKSxlPSJyZ0ZpbHRlcmVkIixkPSR0ZWxlcmlrLmdldEVsZW1lbnRCeUNsYXNzTmFtZSh0aGlzLl9nZXRGaWx0ZXJDZWxsQnlDb2x1bW5VbmlxdWVOYW1lKGIpLCJyZ0ZpbHRlciIpOwp2YXIgYT10aGlzLmdldENvbHVtbkJ5VW5pcXVlTmFtZShiKTsKaWYoIWEpe3JldHVybjsKfXRoaXMuX293bmVyLl9yZXNldENoZWNrTGlzdEZpbHRlck9mQ29sdW1uKGEpOwp2YXIgaT1mYWxzZTsKaWYodHlwZW9mKGcpPT0idW5kZWZpbmVkIil7Zz1hLmdldF9maWx0ZXJGdW5jdGlvbigpOwppPXRydWU7Cn1lbHNle2lmKHR5cGVvZihnKT09InN0cmluZyIpe2Euc2V0X2ZpbHRlckZ1bmN0aW9uKGcpOwp9fWlmKCgodHlwZW9mKGcpPT0ibnVtYmVyIiYmVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vRmlsdGVyPT1nKXx8KHR5cGVvZihnKT09InN0cmluZyImJlRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5wYXJzZShnKT09VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vRmlsdGVyKSkmJihhLmdldF9maWx0ZXJEZWxheSgpIT1udWxsfHwobSE9bnVsbCYmbSE9PSIiJiZpKSkpe2lmKGkpe2lmKGEuX2RhdGEuQWNmZiYmYS5fZGF0YS5BY2ZmIT0iTm9GaWx0ZXIiKXtnPWEuX2RhdGEuQWNmZjsKfWVsc2V7Zz0oYS5nZXRfZGF0YVR5cGUoKT09IlN5c3RlbS5TdHJpbmciKT8iQ29udGFpbnMiOiJFcXVhbFRvIjsKfX1pZihhLl9kYXRhLkVuYWJsZVJhbmdlRmlsdGVyaW5nKXtnPSJCZXR3ZWVuIjsKfX1pZihkKXtpZihnPT09Ik5vRmlsdGVyInx8bT09PSIiJiYhKGc9PT0iSXNFbXB0eSJ8fGc9PT0iSXNOdWxsInx8Zz09PSJOb3RJc051bGwifHxnPT09Ik5vdElzRW1wdHkiKSl7U3lzLlVJLkRvbUVsZW1lbnQucmVtb3ZlQ3NzQ2xhc3MoZCxlKTsKfWVsc2V7aWYoZC5jbGFzc05hbWUuaW5kZXhPZihlKTwwKXtTeXMuVUkuRG9tRWxlbWVudC5hZGRDc3NDbGFzcyhkLGUpOwp9fX12YXIgYz0iIjsKc3dpdGNoKGEuX2RhdGEuQ29sdW1uVHlwZSl7Y2FzZSJHcmlkSHlwZXJMaW5rQ29sdW1uIjpjPWEuX2RhdGEuRGF0YVRleHRGaWVsZDsKYnJlYWs7CmNhc2UiR3JpZEltYWdlQ29sdW1uIjpjPWEuX2RhdGEuRGF0YUFsdGVybmF0ZVRleHRGaWVsZDsKYnJlYWs7CmNhc2UiR3JpZEJpbmFyeUltYWdlQ29sdW1uIjpjPWEuX2RhdGEuRGF0YUFsdGVybmF0ZVRleHRGaWVsZDsKYnJlYWs7CmNhc2UiR3JpZENhbGN1bGF0ZWRDb2x1bW4iOmM9U3RyaW5nLmZvcm1hdCgiezB9UmVzdWx0IixhLl9kYXRhLlVuaXF1ZU5hbWUpOwpicmVhazsKY2FzZSJHcmlkQXR0YWNobWVudENvbHVtbiI6Yz1hLl9kYXRhLkRhdGFUZXh0RmllbGQrIiIhPSIiP2EuX2RhdGEuRGF0YVRleHRGaWVsZDphLl9kYXRhLkZpbGVOYW1lVGV4dEZpZWxkOwpicmVhazsKZGVmYXVsdDpjPWEuX2RhdGEuRGF0YUZpZWxkOwpicmVhazsKfWlmKGwpe3RoaXMuX3VwZGF0ZUZpbHRlckNvbnRyb2xWYWx1ZShtLGIsZyk7Cn1mLnNldF9maWVsZE5hbWUoYyk7CmYuc2V0X2NvbHVtblVuaXF1ZU5hbWUoYik7CmYuc2V0X2RhdGFUeXBlTmFtZShhLl9kYXRhLkRhdGFUeXBlTmFtZSk7CmlmKG0mJm0ucmVwbGFjZSl7bT1tLnJlcGxhY2UoL1xcL2csIlxcXFwiKTsKbT1tLnJlcGxhY2UoLycvZywiXFwnIik7Cm09bS5yZXBsYWNlKC87L2csIl4jIik7Cn12YXIgaD10aGlzLl9maWx0ZXJFeHByZXNzaW9ucy5maW5kKGYuZ2V0X2NvbHVtblVuaXF1ZU5hbWUoKSk7CmlmKGghPW51bGwmJiFqKXtpZihUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24ucGFyc2UoZyk9PVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Ob0ZpbHRlcil7dGhpcy5fZmlsdGVyRXhwcmVzc2lvbnMucmVtb3ZlKGgpOwp9aC5zZXRfZmlsdGVyRnVuY3Rpb24oZyk7Cmguc2V0X2ZpZWxkVmFsdWUobSk7Cn1lbHNle2Yuc2V0X2ZpbHRlckZ1bmN0aW9uKGcpOwpmLnNldF9maWVsZFZhbHVlKG0pOwp0aGlzLl9maWx0ZXJFeHByZXNzaW9ucy5hZGQoZik7Cn10aGlzLnNldF9jdXJyZW50UGFnZUluZGV4KDAsdHJ1ZSk7CmlmKCFqKXtpZighdGhpcy5maXJlQ29tbWFuZCgiRmlsdGVyIixiKyJ8PyIrbSsifD8iK2cpKXt2YXIgaz0oIk5vRmlsdGVyIj09Zyk7CmlmKGsmJmEuX2RhdGEuQ29sdW1uVHlwZT09IkdyaWREYXRlVGltZUNvbHVtbiIpe3RoaXMuX3VwZGF0ZUZpbHRlckNvbnRyb2xWYWx1ZShtLGIsZyk7Cn1yZXR1cm4gZmFsc2U7Cn19fSxfdXBkYXRlRmlsdGVyQ29udHJvbFZhbHVlOmZ1bmN0aW9uKGosYixmKXt2YXIgaT1BcnJheS5jb250YWlucyhbIk5vRmlsdGVyIiwiSXNOdWxsIiwiTm90SXNOdWxsIiwiSXNFbXB0eSIsIk5vdElzRW1wdHkiXSxmKTsKdmFyIGU9dGhpcy5fZ2V0RmlsdGVyQ2VsbEJ5Q29sdW1uVW5pcXVlTmFtZShiKTsKdmFyIGc9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXTsKaWYoIWcpe3JldHVybjsKfXZhciBhPXRoaXMuZ2V0Q29sdW1uQnlVbmlxdWVOYW1lKGIpOwppZih0eXBlb2Ygaj09Im9iamVjdCImJmo9PT1udWxsKXtqPSIiOwp9aWYoYSYmYS5fZGF0YS5Db2x1bW5UeXBlPT0iR3JpZERhdGVUaW1lQ29sdW1uIil7dmFyIGQ9JGZpbmQoZy5pZCk7CmlmKGQmJihPYmplY3QuZ2V0VHlwZShkKS5nZXROYW1lKCk9PSJUZWxlcmlrLldlYi5VSS5SYWREYXRlVGltZVBpY2tlciJ8fE9iamVjdC5nZXRUeXBlKGQpLmdldE5hbWUoKT09IlRlbGVyaWsuV2ViLlVJLlJhZERhdGVQaWNrZXIiKSl7aWYoYS5fZGF0YS5FbmFibGVSYW5nZUZpbHRlcmluZyl7dmFyIGg9JHRlbGVyaWsuZmluZENvbnRyb2woZSxTdHJpbmcuZm9ybWF0KCJSRElQRjJ7MH0iLGIpKTsKaWYoaCl7aC5nZXRfZGF0ZUlucHV0KCkuY2xlYXIoKTsKfX1pZihpKXtkLmdldF9kYXRlSW5wdXQoKS5jbGVhcigpOwp9ZWxzZXtpZih0eXBlb2Ygaj09InN0cmluZyIpe2Quc2V0X3NlbGVjdGVkRGF0ZShuZXcgRGF0ZShqKSk7Cn1lbHNle2Quc2V0X3NlbGVjdGVkRGF0ZShqKTsKfX19ZWxzZXtpZighZCl7ZD0kZmluZChnLmlkLnJlcGxhY2UoIl90ZXh0IiwiIikpOwppZihkJiZPYmplY3QuZ2V0VHlwZShkKS5nZXROYW1lKCk9PSJUZWxlcmlrLldlYi5VSS5SYWREYXRlSW5wdXQiKXtpZihpKXtkLmNsZWFyKCk7Cn1lbHNle2lmKHR5cGVvZiBqPT0ic3RyaW5nIil7ZC5zZXRfc2VsZWN0ZWREYXRlKG5ldyBEYXRlKGopKTsKfWVsc2V7ZC5zZXRfc2VsZWN0ZWREYXRlKGopOwp9fX19fX1lbHNle2lmKGEmJmEuX2RhdGEuQ29sdW1uVHlwZT09IkdyaWROdW1lcmljQ29sdW1uIil7dmFyIGM9JGZpbmQoZy5pZC5yZXBsYWNlKCJfdGV4dCIsIiIpKTsKaWYoYyYmT2JqZWN0LmdldFR5cGUoYykuZ2V0TmFtZSgpPT0iVGVsZXJpay5XZWIuVUkuUmFkTnVtZXJpY1RleHRCb3giKXtpZihpKXtjLmNsZWFyKCk7Cn1lbHNle2Muc2V0X3ZhbHVlKGopOwp9fX1lbHNle2lmKGcudHlwZSYmZy50eXBlPT0iY2hlY2tib3giKXtnLmNoZWNrZWQ9KGkpP2ZhbHNlOiEhajsKfWVsc2V7aWYoZy50eXBlJiZnLnR5cGU9PSJ0ZXh0Iil7Zy52YWx1ZT0oaSk/IiI6ajsKfX19fX0sX2dldEZpbHRlckNvbnRyb2xWYWx1ZTpmdW5jdGlvbihhKXt2YXIgZD10aGlzLl9nZXRGaWx0ZXJDb250cm9sVmFsdWVCeUluZGV4KGEsMCk7CmlmKHRoaXMuZ2V0Q29sdW1uQnlVbmlxdWVOYW1lKGEpLl9kYXRhLkVuYWJsZVJhbmdlRmlsdGVyaW5nKXt2YXIgYz10aGlzLl9nZXRGaWx0ZXJDZWxsQnlDb2x1bW5VbmlxdWVOYW1lKGEpOwp2YXIgYjsKdmFyIGU9JHRlbGVyaWsuZmluZENvbnRyb2woYyxTdHJpbmcuZm9ybWF0KCJSRElQRjJ7MH0iLGEpKTsKaWYoZSl7aWYodGhpcy5fb3duZXIuX2NsaWVudERhdGFTb3VyY2VJRCl7cmV0dXJuW2QsZS5nZXRfZGF0ZUlucHV0KCkuZ2V0X3NlbGVjdGVkRGF0ZSgpXTsKfWI9ZS5nZXRfZGF0ZUlucHV0KCk7Cn1lbHNle2I9JHRlbGVyaWsuZmluZENvbnRyb2woYyxTdHJpbmcuZm9ybWF0KCJSRElGMnswfSIsYSkpOwp9dmFyIGY9Yi5nZXRfdmFsdWUoKTsKaWYoZD09bnVsbHx8ZD09IiJ8fGY9PW51bGx8fGY9PSIiKXtyZXR1cm4gbnVsbDsKfWQ9ZC5yZXBsYWNlKC9ccy9nLCIsIik7CmY9Zi5yZXBsYWNlKC9ccy9nLCIsIik7CmQrPSIgIitmOwp9cmV0dXJuIGQ7Cn0sX2dldEZpbHRlckNvbnRyb2xWYWx1ZUJ5SW5kZXg6ZnVuY3Rpb24oYSxlLGYpe3ZhciBjPXRoaXMuX2dldEZpbHRlckNlbGxCeUNvbHVtblVuaXF1ZU5hbWUoYSk7CnZhciBkPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbZV07CmlmKCFkKXtyZXR1cm4gbnVsbDsKfWlmKGQudHlwZT09ImNoZWNrYm94Iil7cmV0dXJuIGQuY2hlY2tlZDsKfXZhciBiPWQuaWQuZW5kc1dpdGgoIl90ZXh0Iik/JGZpbmQoZC5pZC5zdWJzdHIoMCxkLmlkLmxlbmd0aC01KSk6ZC5pZC5lbmRzV2l0aCgiX0NsaWVudFN0YXRlIik/JGZpbmQoZC5pZC5zdWJzdHIoMCxkLmlkLmxlbmd0aC0xMikpOmQuaWQuZW5kc1dpdGgoIl9JbnB1dCIpPyRmaW5kKGQuaWQuc3Vic3RyKDAsZC5pZC5sZW5ndGgtNikpOiRmaW5kKGQuaWQpOwppZihiKXtzd2l0Y2goT2JqZWN0LmdldFR5cGUoYikuZ2V0TmFtZSgpKXtjYXNlIlRlbGVyaWsuV2ViLlVJLlJhZEF1dG9Db21wbGV0ZUJveCI6cmV0dXJuIGIuZ2V0X3RleHQoKTsKY2FzZSJUZWxlcmlrLldlYi5VSS5SYWREYXRlUGlja2VyIjpjYXNlIlRlbGVyaWsuV2ViLlVJLlJhZERhdGVUaW1lUGlja2VyIjpjYXNlIlRlbGVyaWsuV2ViLlVJLlJhZFRpbWVQaWNrZXIiOnJldHVybiB0aGlzLl9vd25lci5fY2xpZW50RGF0YVNvdXJjZUlEP2IuZ2V0X2RhdGVJbnB1dCgpLmdldF9zZWxlY3RlZERhdGUoKTpiLmdldF9kYXRlSW5wdXQoKS5nZXRfdmFsdWUoKTsKZGVmYXVsdDppZih0eXBlb2YoYi5nZXRfdmFsdWUpPT09ImZ1bmN0aW9uIil7cmV0dXJuIGIuZ2V0X3ZhbHVlKCk7Cn19fWlmKGYmJiFiKXtyZXR1cm4gbnVsbDsKfXJldHVybiBkLnZhbHVlOwp9LF9yYW5nZVZhbGlkYXRpb25IYW5kbGVyOmZ1bmN0aW9uKGksZSxiKXtpZih0aGlzLl9yYW5nZVZhbGlkYXRpb25JblByb2Nlc3Mpe3JldHVybjsKfXRoaXMuX3JhbmdlVmFsaWRhdGlvbkluUHJvY2Vzcz10cnVlOwp2YXIgZj10aGlzLl9nZXRGaWx0ZXJDZWxsQnlDb2x1bW5VbmlxdWVOYW1lKGIpOwp2YXIgZD0kdGVsZXJpay5maW5kQ29udHJvbChmLFN0cmluZy5mb3JtYXQoIlJESVBGezB9IixiKSk7CnZhciBjOwp2YXIgZzsKdmFyIGg7CmlmKGQpe2M9ZC5nZXRfZGF0ZUlucHV0KCk7Cmg9JHRlbGVyaWsuZmluZENvbnRyb2woZixTdHJpbmcuZm9ybWF0KCJSRElQRjJ7MH0iLGIpKTsKZz1oLmdldF9kYXRlSW5wdXQoKTsKfWVsc2V7Yz0kdGVsZXJpay5maW5kQ29udHJvbChmLFN0cmluZy5mb3JtYXQoIlJESUZ7MH0iLGIpKTsKZz0kdGVsZXJpay5maW5kQ29udHJvbChmLFN0cmluZy5mb3JtYXQoIlJESUYyezB9IixiKSk7Cn1pZihUZWxlcmlrLldlYi5VSS5EYXRlUGlja2VyUG9wdXBPcGVuaW5nRXZlbnRBcmdzLmlzSW5zdGFuY2VPZlR5cGUoZSkpe3RoaXMuX3NldENvbnRyb2xzUmFuZ2VWYWxpZGF0aW9uKGksZCxoKTsKfWVsc2V7aWYoVGVsZXJpay5XZWIuVUkuRGF0ZVBpY2tlclBvcHVwQ2xvc2luZ0V2ZW50QXJncy5pc0luc3RhbmNlT2ZUeXBlKGUpKXt0aGlzLl9jbGVhckNvbnRyb2xzUmFuZ2VWYWxpZGF0aW9uKGQsaCk7Cn1lbHNle2lmKFRlbGVyaWsuV2ViLlVJLklucHV0VmFsdWVDaGFuZ2luZ0V2ZW50QXJncy5pc0luc3RhbmNlT2ZUeXBlKGUpKXt2YXIgYT10cnVlOwppZihkLmdldF9kYXRlSW5wdXQmJmkuZ2V0X2lkKCk9PT1kLmdldF9kYXRlSW5wdXQoKS5nZXRfaWQoKSl7aWYoIWUuZ2V0X25ld1ZhbHVlKCl8fCFnLmdldF9zZWxlY3RlZERhdGUoKSl7YT1mYWxzZTsKfX1lbHNle2lmKCFkLmdldF9zZWxlY3RlZERhdGUoKXx8IWUuZ2V0X25ld1ZhbHVlKCkpe2E9ZmFsc2U7Cn19dGhpcy5fc2hvdWxkQXV0b1Bvc3RCYWNrT25GaWx0ZXI9YTsKdGhpcy5fc2V0Q29udHJvbHNSYW5nZVZhbGlkYXRpb24oaSxjLGcpOwp9ZWxzZXtpZihUZWxlcmlrLldlYi5VSS5EYXRlSW5wdXRWYWx1ZUNoYW5nZWRFdmVudEFyZ3MuaXNJbnN0YW5jZU9mVHlwZShlKSl7dGhpcy5fY2xlYXJDb250cm9sc1JhbmdlVmFsaWRhdGlvbihjLGcpOwp9fX19dGhpcy5fcmFuZ2VWYWxpZGF0aW9uSW5Qcm9jZXNzPWZhbHNlOwp9LF9nZXRGaWx0ZXJDZWxsQnlDb2x1bW5VbmlxdWVOYW1lOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2dldFRhYmxlRmlsdGVyUm93KCk7CmlmKCFiKXtyZXR1cm4gbnVsbDsKfXZhciBjPXRoaXMuX2dldENlbGxJbmRleEJ5Q29sdW1uVW5pcXVlTmFtZUZyb21UYWJsZVJvd0VsZW1lbnQoYixhKTsKaWYoYz09bnVsbCl7cmV0dXJuIG51bGw7Cn1yZXR1cm4gYi5jZWxsc1tjXTsKfSxfc2V0Q29udHJvbHNSYW5nZVZhbGlkYXRpb246ZnVuY3Rpb24oZSxhLGMpe3RoaXMuX2NsZWFyQ29udHJvbHNSYW5nZVZhbGlkYXRpb24oYSxjKTsKaWYoZS5nZXRfaWQoKT09PWEuZ2V0X2lkKCkpe3ZhciBkPWMuZ2V0X3NlbGVjdGVkRGF0ZSgpOwppZihkKXtlLnNldF9tYXhEYXRlKGMuZ2V0X3NlbGVjdGVkRGF0ZSgpKTsKfWVsc2V7aWYoYy5zZXRfdmFsdWUpe2Muc2V0X3ZhbHVlKGMuZ2V0X3RleHRCb3hWYWx1ZSgpKTsKfX19ZWxzZXtpZihlLmdldF9pZCgpPT09Yy5nZXRfaWQoKSl7dmFyIGI9YS5nZXRfc2VsZWN0ZWREYXRlKCk7CmlmKGIpe2Muc2V0X21pbkRhdGUoYik7Cn1lbHNle2lmKGEuc2V0X3ZhbHVlKXthLnNldF92YWx1ZShhLmdldF90ZXh0Qm94VmFsdWUoKSk7Cn19fX19LF9jbGVhckNvbnRyb2xzUmFuZ2VWYWxpZGF0aW9uOmZ1bmN0aW9uKGEsZCl7dmFyIGM9bmV3IERhdGUoMTkwMCwxLDEpOwp2YXIgYj1uZXcgRGF0ZSgyMDk5LDEyLDMxKTsKYS5zZXRfbWF4RGF0ZShiKTsKZC5zZXRfbWluRGF0ZShjKTsKfSxjbGVhclNlbGVjdGVkQ29sdW1uczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0X2NvbHVtbnMoKTsKZm9yKHZhciBiPTA7CmI8YS5sZW5ndGg7CmIrKyl7aWYoYVtiXS5nZXRfc2VsZWN0ZWQoKSl7YVtiXS5zZXRfc2VsZWN0ZWQoZmFsc2UpOwp9fX0sY2xlYXJGaWx0ZXI6ZnVuY3Rpb24oYil7dmFyIGE7CmlmKCFiKXtmb3IodmFyIGU9MDsKZTx0aGlzLl9maWx0ZXJFeHByZXNzaW9ucy5nZXRfY291bnQoKTsKZSsrKXt2YXIgYz10aGlzLl9maWx0ZXJFeHByZXNzaW9ucy5nZXRJdGVtKGUpOwp0aGlzLl91cGRhdGVGaWx0ZXJDb250cm9sVmFsdWUobnVsbCxjLmdldF9jb2x1bW5VbmlxdWVOYW1lKCksVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vRmlsdGVyKTsKYT10aGlzLmdldENvbHVtbkJ5VW5pcXVlTmFtZShjLmdldF9jb2x1bW5VbmlxdWVOYW1lKCkpOwppZihhKXthLnNldF9maWx0ZXJGdW5jdGlvbigiTm9GaWx0ZXIiKTsKfX10aGlzLl9maWx0ZXJFeHByZXNzaW9ucy5jbGVhcigpOwpyZXR1cm4gdGhpcy5maXJlQ29tbWFuZCgiQ2xlYXJGaWx0ZXIiLCIiKTsKfWE9dGhpcy5nZXRDb2x1bW5CeVVuaXF1ZU5hbWUoYik7CmlmKCFhKXtyZXR1cm4gZmFsc2U7Cn12YXIgZD10aGlzLl9maWx0ZXJFeHByZXNzaW9ucy5maW5kKGIpOwppZighZCl7ZD1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckV4cHJlc3Npb24oKTsKZC5zZXRfY29sdW1uVW5pcXVlTmFtZShiKTsKZC5zZXRfZmlsdGVyRnVuY3Rpb24oIk5vRmlsdGVyIik7CnRoaXMuX2ZpbHRlckV4cHJlc3Npb25zLmFkZChkKTsKfXJldHVybiB0aGlzLmZpbHRlcihiLCIiLCJOb0ZpbHRlciIsdHJ1ZSk7Cn0sZ2V0X2ZpbHRlckV4cHJlc3Npb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbHRlckV4cHJlc3Npb25zOwp9LHBhZ2U6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5nZXRfY3VycmVudFBhZ2VJbmRleCgpOwp2YXIgYj1jOwppZihhPT0iTmV4dCIpe2IrKzsKfWVsc2V7aWYoYT09IlByZXYiKXtiLS07Cn1lbHNle2lmKGE9PSJGaXJzdCIpe2I9MDsKfWVsc2V7aWYoYT09Ikxhc3QiKXtiPXRoaXMuZ2V0X3BhZ2VDb3VudCgpLTE7Cn1lbHNle2I9cGFyc2VJbnQoYSwxMCktMTsKfX19fWlmKGI8MHx8Yj4odGhpcy5nZXRfcGFnZUNvdW50KCktMSkpe3JldHVybiBmYWxzZTsKfXRoaXMuc2V0X2N1cnJlbnRQYWdlSW5kZXgoYix0cnVlKTsKaWYoIXRoaXMuZmlyZUNvbW1hbmQoIlBhZ2UiLGEpKXtpZih0aGlzLl9wcmV2ZW50VXBkYXRlUGFnZXIpe3RoaXMuc2V0X2N1cnJlbnRQYWdlSW5kZXgoYyx0cnVlKTsKdGhpcy5fcHJldmVudFVwZGF0ZVBhZ2VyPWZhbHNlOwp9cmV0dXJuIGZhbHNlOwp9fSxleHBvcnRUb0V4Y2VsOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZmlyZUNvbW1hbmQoIkV4cG9ydFRvRXhjZWwiLCIiKSl7cmV0dXJuIGZhbHNlOwp9fSxleHBvcnRUb1dvcmQ6ZnVuY3Rpb24oKXtpZighdGhpcy5maXJlQ29tbWFuZCgiRXhwb3J0VG9Xb3JkIiwiIikpe3JldHVybiBmYWxzZTsKfX0sZXhwb3J0VG9Dc3Y6ZnVuY3Rpb24oKXtpZighdGhpcy5maXJlQ29tbWFuZCgiRXhwb3J0VG9Dc3YiLCIiKSl7cmV0dXJuIGZhbHNlOwp9fSxleHBvcnRUb1BkZjpmdW5jdGlvbigpe2lmKCF0aGlzLmZpcmVDb21tYW5kKCJFeHBvcnRUb1BkZiIsIiIpKXtyZXR1cm4gZmFsc2U7Cn19LGVkaXRTZWxlY3RlZEl0ZW1zOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZmlyZUNvbW1hbmQoIkVkaXRTZWxlY3RlZCIsIiIpKXtyZXR1cm4gZmFsc2U7Cn19LHVwZGF0ZUVkaXRlZEl0ZW1zOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZmlyZUNvbW1hbmQoIlVwZGF0ZUVkaXRlZCIsIiIpKXtyZXR1cm4gZmFsc2U7Cn19LGRlbGV0ZVNlbGVjdGVkSXRlbXM6ZnVuY3Rpb24oKXtpZighdGhpcy5maXJlQ29tbWFuZCgiRGVsZXRlU2VsZWN0ZWQiLCIiKSl7cmV0dXJuIGZhbHNlOwp9fSxlZGl0QWxsSXRlbXM6ZnVuY3Rpb24oKXtpZighdGhpcy5maXJlQ29tbWFuZCgiRWRpdEFsbCIsIiIpKXtyZXR1cm4gZmFsc2U7Cn19LGNhbmNlbEFsbDpmdW5jdGlvbigpe2lmKCF0aGlzLmZpcmVDb21tYW5kKCJDYW5jZWxBbGwiLCIiKSl7cmV0dXJuIGZhbHNlOwp9fSxjYW5jZWxVcGRhdGU6ZnVuY3Rpb24oYil7Yj10aGlzLl9nZXRSb3dCeUluZGV4T3JJdGVtSW5kZXhIaWVyYXJjaGljYWwoYik7CnZhciBhPWIuaWQuc3BsaXQoIl9fIilbMV07CmlmKCF0aGlzLmZpcmVDb21tYW5kKCJDYW5jZWxVcGRhdGUiLGEpKXtyZXR1cm4gZmFsc2U7Cn19LGdyb3VwQ29sdW1uOmZ1bmN0aW9uKGEpe2lmKCFhfHwhdGhpcy5maXJlQ29tbWFuZCgiR3JvdXBCeUNvbHVtbiIsYSkpe3JldHVybiBmYWxzZTsKfX0sdW5ncm91cENvbHVtbjpmdW5jdGlvbihhKXtpZighYXx8IXRoaXMuZmlyZUNvbW1hbmQoIlVuR3JvdXBCeUNvbHVtbiIsYSkpe3JldHVybiBmYWxzZTsKfX0sX3VuZ3JvdXBCeUV4cHJlc3Npb246ZnVuY3Rpb24oYSl7aWYoIXRoaXMuZmlyZUNvbW1hbmQoIlVuR3JvdXBCeUV4cHJlc3Npb24iLGEpKXtyZXR1cm4gZmFsc2U7Cn19LF9kZWxldGVSb3c6ZnVuY3Rpb24oZCxjKXt2YXIgZz1kLnBhcmVudE5vZGUucGFyZW50Tm9kZSxiPSRmaW5kKGQuaWQpLGU9ZC5yb3dJbmRleCxhPWQuY2VsbHMubGVuZ3RoLGY7CmcuZGVsZXRlUm93KGUpOwpmPWcucm93c1tlXTsKd2hpbGUoZiYmZi5zdHlsZS5kaXNwbGF5IT09Im5vbmUiJiZmLmNlbGxzLmxlbmd0aCE9PWEmJiFTeXMuVUkuRG9tRWxlbWVudC5jb250YWluc0Nzc0NsYXNzKGYsInJnR3JvdXBIZWFkZXIiKSl7Zy5kZWxldGVSb3coZSk7CmUrKzsKZj1nLnJvd3NbZV07Cn1pZihnLnRCb2RpZXNbMF0ucm93cy5sZW5ndGg9PT0xJiZnLnRCb2RpZXNbMF0ucm93c1swXS5zdHlsZS5kaXNwbGF5PT0ibm9uZSIpe2cudEJvZGllc1swXS5yb3dzWzBdLnN0eWxlLmRpc3BsYXk9IiI7Cn10aGlzLmRlc2VsZWN0SXRlbShkKTsKaWYoYyE9PXVuZGVmaW5lZCl7QXJyYXkuYWRkKHRoaXMuX293bmVyLl9kZWxldGVkSXRlbXMsYyk7Cn1pZihiKXtiLmRpc3Bvc2UoKTsKQXJyYXkucmVtb3ZlKHRoaXMuX2RhdGFJdGVtcyxiKTsKfXRoaXMuX2ZpeFJvd3NDbGFzc05hbWVzKCk7Cn0sX2NsaWVudERlbGV0ZTpmdW5jdGlvbihjKXt2YXIgYj1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEN1cnJlbnRFbGVtZW50KGMpLGY9Yi5wYXJlbnROb2RlLnBhcmVudE5vZGUsZD1mLmlkLnNwbGl0KCJfXyIpWzFdLGE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUNhbmNlbEV2ZW50QXJncyhmLGMpOwp0aGlzLl9vd25lci5yYWlzZV9yb3dEZWxldGluZyhhKTsKaWYoYS5nZXRfY2FuY2VsKCkpe3JldHVybiBmYWxzZTsKfWlmKHRoaXMuX293bmVyLmdldF9ldmVudHMoKS5nZXRIYW5kbGVyKCJjb21tYW5kIikhPW51bGwpe3RoaXMuZmlyZUNvbW1hbmQoIkRlbGV0ZSIsZCk7Cn10aGlzLl9kZWxldGVSb3coZixkKTsKdGhpcy5fb3duZXIucmFpc2Vfcm93RGVsZXRlZChuZXcgVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtRXZlbnRBcmdzKGYsYykpOwp0aGlzLl9vd25lci51cGRhdGVDbGllbnRTdGF0ZSgpOwp9LGZpcmVDb21tYW5kOmZ1bmN0aW9uKGIsYSl7aWYodGhpcy5fcmFpc2VDb21tYW5kRXZlbnQoYixhKSl7dGhpcy5fZXhlY3V0ZVBvc3RCYWNrRXZlbnQoIkZpcmVDb21tYW5kOiIrdGhpcy5fZGF0YS5VbmlxdWVJRCsiOyIrYisiOyIrYSk7Cn1lbHNle3JldHVybiBmYWxzZTsKfX0sX3JhaXNlQ29tbWFuZEV2ZW50OmZ1bmN0aW9uKGMsYil7dmFyIGE9bmV3IFN5cy5DYW5jZWxFdmVudEFyZ3MoKTsKYS5nZXRfY29tbWFuZE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gYzsKfTsKYS5nZXRfY29tbWFuZEFyZ3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGI7Cn07CnZhciBkPXRoaXM7CmEuZ2V0X3RhYmxlVmlldz1mdW5jdGlvbigpe3JldHVybiBkOwp9Owp0aGlzLl9vd25lci5yYWlzZV9jb21tYW5kKGEpOwppZihhLmdldF9jYW5jZWwoKSl7cmV0dXJuIGZhbHNlOwp9cmV0dXJuIHRydWU7Cn0sX2V4ZWN1dGVQb3N0QmFja0V2ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX293bmVyLkNsaWVudFNldHRpbmdzLlBvc3RCYWNrRnVuY3Rpb247CmI9Yi5yZXBsYWNlKCJ7MH0iLHRoaXMuX293bmVyLlVuaXF1ZUlEKTsKYj1iLnJlcGxhY2UoL1x7MVx9LyxhLnJlcGxhY2UoL1wkL2csIiQkJCQiKSk7CmV2YWwoYik7Cn0sX3JhaXNlQWN0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcyxjPW5ldyBTeXMuQ2FuY2VsRXZlbnRBcmdzKCksZDsKaWYoYil7Zm9yKGQgaW4gYil7KGZ1bmN0aW9uKGYpe2NbIl8iK2ZdPWJbZl07CmNbImdldF8iK2ZdPWZ1bmN0aW9uKCl7cmV0dXJuIGJbZl07Cn07CmNbInNldF8iK2ZdPWZ1bmN0aW9uKGcpe2JbZl09ZzsKfTsKfSkoZCk7Cn19Yy5nZXRfYWN0aW9uTmFtZT1mdW5jdGlvbigpe3JldHVybiBhOwp9OwpjLmdldF90YWJsZVZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gZTsKfTsKZS5fb3duZXIucmFpc2VfdXNlckFjdGlvbihjKTsKcmV0dXJuIGM7Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkVGFibGVWaWV3LnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRUYWJsZVZpZXciLFN5cy5VSS5Db250cm9sKTsKVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uPWZ1bmN0aW9uKCl7fTsKVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLnByb3RvdHlwZT17Tm9GaWx0ZXI6MCxDb250YWluczoxLERvZXNOb3RDb250YWluOjIsU3RhcnRzV2l0aDozLEVuZHNXaXRoOjQsRXF1YWxUbzo1LE5vdEVxdWFsVG86NixHcmVhdGVyVGhhbjo3LExlc3NUaGFuOjgsR3JlYXRlclRoYW5PckVxdWFsVG86OSxMZXNzVGhhbk9yRXF1YWxUbzoxMCxCZXR3ZWVuOjExLE5vdEJldHdlZW46MTIsSXNFbXB0eToxMyxOb3RJc0VtcHR5OjE0LElzTnVsbDoxNSxOb3RJc051bGw6MTYsQ3VzdG9tOjE3fTsKVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLnJlZ2lzdGVyRW51bSgiVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uIixmYWxzZSk7ClRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5fd3JhcE1ldGhvZD1mdW5jdGlvbihhLGMsZCl7dmFyIGI9YVtjXTsKYVtjXT1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CnZhciBmPWZ1bmN0aW9uKCl7cmV0dXJuIGIuYXBwbHkoYSxlKTsKfTsKcmV0dXJuIGQuYXBwbHkoYSxbZl0uY29uY2F0KGUpKTsKfTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLl9lbnVtUGFyc2VNZXRob2Q9ZnVuY3Rpb24oYyxkLGIpe2lmKHR5cGVvZiBkPT0ibnVtYmVyIil7cmV0dXJuIGQ7Cn10cnl7cmV0dXJuIGMoZCwhIWIpOwp9Y2F0Y2goYSl7cmV0dXJuIG51bGw7Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uX3dyYXBNZXRob2QoVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLCJwYXJzZSIsVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLl9lbnVtUGFyc2VNZXRob2QpOwpUZWxlcmlrLldlYi5VSS5HcmlkU29ydE9yZGVyPWZ1bmN0aW9uKCl7fTsKVGVsZXJpay5XZWIuVUkuR3JpZFNvcnRPcmRlci5wcm90b3R5cGU9e05vbmU6MCxBc2NlbmRpbmc6MSxEZXNjZW5kaW5nOjJ9OwpUZWxlcmlrLldlYi5VSS5HcmlkU29ydE9yZGVyLnJlZ2lzdGVyRW51bSgiVGVsZXJpay5XZWIuVUkuR3JpZFNvcnRPcmRlciIsZmFsc2UpOwpUZWxlcmlrLldlYi5VSS5HcmlkU29ydEV4cHJlc3Npb249ZnVuY3Rpb24oKXt0aGlzLl9maWVsZE5hbWU9IiI7CnRoaXMuX3NvcnRPcmRlcj1udWxsOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkU29ydEV4cHJlc3Npb24ucHJvdG90eXBlPXtnZXRfZmllbGROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpZWxkTmFtZTsKfSxzZXRfZmllbGROYW1lOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2ZpZWxkTmFtZSE9YSl7dGhpcy5fZmllbGROYW1lPWE7CnRoaXMuRmllbGROYW1lPWE7Cn19LGdldF9zb3J0T3JkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc29ydE9yZGVyOwp9LHNldF9zb3J0T3JkZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5fc29ydE9yZGVyIT1hKXt0aGlzLl9zb3J0T3JkZXI9YTsKdGhpcy5Tb3J0T3JkZXI9YTsKfX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX2ZpZWxkTmFtZT1udWxsOwp0aGlzLl9zb3J0T3JkZXI9bnVsbDsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWRTb3J0RXhwcmVzc2lvbi5yZWdpc3RlckNsYXNzKCJUZWxlcmlrLldlYi5VSS5HcmlkU29ydEV4cHJlc3Npb24iLG51bGwsU3lzLklEaXNwb3NhYmxlKTsKVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uc09xbEZvcm1hdD1mdW5jdGlvbigpe3ZhciBhPXt9OwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Db250YWluc109InswfSBMSUtFICcqezF9KiciOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Eb2VzTm90Q29udGFpbl09Ik5PVCAoezB9IExJS0UgJyp7MX0qJyI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLlN0YXJ0c1dpdGhdPSJ7MH0gTElLRSAnezF9KiciOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5FbmRzV2l0aF09InswfSBMSUtFICcqezF9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uRXF1YWxUb109InswfSA9IHsxfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vdEVxdWFsVG9dPSJ7MH0gPD4gezF9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uR3JlYXRlclRoYW5dPSJ7MH0gPiB7MX0iOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5MZXNzVGhhbl09InswfSA8IHsxfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkdyZWF0ZXJUaGFuT3JFcXVhbFRvXT0iezB9ID49IHsxfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkxlc3NUaGFuT3JFcXVhbFRvXT0iezB9IDw9IHsxfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkJldHdlZW5dPSIoezB9ID49IHsxfSkgQU5EICh7MH0gPD0gezJ9KSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vdEJldHdlZW5dPSIoezB9IDwgezF9KSBPUiAoezB9ID4gezJ9KSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLklzRW1wdHldPSJ7MH0gPSAnJyI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vdElzRW1wdHldPSJ7MH0gPD4gJyciOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Jc051bGxdPSJ7MH0gPT0gbmlsIjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uTm90SXNOdWxsXT0iKHswfSAhPSBuaWwpIjsKcmV0dXJuIGE7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbnNTcWxGb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgYT17fTsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uQ29udGFpbnNdPSJbezB9XSBMSUtFICclezF9JSciOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Eb2VzTm90Q29udGFpbl09Ilt7MH1dIE5PVCBMSUtFICclezF9JSciOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5TdGFydHNXaXRoXT0iW3swfV0gTElLRSAnezF9JSciOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5FbmRzV2l0aF09Ilt7MH1dIExJS0UgJyV7MX0nIjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uRXF1YWxUb109Ilt7MH1dID0gezF9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uTm90RXF1YWxUb109Ilt7MH1dIDw+IHsxfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkdyZWF0ZXJUaGFuXT0iW3swfV0gPiB7MX0iOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5MZXNzVGhhbl09Ilt7MH1dIDwgezF9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uR3JlYXRlclRoYW5PckVxdWFsVG9dPSJbezB9XSA+PSB7MX0iOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5MZXNzVGhhbk9yRXF1YWxUb109Ilt7MH1dIDw9IHsxfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkJldHdlZW5dPSIoW3swfV0gPj0gezF9KSBBTkQgKFt7MH1dIDw9IHsyfSkiOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Ob3RCZXR3ZWVuXT0iKFt7MH1dIDwgezF9KSBPUiAoW3swfV0gPiB7Mn0pIjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uSXNFbXB0eV09Ilt7MH1dID0gJyciOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Ob3RJc0VtcHR5XT0iW3swfV0gPD4gJyciOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Jc051bGxdPSJbezB9XSBJUyBOVUxMIjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uTm90SXNOdWxsXT0iTk9UIChbezB9XSBJUyBOVUxMKSI7CnJldHVybiBhOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb25zRHluYW1pY0xpbnFGb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgYT17fTsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uQ29udGFpbnNdPSJ7MH0uQ29udGFpbnMoezF9KXsyfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkRvZXNOb3RDb250YWluXT0iIXswfS5Db250YWlucyh7MX0pezJ9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uU3RhcnRzV2l0aF09InswfS5TdGFydHNXaXRoKHsxfSl7Mn0iOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5FbmRzV2l0aF09InswfS5FbmRzV2l0aCh7MX0pezJ9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uRXF1YWxUb109InswfSA9IHsxfXsyfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vdEVxdWFsVG9dPSJ7MH0gPD4gezF9ezJ9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uR3JlYXRlclRoYW5dPSJ7MH0gPiB7MX17Mn0iOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5MZXNzVGhhbl09InswfSA8IHsxfXsyfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkdyZWF0ZXJUaGFuT3JFcXVhbFRvXT0iezB9ID49IHsxfXsyfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkxlc3NUaGFuT3JFcXVhbFRvXT0iezB9IDw9IHsxfXsyfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkJldHdlZW5dPSIoezB9ID49IHsxfSkgQU5EICh7MH0gPD0gezJ9KSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vdEJldHdlZW5dPSIoezB9IDwgezF9KSBPUiAoezB9ID4gezJ9KSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLklzRW1wdHldPSd7MH0gPSAiInsxfXsyfSc7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vdElzRW1wdHldPSd7MH0gPD4gIiJ7MX17Mn0nOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Jc051bGxdPSJ7MH0gPT0gbnVsbHsxfXsyfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vdElzTnVsbF09Iih7MH0gIT0gbnVsbCl7MX17Mn0iOwpyZXR1cm4gYTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uc0FET05ldERhdGFTZXJ2aWNlcz1mdW5jdGlvbigpe3ZhciBhPXt9OwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Db250YWluc109InN1YnN0cmluZ29mKHsxfSx7MH0pezJ9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uRG9lc05vdENvbnRhaW5dPSJub3Qgc3Vic3RyaW5nb2YoezF9LHswfSl7Mn0iOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5TdGFydHNXaXRoXT0ic3RhcnRzd2l0aCh7MH0sezF9KXsyfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkVuZHNXaXRoXT0iZW5kc3dpdGgoezB9LHsxfSl7Mn0iOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5FcXVhbFRvXT0iezB9IGVxIHsxfXsyfSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vdEVxdWFsVG9dPSJ7MH0gbmUgezF9ezJ9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uR3JlYXRlclRoYW5dPSJ7MH0gZ3QgezF9ezJ9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uTGVzc1RoYW5dPSJ7MH0gbHQgezF9ezJ9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uR3JlYXRlclRoYW5PckVxdWFsVG9dPSJ7MH0gZ2UgezF9ezJ9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uTGVzc1RoYW5PckVxdWFsVG9dPSJ7MH0gbGUgezF9ezJ9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uQmV0d2Vlbl09Iih7MH0gZ2UgezF9IGFuZCB7MH0gbGUgezJ9KSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vdEJldHdlZW5dPSIoezB9IGxlIHsxfSBvciB7MH0gZ2UgezJ9KSI7CmFbVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLklzRW1wdHldPSJ7MH0gZXEgJyd7Mn0iOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Ob3RJc0VtcHR5XT0iezB9IG5lICcnezJ9IjsKYVtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uSXNOdWxsXT0iezB9IGVxIG51bGx7Mn0iOwphW1RlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Ob3RJc051bGxdPSJ7MH0gbmUgbnVsbHsyfSI7CnJldHVybiBhOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRXhwcmVzc2lvbj1mdW5jdGlvbigpe3RoaXMuX2ZpZWxkTmFtZT0iIjsKdGhpcy5fZmllbGRWYWx1ZT1udWxsOwp0aGlzLl9maWx0ZXJGdW5jdGlvbj1udWxsOwp0aGlzLl9jb2x1bW5VbmlxdWVOYW1lPW51bGw7CnRoaXMuX2RhdGFUeXBlTmFtZT1udWxsOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRXhwcmVzc2lvbi5wcm90b3R5cGU9e2dldF9jb2x1bW5VbmlxdWVOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbHVtblVuaXF1ZU5hbWU7Cn0sc2V0X2NvbHVtblVuaXF1ZU5hbWU6ZnVuY3Rpb24oYSl7aWYodGhpcy5fY29sdW1uVW5pcXVlTmFtZSE9YSl7dGhpcy5fY29sdW1uVW5pcXVlTmFtZT1hOwp0aGlzLkNvbHVtblVuaXF1ZU5hbWU9YTsKfX0sZ2V0X2ZpZWxkTmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWVsZE5hbWU7Cn0sc2V0X2ZpZWxkTmFtZTpmdW5jdGlvbihhKXtpZih0aGlzLl9maWVsZE5hbWUhPWEpe3RoaXMuX2ZpZWxkTmFtZT1hOwp0aGlzLkZpZWxkTmFtZT1hOwp9fSxnZXRfZmllbGRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWVsZFZhbHVlOwp9LHNldF9maWVsZFZhbHVlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2ZpZWxkVmFsdWUhPWEpe3RoaXMuX2ZpZWxkVmFsdWU9YTsKdGhpcy5GaWVsZFZhbHVlPWE7Cn19LGdldF9maWx0ZXJGdW5jdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWx0ZXJGdW5jdGlvbjsKfSxzZXRfZmlsdGVyRnVuY3Rpb246ZnVuY3Rpb24oYSl7aWYodGhpcy5fZmlsdGVyRnVuY3Rpb24hPWEpe3RoaXMuX2ZpbHRlckZ1bmN0aW9uPWE7CnRoaXMuRmlsdGVyRnVuY3Rpb249YTsKfX0sZ2V0X2RhdGFUeXBlTmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhVHlwZU5hbWU7Cn0sc2V0X2RhdGFUeXBlTmFtZTpmdW5jdGlvbihhKXtpZih0aGlzLl9kYXRhVHlwZU5hbWUhPWEpe3RoaXMuX2RhdGFUeXBlTmFtZT1hOwp0aGlzLkRhdGFUeXBlTmFtZT1hOwp9fSx0b1N0cmluZzpmdW5jdGlvbihnKXt2YXIgZT0iIjsKaWYodHlwZW9mKGcpIT0idW5kZWZpbmVkIil7ZT1nOwp9dmFyIGI9dGhpcy5fZmllbGROYW1lOwppZihlIT0iIil7Yj1TdHJpbmcuZm9ybWF0KCJ7MH0uezF9IixlLGIpOwp9dmFyIGk9IiI7CmlmKHRoaXMuX2ZpbHRlckZ1bmN0aW9uIT1udWxsKXt2YXIgZD1UZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb25zU3FsRm9ybWF0KCk7CnZhciBoPVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5wYXJzZSh0aGlzLl9maWx0ZXJGdW5jdGlvbik7CnZhciBjPWRbaF07CmlmKGMhPW51bGwpe2lmKHRoaXMuX2NoZWNrTGlzdEZpbHRlclZhbHVlcyYmdGhpcy5fY2hlY2tMaXN0RmlsdGVyVmFsdWVzLmxlbmd0aD4wJiZoPT1UZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uRXF1YWxUbyl7aT1bXTsKZm9yKHZhciBhPTA7CmE8dGhpcy5fY2hlY2tMaXN0RmlsdGVyVmFsdWVzLmxlbmd0aDsKYSsrKXt2YXIgZj10aGlzLmdldFF1b3RlZFZhbHVlKHRoaXMuX2NoZWNrTGlzdEZpbHRlclZhbHVlc1thXSk7CmlbaS5sZW5ndGhdPVN0cmluZy5mb3JtYXQoYyx0aGlzLl9maWVsZE5hbWUsZiwiIik7Cn1yZXR1cm4iKCIraS5qb2luKCIgT1IgIikrIikiOwp9ZWxzZXtpZihoIT1UZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uQmV0d2VlbiYmaCE9VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vdEJldHdlZW4pe2lmKCh0aGlzLmdldF9kYXRhVHlwZU5hbWUoKT09IlN5c3RlbS5TdHJpbmcifHx0aGlzLmdldF9kYXRhVHlwZU5hbWUoKT09IlN5c3RlbS5DaGFyIikmJmg9PVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Db250YWluc3x8aD09VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkRvZXNOb3RDb250YWlufHxoPT1UZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uU3RhcnRzV2l0aHx8aD09VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkVuZHNXaXRoKXtpPVN0cmluZy5mb3JtYXQoYyxiLHRoaXMuX2ZpZWxkVmFsdWUpOwp9ZWxzZXtpPVN0cmluZy5mb3JtYXQoYyxiLHRoaXMuZ2V0UXVvdGVkVmFsdWUodGhpcy5fZmllbGRWYWx1ZSkpOwp9fWVsc2V7dmFyIGo9dGhpcy5fZmllbGRWYWx1ZS5zcGxpdCgiICIpWzBdOwp2YXIgaz0odGhpcy5fZmllbGRWYWx1ZS5zcGxpdCgiICIpLmxlbmd0aD4wKT90aGlzLl9maWVsZFZhbHVlLnNwbGl0KCIgIilbMV06IiI7Cmk9U3RyaW5nLmZvcm1hdChjLGIsdGhpcy5nZXRRdW90ZWRWYWx1ZShqKSx0aGlzLmdldFF1b3RlZFZhbHVlKGspKTsKfX19fXJldHVybiBpOwp9LHRvT3FsOmZ1bmN0aW9uKGYpe3ZhciBlPSIiOwppZih0eXBlb2YoZikhPSJ1bmRlZmluZWQiKXtlPWY7Cn12YXIgYj10aGlzLl9maWVsZE5hbWU7CmlmKGUhPSIiKXtiPVN0cmluZy5mb3JtYXQoInswfS57MX0iLGUsYik7Cn12YXIgaD0iIjsKaWYodGhpcy5fZmlsdGVyRnVuY3Rpb24hPW51bGwpe3ZhciBkPVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbnNPcWxGb3JtYXQoKTsKdmFyIGc9VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLnBhcnNlKHRoaXMuX2ZpbHRlckZ1bmN0aW9uKTsKdmFyIGM9ZFtnXTsKaWYoYyE9bnVsbCl7aWYodGhpcy5fY2hlY2tMaXN0RmlsdGVyVmFsdWVzJiZ0aGlzLl9jaGVja0xpc3RGaWx0ZXJWYWx1ZXMubGVuZ3RoPjAmJmc9PVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5FcXVhbFRvKXtoPVtdOwpmb3IodmFyIGE9MDsKYTx0aGlzLl9jaGVja0xpc3RGaWx0ZXJWYWx1ZXMubGVuZ3RoOwphKyspe2hbaC5sZW5ndGhdPVN0cmluZy5mb3JtYXQoYyxiLHRoaXMuZ2V0UXVvdGVkVmFsdWUodGhpcy5fZmllbGRWYWx1ZSkpOwp9cmV0dXJuIigiK2guam9pbigiIE9SICIpKyIpIjsKfWVsc2V7aWYoZyE9VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkJldHdlZW4mJmchPVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Ob3RCZXR3ZWVuKXtpZigodGhpcy5nZXRfZGF0YVR5cGVOYW1lKCk9PSJTeXN0ZW0uU3RyaW5nInx8dGhpcy5nZXRfZGF0YVR5cGVOYW1lKCk9PSJTeXN0ZW0uQ2hhciIpJiZnPT1UZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uQ29udGFpbnN8fGc9PVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Eb2VzTm90Q29udGFpbnx8Zz09VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLlN0YXJ0c1dpdGh8fGc9PVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5FbmRzV2l0aCl7aD1TdHJpbmcuZm9ybWF0KGMsYix0aGlzLl9maWVsZFZhbHVlKTsKfWVsc2V7aD1TdHJpbmcuZm9ybWF0KGMsYix0aGlzLmdldFF1b3RlZFZhbHVlKHRoaXMuX2ZpZWxkVmFsdWUpKTsKfX1lbHNle3ZhciBpPXRoaXMuX2ZpZWxkVmFsdWUuc3BsaXQoIiAiKVswXTsKdmFyIGo9KHRoaXMuX2ZpZWxkVmFsdWUuc3BsaXQoIiAiKS5sZW5ndGg+MCk/dGhpcy5fZmllbGRWYWx1ZS5zcGxpdCgiICIpWzFdOiIiOwpoPVN0cmluZy5mb3JtYXQoYyxiLHRoaXMuZ2V0UXVvdGVkVmFsdWUoaSksdGhpcy5nZXRRdW90ZWRWYWx1ZShqKSk7Cn19fX1yZXR1cm4gaDsKfSxnZXRRdW90ZWRWYWx1ZTpmdW5jdGlvbihhKXtpZih0aGlzLmdldF9kYXRhVHlwZU5hbWUoKT09IlN5c3RlbS5TdHJpbmcifHx0aGlzLmdldF9kYXRhVHlwZU5hbWUoKT09IlN5c3RlbS5DaGFyInx8dGhpcy5nZXRfZGF0YVR5cGVOYW1lKCk9PSJTeXN0ZW0uRGF0ZVRpbWUifHx0aGlzLmdldF9kYXRhVHlwZU5hbWUoKT09IlN5c3RlbS5UaW1lU3BhbiJ8fHRoaXMuZ2V0X2RhdGFUeXBlTmFtZSgpPT0iU3lzdGVtLkd1aWQiKXtyZXR1cm4gU3RyaW5nLmZvcm1hdCgiJ3swfSciLGEpOwp9cmV0dXJuIGE7Cn0sZ2V0RGF0YVNlcnZpY2VWYWx1ZTpmdW5jdGlvbihkKXtpZih0aGlzLmdldF9kYXRhVHlwZU5hbWUoKT09IlN5c3RlbS5TdHJpbmcifHx0aGlzLmdldF9kYXRhVHlwZU5hbWUoKT09IlN5c3RlbS5DaGFyIil7cmV0dXJuIFN0cmluZy5mb3JtYXQoIid7MH0nIixkKTsKfWVsc2V7aWYodGhpcy5nZXRfZGF0YVR5cGVOYW1lKCk9PSJTeXN0ZW0uRGF0ZVRpbWUiKXt2YXIgYj0ieXl5eS1NTS1kZFRoaDptbTpzcyI7CnZhciBjPURhdGUucGFyc2VMb2NhbGUoZCk7CnZhciBhOwppZihjKXthPWMuZm9ybWF0KGIpOwp9aWYoIWN8fGEuaW5kZXhPZigiTmFOIik+PTApe2E9bmV3IERhdGUoZCkuZm9ybWF0KGIpOwp9cmV0dXJuIFN0cmluZy5mb3JtYXQoImRhdGV0aW1lJ3swfSciLGEpOwp9ZWxzZXtpZih0aGlzLmdldF9kYXRhVHlwZU5hbWUoKT09IlN5c3RlbS5UaW1lU3BhbiIpe3JldHVybiBTdHJpbmcuZm9ybWF0KCJ0aW1lJ3swfSciLGQpOwp9ZWxzZXtpZih0aGlzLmdldF9kYXRhVHlwZU5hbWUoKT09IlN5c3RlbS5HdWlkIil7cmV0dXJuIFN0cmluZy5mb3JtYXQoImd1aWQnezB9JyIsZCk7Cn19fX1yZXR1cm4gZDsKfSxnZXREeW5hbWljTGlucVZhbHVlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZ2V0X2RhdGFUeXBlTmFtZSgpPT0iU3lzdGVtLlN0cmluZyIpe3JldHVybiBTdHJpbmcuZm9ybWF0KCciezB9IicsYSk7Cn1lbHNle2lmKHRoaXMuZ2V0X2RhdGFUeXBlTmFtZSgpLmluZGV4T2YoIkRhdGVUaW1lIikhPS0xKXtyZXR1cm4gU3RyaW5nLmZvcm1hdCgnRGF0ZVRpbWUuUGFyc2UoInswfSIpJyxhKTsKfWVsc2V7aWYodGhpcy5nZXRfZGF0YVR5cGVOYW1lKCkuaW5kZXhPZigiVGltZVNwYW4iKSE9LTEpe3JldHVybiBTdHJpbmcuZm9ybWF0KCdUaW1lU3Bhbi5QYXJzZSgiezB9IiknLGEpOwp9ZWxzZXtpZih0aGlzLmdldF9kYXRhVHlwZU5hbWUoKS5pbmRleE9mKCJHdWlkIikhPS0xKXtyZXR1cm4gU3RyaW5nLmZvcm1hdCgnR3VpZCgiezB9IiknLGEpOwp9fX19cmV0dXJuIGE7Cn0sdG9EeW5hbWljTGlucTpmdW5jdGlvbihoKXt2YXIgZT0iIjsKaWYodHlwZW9mKGgpIT0idW5kZWZpbmVkIil7ZT1oOwp9dmFyIGo9IiI7CmlmKHRoaXMuX2ZpbHRlckZ1bmN0aW9uIT1udWxsKXt2YXIgZD1UZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb25zRHluYW1pY0xpbnFGb3JtYXQoKTsKdmFyIGk9VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLnBhcnNlKHRoaXMuX2ZpbHRlckZ1bmN0aW9uKTsKdmFyIGM9ZFtpXTsKdmFyIGY7CmlmKGMhPW51bGwpe2lmKHRoaXMuX2NoZWNrTGlzdEZpbHRlclZhbHVlcyYmdGhpcy5fY2hlY2tMaXN0RmlsdGVyVmFsdWVzLmxlbmd0aD4wJiZpPT1UZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uRXF1YWxUbyl7aj1bXTsKZm9yKHZhciBhPTA7CmE8dGhpcy5fY2hlY2tMaXN0RmlsdGVyVmFsdWVzLmxlbmd0aDsKYSsrKXtmPXRoaXMuZ2V0RHluYW1pY0xpbnFWYWx1ZSh0aGlzLl9jaGVja0xpc3RGaWx0ZXJWYWx1ZXNbYV0pOwpqW2oubGVuZ3RoXT1TdHJpbmcuZm9ybWF0KGMsdGhpcy5fZmllbGROYW1lLGYsIiIpOwp9cmV0dXJuIigiK2ouam9pbigiIE9SICIpKyIpIjsKfWVsc2V7Zj0iIjsKdmFyIGc9IiI7CmlmKGk9PVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Jc051bGx8fGk9PVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Ob3RJc051bGwpe2Y9IiI7Cn1lbHNle2lmKGk9PVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5CZXR3ZWVufHxpPT1UZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uTm90QmV0d2Vlbil7Zz10aGlzLmdldER5bmFtaWNMaW5xVmFsdWUodGhpcy5fZmllbGRWYWx1ZS5zcGxpdCgiICIpWzFdKTsKZj10aGlzLmdldER5bmFtaWNMaW5xVmFsdWUodGhpcy5fZmllbGRWYWx1ZS5zcGxpdCgiICIpWzBdKTsKfWVsc2V7Zj10aGlzLmdldER5bmFtaWNMaW5xVmFsdWUodGhpcy5fZmllbGRWYWx1ZSk7Cn19dmFyIGI9dGhpcy5fZmllbGROYW1lOwppZihlIT0iIil7Yj1TdHJpbmcuZm9ybWF0KCJ7MH0uezF9IixlLGIpOwp9aj1TdHJpbmcuZm9ybWF0KGMsYixmLGcpOwp9fX1yZXR1cm4gajsKfSx0b0RhdGFTZXJ2aWNlOmZ1bmN0aW9uKCl7dmFyIGc9IiI7CmlmKHRoaXMuX2ZpbHRlckZ1bmN0aW9uIT1udWxsKXt2YXIgYz1UZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb25zQURPTmV0RGF0YVNlcnZpY2VzKCk7CnZhciBmPVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5wYXJzZSh0aGlzLl9maWx0ZXJGdW5jdGlvbik7CnZhciBiPWNbZl07CmlmKGIhPW51bGwpe2lmKHRoaXMuX2NoZWNrTGlzdEZpbHRlclZhbHVlcyYmdGhpcy5fY2hlY2tMaXN0RmlsdGVyVmFsdWVzLmxlbmd0aD4wJiZmPT1UZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRnVuY3Rpb24uRXF1YWxUbyl7Zz1bXTsKZm9yKHZhciBhPTA7CmE8dGhpcy5fY2hlY2tMaXN0RmlsdGVyVmFsdWVzLmxlbmd0aDsKYSsrKXtnW2cubGVuZ3RoXT1TdHJpbmcuZm9ybWF0KGIsdGhpcy5fZmllbGROYW1lLHRoaXMuZ2V0RGF0YVNlcnZpY2VWYWx1ZSh0aGlzLl9jaGVja0xpc3RGaWx0ZXJWYWx1ZXNbYV0pKTsKfXJldHVybiIoIitnLmpvaW4oIiBvciAiKSsiKSI7Cn1lbHNle3ZhciBkPSIiOwp2YXIgZT0iIjsKaWYoZj09VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLklzTnVsbHx8Zj09VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vdElzTnVsbCl7ZD0iIjsKfWVsc2V7aWYoZj09VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkJldHdlZW58fGY9PVRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5Ob3RCZXR3ZWVuKXtlPXRoaXMuX2ZpZWxkVmFsdWUuc3BsaXQoIiAiKVsxXTsKZD10aGlzLl9maWVsZFZhbHVlLnNwbGl0KCIgIilbMF07Cn1lbHNle2Q9dGhpcy5fZmllbGRWYWx1ZTsKfX1nPVN0cmluZy5mb3JtYXQoYix0aGlzLl9maWVsZE5hbWUsdGhpcy5nZXREYXRhU2VydmljZVZhbHVlKGQpLChlIT0iIik/dGhpcy5nZXREYXRhU2VydmljZVZhbHVlKGUpOmUpOwp9fX1yZXR1cm4gZzsKfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5fZmllbGROYW1lPW51bGw7CnRoaXMuX2ZpZWxkVmFsdWU9bnVsbDsKdGhpcy5fZmlsdGVyRnVuY3Rpb249bnVsbDsKdGhpcy5fY29sdW1uVW5pcXVlTmFtZT1udWxsOwp0aGlzLl9kYXRhVHlwZU5hbWU9bnVsbDsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJFeHByZXNzaW9uLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJFeHByZXNzaW9uIixudWxsLFN5cy5JRGlzcG9zYWJsZSk7ClRlbGVyaWsuV2ViLlVJLkNvbGxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLl9hcnJheT1bXTsKfTsKVGVsZXJpay5XZWIuVUkuQ29sbGVjdGlvbi5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLl9hcnJheS5sZW5ndGg7CnRoaXMuaW5zZXJ0KGEsYik7Cn0saW5zZXJ0OmZ1bmN0aW9uKGEsYil7QXJyYXkuaW5zZXJ0KHRoaXMuX2FycmF5LGEsYik7Cn0scmVtb3ZlOmZ1bmN0aW9uKGEpe0FycmF5LnJlbW92ZSh0aGlzLl9hcnJheSxhKTsKfSxyZW1vdmVBdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEl0ZW0oYSk7CmlmKGIpe3RoaXMucmVtb3ZlKGIpOwp9fSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuX2FycmF5PVtdOwp9LHRvTGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcnJheTsKfSxnZXRfY291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXJyYXkubGVuZ3RoOwp9LGdldEl0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2FycmF5W2FdOwp9LGluZGV4T2Y6ZnVuY3Rpb24oYSl7cmV0dXJuIEFycmF5LmluZGV4T2YodGhpcy5fYXJyYXksYSk7Cn0sZm9yRWFjaDpmdW5jdGlvbihjKXtmb3IodmFyIGI9MCxhPXRoaXMuZ2V0X2NvdW50KCk7CmI8YTsKYisrKXtjKHRoaXMuX2FycmF5W2JdKTsKfX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuX2FycmF5PW51bGw7Cn19OwpUZWxlcmlrLldlYi5VSS5Db2xsZWN0aW9uLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkNvbGxlY3Rpb24iLG51bGwsU3lzLklEaXNwb3NhYmxlKTsKVGVsZXJpay5XZWIuVUkuR3JpZFNvcnRFeHByZXNzaW9ucz1mdW5jdGlvbigpe1RlbGVyaWsuV2ViLlVJLkdyaWRTb3J0RXhwcmVzc2lvbnMuaW5pdGlhbGl6ZUJhc2UodGhpcyk7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWRTb3J0RXhwcmVzc2lvbnMucHJvdG90eXBlPXtmaW5kOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYz0wLGE9dGhpcy5nZXRfY291bnQoKTsKYzxhOwpjKyspe3ZhciBkPXRoaXMuZ2V0SXRlbShjKTsKaWYoZC5nZXRfZmllbGROYW1lKCk9PWIpe3JldHVybiBkOwp9fXJldHVybiBudWxsOwp9LHNvcnRPcmRlckFzU3RyaW5nOmZ1bmN0aW9uKGEpe2lmKGE9PTApe3JldHVybiIiOwp9ZWxzZXtpZihhPT0xKXtyZXR1cm4iQVNDIjsKfWVsc2V7aWYoYT09Mil7cmV0dXJuIkRFU0MiOwp9fX19LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGQ9W107CmZvcih2YXIgYj0wLGE9dGhpcy5nZXRfY291bnQoKTsKYjxhOwpiKyspe3ZhciBjPXRoaXMuZ2V0SXRlbShiKTsKZFtkLmxlbmd0aF09U3RyaW5nLmZvcm1hdCgiezB9IHsxfSIsYy5nZXRfZmllbGROYW1lKCksdGhpcy5zb3J0T3JkZXJBc1N0cmluZyhjLmdldF9zb3J0T3JkZXIoKSkpOwp9cmV0dXJuIGQuam9pbigiLCIpOwp9LHRvQ2xpZW50RGF0YVNvdXJjZUxpc3Q6ZnVuY3Rpb24oKXt2YXIgYT1bXTsKQXJyYXkuZm9yRWFjaCh0aGlzLl9hcnJheSxmdW5jdGlvbihjLGIpe2FbYl09e2ZpZWxkTmFtZTpjLkZpZWxkTmFtZSxzb3J0T3JkZXI6Yy5Tb3J0T3JkZXJ9Owp9KTsKcmV0dXJuIGE7Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkU29ydEV4cHJlc3Npb25zLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRTb3J0RXhwcmVzc2lvbnMiLFRlbGVyaWsuV2ViLlVJLkNvbGxlY3Rpb24pOwpUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRXhwcmVzc2lvbnM9ZnVuY3Rpb24oKXtUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRXhwcmVzc2lvbnMuaW5pdGlhbGl6ZUJhc2UodGhpcyk7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJFeHByZXNzaW9ucy5wcm90b3R5cGU9e2ZpbmQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTAsYj10aGlzLmdldF9jb3VudCgpOwpjPGI7CmMrKyl7dmFyIGQ9dGhpcy5nZXRJdGVtKGMpOwppZihkLmdldF9jb2x1bW5VbmlxdWVOYW1lKCk9PWEpe3JldHVybiBkOwp9fXJldHVybiBudWxsOwp9LHRvU3RyaW5nOmZ1bmN0aW9uKGUpe3ZhciBjPSIiOwppZih0eXBlb2YoZSkhPSJ1bmRlZmluZWQiKXtjPWU7Cn12YXIgZj1bXTsKZm9yKHZhciBiPTAsYT10aGlzLmdldF9jb3VudCgpOwpiPGE7CmIrKyl7dmFyIGQ9dGhpcy5nZXRJdGVtKGIpOwpmW2YubGVuZ3RoXT1kLnRvU3RyaW5nKGMpOwp9cmV0dXJuIGYuam9pbigiIEFORCAiKTsKfSx0b09xbDpmdW5jdGlvbihlKXt2YXIgYz0iIjsKaWYodHlwZW9mKGUpIT0idW5kZWZpbmVkIil7Yz1lOwp9dmFyIGY9W107CmZvcih2YXIgYj0wLGE9dGhpcy5nZXRfY291bnQoKTsKYjxhOwpiKyspe3ZhciBkPXRoaXMuZ2V0SXRlbShiKTsKZltmLmxlbmd0aF09ZC50b09xbChjKTsKfXJldHVybiBmLmpvaW4oIiBBTkQgIik7Cn0sdG9EeW5hbWljTGlucTpmdW5jdGlvbihlKXt2YXIgYz0iIjsKaWYodHlwZW9mKGUpIT0idW5kZWZpbmVkIil7Yz1lOwp9dmFyIGY9W107CmZvcih2YXIgYj0wLGE9dGhpcy5nZXRfY291bnQoKTsKYjxhOwpiKyspe3ZhciBkPXRoaXMuZ2V0SXRlbShiKTsKZltmLmxlbmd0aF09ZC50b0R5bmFtaWNMaW5xKGMpOwp9cmV0dXJuIGYuam9pbigiIEFORCAiKTsKfSx0b0RhdGFTZXJ2aWNlOmZ1bmN0aW9uKCl7dmFyIGQ9W107CmZvcih2YXIgYj0wLGE9dGhpcy5nZXRfY291bnQoKTsKYjxhOwpiKyspe3ZhciBjPXRoaXMuZ2V0SXRlbShiKTsKZFtkLmxlbmd0aF09Yy50b0RhdGFTZXJ2aWNlKCk7Cn1yZXR1cm4gZC5qb2luKCIgYW5kICIpOwp9LHRvQ2xpZW50RGF0YVNvdXJjZUxpc3Q6ZnVuY3Rpb24oKXt2YXIgYj1bXTsKdmFyIGE9W107CkFycmF5LmZvckVhY2godGhpcy5fYXJyYXksZnVuY3Rpb24oZyxmKXtpZihnLkZpbHRlckZ1bmN0aW9uIT0iTm9GaWx0ZXIiKXt2YXIgZD1nLl9jaGVja0xpc3RGaWx0ZXJWYWx1ZXM7CmlmKGQmJmQubGVuZ3RoPjApe2E9W107CmZvcih2YXIgZT0wOwplPGQubGVuZ3RoOwplKyspe2FbZV09e2ZpZWxkOmcuRmllbGROYW1lLG9wZXJhdG9yOlRlbGVyaWsuV2ViLlVJLkNsaWVudERhdGFTb3VyY2UuRmlsdGVyT3BlcmF0b3IuRXF1YWxUbyx2YWx1ZTpkW2VdfTsKfWJbZl09e2xvZ2ljT3BlcmF0b3I6VGVsZXJpay5XZWIuVUkuQ2xpZW50RGF0YVNvdXJjZS5GaWx0ZXJMb2dpY09wZXJhdG9yLk9yLGZpbHRlcnM6YX07Cn1lbHNle3ZhciBjPShnLkZpbHRlckZ1bmN0aW9uPT09MTF8fGcuRmlsdGVyRnVuY3Rpb249PSJCZXR3ZWVuIik/MTooZy5GaWx0ZXJGdW5jdGlvbj09PTEyfHxnLkZpbHRlckZ1bmN0aW9uPT0iTm90QmV0d2VlbiIpPzI6MDsKaWYoYyl7YT1bXTsKdmFyIGg9Zy5GaWVsZFZhbHVlOwphWzBdPXtmaWVsZDpnLkZpZWxkTmFtZSxvcGVyYXRvcjooYz09PTEpP1RlbGVyaWsuV2ViLlVJLkNsaWVudERhdGFTb3VyY2UuRmlsdGVyT3BlcmF0b3IuR3JlYXRlclRoYW5PckVxdWFsVG86VGVsZXJpay5XZWIuVUkuQ2xpZW50RGF0YVNvdXJjZS5GaWx0ZXJPcGVyYXRvci5MZXNzVGhhbix2YWx1ZTpoWzBdfTsKYVsxXT17ZmllbGQ6Zy5GaWVsZE5hbWUsb3BlcmF0b3I6KGM9PT0xKT9UZWxlcmlrLldlYi5VSS5DbGllbnREYXRhU291cmNlLkZpbHRlck9wZXJhdG9yLkxlc3NUaGFuOlRlbGVyaWsuV2ViLlVJLkNsaWVudERhdGFTb3VyY2UuRmlsdGVyT3BlcmF0b3IuR3JlYXRlclRoYW5PckVxdWFsVG8sdmFsdWU6aFsxXX07CmJbZl09e2xvZ2ljT3BlcmF0b3I6KGM9PT0xKT9UZWxlcmlrLldlYi5VSS5DbGllbnREYXRhU291cmNlLkZpbHRlckxvZ2ljT3BlcmF0b3IuQW5kOlRlbGVyaWsuV2ViLlVJLkNsaWVudERhdGFTb3VyY2UuRmlsdGVyTG9naWNPcGVyYXRvci5PcixmaWx0ZXJzOmF9Owp9ZWxzZXtiW2ZdPXtmaWVsZDpnLkZpZWxkTmFtZSxvcGVyYXRvcjpUZWxlcmlrLldlYi5VSS5DbGllbnREYXRhU291cmNlLkZpbHRlck9wZXJhdG9yW2cuRmlsdGVyRnVuY3Rpb25dLHZhbHVlOmcuRmllbGRWYWx1ZX07Cn19fX0pOwpyZXR1cm57bG9naWNPcGVyYXRvcjpUZWxlcmlrLldlYi5VSS5DbGllbnREYXRhU291cmNlLkZpbHRlckxvZ2ljT3BlcmF0b3IuQW5kLGZpbHRlcnM6Yn07Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkRmlsdGVyRXhwcmVzc2lvbnMucmVnaXN0ZXJDbGFzcygiVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckV4cHJlc3Npb25zIixUZWxlcmlrLldlYi5VSS5Db2xsZWN0aW9uKTsKVHlwZS5yZWdpc3Rlck5hbWVzcGFjZSgiVGVsZXJpay5XZWIuVUkiKTsKVGVsZXJpay5XZWIuVUkuR3JpZEdyb3VwUGFuZWw9ZnVuY3Rpb24oYSl7VGVsZXJpay5XZWIuVUkuR3JpZEdyb3VwUGFuZWwuaW5pdGlhbGl6ZUJhc2UodGhpcyxbYV0pOwp0aGlzLl9vd25lcj17fTsKdGhpcy5faXNMaWdodHdlaWdodD1mYWxzZTsKdGhpcy5fbGlnaHRDZWxsUGxhY2VIb2xkZXJzPXt9Owp9OwpUZWxlcmlrLldlYi5VSS5HcmlkR3JvdXBQYW5lbC5wcm90b3R5cGU9e2luaXRpYWxpemU6ZnVuY3Rpb24oKXtUZWxlcmlrLldlYi5VSS5HcmlkR3JvdXBQYW5lbC5jYWxsQmFzZU1ldGhvZCh0aGlzLCJpbml0aWFsaXplIik7CnZhciBiPXRoaXM7CmIuZ3JvdXBQYW5lbEl0ZW1Db3VudGVyPTA7CnZhciBhPXRoaXMuX293bmVyOwpiLl9pc0xpZ2h0d2VpZ2h0PWEuX3JlbmRlck1vZGU9PVRlbGVyaWsuV2ViLlVJLlJlbmRlck1vZGUuTGl0ZTsKaWYoYi5faXNMaWdodHdlaWdodCl7Yi5fY3JlYXRlTGlnaHRXZWlnaHRHcm91cFBhbmVsSXRlbXModGhpcy5nZXRfZWxlbWVudCgpLDApOwokdGVsZXJpay4kKGIuZ2V0X2VsZW1lbnQoKSkuZmluZCgiLnJnR3JvdXBJdGVtIikuZWFjaChmdW5jdGlvbigpe2IuX2xpZ2h0Q2VsbFBsYWNlSG9sZGVyc1t0aGlzXT10aGlzLnBhcmVudE5vZGU7Cn0pOwp9ZWxzZXtiLl9jcmVhdGVHcm91cFBhbmVsSXRlbXModGhpcy5nZXRfZWxlbWVudCgpLDApOwp9Yi5faW5pdGlhbGl6ZUV2ZW50cygpOwp9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt3aW5kb3cuJGNsZWFySGFuZGxlcnModGhpcy5nZXRfZWxlbWVudCgpKTsKdGhpcy5fZWxlbWVudC5jb250cm9sPW51bGw7CnRoaXMuX2dyb3VwVG91Y2hJdGVtcz1bXTsKVGVsZXJpay5XZWIuVUkuR3JpZEdyb3VwUGFuZWwuY2FsbEJhc2VNZXRob2QodGhpcywiZGlzcG9zZSIpOwp9LF9pbml0aWFsaXplRXZlbnRzOmZ1bmN0aW9uKCl7aWYodGhpcy5fb3duZXIuX2NsaWVudERhdGFTb3VyY2VJRCl7d2luZG93LiRhZGRIYW5kbGVyKHRoaXMuZ2V0X2VsZW1lbnQoKSwiY2xpY2siLEZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fY2xpY2spKTsKfX0sX2NsaWNrOmZ1bmN0aW9uKGIpe3ZhciBmPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Q3VycmVudEVsZW1lbnQoYik7CmlmKHRoaXMuX293bmVyLl9yZW5kZXJNb2RlPT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLkxpdGUmJmYudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0ic3BhbiIpe2Y9Zi5wYXJlbnROb2RlOwp9aWYoU3lzLlVJLkRvbUVsZW1lbnQuY29udGFpbnNDc3NDbGFzcyhmLCJyZ1VuZ3JvdXAiKSl7dGhpcy5fdW5ncm91cChmKTsKfWVsc2V7aWYoU3lzLlVJLkRvbUVsZW1lbnQuY29udGFpbnNDc3NDbGFzcyhmLCJyZ1NvcnRBc2MiKXx8U3lzLlVJLkRvbUVsZW1lbnQuY29udGFpbnNDc3NDbGFzcyhmLCJyZ1NvcnREZXNjIikpe3ZhciBhPWYucGFyZW50Tm9kZTsKdmFyIGM9IiI7CnZhciBkPWYuY2xhc3NOYW1lOwpjPXRoaXMuX2dldEZpZWxkTmFtZUZyb21UYXJnZXQoYSk7CmlmKHRoaXMuX293bmVyLl9yZW5kZXJNb2RlPT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLkxpdGUpe2lmKGYuY2hpbGRyZW4ubGVuZ3RoPjAmJmYuY2hpbGRyZW5bMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0ic3BhbiIpe2YuY2hpbGRyZW5bMF0uY2xhc3NOYW1lPSJ0LWZvbnQtaWNvbiByZ0ljb24gIjsKZi5jaGlsZHJlblswXS5jbGFzc05hbWUrPWYuY2xhc3NOYW1lLmluZGV4T2YoInJnU29ydEFzYyIpPi0xPyJyZ1NvcnREZXNjSWNvbiI6InJnU29ydEFzY0ljb24iOwp9Zi5jbGFzc05hbWU9InQtYnV0dG9uIHJnQWN0aW9uQnV0dG9uICI7Cn1lbHNle2YuY2xhc3NOYW1lPSIiOwp9Zi5jbGFzc05hbWUrPWQuaW5kZXhPZigicmdTb3J0QXNjIik+LTE/InJnU29ydERlc2MiOiJyZ1NvcnRBc2MiOwpmLnRpdGxlPWQuaW5kZXhPZigicmdTb3J0QXNjIik+LTE/IlNvcnRlZCBhc2MiOiJTb3J0ZWQgZGVzYyI7CnRoaXMuX3NvcnQoYyk7CiR0ZWxlcmlrLnByZXZlbnREZWZhdWx0KGIpOwp9fX0sX2dldEZpZWxkTmFtZUZyb21UYXJnZXQ6ZnVuY3Rpb24oZyl7dmFyIGU9JHRlbGVyaWsuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0aGlzLmdldF9lbGVtZW50KCksInJnR3JvdXBJdGVtIik7CnZhciBkPW51bGw7CnZhciBhPSIiOwpmb3IodmFyIGY9MDsKZjxlLmxlbmd0aDsKZisrKXt2YXIgYz1lW2ZdOwppZihjPT1nKXtkPWY7Cn19dmFyIGI9dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLl9kYXRhLkdyb3VwQnlFeHByZXNzaW9uczsKaWYoZCE9bnVsbCYmZDxiLmxlbmd0aCl7YT1iW2RdLmZpZWxkOwp9cmV0dXJuIGE7Cn0sX3NvcnQ6ZnVuY3Rpb24oYSl7dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlldygpLmZpcmVDb21tYW5kKCJTb3J0R3JvdXAiLGEpOwp9LF91bmdyb3VwOmZ1bmN0aW9uKGope3ZhciBiOwppZih0aGlzLl9pc0xpZ2h0d2VpZ2h0KXt2YXIgaT1qLnBhcmVudE5vZGUsZD1pLnBhcmVudE5vZGV8fHRoaXMuX2xpZ2h0Q2VsbFBsYWNlSG9sZGVyc1tpXSxjPXRoaXMuZ2V0X2VsZW1lbnQoKTsKYj10aGlzLl9nZXRGaWVsZE5hbWVGcm9tVGFyZ2V0KGkpOwp0aGlzLl9vd25lci5nZXRfbWFzdGVyVGFibGVWaWV3KCkudW5ncm91cENvbHVtbihiKTsKaWYoZC5jaGlsZHJlbi5sZW5ndGg+MCl7ZC5yZW1vdmVDaGlsZChpKTsKfWlmKGQuY2hpbGRyZW4ubGVuZ3RoPT0wJiZkLnBhcmVudE5vZGU9PWMpe2MucmVtb3ZlQ2hpbGQoZCk7CmMuaW5uZXJIVE1MPXRoaXMuX293bmVyLl9ncm91cFBhbmVsVGV4dDsKfX1lbHNle3ZhciBhPWoucGFyZW50Tm9kZSxoPWEucGFyZW50Tm9kZSxmPWgucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGU7CmI9dGhpcy5fZ2V0RmllbGROYW1lRnJvbVRhcmdldChhKTsKdmFyIGc9JHRlbGVyaWsucHJldmlvdXNFbGVtZW50KGEpLGU9JHRlbGVyaWsubmV4dEVsZW1lbnQoYSk7CnRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS51bmdyb3VwQ29sdW1uKGIpOwppZihnKXtoLnJlbW92ZUNoaWxkKGcpOwp9ZWxzZXtpZihlKXtoLnJlbW92ZUNoaWxkKGUpOwp9fWgucmVtb3ZlQ2hpbGQoYSk7CmlmKGguY2VsbHMubGVuZ3RoPD0xKXtmLnJlbW92ZUNoaWxkKGYuY2hpbGROb2Rlc1swXSk7CmYuaW5uZXJIVE1MPXRoaXMuX293bmVyLl9ncm91cFBhbmVsVGV4dDsKfX19LF9jcmVhdGVMaWdodEl0ZW1zOmZ1bmN0aW9uKGIsYSl7dmFyIGM9dGhpcy5nZXRfZWxlbWVudCgpOwp2YXIgZDsKaWYoYy5pbm5lckhUTUwuaW5kZXhPZigiZGl2Iik+LTEpe2Q9Yy5jaGlsZHJlblswXTsKfWVsc2V7Yy5pbm5lckhUTUw9IiI7CmQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Cn12YXIgZT1UZWxlcmlrLldlYi5VSS5HcmlkR3JvdXBQYW5lbEl0ZW0uQ3JlYXRlTGlnaHRJdGVtKHRoaXMuX293bmVyLGIsYSk7CmQuYXBwZW5kQ2hpbGQoZSk7CmMuYXBwZW5kQ2hpbGQoZCk7Cn0sX2NyZWF0ZTpmdW5jdGlvbihjLGIpe3ZhciBnPXRoaXMuZ2V0X2VsZW1lbnQoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGFibGUiKSxmPWdbZy5sZW5ndGgtMV0sZT1mLnRCb2RpZXNbMF0ucm93c1swXSxkPVRlbGVyaWsuV2ViLlVJLkdyaWRHcm91cFBhbmVsSXRlbS5DcmVhdGUodGhpcy5fb3duZXIsYyxnLmxlbmd0aCE9MSxiKSxhOwppZihnLmxlbmd0aD09MSl7Zj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpOwpmLmNlbGxQYWRkaW5nPTI7CmYuc3R5bGUuY3NzVGV4dD0iYm9yZGVyLXN0eWxlOk5vbmU7d2lkdGg6MTAwJTtib3JkZXItc3BhY2luZzowOyI7CmYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk7CmUuY2VsbHNbMF0uaW5uZXJIVE1MPSIiOwplLmNlbGxzWzBdLmFwcGVuZENoaWxkKGYpOwplPWYudEJvZGllc1swXS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpKTsKZS5hcHBlbmRDaGlsZChkKTsKYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwphLnN0eWxlLndpZHRoPSIxMDAlIjsKZS5hcHBlbmRDaGlsZChhKTsKfWVsc2V7ZS5pbnNlcnRCZWZvcmUoZCxlLmNlbGxzW2UuY2VsbHMubGVuZ3RoLTFdKTsKfX0sX2NyZWF0ZUxpZ2h0V2VpZ2h0R3JvdXBQYW5lbEl0ZW1zOmZ1bmN0aW9uKGIpe3RoaXMuX2l0ZW1zSW50ZXJuYWw9ZXZhbCh0aGlzLl9vd25lci5fZ3JvdXBQYW5lbEl0ZW1zKTsKdGhpcy5faXRlbXM9W107CnZhciBjPXRoaXM7CnZhciBhPSR0ZWxlcmlrLiQ7CmEoYikuY2hpbGRyZW4oImRpdiIpLmVhY2goZnVuY3Rpb24oZSxmKXt2YXIgZD1mYWxzZTsKYShmKS5jaGlsZHJlbigic3BhbiIpLmVhY2goZnVuY3Rpb24oaixrKXt2YXIgaDsKdmFyIGc7CmlmKGMuX2l0ZW1zSW50ZXJuYWxbYy5ncm91cFBhbmVsSXRlbUNvdW50ZXJdKXtoPWMuX2l0ZW1zSW50ZXJuYWxbYy5ncm91cFBhbmVsSXRlbUNvdW50ZXJdLkhpZXJhcmNoaWNhbEluZGV4OwpnPWMuX2l0ZW1zSW50ZXJuYWxbYy5ncm91cFBhbmVsSXRlbUNvdW50ZXJdLkRhdGFGaWVsZDsKfWlmKGgpe2MuX2l0ZW1zW2MuX2l0ZW1zLmxlbmd0aF09JGNyZWF0ZShUZWxlcmlrLldlYi5VSS5HcmlkR3JvdXBQYW5lbEl0ZW0se19oaWVyYXJjaGljYWxJbmRleDpoLF9vd25lcjpjLF9kYXRhRmllbGQ6Z30sbnVsbCxudWxsLGspOwpkPXRydWU7CmMuZ3JvdXBQYW5lbEl0ZW1Db3VudGVyKys7Cn19KTsKfSk7Cn0sX2NyZWF0ZUdyb3VwUGFuZWxJdGVtczpmdW5jdGlvbihrKXt0aGlzLl9pdGVtc0ludGVybmFsPWV2YWwodGhpcy5fb3duZXIuX2dyb3VwUGFuZWxJdGVtcyk7CnRoaXMuX2l0ZW1zPVtdOwp2YXIgaD1rLnRCb2RpZXNbMF0ucm93czsKZm9yKHZhciBlPTA7CmU8aC5sZW5ndGg7CmUrKyl7dmFyIGM9ZmFsc2U7CnZhciBnPWhbZV07CmZvcih2YXIgZj0wOwpmPGcuY2VsbHMubGVuZ3RoOwpmKyspe3ZhciBhPWcuY2VsbHNbZl07CmlmKGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0idGgiKXt2YXIgZDsKdmFyIGI7CmlmKHRoaXMuX2l0ZW1zSW50ZXJuYWxbdGhpcy5ncm91cFBhbmVsSXRlbUNvdW50ZXJdKXtkPXRoaXMuX2l0ZW1zSW50ZXJuYWxbdGhpcy5ncm91cFBhbmVsSXRlbUNvdW50ZXJdLkhpZXJhcmNoaWNhbEluZGV4OwpiPXRoaXMuX2l0ZW1zSW50ZXJuYWxbdGhpcy5ncm91cFBhbmVsSXRlbUNvdW50ZXJdLkRhdGFGaWVsZDsKfWlmKGQpe3RoaXMuX2l0ZW1zW3RoaXMuX2l0ZW1zLmxlbmd0aF09JGNyZWF0ZShUZWxlcmlrLldlYi5VSS5HcmlkR3JvdXBQYW5lbEl0ZW0se19oaWVyYXJjaGljYWxJbmRleDpkLF9vd25lcjp0aGlzLF9kYXRhRmllbGQ6Yn0sbnVsbCxudWxsLGEpOwpjPXRydWU7CnRoaXMuZ3JvdXBQYW5lbEl0ZW1Db3VudGVyKys7Cn19aWYoKGEuZmlyc3RDaGlsZCkmJihhLmZpcnN0Q2hpbGQudGFnTmFtZSkpe2lmKGEuZmlyc3RDaGlsZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0YWJsZSIpe3RoaXMuX2NyZWF0ZUdyb3VwUGFuZWxJdGVtcyhhLmZpcnN0Q2hpbGQpOwp9fX19fSxfaXNJdGVtOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wOwpiPHRoaXMuX2l0ZW1zLmxlbmd0aDsKYisrKXtpZih0aGlzLl9pdGVtc1tiXS5nZXRfZWxlbWVudCgpPT1hKXtyZXR1cm4gdGhpcy5faXRlbXNbYl07Cn19cmV0dXJuIG51bGw7Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkR3JvdXBQYW5lbC5yZWdpc3RlckNsYXNzKCJUZWxlcmlrLldlYi5VSS5HcmlkR3JvdXBQYW5lbCIsU3lzLlVJLkNvbnRyb2wpOwpUZWxlcmlrLldlYi5VSS5HcmlkR3JvdXBQYW5lbEl0ZW09ZnVuY3Rpb24oYSl7VGVsZXJpay5XZWIuVUkuR3JpZEdyb3VwUGFuZWxJdGVtLmluaXRpYWxpemVCYXNlKHRoaXMsW2FdKTsKdGhpcy5faGllcmFyY2hpY2FsSW5kZXg9bnVsbDsKdGhpcy5fb3duZXI9e307CnRoaXMuX2RhdGFGaWVsZD1udWxsOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkR3JvdXBQYW5lbEl0ZW0uQ3JlYXRlPWZ1bmN0aW9uKGcsZSxhLGMpe2c9JGZpbmQoZy5nZXRfaWQoKSk7CnZhciBmPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKdmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKTsKYi5zZXRBdHRyaWJ1dGUoInNjb3BlIiwiY29sIik7CmIudGl0bGU9Zy5fdW5Hcm91cFRvb2x0aXB8fCJEcmFnIG91dCBvZiB0aGUgYmFyIHRvIHVuZ3JvdXAiOwpiLmNsYXNzTmFtZT0icmdHcm91cEl0ZW0iOwpiLnN0eWxlLmNzc1RleHQ9IndoaXRlLXNwYWNlOiBub3dyYXA7IGN1cnNvcjogbW92ZTsiOwpiLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUrIiAiKSk7CnZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Cmguc2V0QXR0cmlidXRlKCJ0eXBlIiwic3VibWl0Iik7CmgudmFsdWU9IiAiOwpoLnRpdGxlPSJTb3J0ZWQgYXNjIjsKaC5jbGFzc05hbWU9InJnU29ydEFzYyI7CmIuYXBwZW5kQ2hpbGQoaCk7CmlmKGcuX3Nob3dVbkdyb3VwQnV0dG9uKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwppLnNldEF0dHJpYnV0ZSgidHlwZSIsInN1Ym1pdCIpOwppLnRpdGxlPWcuX3VuR3JvdXBCdXR0b25Ub29sdGlwfHwiQ2xpY2sgaGVyZSB0byB1bmdyb3VwIjsKaS52YWx1ZT0iICI7CmkuY2xhc3NOYW1lPSJyZ1VuZ3JvdXAiOwpiLmFwcGVuZENoaWxkKGkpOwp9aWYoYSl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKZC5pbm5lckhUTUw9Ii0iOwpmLmFwcGVuZENoaWxkKGQpOwp9Zi5hcHBlbmRDaGlsZChiKTsKZy5fZ3JvdXBQYW5lbC5faXRlbXNbZy5fZ3JvdXBQYW5lbC5faXRlbXMubGVuZ3RoXT0kY3JlYXRlKFRlbGVyaWsuV2ViLlVJLkdyaWRHcm91cFBhbmVsSXRlbSx7X2hpZXJhcmNoaWNhbEluZGV4OiIwOiIrKGcuZ2V0X21hc3RlclRhYmxlVmlldygpLl9kYXRhLkdyb3VwQnlFeHByZXNzaW9ucy5sZW5ndGgtMSksX293bmVyOmcuX2dyb3VwUGFuZWwsX2RhdGFGaWVsZDpjfSxudWxsLG51bGwsYik7CnJldHVybiBmOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkR3JvdXBQYW5lbEl0ZW0uQ3JlYXRlTGlnaHRJdGVtPWZ1bmN0aW9uKGQsYixhKXtkPSRmaW5kKGQuZ2V0X2lkKCkpOwp2YXIgYz1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7CnZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKZS50aXRsZT1kLl91bkdyb3VwVG9vbHRpcHx8IkRyYWcgb3V0IG9mIHRoZSBiYXIgdG8gdW5ncm91cCI7CmUuY2xhc3NOYW1lPSJyZ0dyb3VwSXRlbSI7CmUuc3R5bGUuY3NzVGV4dD0id2hpdGUtc3BhY2U6IG5vd3JhcDsgY3Vyc29yOiBtb3ZlOyI7CmUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYisiICIpKTsKdmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CmYuc2V0QXR0cmlidXRlKCJ0eXBlIiwic3VibWl0Iik7CmYuY2xhc3NOYW1lPSJ0LWJ1dHRvbiByZ0FjdGlvbkJ1dHRvbiByZ1NvcnRBc2MiOwpmLnRpdGxlPSJTb3J0IEFzY2VuZGluZyI7CnZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKZy5jbGFzc05hbWU9InQtZm9udC1pY29uIHJnSWNvbiByZ1NvcnRBc2NJY29uIjsKZi5hcHBlbmRDaGlsZChnKTsKZS5hcHBlbmRDaGlsZChmKTsKaWYoZC5fc2hvd1VuR3JvdXBCdXR0b24pe3ZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwpoLnNldEF0dHJpYnV0ZSgidHlwZSIsInN1Ym1pdCIpOwpoLmNsYXNzTmFtZT0idC1idXR0b24gcmdBY3Rpb25CdXR0b24gcmdVbmdyb3VwIjsKaC50aXRsZT0iVW5ncm91cCI7Cmc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwpnLmNsYXNzTmFtZT0idC1mb250LWljb24gcmdJY29uIHJnVW5ncm91cEljb24iOwpoLmFwcGVuZENoaWxkKGcpOwplLmFwcGVuZENoaWxkKGgpOwp9Yy5hcHBlbmRDaGlsZChlKTsKZC5fZ3JvdXBQYW5lbC5faXRlbXNbZC5fZ3JvdXBQYW5lbC5faXRlbXMubGVuZ3RoXT0kY3JlYXRlKFRlbGVyaWsuV2ViLlVJLkdyaWRHcm91cFBhbmVsSXRlbSx7X2hpZXJhcmNoaWNhbEluZGV4OiIwOiIrKGQuZ2V0X21hc3RlclRhYmxlVmlldygpLl9kYXRhLkdyb3VwQnlFeHByZXNzaW9ucy5sZW5ndGgtMSksX293bmVyOmQuX2dyb3VwUGFuZWwsX2RhdGFGaWVsZDphfSxudWxsLG51bGwsZSk7CnJldHVybiBjOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkR3JvdXBQYW5lbEl0ZW0ucHJvdG90eXBlPXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7VGVsZXJpay5XZWIuVUkuR3JpZEdyb3VwUGFuZWxJdGVtLmNhbGxCYXNlTWV0aG9kKHRoaXMsImluaXRpYWxpemUiKTsKdGhpcy5nZXRfZWxlbWVudCgpLnN0eWxlLmN1cnNvcj0ibW92ZSI7CnRoaXMuX29uTW91c2VEb3duRGVsZWdhdGU9JHRlbGVyaWsuYWRkTW9iaWxlSGFuZGxlcih0aGlzLHRoaXMuZ2V0X2VsZW1lbnQoKSwibW91c2Vkb3duIix0aGlzLl9vbk1vdXNlRG93bkhhbmRsZXIpOwp9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt3aW5kb3cuJGNsZWFySGFuZGxlcnModGhpcy5nZXRfZWxlbWVudCgpKTsKdGhpcy5fZWxlbWVudC5jb250cm9sPW51bGw7ClRlbGVyaWsuV2ViLlVJLkdyaWRHcm91cFBhbmVsSXRlbS5jYWxsQmFzZU1ldGhvZCh0aGlzLCJkaXNwb3NlIik7Cn0sX29uTW91c2VEb3duSGFuZGxlcjpmdW5jdGlvbihhKXt2YXIgYj0kdGVsZXJpay5pc1RvdWNoRGV2aWNlP2E6YS5yYXdFdmVudDsKaWYoYi5jdXJyZW50VGFyZ2V0IT09Yi50YXJnZXQpe3JldHVybjsKfXRoaXMuX29uTW91c2VVcERlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyxkb2N1bWVudCwibW91c2V1cCIsdGhpcy5fb25Nb3VzZVVwSGFuZGxlcixudWxsLHRydWUpOwp0aGlzLl9vbk1vdXNlTW92ZURlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyxkb2N1bWVudCwibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZUhhbmRsZXIsbnVsbCx0cnVlKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5DcmVhdGVEcmFnRHJvcChhLHRoaXMsZmFsc2UpOwpUZWxlcmlrLldlYi5VSS5HcmlkLkNyZWF0ZVJlb3JkZXJJbmRpY2F0b3JzKHRoaXMuZ2V0X2VsZW1lbnQoKSx0aGlzLl9vd25lci5fb3duZXIuU2tpbix0aGlzLl9vd25lci5fb3duZXIuSW1hZ2VzUGF0aCxmYWxzZSx0aGlzLl9vd25lci5fb3duZXIuZ2V0X2lkKCkpOwp9LF9vbk1vdXNlVXBIYW5kbGVyOmZ1bmN0aW9uKGIpeyR0ZWxlcmlrLnJlbW92ZU1vYmlsZUhhbmRsZXIoZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuX29uTW91c2VVcERlbGVnYXRlLG51bGwsdHJ1ZSk7CiR0ZWxlcmlrLnJlbW92ZU1vYmlsZUhhbmRsZXIoZG9jdW1lbnQsIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3VzZU1vdmVEZWxlZ2F0ZSxudWxsLHRydWUpOwp2YXIgZD10aGlzLl9maXJlRHJvcEFjdGlvbihiKTsKdmFyIGM9dGhpcy5fb3duZXIuX293bmVyOwp2YXIgYT1jLkNsaWVudFNldHRpbmdzLkFuaW1hdGlvbiYmYy5DbGllbnRTZXR0aW5ncy5BbmltYXRpb24uQWxsb3dDb2x1bW5SZXZlcnRBbmltYXRpb247CmlmKGEmJiFkKXtUZWxlcmlrLldlYi5VSS5HcmlkLkFuaW1hdGVSZXZlcnREcmFnRHJvcCh0aGlzLGMuQ2xpZW50U2V0dGluZ3MuQW5pbWF0aW9uLkNvbHVtblJldmVydEFuaW1hdGlvbkR1cmF0aW9uKTsKfWVsc2V7VGVsZXJpay5XZWIuVUkuR3JpZC5EZXN0cm95RHJhZ0Ryb3AoKTsKfX0sX29uTW91c2VNb3ZlSGFuZGxlcjpmdW5jdGlvbihhKXtpZigkdGVsZXJpay5pc1RvdWNoRGV2aWNlKXthLnByZXZlbnREZWZhdWx0KCk7Cn1UZWxlcmlrLldlYi5VSS5HcmlkLk1vdmVEcmFnRHJvcChhLHRoaXMsZmFsc2UpOwp9LF9maXJlRHJvcEFjdGlvbjpmdW5jdGlvbihmKXt2YXIgZDsKaWYoJHRlbGVyaWsuaXNUb3VjaERldmljZSl7ZD0kdGVsZXJpay5nZXRUb3VjaFRhcmdldChmKTsKfWVsc2V7ZD1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEN1cnJlbnRFbGVtZW50KGYpOwp9aWYoZCE9bnVsbCl7dmFyIGc9dGhpcy5fb3duZXIuX293bmVyOwp2YXIgaD1udWxsOwp2YXIgbD1mYWxzZTsKdmFyIG89dGhpcy5fb3duZXIuX2lzTGlnaHR3ZWlnaHQ/InNwYW4iOiJ0aCI7CnZhciBqPSR0ZWxlcmlrLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZy5nZXRfZWxlbWVudCgpLCJyZ0dyb3VwSXRlbSIsbyk7CmZvcih2YXIgaz0wOwprPGoubGVuZ3RoOwprKyspe2lmKCR0ZWxlcmlrLmlzTW91c2VPdmVyRWxlbWVudChqW2tdLGYpKXtsPXRydWU7Cmg9altrXTsKYnJlYWs7Cn19aWYoJHRlbGVyaWsuaXNNb3VzZU92ZXJFbGVtZW50KHRoaXMuX293bmVyLmdldF9lbGVtZW50KCksZikpe2w9dHJ1ZTsKfXZhciBuPXRoaXMuX293bmVyLl9vd25lci5DbGllbnRTZXR0aW5ncy5Qb3N0QmFja0Z1bmN0aW9uOwpuPW4ucmVwbGFjZSgiezB9Iix0aGlzLl9vd25lci5fb3duZXIuVW5pcXVlSUQpOwp2YXIgYTsKdmFyIGI7CnZhciBjOwppZighbCYmKCEoVGVsZXJpay5XZWIuVUkuR3JpZC5Jc0NoaWxkT2YoZCx0aGlzLl9vd25lci5nZXRfZWxlbWVudCgpKXx8JHRlbGVyaWsuaXNUb3VjaERldmljZSYmZD09dGhpcy5fb3duZXIuZ2V0X2VsZW1lbnQoKSkpKXtjPSJVbkdyb3VwQnlFeHByZXNzaW9uIjsKYj10aGlzLl9oaWVyYXJjaGljYWxJbmRleDsKYT1uZXcgU3lzLkNhbmNlbEV2ZW50QXJncygpOwphLmdldF9jb21tYW5kTmFtZT1mdW5jdGlvbigpe3JldHVybiBjOwp9OwphLmdldF9jb21tYW5kQXJndW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gYjsKfTsKaWYodGhpcy5fb3duZXIuX293bmVyLl9jbGllbnREYXRhU291cmNlSUQpe2Euc2V0X2NhbmNlbCh0cnVlKTsKfWVsc2V7dGhpcy5fb3duZXIuX293bmVyLnJhaXNlX2NvbW1hbmQoYSk7Cn1pZihhLmdldF9jYW5jZWwoKSl7aWYodGhpcy5fb3duZXIuX293bmVyLl9jbGllbnREYXRhU291cmNlSUQpe3RoaXMuX293bmVyLl91bmdyb3VwKHRoaXMuZ2V0X2VsZW1lbnQoKS5jaGlsZE5vZGVzWzBdKTsKfXJldHVybiBmYWxzZTsKfW49bi5yZXBsYWNlKCJ7MX0iLCJVbkdyb3VwQnlFeHByZXNzaW9uLCIrdGhpcy5faGllcmFyY2hpY2FsSW5kZXgpOwpldmFsKG4pOwpyZXR1cm4gdHJ1ZTsKfWVsc2V7dmFyIG09dGhpcy5fb3duZXIuX2lzSXRlbShkKTsKaWYobT09bnVsbCYmaCE9bnVsbCl7ZD1oOwptPXRoaXMuX293bmVyLl9pc0l0ZW0oZCk7Cn1pZigoZCE9dGhpcy5nZXRfZWxlbWVudCgpKSYmKG0hPW51bGwpJiYoZC5wYXJlbnROb2RlPT10aGlzLmdldF9lbGVtZW50KCkucGFyZW50Tm9kZSkpe2M9IlJlb3JkZXJHcm91cEJ5RXhwcmVzc2lvbiI7CmI9dGhpcy5faGllcmFyY2hpY2FsSW5kZXgrIiwiK20uX2hpZXJhcmNoaWNhbEluZGV4OwphPW5ldyBTeXMuQ2FuY2VsRXZlbnRBcmdzKCk7CmEuZ2V0X2NvbW1hbmROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGM7Cn07CmEuZ2V0X2NvbW1hbmRBcmd1bWVudD1mdW5jdGlvbigpe3JldHVybiBiOwp9Owp0aGlzLl9vd25lci5fb3duZXIucmFpc2VfY29tbWFuZChhKTsKaWYoYS5nZXRfY2FuY2VsKCkpe3JldHVybiBmYWxzZTsKfW49bi5yZXBsYWNlKCJ7MX0iLCJSZW9yZGVyR3JvdXBCeUV4cHJlc3Npb24sIit0aGlzLl9oaWVyYXJjaGljYWxJbmRleCsiLCIrbS5faGllcmFyY2hpY2FsSW5kZXgpOwpldmFsKG4pOwpyZXR1cm4gdHJ1ZTsKfX19cmV0dXJuIGZhbHNlOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZEdyb3VwUGFuZWxJdGVtLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRHcm91cFBhbmVsSXRlbSIsU3lzLlVJLkNvbnRyb2wpOwpUeXBlLnJlZ2lzdGVyTmFtZXNwYWNlKCJUZWxlcmlrLldlYi5VSSIpOwokdGVsZXJpay5maW5kR3JpZD0kZmluZDsKJHRlbGVyaWsudG9HcmlkPWZ1bmN0aW9uKGEpe3JldHVybiBhOwp9OwpUZWxlcmlrLldlYi5VSS5SYWRHcmlkPWZ1bmN0aW9uKGEpe3ZhciBiPVsiZ3JpZENyZWF0aW5nIiwiZ3JpZENyZWF0ZWQiLCJncmlkRGVzdHJveWluZyIsIm1hc3RlclRhYmxlVmlld0NyZWF0aW5nIiwibWFzdGVyVGFibGVWaWV3Q3JlYXRlZCIsInRhYmxlQ3JlYXRpbmciLCJ0YWJsZUNyZWF0ZWQiLCJ0YWJsZURlc3Ryb3lpbmciLCJjZWxsRGVzZWxlY3RlZCIsImNlbGxEZXNlbGVjdGluZyIsImNlbGxTZWxlY3RlZCIsImNlbGxTZWxlY3RpbmciLCJjb2x1bW5DcmVhdGluZyIsImNvbHVtbkNyZWF0ZWQiLCJjb2x1bW5EZXN0cm95aW5nIiwiY29sdW1uUmVzaXppbmciLCJjb2x1bW5SZXNpemVkIiwiY29sdW1uU3dhcHBpbmciLCJjb2x1bW5Td2FwcGVkIiwiY29sdW1uTW92aW5nVG9MZWZ0IiwiY29sdW1uTW92ZWRUb0xlZnQiLCJjb2x1bW5Nb3ZpbmdUb1JpZ2h0IiwiY29sdW1uTW92ZWRUb1JpZ2h0IiwiY29sdW1uSGlkaW5nIiwiY29sdW1uSGlkZGVuIiwiY29sdW1uU2hvd2luZyIsImNvbHVtblNob3duIiwicm93Q3JlYXRpbmciLCJyb3dDcmVhdGVkIiwicm93RGVzdHJveWluZyIsInJvd1Jlc2l6aW5nIiwicm93UmVzaXplZCIsInJvd0hpZGluZyIsInJvd0hpZGRlbiIsInJvd1Nob3dpbmciLCJyb3dTaG93biIsInJvd0NsaWNrIiwicm93RGJsQ2xpY2siLCJjb2x1bW5DbGljayIsImNvbHVtbkRibENsaWNrIiwicm93U2VsZWN0aW5nIiwicm93U2VsZWN0ZWQiLCJyb3dEZXNlbGVjdGluZyIsInJvd0Rlc2VsZWN0ZWQiLCJyb3dNb3VzZU92ZXIiLCJyb3dNb3VzZU91dCIsImNvbHVtbk1vdXNlT3ZlciIsImNvbHVtbk1vdXNlT3V0IiwiY29sdW1uQ29udGV4dE1lbnUiLCJyb3dDb250ZXh0TWVudSIsInNjcm9sbCIsImtleVByZXNzIiwiaGllcmFyY2h5RXhwYW5kaW5nIiwiaGllcmFyY2h5RXhwYW5kZWQiLCJoaWVyYXJjaHlDb2xsYXBzaW5nIiwiaGllcmFyY2h5Q29sbGFwc2VkIiwiZ3JvdXBFeHBhbmRpbmciLCJncm91cEV4cGFuZGVkIiwiZ3JvdXBDb2xsYXBzaW5nIiwiZ3JvdXBDb2xsYXBzZWQiLCJhY3RpdmVSb3dDaGFuZ2luZyIsImFjdGl2ZVJvd0NoYW5nZWQiLCJyb3dEZWxldGluZyIsInJvd0RlbGV0ZWQiLCJmaWx0ZXJNZW51U2hvd2luZyIsInJvd0Ryb3BwaW5nIiwicm93RHJvcHBlZCIsInJvd0RyYWdTdGFydGVkIiwicm93RHJhZ2dpbmciLCJwb3BVcFNob3dpbmciLCJjb21tYW5kIiwidXNlckFjdGlvbiIsInJvd0RhdGFCb3VuZCIsImRhdGFCaW5kaW5nIiwiZGF0YUJvdW5kIiwiaGVhZGVyTWVudVNob3dpbmciLCJkYXRhQmluZGluZ0ZhaWxlZCIsImRhdGFTb3VyY2VSZXNvbHZlZCIsImJhdGNoRWRpdEdldEVkaXRvclZhbHVlIiwiYmF0Y2hFZGl0U2V0RWRpdG9yVmFsdWUiLCJiYXRjaEVkaXRHZXRDZWxsVmFsdWUiLCJiYXRjaEVkaXRTZXRDZWxsVmFsdWUiLCJiYXRjaEVkaXRDZWxsVmFsdWVDaGFuZ2luZyIsImJhdGNoRWRpdENlbGxWYWx1ZUNoYW5nZWQiLCJiYXRjaEVkaXRPcGVuaW5nIiwiYmF0Y2hFZGl0T3BlbmVkIiwiYmF0Y2hFZGl0Q2xvc2luZyIsImJhdGNoRWRpdENsb3NlZCJdOwp0aGlzLl9pbml0aWFsaXplRXZlbnRzKGIpOwpUZWxlcmlrLldlYi5VSS5SYWRHcmlkLmluaXRpYWxpemVCYXNlKHRoaXMsW2FdKTsKdGhpcy5Ta2luPSJEZWZhdWx0IjsKdGhpcy5faW1hZ2VzUGF0aD0iIjsKdGhpcy5fZW1iZWRkZWRTa2luPXRydWU7CnRoaXMuQ2xpZW50SUQ9bnVsbDsKdGhpcy5VbmlxdWVJRD1udWxsOwp0aGlzLl9jbGllbnREYXRhU291cmNlSUQ9bnVsbDsKdGhpcy5fYWN0aXZlUm93SW5kZXg9IiI7CnRoaXMuX2FjdGl2ZVJvdz1udWxsOwp0aGlzLlNob3dHcm91cFBhbmVsPWZhbHNlOwp0aGlzLl9ncm91cFBhbmVsPW51bGw7CnRoaXMuX2dyb3VwUGFuZWxDbGllbnRJRD0iIjsKdGhpcy5fZ3JvdXBQYW5lbEl0ZW1zPSIiOwp0aGlzLl9ncm91cFBhbmVsVGV4dD0iIjsKdGhpcy5fc2hvd1VuR3JvdXBCdXR0b249ZmFsc2U7CnRoaXMuX3VuR3JvdXBUb29sdGlwPSIiOwp0aGlzLl91bkdyb3VwQnV0dG9uVG9vbHRpcD0iIjsKdGhpcy5fZnJlZXplVGV4dD0iIjsKdGhpcy5fdW5mcmVlemVUZXh0PSIiOwp0aGlzLl9ncmlkVGFibGVWaWV3c0RhdGE9IiI7CnRoaXMuX3BvcFVwSWRzPSIiOwp0aGlzLl9wb3BVcFNldHRpbmdzPXt9Owp0aGlzLkNsaWVudFNldHRpbmdzPXt9Owp0aGlzLlNvcnRpbmdTZXR0aW5ncz17fTsKdGhpcy5fc2VsZWN0aW9uPW51bGw7CnRoaXMuX2NlbGxTZWxlY3Rpb249bnVsbDsKdGhpcy5fc2VsZWN0ZWRDZWxsc0luZGV4ZXM9W107CnRoaXMuX3NlbGVjdGVkQ2VsbHNJbnRlcm5hbD1bXTsKdGhpcy5fc2VsZWN0ZWRJbmRleGVzPVtdOwp0aGlzLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWw9W107CnRoaXMuX3Vuc2VsZWN0YWJsZUl0ZW1zSW50ZXJuYWw9W107CnRoaXMuX3Vuc2VsZWN0YWJsZUl0ZW1zSW5kZXhlcz1bXTsKdGhpcy5fbWFzdGVyQ2xpZW50SUQ9IiI7CnRoaXMuX3Njcm9sbGluZz1udWxsOwp0aGlzLl9ncmlkSXRlbVJlc2l6ZXI9bnVsbDsKdGhpcy5fcmVzaXplZEl0ZW1zPSIiOwp0aGlzLl9yZXNpemVkQ29sdW1ucz0iIjsKdGhpcy5fcmVzaXplZENvbnRyb2w9IiI7CnRoaXMuX2hpZGVkSXRlbXM9IiI7CnRoaXMuX3Nob3dlZEl0ZW1zPSIiOwp0aGlzLl9oaWRlZENvbHVtbnM9W107CnRoaXMuX3Nob3dlZENvbHVtbnM9W107CnRoaXMuX3Jlb3JkZXJlZENvbHVtbnM9W107CnRoaXMuX2dyb3VwQ29sc1N0YXRlPXt9Owp0aGlzLl9oaWVyYXJjaHlDb2xzRXhwYW5kZWRTdGF0ZT17fTsKdGhpcy5fZmlsdGVyTWVudURhdGE9e307CnRoaXMuX2ZpbHRlck1lbnU9bnVsbDsKdGhpcy5faGVhZGVyQ29udGV4dE1lbnU9bnVsbDsKdGhpcy5fZGV0YWlsVGFibGVzPVtdOwp0aGlzLl9jbGllbnRLZXlWYWx1ZXM9e307CnRoaXMuX29uS2V5RG93bkRlbGVnYXRlPW51bGw7CnRoaXMuX29uTW91c2VNb3ZlRGVsZWdhdGU9bnVsbDsKdGhpcy5faGllcmFyY2h5U2V0dGluZ3M9e307CnRoaXMuX2dyb3VwaW5nU2V0dGluZ3M9e307CnRoaXMuX2N1cnJlbnRQYWdlSW5kZXg9bnVsbDsKdGhpcy5fZXhwYW5kSXRlbXM9e307CnRoaXMuX2V4cGFuZGVkSXRlbXM9W107CnRoaXMuX2V4cGFuZGVkR3JvdXBJdGVtcz1bXTsKdGhpcy5fZGVsZXRlZEl0ZW1zPVtdOwp0aGlzLl9leHBhbmRlZEZpbHRlckl0ZW1zPVtdOwp0aGlzLl9pbml0aWFsaXplUmVxdWVzdEhhbmRsZXI9bnVsbDsKdGhpcy5fZW5kUmVxdWVzdEhhbmRsZXI9bnVsbDsKdGhpcy5fc3RhdHVzTGFiZWxJRD1udWxsOwp0aGlzLl9sb2FkaW5nVGV4dD1udWxsOwp0aGlzLl9yZWFkeVRleHQ9bnVsbDsKdGhpcy5fb25GaWx0ZXJNZW51Q2xpY2s9bnVsbDsKdGhpcy5fcG9wVXBMb2NhdGlvbnM9e307CnRoaXMuX3N1Ym1pdENvbnRyb2xzPVtdOwp0aGlzLl9hbGxvd1N1Ym1pdE9uRW50ZXI9ZmFsc2U7CnRoaXMuX3ZhbGlkYXRpb25Hcm91cD0iIjsKd2luZG93W3RoaXMuQ2xpZW50SURdPXRoaXM7CnRoaXMuX2Nhbk1vdmVSb3c9ZmFsc2U7CnRoaXMuX29yaWdpbmFsRHJhZ0l0ZW09bnVsbDsKdGhpcy5fZHJvcENsdWU9bnVsbDsKdGhpcy5fZHJhZ2dlZEl0ZW1zPVtdOwp0aGlzLl9kcmFnZ2VkSXRlbXNJbmRleGVzPVtdOwp0aGlzLl9kcmFnZ2luZ1Bvc2l0aW9uPSJhYm92ZSI7CnRoaXMuX2VkaXRJbmRleGVzPW51bGw7CnRoaXMuX2NvbnRyb2xUb0ZvY3VzPW51bGw7CnRoaXMuX2RvY3VtZW50S2V5RG93bkRlbGVnYXRlPW51bGw7CnRoaXMuX2RhdGFEaXZNb3VzZURvd25EZWxlZ2F0ZT1udWxsOwp0aGlzLl9kYXRhRGl2TW91c2VVcERlbGVnYXRlPW51bGw7CnRoaXMuX2RhdGFEaXZNb3VzZU1vdmVEZWxlZ2F0ZT1udWxsOwp0aGlzLl9zd2lwZVN0YXJ0RGVsZWdhdGU9bnVsbDsKdGhpcy5fc3dpcGVVcERlbGVnYXRlPW51bGw7CnRoaXMuX3N3aXBlTW92ZURlbGVnYXRlPW51bGw7CnRoaXMuX2lzVG91Y2hTY3JvbGxJblByb2dyZXNzPWZhbHNlOwp0aGlzLl9kb2N1bWVudE1vdXNlVXBEZWxlZ2F0ZT1udWxsOwp0aGlzLl9kb2N1bWVudE1vdXNlTW92ZURlbGVnYXRlPW51bGw7CnRoaXMuX29uQmF0Y2hSb3dEZWxldGVEZWxlZ2F0ZT1udWxsOwp0aGlzLl9zaG91bGRGb2N1c09uUGFnZT1udWxsOwp0aGlzLl9sYXN0U2VsZWN0ZWRJdGVtSW5kZXg9bnVsbDsKdGhpcy5fZmlsdGVyQ2hlY2tMaXN0Q2xpZW50SUQ9bnVsbDsKdGhpcy5fY2hlY2tMaXN0RmlsdGVyQWN0aXZlQ29sdW1uPSIiOwp0aGlzLl9jaGVja0xpc3RGaWx0ZXJLZXlzPVtdOwp0aGlzLl9jaGVja0xpc3RGaWx0ZXJWYWx1ZXM9W107CnRoaXMuX2ZpbHRlckFwcGx5QnV0dG9uPW51bGw7CnRoaXMuX2ludmlzaWJsZVBhcmVudHNBcnJheT1bXTsKdGhpcy5fbW9kYWxQb3B1cFdyYXBwZXI9bnVsbDsKdGhpcy5fYW5pbWF0aW9uPW51bGw7CnRoaXMuVmFsaWRhdGlvblNldHRpbmdzPXt9Owp0aGlzLl9lbmFibGVBcmlhU3VwcG9ydD1mYWxzZTsKdGhpcy5fcG9zaXRpb25lZERhdGFJdGVtcz1udWxsOwp0aGlzLl9wb3NpdGlvbmVkRGF0YUl0ZW1zSW5kZXhlcz1udWxsOwp0aGlzLl9rZXlib2FyZE5hdmlnYXRpb25Qcm9wZXJ0aWVzPXtwb3NpdGlvbmVkRGF0YUl0ZW1zOm51bGwscG9zaXRpb25lZERhdGFJdGVtc0luZGV4ZXM6bnVsbCxsYXN0Q2xpY2tTZWxlY3RlZEl0ZW06bnVsbCxjdXJyZW50U2VsZWN0ZWRJbmRleDowLGluaXRpYWxSb3dJbmRleDowLGRpcmVjdGlvbkluZGV4OjAsbGFzdFNlbGVjdGVkUm93SW5kZXg6bnVsbCxob2xkaW5nQ3RybDpmYWxzZSxmaXJzdFNlbGVjdGlvbjp0cnVlLHVuc2VsZWN0YWJsZUl0ZW1zQ291bnQ6MCxzZXRJbml0aWFsU3RhdGU6ZnVuY3Rpb24oKXt0aGlzLmluaXRpYWxSb3dJbmRleD10aGlzLmN1cnJlbnRTZWxlY3RlZEluZGV4Owp0aGlzLmRpcmVjdGlvbkluZGV4PTA7Cn19Owp0aGlzLm9kYXRhQ2xpZW50U2V0dGluZ3M9bnVsbDsKdGhpcy5fZGF0YUJpbmRpbmdXaXRoU2VsZWN0TWV0aG9kPWZhbHNlOwp0aGlzLl9pc0JhdGNoRWRpdGluZ0VuYWJsZWQ9ZmFsc2U7CnRoaXMuX3Jvd0hpZ2hsaWdodGluZ0ZvckRlbGV0ZWRSb3dzPWZhbHNlOwp0aGlzLl9iYXRjaEVkaXRpbmdPcGVuRm9yRWRpdEV2ZW50cz17fTsKdGhpcy5fZGVmYXVsdERhdGVUaW1lRm9ybWF0PW51bGw7CnRoaXMuX3N0YXJ0VG91Y2hQb2ludHM9e307CnRoaXMuX2VuZFRvdWNoUG9pbnRzPXt9Owp0aGlzLl9jdXJyZW50VG91Y2hQb2ludHM9e307CnRoaXMuX2N1cnJlbnRNb3ZlbWVudD1udWxsOwp0aGlzLl92YWxpZFN3aXBlPXRydWU7CnRoaXMuX3N3aXBlVGhyZXNob2xkPTIwOwp9OwpUZWxlcmlrLldlYi5VSS5SYWRHcmlkLnByb3RvdHlwZT17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1RlbGVyaWsuV2ViLlVJLlJhZEdyaWQuY2FsbEJhc2VNZXRob2QodGhpcywiaW5pdGlhbGl6ZSIpOwppZigoIXRoaXMuX21hc3RlckNsaWVudElEKXx8KCEkZ2V0KHRoaXMuX21hc3RlckNsaWVudElEKSkpe3JldHVybjsKfWlmKHRoaXMuQ2xpZW50U2V0dGluZ3Mpe2lmKCF0aGlzLkNsaWVudFNldHRpbmdzLlBvc3RCYWNrRnVuY3Rpb24pe3RoaXMuQ2xpZW50U2V0dGluZ3MuUG9zdEJhY2tGdW5jdGlvbj0iX19kb1Bvc3RCYWNrKCd7MH0nLCd7MX0nKSI7Cn1pZighdGhpcy5DbGllbnRTZXR0aW5ncy5BbGxvd0V4cGFuZENvbGxhcHNlKXt0aGlzLkNsaWVudFNldHRpbmdzLkFsbG93RXhwYW5kQ29sbGFwc2U9dHJ1ZTsKfWlmKHRoaXMuQ2xpZW50U2V0dGluZ3MuQWxsb3dHcm91cEV4cGFuZENvbGxhcHNlPT1udWxsKXt0aGlzLkNsaWVudFNldHRpbmdzLkFsbG93R3JvdXBFeHBhbmRDb2xsYXBzZT10cnVlOwp9aWYodHlwZW9mKHRoaXMuQ2xpZW50U2V0dGluZ3MuRW5hYmxlQWx0ZXJuYXRpbmdJdGVtcyk9PSJ1bmRlZmluZWQiKXt0aGlzLkNsaWVudFNldHRpbmdzLkVuYWJsZUFsdGVybmF0aW5nSXRlbXM9dHJ1ZTsKfWlmKCF0aGlzLkNsaWVudFNldHRpbmdzLkNvbHVtbnNSZW9yZGVyTWV0aG9kKXt0aGlzLkNsaWVudFNldHRpbmdzLkNvbHVtbnNSZW9yZGVyTWV0aG9kPTA7Cn1pZih0aGlzLkNsaWVudFNldHRpbmdzLkNsaWVudE1lc3NhZ2VzKXtpZih0eXBlb2YodGhpcy5DbGllbnRTZXR0aW5ncy5DbGllbnRNZXNzYWdlcy5EcmFnVG9Hcm91cE9yUmVvcmRlcik9PSJ1bmRlZmluZWQifHx0aGlzLkNsaWVudFNldHRpbmdzLkNsaWVudE1lc3NhZ2VzLkRyYWdUb0dyb3VwT3JSZW9yZGVyPT1udWxsKXt0aGlzLkNsaWVudFNldHRpbmdzLkNsaWVudE1lc3NhZ2VzLkRyYWdUb0dyb3VwT3JSZW9yZGVyPSJEcmFnIHRvIGdyb3VwIG9yIHJlb3JkZXIiOwp9aWYodHlwZW9mKHRoaXMuQ2xpZW50U2V0dGluZ3MuQ2xpZW50TWVzc2FnZXMuRHJhZ1RvUmVzaXplKT09InVuZGVmaW5lZCJ8fHRoaXMuQ2xpZW50U2V0dGluZ3MuQ2xpZW50TWVzc2FnZXMuRHJhZ1RvUmVzaXplPT1udWxsKXt0aGlzLkNsaWVudFNldHRpbmdzLkNsaWVudE1lc3NhZ2VzLkRyYWdUb1Jlc2l6ZT0iRHJhZyB0byByZXNpemUiOwp9aWYodHlwZW9mKHRoaXMuQ2xpZW50U2V0dGluZ3MuQ2xpZW50TWVzc2FnZXMuRHJvcEhlcmVUb1Jlb3JkZXIpPT0idW5kZWZpbmVkInx8dGhpcy5DbGllbnRTZXR0aW5ncy5DbGllbnRNZXNzYWdlcy5Ecm9wSGVyZVRvUmVvcmRlcj09bnVsbCl7dGhpcy5DbGllbnRTZXR0aW5ncy5DbGllbnRNZXNzYWdlcy5Ecm9wSGVyZVRvUmVvcmRlcj0iRHJvcCBoZXJlIHRvIHJlb3JkZXIiOwp9aWYodHlwZW9mKHRoaXMuQ2xpZW50U2V0dGluZ3MuQ2xpZW50TWVzc2FnZXMuUGFnZXJUb29sdGlwRm9ybWF0U3RyaW5nKT09InVuZGVmaW5lZCJ8fHRoaXMuQ2xpZW50U2V0dGluZ3MuQ2xpZW50TWVzc2FnZXMuUGFnZXJUb29sdGlwRm9ybWF0U3RyaW5nPT1udWxsKXt0aGlzLkNsaWVudFNldHRpbmdzLkNsaWVudE1lc3NhZ2VzLlBhZ2VyVG9vbHRpcEZvcm1hdFN0cmluZz0iUGFnZSA8c3Ryb25nPnswfTwvc3Ryb25nPiBvZiA8c3Ryb25nPnsxfTwvc3Ryb25nPiI7Cn1pZih0eXBlb2YodGhpcy5DbGllbnRTZXR0aW5ncy5DbGllbnRNZXNzYWdlcy5Db2x1bW5SZXNpemVUb29sdGlwRm9ybWF0U3RyaW5nKT09InVuZGVmaW5lZCJ8fHRoaXMuQ2xpZW50U2V0dGluZ3MuQ2xpZW50TWVzc2FnZXMuQ29sdW1uUmVzaXplVG9vbHRpcEZvcm1hdFN0cmluZz09bnVsbCl7dGhpcy5DbGllbnRTZXR0aW5ncy5DbGllbnRNZXNzYWdlcy5Db2x1bW5SZXNpemVUb29sdGlwRm9ybWF0U3RyaW5nPSJXaWR0aDogPHN0cm9uZz57MH08L3N0cm9uZz4gPGVtPnBpeGVsczwvZW0+IjsKfX1pZih0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nKXtpZighdGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5NYXhpbXVtUm93c1BhcmFtZXRlck5hbWUpe3RoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuTWF4aW11bVJvd3NQYXJhbWV0ZXJOYW1lPSJtYXhpbXVtUm93cyI7Cn1pZighdGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5TdGFydFJvd0luZGV4UGFyYW1ldGVyTmFtZSl7dGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5TdGFydFJvd0luZGV4UGFyYW1ldGVyTmFtZT0ic3RhcnRSb3dJbmRleCI7Cn1pZighdGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5Tb3J0UGFyYW1ldGVyTmFtZSl7dGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5Tb3J0UGFyYW1ldGVyTmFtZT0ic29ydEV4cHJlc3Npb24iOwp9aWYoIXRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRmlsdGVyUGFyYW1ldGVyTmFtZSl7dGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5GaWx0ZXJQYXJhbWV0ZXJOYW1lPSJmaWx0ZXJFeHByZXNzaW9uIjsKfX1pZih0aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLkFsbG93U3VibWl0T25FbnRlcil7dGhpcy5fYWxsb3dTdWJtaXRPbkVudGVyPXRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuQWxsb3dTdWJtaXRPbkVudGVyOwp9aWYodGhpcy5DbGllbnRTZXR0aW5ncy5LZXlib2FyZE5hdmlnYXRpb25TZXR0aW5ncy5WYWxpZGF0aW9uR3JvdXApe3RoaXMuX3ZhbGlkYXRpb25Hcm91cD10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLlZhbGlkYXRpb25Hcm91cDsKfX1pZih0aGlzLkNsaWVudFNldHRpbmdzLkFuaW1hdGlvbiYmKCh0aGlzLkNsaWVudFNldHRpbmdzLkFuaW1hdGlvbi5BbGxvd0NvbHVtblJlb3JkZXJBbmltYXRpb24mJnRoaXMuQ2xpZW50U2V0dGluZ3MuQ29sdW1uc1Jlb3JkZXJNZXRob2Q9PT0xKXx8dGhpcy5DbGllbnRTZXR0aW5ncy5BbmltYXRpb24uQWxsb3dDb2x1bW5SZXZlcnRBbmltYXRpb24pKXt0aGlzLl9hbmltYXRpb249e307CnRoaXMuX2FuaW1hdGlvbi5Db2x1bW5BbmltYXRpb249JGNyZWF0ZShUZWxlcmlrLldlYi5VSS5HcmlkQ29sdW1uQW5pbWF0aW9uLHtyZW9yZGVyRHVyYXRpb246dGhpcy5DbGllbnRTZXR0aW5ncy5BbmltYXRpb24uQ29sdW1uUmVvcmRlckFuaW1hdGlvbkR1cmF0aW9uLHJldmVydER1cmF0aW9uOnRoaXMuQ2xpZW50U2V0dGluZ3MuQW5pbWF0aW9uLkNvbHVtblJldmVydEFuaW1hdGlvbkR1cmF0aW9ufSxudWxsLHtvd25lcjp0aGlzLkNsaWVudElEfSk7Cn1pZih0aGlzLl9lZGl0SW5kZXhlcyE9bnVsbCl7dGhpcy5fZWRpdEluZGV4ZXM9ZXZhbCh0aGlzLl9lZGl0SW5kZXhlcyk7Cn1pZih0aGlzLkNsaWVudFNldHRpbmdzLkFsbG93S2V5Ym9hcmROYXZpZ2F0aW9uKXt0aGlzLl9kb2N1bWVudEtleURvd25EZWxlZ2F0ZT1GdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZSh0aGlzLHRoaXMuX2RvY3VtZW50S2V5RG93bik7CiR0ZWxlcmlrLmFkZEV4dGVybmFsSGFuZGxlcihkb2N1bWVudCwia2V5ZG93biIsdGhpcy5fZG9jdW1lbnRLZXlEb3duRGVsZWdhdGUpOwp9aWYodGhpcy5DbGllbnRTZXR0aW5ncy5BbGxvd1Jvd3NEcmFnRHJvcHx8KHRoaXMuZ2V0X2V2ZW50cygpLmdldEhhbmRsZXIoInJvd0RibENsaWNrIikmJiR0ZWxlcmlrLmlzVG91Y2hEZXZpY2UpKXt0aGlzLl9vbk1vdXNlRG93bkRlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyx0aGlzLmdldF9lbGVtZW50KCksIm1vdXNlZG93biIsdGhpcy5fbW91c2VEb3duKTsKfWlmKHRoaXMuQ2xpZW50U2V0dGluZ3MuQWxsb3dSb3dzRHJhZ0Ryb3Ape3RoaXMuX2RvY3VtZW50TW91c2VVcERlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyxkb2N1bWVudCwibW91c2V1cCIsdGhpcy5fbW91c2VVcCxudWxsLHRydWUpOwp0aGlzLl9kb2N1bWVudE1vdXNlTW92ZURlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyxkb2N1bWVudCwibW91c2Vtb3ZlIix0aGlzLl9tb3VzZU1vdmUsbnVsbCx0cnVlKTsKfWlmKCF0aGlzLkNsaWVudFNldHRpbmdzLkFsbG93Um93c0RyYWdEcm9wJiYodGhpcy5nZXRfZXZlbnRzKCkuZ2V0SGFuZGxlcigicm93RGJsQ2xpY2siKSYmJHRlbGVyaWsuaXNUb3VjaERldmljZSkpe3RoaXMuX2RvY3VtZW50TW91c2VVcERlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyxkb2N1bWVudCwibW91c2V1cCIsdGhpcy5fbW91c2VVcCxudWxsLHRydWUpOwp9d2luZG93LiRhZGRIYW5kbGVycyh0aGlzLmdldF9lbGVtZW50KCkse2NsaWNrOkZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fY2xpY2spfSk7CndpbmRvdy4kYWRkSGFuZGxlcnModGhpcy5nZXRfZWxlbWVudCgpLHtkYmxjbGljazpGdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZSh0aGlzLHRoaXMuX2RibGNsaWNrKX0pOwppZigkdGVsZXJpay5pc1RvdWNoRGV2aWNlJiYkdGVsZXJpay4kJiYkdGVsZXJpay4kLmZuLmRvdWJsZXRhcCl7dmFyIGE9JHRlbGVyaWsuJDsKdmFyIGI9YS5wcm94eSh0aGlzLl9kYmxjbGljayx0aGlzKTsKYSh0aGlzLmdldF9lbGVtZW50KCkpLmRvdWJsZXRhcChiKTsKfWlmKCR0ZWxlcmlrLmlzT3BlcmEpe3dpbmRvdy4kYWRkSGFuZGxlcnModGhpcy5nZXRfZWxlbWVudCgpLHttb3VzZWRvd246RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9jb250ZXh0bWVudSl9KTsKfWVsc2V7d2luZG93LiRhZGRIYW5kbGVycyh0aGlzLmdldF9lbGVtZW50KCkse2NvbnRleHRtZW51OkZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fY29udGV4dG1lbnUpfSk7Cn1pZighJHRlbGVyaWsuaXNUb3VjaERldmljZSl7dGhpcy5fYXR0YWNoTW91c2VIYW5kbGVycygpOwp9dGhpcy5faW5pdGlhbGl6ZVN1Ym1pdENvbnRyb2xzKCk7CnRoaXMucmFpc2VfZ3JpZENyZWF0aW5nKG5ldyBTeXMuRXZlbnRBcmdzKCkpOwp0aGlzLkNvbnRyb2w9dGhpcy5nZXRfZWxlbWVudCgpOwp0aGlzLmdldF9lbGVtZW50KCkudGFiSW5kZXg9MDsKaWYodGhpcy5TaG93R3JvdXBQYW5lbCl7dmFyIGY9JGdldCh0aGlzLl9ncm91cFBhbmVsQ2xpZW50SUQpOwppZihmKXt0aGlzLl9ncm91cFBhbmVsPSRjcmVhdGUoVGVsZXJpay5XZWIuVUkuR3JpZEdyb3VwUGFuZWwse19vd25lcjp0aGlzfSxudWxsLG51bGwsJGdldCh0aGlzLl9ncm91cFBhbmVsQ2xpZW50SUQpKTsKfX10aGlzLl9ncmlkRGF0YURpdj0kZ2V0KHRoaXMuZ2V0X2lkKCkrIl9HcmlkRGF0YSIpOwp0aGlzLl9maWxsU2VsZWN0ZWRDZWxsc0luZGV4ZXMoKTsKdGhpcy5fZmlsbFVuc2VsZWN0YWJsZUl0ZW1zSW5kZXhlcygpOwppZih0aGlzLkNsaWVudFNldHRpbmdzJiZ0aGlzLkNsaWVudFNldHRpbmdzLlNlbGVjdGluZyYmdGhpcy5nZXRfYWxsb3dDZWxsU2VsZWN0aW9uKCkpe3RoaXMuX2NlbGxTZWxlY3Rpb249JGNyZWF0ZShUZWxlcmlrLldlYi5VSS5HcmlkQ2VsbFNlbGVjdGlvbix7X293bmVyOnRoaXMsbXVsdGlwbGU6dGhpcy5nZXRfYWxsb3dNdXRsaUNlbGxTZWxlY3Rpb24oKSxjb2x1bW5TZWxlY3Q6dGhpcy5nZXRfYWxsb3dDb2x1bW5TZWxlY3Rpb24oKSxtdWx0aUNvbHVtblNlbGVjdDp0aGlzLmdldF9hbGxvd011bHRpQ29sdW1uU2VsZWN0aW9uKCl9LG51bGwse293bmVyOnRoaXMuQ2xpZW50SUR9KTsKfWlmKHRoaXMuQ2xpZW50U2V0dGluZ3MmJih0aGlzLkNsaWVudFNldHRpbmdzLlNlbGVjdGluZyYmdGhpcy5DbGllbnRTZXR0aW5ncy5TZWxlY3RpbmcuQWxsb3dSb3dTZWxlY3QpfHx0aGlzLkNsaWVudFNldHRpbmdzLkVuYWJsZVBvc3RCYWNrT25Sb3dDbGljayl7dGhpcy5fc2VsZWN0aW9uPSRjcmVhdGUoVGVsZXJpay5XZWIuVUkuR3JpZFNlbGVjdGlvbix7X293bmVyOnRoaXN9LG51bGwse293bmVyOnRoaXMuQ2xpZW50SUR9KTsKfXRoaXMuR3JpZERhdGFEaXY9JGdldCh0aGlzLkNsaWVudElEKyJfR3JpZERhdGEiKTsKdGhpcy5HcmlkSGVhZGVyRGl2PSRnZXQodGhpcy5DbGllbnRJRCsiX0dyaWRIZWFkZXIiKTsKdGhpcy5HcmlkRm9vdGVyRGl2PSRnZXQodGhpcy5DbGllbnRJRCsiX0dyaWRGb290ZXIiKTsKdGhpcy5QYWdlckNvbnRyb2w9JGdldCh0aGlzLl9tYXN0ZXJDbGllbnRJRCsiX1BhZ2VyIik7CnRoaXMuVG9wUGFnZXJDb250cm9sPSRnZXQodGhpcy5fbWFzdGVyQ2xpZW50SUQrIl9Ub3BQYWdlciIpOwp0aGlzLl9pbml0aWFsaXplVGFibGVWaWV3cygpOwp0aGlzLl9nZXRGaWx0ZXJNZW51KCk7CmlmKHRoaXMuX2ZpbHRlck1lbnUpe3RoaXMuX2ZpbHRlckFwcGx5QnV0dG9uPSR0ZWxlcmlrLmdldEVsZW1lbnRCeUNsYXNzTmFtZSh0aGlzLl9maWx0ZXJNZW51LmdldF9lbGVtZW50KCksInJnRmlsdGVyQXBwbHkiKTsKaWYodGhpcy5fZmlsdGVyQXBwbHlCdXR0b24pe3RoaXMuX2NoZWNrTGlzdEZpbHRlckFwcGx5QnV0dG9uRGVsZWdhdGU9JHRlbGVyaWsuYWRkTW9iaWxlSGFuZGxlcih0aGlzLHRoaXMuX2ZpbHRlckFwcGx5QnV0dG9uLCJjbGljayIsdGhpcy5fY2hlY2tMaXN0RmlsdGVyQXBwbHlCdXR0b25IYW5kbGVyKTsKdGhpcy5fZmlsdGVyQ2FuY2VsQnV0dG9uPSR0ZWxlcmlrLmdldEVsZW1lbnRCeUNsYXNzTmFtZSh0aGlzLl9maWx0ZXJNZW51LmdldF9lbGVtZW50KCksInJnRmlsdGVyQ2FuY2VsIik7CnRoaXMuX2NoZWNrTGlzdEZpbHRlckNhbmNlbEJ1dHRvbkRlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyx0aGlzLl9maWx0ZXJDYW5jZWxCdXR0b24sImNsaWNrIix0aGlzLl9jaGVja0xpc3RGaWx0ZXJDYW5jZWxCdXR0b25IYW5kbGVyKTsKfX1pZighdGhpcy5fZmlsdGVyQXBwbHlCdXR0b24mJnRoaXMuX2dldEhlYWRlckNvbnRleHRNZW51KCkpe3ZhciBlPSR0ZWxlcmlrLmdldEVsZW1lbnRCeUNsYXNzTmFtZSh0aGlzLl9nZXRIZWFkZXJDb250ZXh0TWVudSgpLmdldF9lbGVtZW50KCksInJnRmlsdGVyTWVudSIpOwppZihlKXt0aGlzLl9maWx0ZXJBcHBseUJ1dHRvbj0kdGVsZXJpay5nZXRFbGVtZW50QnlDbGFzc05hbWUoZSwicmdIQ01GaWx0ZXIiKTsKaWYodGhpcy5fZmlsdGVyQXBwbHlCdXR0b24pe3RoaXMuX2NoZWNrTGlzdElzSW5IZWFkZXJDb250ZXh0TWVudT10cnVlOwp0aGlzLl9jaGVja0xpc3RGaWx0ZXJBcHBseUJ1dHRvbkRlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyx0aGlzLl9maWx0ZXJBcHBseUJ1dHRvbiwiY2xpY2siLHRoaXMuX2NoZWNrTGlzdEZpbHRlckFwcGx5QnV0dG9uSGFuZGxlcik7CnRoaXMuX2ZpbHRlckNhbmNlbEJ1dHRvbj0kdGVsZXJpay5nZXRFbGVtZW50QnlDbGFzc05hbWUodGhpcy5fZ2V0SGVhZGVyQ29udGV4dE1lbnUoKS5nZXRfZWxlbWVudCgpLCJyZ0hDTUNsZWFyIik7CnRoaXMuX2NoZWNrTGlzdEZpbHRlckNhbmNlbEJ1dHRvbkRlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyx0aGlzLl9maWx0ZXJDYW5jZWxCdXR0b24sImNsaWNrIix0aGlzLl9jaGVja0xpc3RGaWx0ZXJDYW5jZWxCdXR0b25IYW5kbGVyKTsKdGhpcy5fZmlsdGVyQ2hlY2tMaXN0U2VhcmNoPSR0ZWxlcmlrLmZpbmRFbGVtZW50KHRoaXMuX2dldEhlYWRlckNvbnRleHRNZW51KCkuZ2V0X2VsZW1lbnQoKSwiZmlsdGVyQ2hlY2tMaXN0U2VhcmNoIik7Cn19fWlmKHRoaXMuX2NoZWNrTGlzdEZpbHRlcktleXMmJnRoaXMuX2NoZWNrTGlzdEZpbHRlcktleXMubGVuZ3RoPjApe3RoaXMudXBkYXRlQ2xpZW50U3RhdGUoKTsKfXZhciBkPSRmaW5kKHRoaXMuX2ZpbHRlckNoZWNrTGlzdENsaWVudElEfHwiIik7CmlmKGQpe3RoaXMuX2NoZWNrTGlzdEl0ZW1zUmVxdWVzdGVkRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9jaGVja0xpc3RJdGVtc1JlcXVlc3RlZEhhbmRsZXIpOwpkLmFkZF9pdGVtc1JlcXVlc3RlZCh0aGlzLl9jaGVja0xpc3RJdGVtc1JlcXVlc3RlZERlbGVnYXRlKTsKfWlmKCR0ZWxlcmlrLmlzTW9iaWxlSUUxMCl7aWYodGhpcy5nZXRfZXZlbnRzKCkuZ2V0SGFuZGxlcigicm93RGJsQ2xpY2siKSl7dGhpcy5nZXRfZWxlbWVudCgpLnN0eWxlLm1zVG91Y2hBY3Rpb249Im5vbmUiOwp0aGlzLmdldF9lbGVtZW50KCkuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiOwp9aWYodGhpcy5fZ3JvdXBQYW5lbCl7dGhpcy5fZ3JvdXBQYW5lbC5nZXRfZWxlbWVudCgpLnN0eWxlLm1zVG91Y2hBY3Rpb249Im5vbmUiOwp0aGlzLl9ncm91cFBhbmVsLmdldF9lbGVtZW50KCkuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiOwp9fWlmKHRoaXMuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLkFsbG93U2Nyb2xsJiYkdGVsZXJpay5pc1RvdWNoRGV2aWNlKXt0aGlzLl9kYXRhRGl2TW91c2VEb3duRGVsZWdhdGU9JHRlbGVyaWsuYWRkTW9iaWxlSGFuZGxlcih0aGlzLHRoaXMuR3JpZERhdGFEaXYsIm1vdXNlZG93biIsdGhpcy5fZGF0YURpdk1vdXNlRG93bik7CnRoaXMuX2RhdGFEaXZNb3VzZVVwRGVsZWdhdGU9JHRlbGVyaWsuYWRkTW9iaWxlSGFuZGxlcih0aGlzLHRoaXMuR3JpZERhdGFEaXYsIm1vdXNldXAiLHRoaXMuX2RhdGFEaXZNb3VzZVVwKTsKdGhpcy5fZGF0YURpdk1vdXNlTW92ZURlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyx0aGlzLkdyaWREYXRhRGl2LCJtb3VzZW1vdmUiLHRoaXMuX2RhdGFEaXZNb3VzZU1vdmUpOwp9aWYodGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X2FsbG93UGFnaW5nKCkmJiR0ZWxlcmlrLmlzVG91Y2hEZXZpY2Upe3ZhciBtPXRoaXMuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLkFsbG93U2Nyb2xsP3RoaXMuR3JpZERhdGFEaXY6JHRlbGVyaWsuZ2V0Q2hpbGRyZW5CeVRhZ05hbWUodGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X2VsZW1lbnQoKSwidGJvZHkiKVswXTsKdGhpcy5fc3dpcGVTdGFydERlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyxtLCJtb3VzZWRvd24iLHRoaXMuX3N3aXBlU3RhcnQpOwp0aGlzLl9zd2lwZUVuZERlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyxtLCJtb3VzZXVwIix0aGlzLl9zd2lwZUVuZCk7CnRoaXMuX3N3aXBlTW92ZURlbGVnYXRlPSR0ZWxlcmlrLmFkZE1vYmlsZUhhbmRsZXIodGhpcyxtLCJtb3VzZW1vdmUiLHRoaXMuX3N3aXBlTW92ZSk7Cn12YXIgaD1UZWxlcmlrLldlYi5VSS5HcmlkLklzUmlnaHRUb0xlZnQodGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X2VsZW1lbnQoKSk7CmlmKGgpe3RoaXMuZ2V0X2VsZW1lbnQoKS5jbGFzc05hbWU9U3RyaW5nLmZvcm1hdCgiezB9IFJhZEdyaWRSVEwgUmFkR3JpZFJUTF97MX0iLHRoaXMuZ2V0X2VsZW1lbnQoKS5jbGFzc05hbWUsdGhpcy5Ta2luKTsKfWlmKHRoaXMuQ2xpZW50U2V0dGluZ3MmJnRoaXMuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nJiYodGhpcy5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuQWxsb3dTY3JvbGx8fCh0aGlzLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5BbGxvd1Njcm9sbCYmKHRoaXMuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLlVzZVN0YXRpY0hlYWRlcnN8fHRoaXMuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nLkVuYWJsZVZpcnR1YWxTY3JvbGxQYWdpbmcpKSkpe3RoaXMuX3Njcm9sbGluZz0kY3JlYXRlKFRlbGVyaWsuV2ViLlVJLkdyaWRTY3JvbGxpbmcse19vd25lcjp0aGlzfSxudWxsLHtvd25lcjp0aGlzLkNsaWVudElEfSk7Cn1lbHNle3RoaXMucmVwYWludCgpOwp9dmFyIGc7CmlmKHRoaXMuX2FjdGl2ZVJvd0luZGV4KXt2YXIgaz10aGlzLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5fZ2V0Um93QnlJbmRleE9ySXRlbUluZGV4SGllcmFyY2hpY2FsKHRoaXMuX2FjdGl2ZVJvd0luZGV4KTsKaWYoayl7dmFyIGw9dGhpcy5fc2VsZWN0ZWRJdGVtc0ludGVybmFsOwpmb3IoZz0wOwpnPGwubGVuZ3RoOwpnKyspe0FycmF5LmFkZCh0aGlzLl9zZWxlY3RlZEluZGV4ZXMsbFtnXS5pdGVtSW5kZXgpOwp9dGhpcy5zZXRfYWN0aXZlUm93KGspOwp9fWlmKHRoaXMuX2xhc3RTZWxlY3RlZEl0ZW1JbmRleCE9bnVsbCYmdGhpcy5fc2VsZWN0aW9uKXt0aGlzLl9zZWxlY3Rpb24uX2xhc3RTZWxlY3RlZEl0ZW1JbmRleD10aGlzLl9sYXN0U2VsZWN0ZWRJdGVtSW5kZXg7Cn1pZih0aGlzLl9pc0JhdGNoRWRpdGluZ0VuYWJsZWQpe3RoaXMuX2JhdGNoRWRpdGluZz0kY3JlYXRlKFRlbGVyaWsuV2ViLlVJLkdyaWRCYXRjaEVkaXRpbmcsbnVsbCxudWxsLHtfb3duZXI6dGhpcy5nZXRfaWQoKX0sbnVsbCk7CmlmKCF0aGlzLl9zY3JvbGxpbmcpe3RoaXMuX29uQmF0Y2hSb3dEZWxldGVEZWxlZ2F0ZT1GdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZSh0aGlzLHRoaXMuX2FkanVzdEJhdGNoRGVsZXRlZFJvd3MpOwp3aW5kb3cuJGFkZEhhbmRsZXIod2luZG93LCJyZXNpemUiLHRoaXMuX29uQmF0Y2hSb3dEZWxldGVEZWxlZ2F0ZSk7CiR0ZWxlcmlrLiQodGhpcy5nZXRfZWxlbWVudCgpKS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KTsKfWVsc2V7JHRlbGVyaWsuJCh0aGlzLmdldF9lbGVtZW50KCkpLmZpbmQoIi5yZ0RhdGFEaXYiKS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KTsKfX10aGlzLl9hdHRhY2hEb21FdmVudHMoKTsKaWYoU3lzLldlYkZvcm1zJiZTeXMuV2ViRm9ybXMuUGFnZVJlcXVlc3RNYW5hZ2VyKXt2YXIgaj1TeXMuV2ViRm9ybXMuUGFnZVJlcXVlc3RNYW5hZ2VyLmdldEluc3RhbmNlKCk7CmlmKGope3RoaXMuX2luaXRpYWxpemVSZXF1ZXN0SGFuZGxlcj1GdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZSh0aGlzLHRoaXMuX2luaXRpYWxpemVSZXF1ZXN0KTsKai5hZGRfaW5pdGlhbGl6ZVJlcXVlc3QodGhpcy5faW5pdGlhbGl6ZVJlcXVlc3RIYW5kbGVyKTsKfX1pZih0aGlzLl9jbGllbnREYXRhU291cmNlSUQpe3RoaXMuX2NsaWVudFNpZGVCaW5kaW5nPW5ldyBUZWxlcmlrLldlYi5VSS5HcmlkQ2xpZW50U2lkZUJpbmRpbmcodGhpcyk7Cn10aGlzLnJhaXNlX2dyaWRDcmVhdGVkKG5ldyBTeXMuRXZlbnRBcmdzKCkpOwppZih0aGlzLl9zaG91bGRGb2N1c09uUGFnZSl7dHJ5e3RoaXMuX3Nob3VsZEZvY3VzT25QYWdlPWZhbHNlOwp0aGlzLmdldF9lbGVtZW50KCkuZm9jdXMoKTsKfWNhdGNoKGMpe319dGhpcy5faW5pdGlhbGl6ZVBvcFVwRWRpdEZvcm0oKTsKaWYodHlwZW9mKHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuTG9jYXRpb24pIT0idW5kZWZpbmVkIiYmdGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5Mb2NhdGlvbiE9IiImJiF0aGlzLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5fdmlydHVhbGl6YXRpb24pe3RoaXMuX29uQ29tbWFuZERlbGVnYXRlPUZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fb25Db21tYW5kKTsKdGhpcy5hZGRfY29tbWFuZCh0aGlzLl9vbkNvbW1hbmREZWxlZ2F0ZSk7CmlmKCF0aGlzLl9vblN1Y2Nlc3NEZWxlZ2F0ZSYmIXRoaXMuX29uRmFpbERlbGVnYXRlKXt0aGlzLl9vblN1Y2Nlc3NEZWxlZ2F0ZT1GdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZSh0aGlzLHRoaXMuX29uU3VjY2Vzcyk7CnRoaXMuX29uRmFpbERlbGVnYXRlPUZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fb25GYWlsKTsKfWlmKHR5cGVvZih0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlNlbGVjdE1ldGhvZCkhPSJ1bmRlZmluZWQiJiZ0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlNlbGVjdE1ldGhvZCE9IiIpe3RoaXMuX2RhdGFCaW5kaW5nV2l0aFNlbGVjdE1ldGhvZD10cnVlOwp0aGlzLl9nZXREYXRhKHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuTG9jYXRpb24sdGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5TZWxlY3RNZXRob2QsdGhpcy5fZ2V0UmVxdWVzdERhdGEoKSx0aGlzLl9vblN1Y2Nlc3NEZWxlZ2F0ZSx0aGlzLl9vbkZhaWxEZWxlZ2F0ZSk7Cn1lbHNle2lmKHR5cGVvZih0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkRhdGFTZXJ2aWNlKSE9InVuZGVmaW5lZCImJnR5cGVvZih0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkRhdGFTZXJ2aWNlLlRhYmxlTmFtZSkhPSJ1bmRlZmluZWQiJiZ0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkRhdGFTZXJ2aWNlLlRhYmxlTmFtZSE9IiIpe3RoaXMuX2dldERhdGFTZXJ2aWNlRGF0YSh0aGlzLl9vblN1Y2Nlc3NEZWxlZ2F0ZSx0aGlzLl9vbkZhaWxEZWxlZ2F0ZSk7Cn19fWlmKHRoaXMuQ2xpZW50U2V0dGluZ3MuVmlydHVhbGl6YXRpb24uRW5hYmxlVmlydHVhbGl6YXRpb24pe1RlbGVyaWsuV2ViLlVJLkdyaWRWaXJ0dWFsaXphdGlvbi5faGFuZGxlUm93SGVpZ2h0Q2hhbmdpbmdFdmVudHModGhpcyk7CnRoaXMuX29uVmlydHVhbGl6YXRpb25Db21tYW5kRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9vblZpcnR1YWxpemF0aW9uQ29tbWFuZCk7CnRoaXMuYWRkX2NvbW1hbmQodGhpcy5fb25WaXJ0dWFsaXphdGlvbkNvbW1hbmREZWxlZ2F0ZSk7CmlmKHRoaXMuZ2V0X21hc3RlclRhYmxlVmlldygpLl92aXJ0dWFsaXphdGlvbil7dGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkuX3ZpcnR1YWxpemF0aW9uLnJlcGFpbnQoKTsKfX1pZih0aGlzLmdldF9pc1VzaW5nT0RhdGFTb3VyY2UoKSl7dGhpcy5faW5pdGlhbGl6ZU9EYXRhU291cmNlQmluZGVyKCk7CnRoaXMuX29uQ29tbWFuZE9EYXRhU291cmNlRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9vbkNvbW1hbmRPRGF0YVNvdXJjZSk7CnRoaXMuYWRkX2NvbW1hbmQodGhpcy5fb25Db21tYW5kT0RhdGFTb3VyY2VEZWxlZ2F0ZSk7Cn12YXIgbj10aGlzLl9jb250cm9sVG9Gb2N1czsKaWYodGhpcy5DbGllbnRTZXR0aW5ncy5BbGxvd0tleWJvYXJkTmF2aWdhdGlvbiYmbiE9bnVsbCYmbiE9IiIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7dmFyIHA9ZmFsc2U7CnZhciBpPSRmaW5kKG4pOwppZihpPT1udWxsKXtpPSRnZXQobik7Cn1lbHNle3A9dHJ1ZTsKfWlmKGk9PW51bGwpe2k9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUobi5yZXBsYWNlKC9fL2lnLCIkIikpWzBdOwp9aWYoaSE9bnVsbCl7aWYoaS5mb2N1cyl7aS5mb2N1cygpOwp9ZWxzZXtpZihwKXtpZihpLl9mb2N1c2VkIT11bmRlZmluZWQpe2kuX2ZvY3VzZWQ9dHJ1ZTsKfWlmKGkuc2V0Rm9jdXMpe2kuc2V0Rm9jdXMoKTsKfX19aWYoaS5zZWxlY3Qpe2kuc2VsZWN0KCk7Cn19fWNhdGNoKG8pe319LDApOwp9aWYodGhpcy5nZXRfZW5hYmxlQXJpYVN1cHBvcnQoKSl7dGhpcy5faW5pdGlhbGl6ZUFyaWFTdXBwb3J0KCk7Cn19LF9pbml0aWFsaXplUG9wVXBFZGl0Rm9ybTpmdW5jdGlvbigpe3ZhciB1PXRoaXM7CnZhciByOwp2YXIgbz0yMDsKdmFyIGw9bzsKdmFyIHY9bzsKdmFyIHE7CnZhciBwOwp2YXIgbjsKdmFyIG07CnZhciBkOwp2YXIgZjsKdmFyIHM7CnZhciBoOwp2YXIgYjsKdmFyIGM7CnZhciBqOwppZih1Ll9wb3BVcElkcyYmdS5fcG9wVXBJZHMhPSIiKXtyPWV2YWwodS5fcG9wVXBJZHMpOwpmb3IodmFyIGs9MDsKazxyLmxlbmd0aDsKaysrKXtxPXJba107CnA9JGdldChxKTsKaWYocCl7dmFyIGE9bmV3IFN5cy5DYW5jZWxFdmVudEFyZ3MoKTsKYS5nZXRfcG9wVXA9ZnVuY3Rpb24oKXtyZXR1cm4gcDsKfTsKdS5yYWlzZV9wb3BVcFNob3dpbmcoYSk7CmlmKGEuZ2V0X2NhbmNlbCgpKXtjb250aW51ZTsKfWlmKHUuX3BvcFVwU2V0dGluZ3MuTW9kYWwpe249U3RyaW5nLmZvcm1hdCgibW9kYWxEaXZJZF97MH0iLHUuZ2V0X2lkKCkpOwppZighJGdldChuKSl7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKbS5pZD1uOwptLnN0eWxlLndpZHRoPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCsicHgiOwptLnN0eWxlLmhlaWdodD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KyJweCI7Cm0uY2xhc3NOYW1lPVN0cmluZy5mb3JtYXQoIkdyaWRNb2RhbF97MH0iLHUuU2tpbik7CnUuX29uUmVzaXplRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodSx1Lm9uV2luZG93UmVzaXplKTsKaWYobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIm1zaWUiKSE9LTEpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cuJGFkZEhhbmRsZXIod2luZG93LCJyZXNpemUiLHUuX29uUmVzaXplRGVsZWdhdGUpOwp9LDApOwp9ZWxzZXt3aW5kb3cuJGFkZEhhbmRsZXIod2luZG93LCJyZXNpemUiLHUuX29uUmVzaXplRGVsZWdhdGUpOwp9bS5zdHlsZS50b3A9bS5zdHlsZS5sZWZ0PTA7Cm0uc3R5bGUucG9zaXRpb249ImFic29sdXRlIjsKbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9InRocmVlZHNoYWRvdyI7Cm0uc3R5bGUuekluZGV4PXUuX3BvcFVwU2V0dGluZ3MuWkluZGV4LTEwOwp0cnl7bS5zdHlsZS5vcGFjaXR5PSIwLjUiOwp9Y2F0Y2goZyl7fWlmKHR5cGVvZihtLnN0eWxlLmZpbHRlcikhPSJ1bmRlZmluZWQiKXttLnN0eWxlLmZpbHRlcj0iYWxwaGEob3BhY2l0eT01MCk7IjsKfWVsc2V7aWYodHlwZW9mKG0uc3R5bGUuTW96T3BhY2l0eSkhPSJ1bmRlZmluZWQiKXttLnN0eWxlLk1vek9wYWNpdHk9MS8yOwp9fWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJmb3JtIilbMF0uYXBwZW5kQ2hpbGQobSk7Cn19cC5zdHlsZS56SW5kZXg9dS5fcG9wVXBTZXR0aW5ncy5aSW5kZXg7Cmw9dis9MjA7CmY9cC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IilbMF07CnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZih1Ll9wb3BVcFNldHRpbmdzLktlZXBJblNjcmVlbkJvdW5kcyl7cC5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iOwpwLnN0eWxlLmRpc3BsYXk9IiI7CnZhciBpPSRnZXQocC5xdWVyeVNlbGVjdG9yKCJkaXYucmdIZWFkZXIiKS5pZC5yZXBsYWNlKCJfUEVGIiwiIikpOwppZihpKXtwLnN0eWxlLmxlZnQ9VGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWChpKSsicHgiOwpwLnN0eWxlLnRvcD0oVGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWShpKSskdGVsZXJpay4kKGkpLmhlaWdodCgpKSsicHgiOwp9ZWxzZXtwLnN0eWxlLmxlZnQ9KFRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1godS5nZXRfZWxlbWVudCgpKStsKSsicHgiOwpwLnN0eWxlLnRvcD0oVGVsZXJpay5XZWIuVUkuR3JpZC5GaW5kUG9zWSh1LmdldF9lbGVtZW50KCkpK3YpKyJweCI7Cn1kPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Tm9uT3ZlcmZsb3dpbmdDb29yZGluYXRlcyhwLHUuX3BvcFVwU2V0dGluZ3MuT3ZlcmZsb3dQb3NpdGlvbiwkdGVsZXJpay4kKTsKcC5zdHlsZS5sZWZ0PWQueCsicHgiOwpwLnN0eWxlLnRvcD1kLnkrInB4IjsKcC5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIjsKfWVsc2V7aWYocC5zdHlsZS5sZWZ0PT0iIil7cC5zdHlsZS5sZWZ0PShUZWxlcmlrLldlYi5VSS5HcmlkLkZpbmRQb3NYKHUuZ2V0X2VsZW1lbnQoKSkrbCkrInB4IjsKfWlmKHAuc3R5bGUudG9wPT0iIil7cC5zdHlsZS50b3A9KFRlbGVyaWsuV2ViLlVJLkdyaWQuRmluZFBvc1kodS5nZXRfZWxlbWVudCgpKSt2KSsicHgiOwp9cC5zdHlsZS5kaXNwbGF5PSIiOwp9aWYodS5fZW5hYmxlUmlwcGxlRWZmZWN0KXt2YXIgdz0kdGVsZXJpay5maW5kRWxlbWVudChwLCJVcGRhdGVCdXR0b24iKTsKdmFyIGU9JHRlbGVyaWsuZmluZEVsZW1lbnQocCwiQ2FuY2VsQnV0dG9uIik7CmlmKHcpe1RlbGVyaWsuV2ViLlVJLk1hdGVyaWFsUmlwcGxlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmluaXRpYWxpemVSaXBwbGUodyx7cmlwcGxlVHlwZTpUZWxlcmlrLldlYi5VSS5NYXRlcmlhbFJpcHBsZVR5cGUuSWNvbixtYXhSaXBwbGVTaXplOjUwfSk7Cn1pZihlKXtUZWxlcmlrLldlYi5VSS5NYXRlcmlhbFJpcHBsZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5pbml0aWFsaXplUmlwcGxlKGUse3JpcHBsZVR5cGU6VGVsZXJpay5XZWIuVUkuTWF0ZXJpYWxSaXBwbGVUeXBlLkljb24sbWF4UmlwcGxlU2l6ZTo1MH0pOwp9fXUuX3BvcFVwTG9jYXRpb25zW2YuaWRdPXBhcnNlSW50KHAuc3R5bGUubGVmdCwxMCkrInB4LCIrcGFyc2VJbnQocC5zdHlsZS50b3AsMTApKyJweCI7CnUudXBkYXRlQ2xpZW50U3RhdGUoKTsKfSwxMDApOwpwLnRhYkluZGV4PTA7CnUucmVzaXplTW9kYWxCYWNrZ3JvdW5kKCk7CmlmKHAub2Zmc2V0SGVpZ2h0IT0wKXtwLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKVs0XS5zdHlsZS5oZWlnaHQ9cC5vZmZzZXRIZWlnaHQtZi5vZmZzZXRIZWlnaHQrInB4IjsKfWlmKHUuZ2V0X2VuYWJsZUFyaWFTdXBwb3J0KCkpe3M9cC5xdWVyeVNlbGVjdG9yQWxsKCIucmdFZGl0Rm9ybS5yZ0VkaXRQb3B1cCB0YWJsZSIpOwpoPXAucXVlcnlTZWxlY3RvcigiZGl2LnJnSGVhZGVyIC5yZ1BvcHVwSGVhZGVyQXJpYSIpOwpiPXAucXVlcnlTZWxlY3RvcigiY2FwdGlvbiIpOwpjPWI/KGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0KS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIik6IiI7Cmo9aD8oaC50ZXh0Q29udGVudHx8aC5pbm5lclRleHQpLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKToiIjsKcC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJkaWFsb2ciKTsKcC5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLGMpOwppZihoKXtoLnNldEF0dHJpYnV0ZSgiYXJpYS1saXZlIiwicG9saXRlIik7Cmguc2V0QXR0cmlidXRlKCJhcmlhLWF0b21pYyIsInRydWUiKTsKaC5zZXRBdHRyaWJ1dGUoImFyaWEtcmVsZXZhbnQiLCJ0ZXh0Iik7CnNldFRpbWVvdXQoZnVuY3Rpb24oKXtoLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsaik7CmguaW5uZXJIVE1MPWo7Cn0sMTAwMCk7Cn1pZihiKXtiLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsYyk7Cn1pZih1Ll9wb3BVcFNldHRpbmdzLk1vZGFsKXt1LmdldF9lbGVtZW50KCkuc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsInRydWUiKTsKfWZvcih2YXIgdD0wOwp0PHMubGVuZ3RoOwp0Kyspe3NbdF0uc2V0QXR0cmlidXRlKCJyb2xlIiwicHJlc2VudGF0aW9uIik7Cn19d2luZG93LiRhZGRIYW5kbGVycyhmLHttb3VzZWRvd246RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUocCx1Ll9wb3BVcE1vdXNlRG93bil9KTsKd2luZG93LiRhZGRIYW5kbGVycyhkb2N1bWVudCx7bW91c2V1cDpGdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZShwLHUuX3BvcFVwTW91c2VVcCl9KTsKd2luZG93LiRhZGRIYW5kbGVycyhkb2N1bWVudCx7bW91c2VvdXQ6RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUocCx1Ll9wb3BVcE1vdXNlT3V0KX0pOwppZih1LkNsaWVudFNldHRpbmdzLkFsbG93S2V5Ym9hcmROYXZpZ2F0aW9uJiZ1LkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLkVuYWJsZUtleWJvYXJkU2hvcnRjdXRzKXt3aW5kb3cuJGFkZEhhbmRsZXIocCwia2V5cHJlc3MiLEZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHtwb3BVcEZvcm06cCxrZXlNYXBwaW5nczp1LkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzfSx1Ll9wb3BVcEtleURvd24pKTsKfSR0ZWxlcmlrLmFkZEV4dGVybmFsSGFuZGxlcihkb2N1bWVudCwibW91c2Vtb3ZlIixGdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZShwLHUuX3BvcFVwTW91c2VNb3ZlKSk7CmlmKHUuZ2V0X2VuYWJsZUFyaWFTdXBwb3J0KCkpe3UuX3Jlc3RyaWN0VGFiTmF2aWdhdGlvbihwKTsKdS5fc3RvcERlZmF1bHRTdWJtaXQoKTsKfSR0ZWxlcmlrLnJlcGFpbnRDaGlsZHJlbih1KTsKfX19fSxnZXRfcmlwcGxlWm9uZXNDb25maWd1cmF0aW9uOmZ1bmN0aW9uKCl7dmFyIGM9Ii5yZ0dyb3VwQ29sOm5vdCgnLnJnSGVhZGVyJykgLnQtYnV0dG9uLCAucmdGaWx0ZXJSb3cgLnQtYnV0dG9uLCAucmdSb3cgLnQtYnV0dG9uLCAucmdBbHRSb3cgLnQtYnV0dG9uLCAucmdFZGl0Um93IC50LWJ1dHRvbiwgLnJnUGFnZXIgLnJnUGFnZUxhc3QsIC5yZ1BhZ2VyIC5yZ1BhZ2VGaXJzdCwgLnJnUGFnZXIgLnJnUGFnZVByZXYsIC5yZ1BhZ2VyIC5yZ1BhZ2VOZXh0LCAucmdFZGl0Rm9ybSAudC1idXR0b24sIC5yZ0RyYWdJY29uIjsKdmFyIGE9JHRlbGVyaWsuJChjKVswXTsKdmFyIGI9NjA7CmlmKGEpe2I9YS5vZmZzZXRXaWR0aC8wLjY7Cn1yZXR1cm5be2VsZW1lbnQ6dGhpcy5nZXRfZWxlbWVudCgpLHJpcHBsZUNvbmZpZ3VyYXRpb25zOlt7Y29udGFpbmVyU2VsZWN0b3I6YyxyaXBwbGVUeXBlOlRlbGVyaWsuV2ViLlVJLk1hdGVyaWFsUmlwcGxlVHlwZS5JY29uLG1heFJpcHBsZVNpemU6Yn0se2NvbnRhaW5lclNlbGVjdG9yOiIucmdQYWdlciAucmdOdW1QYXJ0IGE6bm90KCcucmdDdXJyZW50UGFnZScpIixyaXBwbGVUeXBlOlRlbGVyaWsuV2ViLlVJLk1hdGVyaWFsUmlwcGxlVHlwZS5JY29uLG1heFJpcHBsZVNpemU6Yixib3VuZFRvRWxlbWVudFNpemU6dHJ1ZX0se2NvbnRhaW5lclNlbGVjdG9yOiIucmdDb21tYW5kQ2VsbCAudC1idXR0b24sIC5yZ1BhZ2VyIC5yZ1BhZ2VyQnV0dG9uLCAucmdHcm91cEl0ZW0ifV19XTsKfSxfc3RvcERlZmF1bHRTdWJtaXQ6ZnVuY3Rpb24oKXt2YXIgYT0iX3ByZXZlbnREZWZhdWx0QnV0dG9uXyIrdGhpcy5nZXRfaWQoKTsKdmFyIGI9JGdldChhKTsKaWYoIWIpe2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKYi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJzdWJtaXQiKTsKYi5zZXRBdHRyaWJ1dGUoIm5hbWUiLGEpOwpiLnN0eWxlLmRpc3BsYXk9Im5vbmUiOwpiLm9uY2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2U7Cn07CndpbmRvdy50aGVGb3JtLmluc2VydEJlZm9yZShiLHdpbmRvdy50aGVGb3JtLmZpcnN0Q2hpbGQpOwp9fSxfbW9kYWxQb3B1cEVkaXRGb3JtQmx1ckhhbmRsZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fbW9kYWxQb3B1cFdyYXBwZXI7CnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZighJHRlbGVyaWsuaXNEZXNjZW5kYW50T3JTZWxmKGIsZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpe2IuZm9jdXMoKTsKfX0sMSk7Cn0sX3Jlc3RyaWN0VGFiTmF2aWdhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzOwphLnRhYkluZGV4PTA7CmEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF0uZm9jdXMoKTsKYi5fbW9kYWxQb3B1cFdyYXBwZXI9YTsKYS5hZGRFdmVudExpc3RlbmVyKCJibHVyIiwkdGVsZXJpay4kLnByb3h5KGIuX21vZGFsUG9wdXBFZGl0Rm9ybUJsdXJIYW5kbGVyLGIpLHRydWUpOwp9LF9pbml0aWFsaXplQ2FsbGJhY2s6ZnVuY3Rpb24oYSxiKXtXZWJGb3JtX0RvQ2FsbGJhY2sodGhpcy5VbmlxdWVJRCxhLGIsIiIsbnVsbCxmYWxzZSk7Cn0sX2RhdGFEaXZNb3VzZURvd246ZnVuY3Rpb24oYSl7dGhpcy5faXNUb3VjaFNjcm9sbEluUHJvZ3Jlc3M9ZmFsc2U7CnZhciBjPSR0ZWxlcmlrLmdldFRvdWNoVGFyZ2V0KGEpOwppZih0aGlzLl9zY3JvbGxpbmcpe2lmKGMpe3ZhciBiPWMudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0idGQiJiZUZWxlcmlrLldlYi5VSS5HcmlkLklzQ2hpbGRPZihjLHRoaXMuR3JpZERhdGFEaXYpOwp2YXIgZD1hLmNoYW5nZWRUb3VjaGVzfHwoYS5vcmlnaW5hbEV2ZW50P2Eub3JpZ2luYWxFdmVudC50b3VjaGVzOmEucmF3RXZlbnQ/YS5yYXdFdmVudC50b3VjaGVzOmZhbHNlKTsKaWYoIWJ8fChkJiZkLmxlbmd0aD4xKSl7dGhpcy5fc2Nyb2xsaW5nLl9kcm9wRG93blRvdWNoU2Nyb2xsLmRpc2FibGUoKTsKfX1pZih0aGlzLmdldF9hbGxvd0NlbGxTZWxlY3Rpb24oKSl7dGhpcy5fc2Nyb2xsaW5nLl9kcm9wRG93blRvdWNoU2Nyb2xsLmVuYWJsZSgpOwp9fX0sX2RhdGFEaXZNb3VzZVVwOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX3Njcm9sbGluZyl7aWYodGhpcy5nZXRfYWxsb3dDZWxsU2VsZWN0aW9uKCkmJiF0aGlzLl9pc1RvdWNoU2Nyb2xsSW5Qcm9ncmVzcyl7dGhpcy5fc2Nyb2xsaW5nLl9kcm9wRG93blRvdWNoU2Nyb2xsLmRpc2FibGUoKTsKfWVsc2V7dGhpcy5fc2Nyb2xsaW5nLl9kcm9wRG93blRvdWNoU2Nyb2xsLmVuYWJsZSgpOwp9fX0sX2RhdGFEaXZNb3VzZU1vdmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5nZXRfYWxsb3dDZWxsU2VsZWN0aW9uKCkmJnRoaXMuX3Njcm9sbGluZyl7dGhpcy5faXNUb3VjaFNjcm9sbEluUHJvZ3Jlc3M9dHJ1ZTsKdGhpcy5fc2Nyb2xsaW5nLl9kcm9wRG93blRvdWNoU2Nyb2xsLmVuYWJsZSgpOwp9fSxfc3dpcGVTdGFydDpmdW5jdGlvbihhKXt0aGlzLl9zdGFydFRvdWNoUG9pbnRzPXt9Owp0aGlzLl9lbmRUb3VjaFBvaW50cz17fTsKdGhpcy5fY3VycmVudFRvdWNoUG9pbnRzPXt9Owp0aGlzLl9jdXJyZW50TW92ZW1lbnQ9bnVsbDsKdGhpcy5fdmFsaWRTd2lwZT10cnVlOwp2YXIgZD1hLmNoYW5nZWRUb3VjaGVzfHwoYS5vcmlnaW5hbEV2ZW50P2Eub3JpZ2luYWxFdmVudC50b3VjaGVzOmEucmF3RXZlbnQ/YS5yYXdFdmVudC50b3VjaGVzOmZhbHNlKTsKaWYoZCYmZC5sZW5ndGg+MSl7Zm9yKHZhciBiPTA7CmI8ZC5sZW5ndGg7CmIrKyl7dmFyIGM9ZFtiXTsKdGhpcy5fc3RhcnRUb3VjaFBvaW50c1tjLmlkZW50aWZpZXJdPXt4OmMuY2xpZW50WCx5OmMuY2xpZW50WSxkaXJlY3Rpb246VGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50RGlyZWN0aW9uLk5vbmUsbW92ZW1lbnQ6VGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50TW92ZW1lbnQuTm9uZX07Cn10aGlzLl9jdXJyZW50VG91Y2hQb2ludHM9JHRlbGVyaWsuJC5leHRlbmQoe30sdGhpcy5fc3RhcnRUb3VjaFBvaW50cyk7Cn19LF9zd2lwZU1vdmU6ZnVuY3Rpb24oZil7dmFyIGc9Zi5vcmlnaW5hbEV2ZW50fHxmLnJhd0V2ZW50fHxmOwp2YXIgbj1nLnRvdWNoZXN8fGcuY2hhbmdlZFRvdWNoZXM7CnZhciBjPWZhbHNlOwp2YXIgaD1udWxsOwppZihuJiZuLmxlbmd0aD4xKXtmb3IodmFyIGo9MDsKajxuLmxlbmd0aDsKaisrKXt2YXIgZD1uW2pdOwppZih0aGlzLl9jdXJyZW50VG91Y2hQb2ludHNbZC5pZGVudGlmaWVyXSl7dmFyIG09dGhpcy5fY3VycmVudFRvdWNoUG9pbnRzW2QuaWRlbnRpZmllcl07CmlmKCFtfHxtLm1vdmVtZW50PT1UZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnRNb3ZlbWVudC5JbmNvbnNpc3RlbnQpe2NvbnRpbnVlOwp9ZD17aWRlbnRpZmllcjpuW2pdLmlkZW50aWZpZXIseDpuW2pdLmNsaWVudFgseTpuW2pdLmNsaWVudFksZGlyZWN0aW9uOlRlbGVyaWsuV2ViLlVJLkdyaWQuVG91Y2hQb2ludERpcmVjdGlvbi5Ob25lLG1vdmVtZW50OlRlbGVyaWsuV2ViLlVJLkdyaWQuVG91Y2hQb2ludE1vdmVtZW50Lk5vbmV9Owp2YXIgYT1NYXRoLmFicyhkLngtbS54KTsKdmFyIGI9TWF0aC5hYnMoZC55LW0ueSk7CmlmKGE8PXRoaXMuX3N3aXBlVGhyZXNob2xkJiZiPD10aGlzLl9zd2lwZVRocmVzaG9sZCl7Y29udGludWU7Cn12YXIgaz1UZWxlcmlrLldlYi5VSS5HcmlkLmRldGVjdFRvdWNoUG9pbnREaXJlY3Rpb24obSxkLGEtYik7CnZhciBsPVRlbGVyaWsuV2ViLlVJLkdyaWQuZGV0ZWN0VG91Y2hQb2ludE1vdmVtZW50KGspOwpkLm1vdmVtZW50PWw7CmlmKG0mJm0ubW92ZW1lbnQhPVRlbGVyaWsuV2ViLlVJLkdyaWQuVG91Y2hQb2ludE1vdmVtZW50Lk5vbmUpe2lmKG0ubW92ZW1lbnQhPWwpe2QubW92ZW1lbnQ9VGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50TW92ZW1lbnQuSW5jb25zaXN0ZW50Owp9fWQuZGlyZWN0aW9uPWs7CnRoaXMuX2N1cnJlbnRUb3VjaFBvaW50c1tkLmlkZW50aWZpZXJdPWQ7CmlmKGo9PTApe2g9ZC5tb3ZlbWVudDsKfWVsc2V7aWYoaD09ZC5tb3ZlbWVudCl7Yz10cnVlOwp9fX19fWlmKGMpeyR0ZWxlcmlrLmNhbmNlbFJhd0V2ZW50KGYub3JpZ2luYWxFdmVudCk7CnJldHVybiBmYWxzZTsKfX0sX3N3aXBlRW5kOmZ1bmN0aW9uKGYpe3ZhciBoPWYub3JpZ2luYWxFdmVudHx8Zi5yYXdFdmVudHx8ZjsKdmFyIGs9aC5jaGFuZ2VkVG91Y2hlczsKaWYoayYmay5sZW5ndGg+MCYmT2JqZWN0LmtleXModGhpcy5fY3VycmVudFRvdWNoUG9pbnRzKS5sZW5ndGg+MCl7dmFyIGQ9a1swXTsKdmFyIGM9ZC5pZGVudGlmaWVyOwppZighdGhpcy5fY3VycmVudE1vdmVtZW50KXt0aGlzLl9jdXJyZW50TW92ZW1lbnQ9dGhpcy5fY3VycmVudFRvdWNoUG9pbnRzW2NdLm1vdmVtZW50Owp9aWYoIXRoaXMuX3ZhbGlkU3dpcGUpe3JldHVybjsKfWlmKHRoaXMuX2N1cnJlbnRUb3VjaFBvaW50c1tjXSYmdGhpcy5fc3RhcnRUb3VjaFBvaW50c1tjXSl7dmFyIGc9dGhpcy5fY3VycmVudFRvdWNoUG9pbnRzW2NdOwp0aGlzLl9lbmRUb3VjaFBvaW50c1tjXT1nOwp2YXIgaj10aGlzLl9zdGFydFRvdWNoUG9pbnRzW2NdOwp2YXIgYT1NYXRoLmFicyhnLngtai54KTsKdmFyIGI9TWF0aC5hYnMoZy55LWoueSk7CnZhciBpPShhPnRoaXMuX3N3aXBlVGhyZXNob2xkfHxiPnRoaXMuX3N3aXBlVGhyZXNob2xkKSYmZy5tb3ZlbWVudCE9VGVsZXJpay5XZWIuVUkuR3JpZC5Ub3VjaFBvaW50TW92ZW1lbnQuSW5jb25zaXN0ZW50JiZnLm1vdmVtZW50PT10aGlzLl9jdXJyZW50TW92ZW1lbnQ7CnRoaXMuX3ZhbGlkU3dpcGU9dGhpcy5fdmFsaWRTd2lwZSYmaTsKfWlmKHRoaXMuX3ZhbGlkU3dpcGUmJk9iamVjdC5rZXlzKHRoaXMuX3N0YXJ0VG91Y2hQb2ludHMpLmxlbmd0aD09T2JqZWN0LmtleXModGhpcy5fZW5kVG91Y2hQb2ludHMpLmxlbmd0aCl7aWYodGhpcy5fY3VycmVudE1vdmVtZW50PT1UZWxlcmlrLldlYi5VSS5HcmlkLlRvdWNoUG9pbnRNb3ZlbWVudC5MZWZ0KXt0aGlzLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5wYWdlKCJOZXh0Iik7Cn1pZih0aGlzLl9jdXJyZW50TW92ZW1lbnQ9PVRlbGVyaWsuV2ViLlVJLkdyaWQuVG91Y2hQb2ludE1vdmVtZW50LlJpZ2h0KXt0aGlzLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5wYWdlKCJQcmV2Iik7Cn19fX0sX2luaXRpYWxpemVTdWJtaXRDb250cm9sczpmdW5jdGlvbigpe3RoaXMuX3N1Ym1pdENvbnRyb2xzPVt7TmFtZToiaW5wdXQiLFR5cGU6InRleHQifV07Cn0sX3Nob3VsZEZvY3VzR3JpZE9uRG9jdW1lbnRLZXlEb3duOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zcmNFbGVtZW50fHxhLmV4cGxpY2l0T3JpZ2luYWxUYXJnZXQ7CmlmKChhLmN0cmxLZXkmJmI9PXRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuRm9jdXNLZXkpfHwoKGI9PXRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuRXhwYW5kRGV0YWlsVGFibGVLZXl8fGI9PXRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuQ29sbGFwc2VEZXRhaWxUYWJsZUtleSkmJnRoaXMuQ2xpZW50U2V0dGluZ3MmJnRoaXMuQ2xpZW50U2V0dGluZ3MuQWxsb3dLZXlib2FyZE5hdmlnYXRpb24mJmMmJmMuaWQ9PXRoaXMuZ2V0X2VsZW1lbnQoKS5pZCkpe3JldHVybiB0cnVlOwp9cmV0dXJuIGZhbHNlOwp9LF9zaG91bGRGb2N1c0dyaWRPbkRvY0tleURvd25XaXRoQ2VsbFNlbGVjdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybihhLmN0cmxLZXkmJmI9PXRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuRm9jdXNLZXkpOwp9LF9kb2N1bWVudEtleURvd246ZnVuY3Rpb24oYil7Yj1ifHx3aW5kb3cuZXZlbnQ7CnZhciBjPWIua2V5Q29kZXx8Yi5jaGFyQ29kZTsKaWYoYi5jaGFyQ29kZSl7Yz1TdHJpbmcuZnJvbUNoYXJDb2RlKGIuY2hhckNvZGUpLnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKTsKfWlmKHRoaXMuZ2V0X2FsbG93Q2VsbFNlbGVjdGlvbigpKXtpZih0aGlzLl9zaG91bGRGb2N1c0dyaWRPbkRvY0tleURvd25XaXRoQ2VsbFNlbGVjdGlvbihiLGMpKXt0aGlzLmdldF9lbGVtZW50KCkuZm9jdXMoKTsKfXJldHVybjsKfWlmKHRoaXMuX3Nob3VsZEZvY3VzR3JpZE9uRG9jdW1lbnRLZXlEb3duKGIsYykpe2lmKHRoaXMuZ2V0X2VsZW1lbnQoKS5mb2N1cyl7dGhpcy5nZXRfZWxlbWVudCgpLmZvY3VzKCk7CmlmKHRoaXMuQ2xpZW50U2V0dGluZ3MuQWxsb3dLZXlib2FyZE5hdmlnYXRpb24mJiF0aGlzLl9hY3RpdmVSb3cpe2lmKHRoaXMuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9kYXRhSXRlbXMoKS5sZW5ndGg+MCl7dmFyIGE9bnVsbDsKaWYodGhpcy5fc2VsZWN0ZWRJdGVtc0ludGVybmFsLmxlbmd0aD4wKXthPSRmaW5kKHRoaXMuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbFswXS5pZCk7Cn1lbHNle2E9dGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X2RhdGFJdGVtcygpWzBdOwp9aWYoYSE9bnVsbCl7dGhpcy5fc2V0QWN0aXZlUm93KGEuZ2V0X2VsZW1lbnQoKSxiKTsKaWYodGhpcy5DbGllbnRTZXR0aW5ncy5TZWxlY3RpbmcmJnRoaXMuQ2xpZW50U2V0dGluZ3MuU2VsZWN0aW5nLkFsbG93Um93U2VsZWN0KXt0aGlzLl9zZWxlY3Rpb24uX3NlbGVjdFJvd0ludGVybmFsKGEuZ2V0X2VsZW1lbnQoKSxiLGZhbHNlLHRydWUsdHJ1ZSxmYWxzZSk7Cn19fX19fX0sX2F0dGFjaE1vdXNlSGFuZGxlcnM6ZnVuY3Rpb24oKXt3aW5kb3cuJGFkZEhhbmRsZXJzKHRoaXMuZ2V0X2VsZW1lbnQoKSx7bW91c2VvdmVyOkZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fbW91c2VvdmVyKX0pOwp3aW5kb3cuJGFkZEhhbmRsZXJzKHRoaXMuZ2V0X2VsZW1lbnQoKSx7bW91c2VvdXQ6RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9tb3VzZW91dCl9KTsKfSxfZ2V0RGF0YVNlcnZpY2VEYXRhOmZ1bmN0aW9uKGosaSxvKXt2YXIgYj1uZXcgU3lzLkNhbmNlbEV2ZW50QXJncygpOwp2YXIgaD10aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkxvY2F0aW9uOwpiLmdldF9sb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiBoOwp9OwpiLnNldF9sb2NhdGlvbj1mdW5jdGlvbihlKXtoPWU7Cn07CnZhciBuPXRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRGF0YVNlcnZpY2UuVGFibGVOYW1lOwpiLmdldF90YWJsZU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbjsKfTsKYi5zZXRfdGFibGVOYW1lPWZ1bmN0aW9uKGUpe249ZTsKfTsKdmFyIGc9dGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5EYXRhU2VydmljZS5GaWx0ZXJRdWVyeU9wdGlvbjsKYi5nZXRfZmlsdGVyUXVlcnlPcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gZzsKfTsKYi5zZXRfZmlsdGVyUXVlcnlPcHRpb249ZnVuY3Rpb24oZSl7Zz1lOwp9Owp2YXIgbT10aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkRhdGFTZXJ2aWNlLlNvcnRRdWVyeU9wdGlvbjsKYi5nZXRfc29ydFF1ZXJ5T3B0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG07Cn07CmIuc2V0X3NvcnRRdWVyeU9wdGlvbj1mdW5jdGlvbihlKXttPWU7Cn07CnZhciBrPXRoaXMuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldERhdGFTZXJ2aWNlUXVlcnkoYi5nZXRfdGFibGVOYW1lKCksYi5nZXRfZmlsdGVyUXVlcnlPcHRpb24oKSxiLmdldF9zb3J0UXVlcnlPcHRpb24oKSk7CmIuZ2V0X3F1ZXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIGs7Cn07CmIuc2V0X3F1ZXJ5PWZ1bmN0aW9uKGUpe2s9ZTsKfTsKdmFyIGw9dGhpcy5fZ2V0RGF0YVJlc3BvbnNlVHlwZSgpOwpiLmdldF9yZXNwb25zZVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gbDsKfTsKYi5zZXRfcmVzcG9uc2VUeXBlPWZ1bmN0aW9uKGUpe2w9ZTsKfTsKdmFyIGM9dGhpcy5faXNCb3VuZFRvU2VydmljZVR5cGUoVGVsZXJpay5XZWIuVUkuR3JpZENsaWVudERhdGFTZXJ2aWNlVHlwZS5PRGF0YSk/IiRjYWxsYmFjayI6bnVsbDsKYi5nZXRfY2FsbGJhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gYzsKfTsKYi5zZXRfY2FsbGJhY2s9ZnVuY3Rpb24oZSl7Yz1lOwp9Owp0aGlzLnJhaXNlX2RhdGFCaW5kaW5nKGIpOwppZihiLmdldF9jYW5jZWwoKSl7cmV0dXJuIGZhbHNlOwp9dmFyIHA9KHR5cGVvZihvKSE9InVuZGVmaW5lZCIpP286U3RyaW5nLmZvcm1hdCgiezB9L3sxfSIsYi5nZXRfbG9jYXRpb24oKSxiLmdldF9xdWVyeSgpKTsKdHJ5e3ZhciBkPWZ1bmN0aW9uKGUscSl7cmV0dXJuIGUucmVwbGFjZSgvXFwnL2csIiciKTsKfTsKaWYobD09PSJqc29ucCIpe2Q9bnVsbDsKfXZhciBhPXt0eXBlOiJHRVQiLHVybDpwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04IixkYXRhRmlsdGVyOmQsZGF0YVR5cGU6bCxqc29ucDpjLHN1Y2Nlc3M6aixlcnJvcjppfTsKJHRlbGVyaWsuJC5hamF4KGEpOwp9Y2F0Y2goZil7dGhyb3cgbmV3IEVycm9yKGYpOwp9fSxfZ2V0RGF0YTpmdW5jdGlvbihkLGcsZixpLGgpe3ZhciBiPVN5cy5TZXJpYWxpemF0aW9uLkphdmFTY3JpcHRTZXJpYWxpemVyLmRlc2VyaWFsaXplKGYpOwp2YXIgYT1uZXcgU3lzLkNhbmNlbEV2ZW50QXJncygpOwphLmdldF9sb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiBkOwp9OwphLnNldF9sb2NhdGlvbj1mdW5jdGlvbihlKXtkPWU7Cn07CmEuZ2V0X21ldGhvZE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gZzsKfTsKYS5zZXRfbWV0aG9kTmFtZT1mdW5jdGlvbihlKXtnPWU7Cn07CmEuZ2V0X21ldGhvZEFyZ3VtZW50cz1mdW5jdGlvbigpe3JldHVybiBiOwp9OwphLnNldF9tZXRob2RBcmd1bWVudHM9ZnVuY3Rpb24oZSl7Yj1lOwp9Owp0aGlzLnJhaXNlX2RhdGFCaW5kaW5nKGEpOwppZihhLmdldF9jYW5jZWwoKSl7cmV0dXJuIGZhbHNlOwp9dHJ5eyR0ZWxlcmlrLiQuYWpheCh7dHlwZToiUE9TVCIsdXJsOmEuZ2V0X2xvY2F0aW9uKCkrIi8iK2EuZ2V0X21ldGhvZE5hbWUoKSxkYXRhOlN5cy5TZXJpYWxpemF0aW9uLkphdmFTY3JpcHRTZXJpYWxpemVyLnNlcmlhbGl6ZShiKSxjb250ZW50VHlwZToiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsZGF0YVR5cGU6Impzb24iLHN1Y2Nlc3M6aSxlcnJvcjpofSk7Cn1jYXRjaChjKXt0aHJvdyBuZXcgRXJyb3IoYyk7Cn19LF9nZXRDYWNoZUtleTpmdW5jdGlvbihhKXtyZXR1cm4gU3RyaW5nLmZvcm1hdCgiezB9ezF9ezJ9ezN9IixhLmdldF9jdXJyZW50UGFnZUluZGV4KCksYS5nZXRfcGFnZVNpemUoKSxhLmdldF9zb3J0RXhwcmVzc2lvbnMoKS50b1N0cmluZygpLGEuZ2V0X2ZpbHRlckV4cHJlc3Npb25zKCkudG9TdHJpbmcoKSk7Cn0sX2dldFJlcXVlc3REYXRhOmZ1bmN0aW9uKGUsYil7dmFyIGY9dGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCksYz17fTsKaWYodHlwZW9mIGUhPT0idW5kZWZpbmVkIiYmdHlwZW9mIGIhPT0idW5kZWZpbmVkIil7Y1t0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlN0YXJ0Um93SW5kZXhQYXJhbWV0ZXJOYW1lXT1lOwpjW3RoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuTWF4aW11bVJvd3NQYXJhbWV0ZXJOYW1lXT1iOwp9ZWxzZXtjW3RoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuU3RhcnRSb3dJbmRleFBhcmFtZXRlck5hbWVdPWYuZ2V0X2N1cnJlbnRQYWdlSW5kZXgoKSpmLmdldF9wYWdlU2l6ZSgpOwppZihmLl9kYXRhJiZmLl9kYXRhLkFsbG93UGFnaW5nKXtjW3RoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuTWF4aW11bVJvd3NQYXJhbWV0ZXJOYW1lXT1mLmdldF9wYWdlU2l6ZSgpOwp9ZWxzZXtjW3RoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuTWF4aW11bVJvd3NQYXJhbWV0ZXJOYW1lXT1NYXRoLnBvdygyLDMxKS0xOwp9fXZhciBkPW51bGw7CmlmKHR5cGVvZih0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlNvcnRQYXJhbWV0ZXJUeXBlKT09InVuZGVmaW5lZCIpe2Q9Zi5nZXRfc29ydEV4cHJlc3Npb25zKCkudG9MaXN0KCk7Cn1lbHNle2lmKHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuU29ydFBhcmFtZXRlclR5cGU9PVRlbGVyaWsuV2ViLlVJLkdyaWRDbGllbnREYXRhQmluZGluZ1BhcmFtZXRlclR5cGUuU3RyaW5nKXtkPWYuZ2V0X3NvcnRFeHByZXNzaW9ucygpLnRvU3RyaW5nKCk7Cn1lbHNle2lmKHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuU29ydFBhcmFtZXRlclR5cGU9PVRlbGVyaWsuV2ViLlVJLkdyaWRDbGllbnREYXRhQmluZGluZ1BhcmFtZXRlclR5cGUuTGlucSl7ZD1mLmdldF9zb3J0RXhwcmVzc2lvbnMoKS50b1N0cmluZygpOwp9ZWxzZXtpZih0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlNvcnRQYXJhbWV0ZXJUeXBlPT1UZWxlcmlrLldlYi5VSS5HcmlkQ2xpZW50RGF0YUJpbmRpbmdQYXJhbWV0ZXJUeXBlLk9xbCl7ZD1mLmdldF9zb3J0RXhwcmVzc2lvbnMoKS50b1N0cmluZygpOwp9fX19Y1t0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlNvcnRQYXJhbWV0ZXJOYW1lXT1kOwp2YXIgYT1udWxsOwppZih0eXBlb2YodGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5GaWx0ZXJQYXJhbWV0ZXJUeXBlKT09InVuZGVmaW5lZCIpe2E9Zi5nZXRfZmlsdGVyRXhwcmVzc2lvbnMoKS50b0xpc3QoKTsKfWVsc2V7aWYodGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5GaWx0ZXJQYXJhbWV0ZXJUeXBlPT1UZWxlcmlrLldlYi5VSS5HcmlkQ2xpZW50RGF0YUJpbmRpbmdQYXJhbWV0ZXJUeXBlLlN0cmluZyl7YT1mLmdldF9maWx0ZXJFeHByZXNzaW9ucygpLnRvU3RyaW5nKCk7Cn1lbHNle2lmKHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRmlsdGVyUGFyYW1ldGVyVHlwZT09VGVsZXJpay5XZWIuVUkuR3JpZENsaWVudERhdGFCaW5kaW5nUGFyYW1ldGVyVHlwZS5MaW5xKXthPWYuZ2V0X2ZpbHRlckV4cHJlc3Npb25zKCkudG9EeW5hbWljTGlucSgpOwp9ZWxzZXtpZih0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkZpbHRlclBhcmFtZXRlclR5cGU9PVRlbGVyaWsuV2ViLlVJLkdyaWRDbGllbnREYXRhQmluZGluZ1BhcmFtZXRlclR5cGUuT3FsKXthPWYuZ2V0X2ZpbHRlckV4cHJlc3Npb25zKCkudG9PcWwoKTsKfX19fWNbdGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5GaWx0ZXJQYXJhbWV0ZXJOYW1lXT1hOwpyZXR1cm4gU3lzLlNlcmlhbGl6YXRpb24uSmF2YVNjcmlwdFNlcmlhbGl6ZXIuc2VyaWFsaXplKGMpOwp9LF9pc0JvdW5kVG9TZXJ2aWNlVHlwZTpmdW5jdGlvbihhKXtpZih0aGlzLkNsaWVudFNldHRpbmdzJiZ0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nJiZ0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkRhdGFTZXJ2aWNlKXtpZih0eXBlb2YodGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5EYXRhU2VydmljZS5UeXBlKSE9PSJ1bmRlZmluZWQiKXtyZXR1cm4gdGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5EYXRhU2VydmljZS5UeXBlPT09YTsKfWVsc2V7cmV0dXJuIGE9PT1UZWxlcmlrLldlYi5VSS5HcmlkQ2xpZW50RGF0YVNlcnZpY2VUeXBlLkFET05ldDsKfX1yZXR1cm4gZmFsc2U7Cn0sX2dldERhdGFSZXNwb25zZVR5cGU6ZnVuY3Rpb24oKXtpZih0aGlzLkNsaWVudFNldHRpbmdzJiZ0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nJiZ0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlJlc3BvbnNlVHlwZSl7c3dpdGNoKHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuUmVzcG9uc2VUeXBlKXtjYXNlIFRlbGVyaWsuV2ViLlVJLkdyaWRDbGllbnREYXRhUmVzcG9uc2VUeXBlLkpTT05QOnJldHVybiJqc29ucCI7CmRlZmF1bHQ6cmV0dXJuImpzb24iOwp9fXJldHVybiJqc29uIjsKfSxfb25TdWNjZXNzOmZ1bmN0aW9uKGYpe2lmKHR5cGVvZihmKSE9Im9iamVjdCJ8fGY9PW51bGwpe3JldHVybjsKfWlmKHR5cGVvZihmLmQpIT0idW5kZWZpbmVkIil7Zj1mLmQ7Cn12YXIgaT10aGlzLmdldF9tYXN0ZXJUYWJsZVZpZXcoKTsKaWYodGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5FbmFibGVDYWNoaW5nJiYhaS5fdmlydHVhbGl6YXRpb24pe3ZhciBoPXRoaXMuX2dldENhY2hlS2V5KGkpOwppZighdGhpcy5fY2FjaGUpe3RoaXMuX2NhY2hlPXt9Owp9aWYoIXRoaXMuX2NhY2hlW2hdKXt0aGlzLl9jYWNoZVtoXT1mOwp9fXZhciBnPXRydWU7CnZhciBkPWY7CmlmKGQuZ2V0X2RhdGEpe2Q9ZC5nZXRfZGF0YSgpOwp9dmFyIGI9MDsKdmFyIGU7CnZhciBjOwppZih0eXBlb2YodGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5EYXRhUHJvcGVydHlOYW1lKT09InVuZGVmaW5lZCIpe2U9IkRhdGEiOwp9ZWxzZXtlPXRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRGF0YVByb3BlcnR5TmFtZTsKfWlmKHR5cGVvZih0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkNvdW50UHJvcGVydHlOYW1lKT09InVuZGVmaW5lZCIpe2M9IkNvdW50IjsKfWVsc2V7Yz10aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkNvdW50UHJvcGVydHlOYW1lOwp9aWYodGhpcy5faXNCb3VuZFRvU2VydmljZVR5cGUoVGVsZXJpay5XZWIuVUkuR3JpZENsaWVudERhdGFTZXJ2aWNlVHlwZS5PRGF0YSkmJmYucmVzdWx0cyl7ZD1mLnJlc3VsdHM7CmlmKCFpc05hTihmLl9fY291bnQpKXtiPWYuX19jb3VudDsKZz1mYWxzZTsKfWVsc2V7aWYoIWkuZ2V0X2FsbG93UGFnaW5nKCkpe2I9MDsKZz1mYWxzZTsKfX19ZWxzZXtpZih0eXBlb2YoZltlXSkhPSJ1bmRlZmluZWQiJiZ0eXBlb2YoZltjXSkhPSJ1bmRlZmluZWQiKXtnPWZhbHNlOwpkPWZbZV07CmI9ZltjXTsKfX1pZihnKXtpZih0eXBlb2YodGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5TZWxlY3RDb3VudE1ldGhvZCkhPSJ1bmRlZmluZWQiJiZ0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlNlbGVjdENvdW50TWV0aG9kIT0iIil7dGhpcy5fb25TZWxlY3RDb3VudFN1Y2Nlc3NEZWxlZ2F0ZT1GdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZSh0aGlzLHRoaXMuX29uU2VsZWN0Q291bnRTdWNjZXNzKTsKaWYodHlwZW9mKHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRGF0YVNlcnZpY2UpIT0idW5kZWZpbmVkIiYmdHlwZW9mKHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRGF0YVNlcnZpY2UuVGFibGVOYW1lKSE9InVuZGVmaW5lZCImJnRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRGF0YVNlcnZpY2UuVGFibGVOYW1lIT0iIil7dmFyIGs9aS5nZXRfZmlsdGVyRXhwcmVzc2lvbnMoKS50b1N0cmluZygiaXQiKS5yZXBsYWNlKC8nL2csJyInKS5yZXBsYWNlKC9cWy9nLCIiKS5yZXBsYWNlKC9cXS9nLCIiKTsKdmFyIGo9U3RyaW5nLmZvcm1hdCgiezB9L3sxfT93aGVyZT0nezJ9JyIsdGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5Mb2NhdGlvbix0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlNlbGVjdENvdW50TWV0aG9kLGspOwp0aGlzLl9nZXREYXRhU2VydmljZURhdGEodGhpcy5fb25TZWxlY3RDb3VudFN1Y2Nlc3NEZWxlZ2F0ZSx0aGlzLl9vbkZhaWxEZWxlZ2F0ZSxqKTsKfWVsc2V7dGhpcy5fZ2V0RGF0YSh0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkxvY2F0aW9uLHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuU2VsZWN0Q291bnRNZXRob2QsInt9Iix0aGlzLl9vblNlbGVjdENvdW50U3VjY2Vzc0RlbGVnYXRlLHRoaXMuX29uRmFpbERlbGVnYXRlKTsKfX19ZWxzZXtpLnNldF92aXJ0dWFsSXRlbUNvdW50KGIpOwp9dmFyIGE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREYXRhU291cmNlUmVzb2x2ZWRFdmVudEFyZ3MoZCk7CnRoaXMucmFpc2VfZGF0YVNvdXJjZVJlc29sdmVkKGEpOwpkPWEuZ2V0X2RhdGEoKTsKaWYoaS5nZXRfdmlydHVhbEl0ZW1Db3VudCgpPT0wKXtpLl91cGRhdGVQYWdlcigpOwp9aWYoIWkuX3ZpcnR1YWxpemF0aW9uKXtpLnNldF9kYXRhU291cmNlKGQpOwppLmRhdGFCaW5kKCk7Cn19LF9vbkZhaWw6ZnVuY3Rpb24oZyl7dmFyIGM9bmV3IFN5cy5FdmVudEFyZ3MoKTsKaWYodHlwZW9mKGcpIT0idW5kZWZpbmVkIil7aWYodHlwZW9mKGcucmVzcG9uc2VUZXh0KSE9InVuZGVmaW5lZCIpe3ZhciBmOwp0cnl7Zj1TeXMuU2VyaWFsaXphdGlvbi5KYXZhU2NyaXB0U2VyaWFsaXplci5kZXNlcmlhbGl6ZShnLnJlc3BvbnNlVGV4dCk7Cn1jYXRjaChhKXtmPW51bGw7Cn1pZighZil7cmV0dXJuOwp9aWYoZi5lcnJvcil7dmFyIGI9Zi5lcnJvcjsKdmFyIGQ9KGIubWVzc2FnZSYmYi5tZXNzYWdlLnZhbHVlKT9iLm1lc3NhZ2UudmFsdWU6IiI7CmM9dGhpcy5fY29uc3RydWN0RXJyb3JBcmdzT2JqZWN0KGQsIiIsIiIpOwp9ZWxzZXtjPXRoaXMuX2NvbnN0cnVjdEVycm9yQXJnc09iamVjdChmLk1lc3NhZ2UsZi5FeGNlcHRpb25UeXBlLGYuU3RhY2tUcmFjZSk7Cn19fXRoaXMucmFpc2VfZGF0YUJpbmRpbmdGYWlsZWQoYyk7Cn0sX2NvbnN0cnVjdEVycm9yQXJnc09iamVjdDpmdW5jdGlvbihjLGIsZCl7dmFyIGE9bmV3IFN5cy5FdmVudEFyZ3MoKTsKYS5nZXRfbWVzc2FnZT1mdW5jdGlvbigpe3JldHVybiBjOwp9OwphLmdldF9leGNlcHRpb25UeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGI7Cn07CmEuZ2V0X3N0YWNrVHJhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gZDsKfTsKcmV0dXJuIGE7Cn0sX29uU2VsZWN0Q291bnRTdWNjZXNzOmZ1bmN0aW9uKGEpe2lmKHR5cGVvZihhLmQpIT0idW5kZWZpbmVkIil7YT1hLmQ7Cn1pZih0eXBlb2YoYVt0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlNlbGVjdENvdW50TWV0aG9kXSkhPSJ1bmRlZmluZWQiKXthPWFbdGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5TZWxlY3RDb3VudE1ldGhvZF07Cn12YXIgYj10aGlzLmdldF9tYXN0ZXJUYWJsZVZpZXcoKTsKYi5zZXRfdmlydHVhbEl0ZW1Db3VudChhKTsKfSxfb25Db21tYW5kT0RhdGFTb3VyY2U6ZnVuY3Rpb24oYixhKXthLnNldF9jYW5jZWwodHJ1ZSk7CmlmKHRoaXMuZ2V0X2lzVXNpbmdPRGF0YVNvdXJjZSgpKXt0aGlzLl9vbkRhdGFOZWVkZWQoKTsKfX0sX29uQ29tbWFuZDpmdW5jdGlvbihiLGEpe2Euc2V0X2NhbmNlbCh0cnVlKTsKdmFyIGQ9dGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCk7CmlmKHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRW5hYmxlQ2FjaGluZyl7dmFyIGM9dGhpcy5fZ2V0Q2FjaGVLZXkoZCk7CmlmKCF0aGlzLl9jYWNoZSl7dGhpcy5fY2FjaGU9e307Cn1pZih0aGlzLl9jYWNoZVtjXSl7dGhpcy5fb25TdWNjZXNzKHRoaXMuX2NhY2hlW2NdKTsKcmV0dXJuOwp9fWlmKHR5cGVvZih0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlNlbGVjdE1ldGhvZCkhPSJ1bmRlZmluZWQiJiZ0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlNlbGVjdE1ldGhvZCE9IiIpe3RoaXMuX2dldERhdGEodGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5Mb2NhdGlvbix0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLlNlbGVjdE1ldGhvZCx0aGlzLl9nZXRSZXF1ZXN0RGF0YSgpLHRoaXMuX29uU3VjY2Vzc0RlbGVnYXRlLHRoaXMuX29uRmFpbERlbGVnYXRlKTsKfWVsc2V7aWYodHlwZW9mKHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRGF0YVNlcnZpY2UpIT0idW5kZWZpbmVkIiYmdHlwZW9mKHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRGF0YVNlcnZpY2UuVGFibGVOYW1lKSE9InVuZGVmaW5lZCImJnRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRGF0YVNlcnZpY2UuVGFibGVOYW1lIT0iIil7ZC5nZXREYXRhU2VydmljZVF1ZXJ5KHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRGF0YVNlcnZpY2UuVGFibGVOYW1lLHRoaXMuQ2xpZW50U2V0dGluZ3MuRGF0YUJpbmRpbmcuRGF0YVNlcnZpY2UuRmlsdGVyUXVlcnlPcHRpb24sdGhpcy5DbGllbnRTZXR0aW5ncy5EYXRhQmluZGluZy5EYXRhU2VydmljZS5Tb3J0UXVlcnlPcHRpb24pOwp0aGlzLl9nZXREYXRhU2VydmljZURhdGEodGhpcy5fb25TdWNjZXNzRGVsZWdhdGUsdGhpcy5fb25GYWlsRGVsZWdhdGUpOwp9fX0sX29uVmlydHVhbGl6YXRpb25Db21tYW5kOmZ1bmN0aW9uKGQsYSl7dmFyIGU9YS5nZXRfdGFibGVWaWV3KCksZj1lLl92aXJ0dWFsaXphdGlvbixjPWUuZ2V0X3BhZ2VTaXplKCksYj1lLmdldF9jdXJyZW50UGFnZUluZGV4KCk7CmlmKGYmJmEuZ2V0X2NvbW1hbmROYW1lKCk9PT0iUGFnZSIpe2Euc2V0X2NhbmNlbCh0cnVlKTsKZi5zY3JvbGxUb0luZGV4KGMqYik7CmYuc2VsZWN0KGMqYik7Cn19LF9nZXRIZWFkTGlua3NGb3JQcmludDpmdW5jdGlvbigpe3ZhciBhPSR0ZWxlcmlrLiQoImxpbmtbdHlwZT0ndGV4dC9jc3MnXSIpOwp2YXIgYz0iIjsKdmFyIGI9IiI7CmZvcih2YXIgZD0wOwpkPGEubGVuZ3RoOwpkKyspe2M9YVtkXS5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKYz1jLnJlcGxhY2UoLyZhbXA7YW1wO3QvZywiJnQiKTsKYz1jLnJlcGxhY2UoLyZhbXA7dC9nLCImdCIpOwpiKz0iPGxpbmsgcmVsPSdTdHlsZXNoZWV0JyB0eXBlPSd0ZXh0L2NzcycgaHJlZj0nIitjKyInPiI7Cn1yZXR1cm4gYjsKfSxwcmludDpmdW5jdGlvbigpe2lmKCF0aGlzLkNsaWVudFNldHRpbmdzLkVuYWJsZUNsaWVudFByaW50KXtyZXR1cm4gZmFsc2U7Cn12YXIgZD10aGlzOwp2YXIgYj13aW5kb3cua2VuZG87CnZhciBhOwppZigkdGVsZXJpay5pc0lFfHxUZWxlcmlrLldlYi5Ccm93c2VyLmVkZ2Upe3ZhciBjPXdpbmRvdy5vcGVuKCk7CmlmKCFjKXtyZXR1cm4gZmFsc2U7Cn1hPSR0ZWxlcmlrLiQoIjxkaXY+Iik7CmIuZHJhd2luZy5kcmF3RE9NKGQuZ2V0X2VsZW1lbnQoKSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gYi5kcmF3aW5nLlN1cmZhY2UuY3JlYXRlKGEse3R5cGU6InN2ZyJ9KS5kcmF3KGUpOwp9KS5kb25lKGZ1bmN0aW9uKGUpe3ZhciBmPSI8aHRtbD48aGVhZD4iK2QuX2dldEhlYWRMaW5rc0ZvclByaW50KCkrIjwvaGVhZD48Ym9keT48Zm9ybSBzdHlsZT0naGVpZ2h0OiIrZC5nZXRfZWxlbWVudCgpLnNjcm9sbEhlaWdodCsicHg7Jz4iK2EuZ2V0KDApLmlubmVySFRNTCsiPC9mb3JtPjwvYm9keT48L2h0bWw+IjsKYy5kb2N1bWVudC5vcGVuKCk7CmMuZG9jdW1lbnQud3JpdGUoZik7CmMuZG9jdW1lbnQuY2xvc2UoKTsKYy5wcmludCgpOwphLnJlbW92ZSgpOwp9KTsKfWVsc2V7Yi5kcmF3aW5nLmRyYXdET00oZC5nZXRfZWxlbWVudCgpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBiLmRyYXdpbmcuZXhwb3J0UERGKGUpOwp9KS5kb25lKGZ1bmN0aW9uKGUpe3dpbmRvdy5vcGVuKGUsIiIsZmFsc2UpOwp9KTsKfX0scmVwYWludDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0X2VsZW1lbnQoKTsKdmFyIGQ9dGhpcy5fc2Nyb2xsaW5nOwp2YXIgYj10aGlzLmdldF9tYXN0ZXJUYWJsZVZpZXcoKTsKaWYoIXRoaXMuY2FuUmVwYWludCgpKXtpZihhKXt0aGlzLmFkZF9wYXJlbnRTaG93bihhKTsKfXJldHVybjsKfWVsc2V7dGhpcy5fY2xlYXJQYXJlbnRTaG93SGFuZGxlcnMoKTsKfWlmKCFkJiZ0aGlzLkdyaWREYXRhRGl2KXtkPSRmaW5kKHRoaXMuZ2V0X2lkKCkpLl9zY3JvbGxpbmc7Cn1pZihUZWxlcmlrLldlYi5VSS5HcmlkU2Nyb2xsaW5nJiZkKXtpZihkLl9zaG91bGRJbml0aWFsaXplTGF5b3V0QW5kU2Nyb2xsKXtkLl9zaG91bGRJbml0aWFsaXplTGF5b3V0QW5kU2Nyb2xsPWZhbHNlOwpkLl9pbml0aWFsaXplRGltZW5zaW9ucygpOwpkLl9pbml0aWFsaXplU2Nyb2xsKCk7Cn1lbHNle2Qub25XaW5kb3dSZXNpemUoKTsKfX1lbHNle2lmKHRoaXMuX3JlcGFpbnRXaWR0aEZsYWcpe2Euc3R5bGUud2lkdGg9IiI7Cn12YXIgYz0wOwppZighIXRoaXMuX21hc3RlckNsaWVudElEJiZiIT1udWxsKXtjPWIuZ2V0X2VsZW1lbnQoKS5vZmZzZXRXaWR0aDsKfWlmKGEub2Zmc2V0V2lkdGg8Yyl7YS5zdHlsZS53aWR0aD1jKyJweCI7CnRoaXMuX3JlcGFpbnRXaWR0aEZsYWc9dHJ1ZTsKfX1pZih0aGlzLl9tYXN0ZXJDbGllbnRJRCYmYiYmYi5fdmlydHVhbGl6YXRpb24pe2IuX3ZpcnR1YWxpemF0aW9uLnJlcGFpbnQoKTsKfWlmKHRoaXMuX2lzQmF0Y2hFZGl0aW5nRW5hYmxlZCYmdGhpcy5fcm93SGlnaGxpZ2h0aW5nRm9yRGVsZXRlZFJvd3MmJnRoaXMuZ2V0X2JhdGNoRWRpdGluZ01hbmFnZXIoKSl7dGhpcy5nZXRfYmF0Y2hFZGl0aW5nTWFuYWdlcigpLl9hZGp1c3RCYXRjaERlbGV0ZWRSb3dzKCk7Cn19LG9uV2luZG93UmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5yZXNpemVNb2RhbEJhY2tncm91bmQoKTsKfSxyZXNpemVNb2RhbEJhY2tncm91bmQ6ZnVuY3Rpb24oKXt2YXIgZD1TdHJpbmcuZm9ybWF0KCJtb2RhbERpdklkX3swfSIsdGhpcy5nZXRfaWQoKSk7CnZhciBjPSRnZXQoZCk7CmlmKGMpe2Muc3R5bGUud2lkdGg9IjFweCI7CmMuc3R5bGUuaGVpZ2h0PSIxcHgiOwp2YXIgYj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CnZhciBhPWRvY3VtZW50LmJvZHk7CmMuc3R5bGUud2lkdGg9TWF0aC5tYXgoTWF0aC5tYXgoYi5zY3JvbGxXaWR0aCxhLnNjcm9sbFdpZHRoKSxNYXRoLm1heChiLm9mZnNldFdpZHRoLGEub2Zmc2V0V2lkdGgpKSsicHgiOwpjLnN0eWxlLmhlaWdodD1NYXRoLm1heChNYXRoLm1heChiLnNjcm9sbEhlaWdodCxhLnNjcm9sbEhlaWdodCksTWF0aC5tYXgoYi5vZmZzZXRIZWlnaHQsYS5vZmZzZXRIZWlnaHQpKSsicHgiOwp9fSxfcG9wVXBLZXlEb3duOmZ1bmN0aW9uKGIpe3ZhciBkPWIua2V5Q29kZXx8Yi5jaGFyQ29kZTsKaWYoYi5jaGFyQ29kZSl7ZD1TdHJpbmcuZnJvbUNoYXJDb2RlKGIuY2hhckNvZGUpLnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKTsKfXZhciBjPShkPT10aGlzLmtleU1hcHBpbmdzLkV4aXRFZGl0SW5zZXJ0TW9kZUtleSk7CnZhciBpPShkPT10aGlzLmtleU1hcHBpbmdzLlVwZGF0ZUluc2VydEl0ZW1LZXkpOwp2YXIgaD1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKHRoaXMucG9wVXBGb3JtLCJ0ciIpLnByZXZpb3VzU2libGluZzsKaWYoaC5pZD09IiIpe3JldHVybjsKfXZhciBnPWguaWQuc3BsaXQoIl9fIilbMF07CnZhciBmPSRmaW5kKGcpOwppZighZil7cmV0dXJuOwp9aWYoIWYuZ2V0X293bmVyKCkuX2NhbkhhbmRsZUtleWJvYXJkQWN0aW9uKGIpKXtyZXR1cm47Cn12YXIgYTsKaWYoYyl7YT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZEtleVByZXNzRXZlbnRBcmdzKGIpOwpmLmdldF9vd25lcigpLnJhaXNlX2tleVByZXNzKGEpOwppZighYS5nZXRfY2FuY2VsKCkpe2YuY2FuY2VsVXBkYXRlKGgpOwp9Yi5wcmV2ZW50RGVmYXVsdCgpOwpiLnN0b3BQcm9wYWdhdGlvbigpOwp9ZWxzZXtpZihpKXthPW5ldyBUZWxlcmlrLldlYi5VSS5HcmlkS2V5UHJlc3NFdmVudEFyZ3MoYik7CmYuZ2V0X293bmVyKCkucmFpc2Vfa2V5UHJlc3MoYSk7CmlmKCFhLmdldF9jYW5jZWwoKSl7Zi51cGRhdGVJdGVtKGgpOwp9Yi5wcmV2ZW50RGVmYXVsdCgpOwpiLnN0b3BQcm9wYWdhdGlvbigpOwp9fX0sX3BvcFVwTW91c2VEb3duOmZ1bmN0aW9uKGEpe3RoaXMuY2FuTW92ZT10cnVlOwp0aGlzLm9yaWdpbmFsTGVmdD10aGlzLm9mZnNldExlZnQtYS5jbGllbnRYOwp0aGlzLm9yaWdpbmFsVG9wPXRoaXMub2Zmc2V0VG9wLWEuY2xpZW50WTsKaWYoISgkdGVsZXJpay5pc0ZpcmVmb3gmJmEuYnV0dG9uPT0yJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1hYyIpKSl7VGVsZXJpay5XZWIuVUkuR3JpZC5DbGVhckRvY3VtZW50RXZlbnRzKCk7Cn1yZXR1cm4gZmFsc2U7Cn0sX3BvcFVwTW91c2VPdXQ6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuY2FuTW92ZSl7cmV0dXJuOwp9dmFyIGI7CmlmKGEucmF3RXZlbnQucmVsYXRlZFRhcmdldCl7Yj1hLnJhd0V2ZW50LnJlbGF0ZWRUYXJnZXQ7Cn1lbHNle2I9YS5yYXdFdmVudC50b0VsZW1lbnQ7Cn1pZighYil7dGhpcy5jYW5Nb3ZlPWZhbHNlOwpUZWxlcmlrLldlYi5VSS5HcmlkLlJlc3RvcmVEb2N1bWVudEV2ZW50cygpOwp9cmV0dXJuIGZhbHNlOwp9LF9wb3BVcE1vdXNlVXA6ZnVuY3Rpb24oYil7aWYoIXRoaXMuY2FuTW92ZSl7cmV0dXJuOwp9dGhpcy5jYW5Nb3ZlPWZhbHNlOwp2YXIgYT10aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKVswXTsKdmFyIGQ9YS5pZDsKdmFyIGc9ZC5zcGxpdCgiX18iKVswXTsKdmFyIGY9JGZpbmQoZyk7CmlmKGYpe3ZhciBjPWYuX293bmVyOwpjLl9wb3BVcExvY2F0aW9uc1tkXT1wYXJzZUludCh0aGlzLnN0eWxlLmxlZnQsMTApKyJweCwiK3BhcnNlSW50KHRoaXMuc3R5bGUudG9wLDEwKSsicHgiOwpjLnVwZGF0ZUNsaWVudFN0YXRlKCk7CmMucmVzaXplTW9kYWxCYWNrZ3JvdW5kKCk7Cn1UZWxlcmlrLldlYi5VSS5HcmlkLlJlc3RvcmVEb2N1bWVudEV2ZW50cygpOwp9LF9wb3BVcE1vdXNlTW92ZTpmdW5jdGlvbihhKXtpZih0aGlzLmNhbk1vdmUpe3RoaXMuc3R5bGUubGVmdD1hLmNsaWVudFgrdGhpcy5vcmlnaW5hbExlZnQrInB4IjsKdGhpcy5zdHlsZS50b3A9YS5jbGllbnRZK3RoaXMub3JpZ2luYWxUb3ArInB4IjsKcmV0dXJuIGZhbHNlOwp9fSxfaXNSb3dEcmFnZ2VkOmZ1bmN0aW9uKGEpe3JldHVybiAkZ2V0KFN0cmluZy5mb3JtYXQoInswfV9EcmFnZ2VkUm93cyIsdGhpcy5nZXRfaWQoKSkpIT1udWxsOwp9LF9tb3VzZURvd246ZnVuY3Rpb24oZCl7aWYoISR0ZWxlcmlrLmlzVG91Y2hEZXZpY2UmJmQucmF3RXZlbnQuYnV0dG9uIT1TeXMuVUkuTW91c2VCdXR0b24ubGVmdEJ1dHRvbiYmdGhpcy5fZHJhZ2dlZFJvdyl7aWYoIXRoaXMuZ2V0X21hc3RlclRhYmxlVmlldygpKXt0aGlzLl9jbGVhckRyYWcoKTsKcmV0dXJuOwp9dGhpcy5fZHJhZ2dlZFJvdy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2RyYWdnZWRSb3cpOwp0aGlzLl9kcmFnZ2VkUm93PW51bGw7CnRoaXMuX2NsZWFyRHJhZygpOwpyZXR1cm47Cn12YXIgczsKaWYoJHRlbGVyaWsuaXNUb3VjaERldmljZSl7cz0kdGVsZXJpay5nZXRUb3VjaFRhcmdldChkKTsKaWYocy50YWdOYW1lJiZzLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InRkIiYmdGhpcy5nZXRfZXZlbnRzKCkuZ2V0SGFuZGxlcigicm93RGJsQ2xpY2siKSl7JHRlbGVyaWsuY2FuY2VsUmF3RXZlbnQoZCk7Cn19ZWxzZXtzPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Q3VycmVudEVsZW1lbnQoZCk7Cn12YXIgaz1zLmlkJiZzLmlkLmluZGV4T2YoIlJvd0RyYWdIYW5kbGUiKT4tMTsKaWYodGhpcy5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuQWxsb3dTY3JvbGwmJiR0ZWxlcmlrLmlzVG91Y2hEZXZpY2UmJnRoaXMuQ2xpZW50U2V0dGluZ3MuQWxsb3dSb3dzRHJhZ0Ryb3AmJiFrJiZzLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InRkIiYmVGVsZXJpay5XZWIuVUkuR3JpZC5Jc0NoaWxkT2Yocyx0aGlzLkdyaWREYXRhRGl2KSl7cmV0dXJuICR0ZWxlcmlrLmNhbmNlbFJhd0V2ZW50KCk7Cn12YXIgcD1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKHMsInRyIik7CmlmKCFwfHxwLmlkPT0iIil7cmV0dXJuOwp9dmFyIGw9dGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkuX2dldFJvd0J5SW5kZXhPckl0ZW1JbmRleEhpZXJhcmNoaWNhbChwKTsKdmFyIG89bC5pZC5zcGxpdCgiX18iKVswXTsKdmFyIG49JGZpbmQobyk7CmlmKCFufHwobi5fZGF0YS5fdXNlRHJhZ0NvbHVtbiYmIWspKXtyZXR1cm47Cn1pZigoIXRoaXMuX2NhblJpc2VSb3dFdmVudChkKSYmIWspfHwodGhpcy5faXNSb3dSZXNpemUmJnRoaXMuX2lzUm93UmVzaXplPT10cnVlKSl7cmV0dXJuOwp9aWYodGhpcy5fc2VsZWN0ZWRJbmRleGVzLmxlbmd0aD09MCYmdGhpcy5nZXRfYWxsb3dNdWx0aVJvd1NlbGVjdGlvbigpJiZ0aGlzLkNsaWVudFNldHRpbmdzLlNlbGVjdGluZy5FbmFibGVEcmFnVG9TZWxlY3RSb3dzJiYhayl7cmV0dXJuOwp9aWYodGhpcy5nZXRfYWxsb3dNdWx0aVJvd1NlbGVjdGlvbigpJiYoZC5jdHJsS2V5fHwoZC5yYXdFdmVudCYmZC5yYXdFdmVudC5tZXRhS2V5KSkpe3JldHVybjsKfWlmKHRoaXMuX2RyYWdnZWRJdGVtcyl7dGhpcy5fZHJhZ2dlZEl0ZW1zPVtdOwp9dmFyIGc9ZmFsc2U7CnZhciBqOwpmb3Ioaj0wOwpqPHRoaXMuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbC5sZW5ndGg7CmorKyl7aWYodGhpcy5fc2VsZWN0ZWRJdGVtc0ludGVybmFsW2pdLmlkPT1wLmlkKXtnPXRydWU7CmJyZWFrOwp9fWlmKCFnKXt2YXIgbT10aGlzLmdldF9hbGxvd011bHRpUm93U2VsZWN0aW9uKCkmJiF0aGlzLkNsaWVudFNldHRpbmdzLlNlbGVjdGluZy5FbmFibGVEcmFnVG9TZWxlY3RSb3dzOwppZihUZWxlcmlrLldlYi5VSS5HcmlkU2VsZWN0aW9uJiZ0aGlzLl9zZWxlY3Rpb24mJihtfHwhdGhpcy5nZXRfYWxsb3dNdWx0aVJvd1NlbGVjdGlvbigpfHxrKSl7dmFyIGY9dGhpcy5DbGllbnRTZXR0aW5ncy5FbmFibGVQb3N0QmFja09uUm93Q2xpY2s7CnRoaXMuQ2xpZW50U2V0dGluZ3MuRW5hYmxlUG9zdEJhY2tPblJvd0NsaWNrPWZhbHNlOwp0aGlzLl9zZWxlY3Rpb24uX2NsaWNrKGQpOwp0aGlzLkNsaWVudFNldHRpbmdzLkVuYWJsZVBvc3RCYWNrT25Sb3dDbGljaz1mOwppZih0aGlzLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWwubGVuZ3RoPT0wfHx0aGlzLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWxbMF0uaWQhPXAuaWQpe3JldHVybjsKfX1lbHNle3JldHVybjsKfX10aGlzLl9jYW5Nb3ZlUm93PXRydWU7CnRoaXMuX29yaWdpbmFsRHJhZ0l0ZW09cDsKdmFyIGE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUNhbmNlbEV2ZW50QXJncyhwLGQpOwp0aGlzLnJhaXNlX3Jvd0RyYWdTdGFydGVkKGEpOwppZihhLmdldF9jYW5jZWwoKSl7cmV0dXJuOwp9dGhpcy5fZHJhZ2dlZFJvdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKdGhpcy5fZHJhZ2dlZFJvdy5pZD1TdHJpbmcuZm9ybWF0KCJ7MH1fRHJhZ2dlZFJvd3MiLHRoaXMuZ2V0X2lkKCkpOwp0aGlzLl9kcmFnZ2VkUm93LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CnRoaXMuX2RyYWdnZWRSb3cuY2xhc3NOYW1lPXRoaXMuZ2V0X2VsZW1lbnQoKS5jbGFzc05hbWU7CnZhciBiPVtdOwp2YXIgcT1uLmdldF9zZWxlY3RlZEl0ZW1zKCk7CmZvcihqPTA7Cmo8cS5sZW5ndGg7CmorKyl7aWYoQXJyYXkuY29udGFpbnMobi5nZXRfZGF0YUl0ZW1zKCkscVtqXSkpe3ZhciBjPXFbal0uZ2V0X2VsZW1lbnQoKTsKaWYodGhpcy5nZXRfZW5hYmxlQXJpYVN1cHBvcnQoKSl7Yy5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtZHJvcGVmZmVjdCIpOwpjLnNldEF0dHJpYnV0ZSgiYXJpYS1ncmFiYmVkIiwidHJ1ZSIpOwp9YltiLmxlbmd0aF09U3RyaW5nLmZvcm1hdCgiPHRyIGNsYXNzPSd7MH0nPiIsYy5jbGFzc05hbWUpOwpiW2IubGVuZ3RoXT1jLmlubmVySFRNTDsKYltiLmxlbmd0aF09IjwvdHI+IjsKQXJyYXkuYWRkKHRoaXMuX2RyYWdnZWRJdGVtcyxxW2pdKTsKfX12YXIgaD1wLnBhcmVudE5vZGUucGFyZW50Tm9kZTsKdGhpcy5fZHJhZ2dlZFJvdy5pbm5lckhUTUw9U3RyaW5nLmZvcm1hdCgiPHRhYmxlIGNsYXNzPSd7MH0nPnsxfTx0Ym9keT57Mn08L3Rib2R5PjwvdGFibGU+IixoLmNsYXNzTmFtZSxoLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJjb2xncm91cCIpWzBdLm91dGVySFRNTCxiLmpvaW4oIiIpKTsKdmFyIHI9dGhpcy5fZHJhZ2dlZFJvdy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGFibGUiKVswXTsKaWYodGhpcy5fZHJhZ2dlZFJvdy5tZXJnZUF0dHJpYnV0ZXMpe3RoaXMuX2RyYWdnZWRSb3cubWVyZ2VBdHRyaWJ1dGVzKHRoaXMuZ2V0X2VsZW1lbnQoKSk7Cn1lbHNle1RlbGVyaWsuV2ViLlVJLkdyaWQuQ29weUF0dHJpYnV0ZXModGhpcy5fZHJhZ2dlZFJvdyx0aGlzLmdldF9lbGVtZW50KCkpOwp9dGhpcy5fZHJhZ2dlZFJvdy5jbGFzc05hbWUrPVN0cmluZy5mb3JtYXQoIiBHcmlkRHJhZ2dlZFJvd3MgR3JpZERyYWdnZWRSb3dzX3swfSIsdGhpcy5Ta2luKTsKdGhpcy5fZHJhZ2dlZFJvdy5zdHlsZS5oZWlnaHQ9IiI7CmlmKHIubWVyZ2VBdHRyaWJ1dGVzKXtyLm1lcmdlQXR0cmlidXRlcyhoKTsKfWVsc2V7VGVsZXJpay5XZWIuVUkuR3JpZC5Db3B5QXR0cmlidXRlcyhyLGgpOwp9ci5zdHlsZS5oZWlnaHQ9IiI7CnIuc3R5bGUubWFyZ2luPSIiOwp0aGlzLl9kcmFnZ2VkUm93LnN0eWxlLnpJbmRleD05OTk5OTsKdGhpcy5fZHJhZ2dlZFJvdy5zdHlsZS5kaXNwbGF5PSJub25lIjsKdGhpcy5fZHJhZ2dlZFJvdy5zdHlsZS53aWR0aD10aGlzLmdldF9lbGVtZW50KCkub2Zmc2V0V2lkdGgrInB4IjsKZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUodGhpcy5fZHJhZ2dlZFJvdyxkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpOwp0aGlzLl9jcmVhdGVEcm9wQ2x1ZSgpOwppZighKCR0ZWxlcmlrLmlzRmlyZWZveCYmZC5idXR0b249PTImJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTWFjIikpKXtUZWxlcmlrLldlYi5VSS5HcmlkLkNsZWFyRG9jdW1lbnRFdmVudHMoKTsKfXJldHVybiBmYWxzZTsKfSxfY3JlYXRlRHJvcENsdWU6ZnVuY3Rpb24oKXt0aGlzLl9kcm9wQ2x1ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9kcm9wQ2x1ZSk7CnRoaXMuX2Ryb3BDbHVlLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7CnRoaXMuX2Ryb3BDbHVlLnN0eWxlLmhlaWdodD0iNXB4IjsKfSxfcG9zaXRpb25Ecm9wQ2x1ZTpmdW5jdGlvbihjKXtpZih0aGlzLl9kcm9wQ2x1ZT09Yy50YXJnZXQpe3JldHVybjsKfWlmKCF0aGlzLmdldF9tYXN0ZXJUYWJsZVZpZXcoKSl7cmV0dXJuOwp9dmFyIGE7CmlmKCR0ZWxlcmlrLmlzVG91Y2hEZXZpY2Upe2E9JHRlbGVyaWsuZ2V0VG91Y2hUYXJnZXQoYyk7Cn1lbHNle2E9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRDdXJyZW50RWxlbWVudChjKTsKfXZhciBiPW51bGw7CmlmKGEpe3ZhciBpPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Rmlyc3RQYXJlbnRCeVRhZ05hbWUoYSwidHIiKTsKaWYoaSYmaS5pZCE9IiIpe3ZhciBoPXRoaXMuX2dldFBhcmVudFJhZEdyaWRDb250cm9sKGEpOwppZihUZWxlcmlrLldlYi5VSS5HcmlkLklzQ2hpbGRPZihhLHRoaXMuZ2V0X2VsZW1lbnQoKSkpe2lmKGkhPXRoaXMuX29yaWdpbmFsRHJhZ0l0ZW0pe2I9dGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkuX2dldFJvd0J5SW5kZXhPckl0ZW1JbmRleEhpZXJhcmNoaWNhbChpKTsKfX1lbHNle2lmKGgpe2lmKCFoLmdldF9tYXN0ZXJUYWJsZVZpZXcoKSl7cmV0dXJuOwp9aT1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKGEsInRyIik7CmI9aC5nZXRfbWFzdGVyVGFibGVWaWV3KCkuX2dldFJvd0J5SW5kZXhPckl0ZW1JbmRleEhpZXJhcmNoaWNhbChpKTsKfX19ZWxzZXtpZihpJiZpLmNsYXNzTmFtZSYmaS5jbGFzc05hbWUuaW5kZXhPZigicmdOb1JlY29yZHMiKSE9LTEpe2I9aTsKfX19aWYoIWIpe2lmKCEoJHRlbGVyaWsuaXNEZXNjZW5kYW50T3JTZWxmKHRoaXMuX2RyYWdnZWRSb3csYSkpKXt0aGlzLl9kcm9wQ2x1ZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iOwp9cmV0dXJuOwp9dGhpcy5fZHJvcENsdWUucm93PWI7CnRoaXMuX2Ryb3BDbHVlLnN0eWxlLndpZHRoPWIub2Zmc2V0V2lkdGgrInB4IjsKdmFyIGc9YjsKdmFyIGQ9JHRlbGVyaWsuZ2V0TG9jYXRpb24oZyk7CnRoaXMuX2Ryb3BDbHVlLnN0eWxlLmxlZnQ9ZC54KyJweCI7CnZhciBmOwppZigkdGVsZXJpay5pc1RvdWNoRGV2aWNlKXtmPSR0ZWxlcmlrLmdldFRvdWNoRXZlbnRMb2NhdGlvbihjKTsKfWVsc2V7Zj10aGlzLl9nZXRNb3VzZVBvc2l0aW9uKGMpOwp9dGhpcy5fZHJvcENsdWUuc3R5bGUuZGlzcGxheT0iIjsKdGhpcy5fZHJvcENsdWUuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSI7CmlmKGYueTwoZC55KyhnLm9mZnNldEhlaWdodC8yKSkpe3RoaXMuX2Ryb3BDbHVlLnN0eWxlLnRvcD0oZC55KSsicHgiOwppZih0aGlzLlNraW4hPSIiKXt0aGlzLl9kcm9wQ2x1ZS5jbGFzc05hbWU9U3RyaW5nLmZvcm1hdCgiR3JpZEl0ZW1Ecm9wSW5kaWNhdG9yIEdyaWRJdGVtRHJvcEluZGljYXRvcl97MH0iLHRoaXMuU2tpbik7Cn1lbHNle3RoaXMuX2Ryb3BDbHVlLnN0eWxlLmJvcmRlclRvcD0iMXB4IGRvdHRlZCBibGFjayI7CnRoaXMuX2Ryb3BDbHVlLnN0eWxlWyJmb250LXNpemUiXT0iM3B4IjsKdGhpcy5fZHJvcENsdWUuc3R5bGVbImxpbmUtaGVpZ2h0Il09IjNweCI7CnRoaXMuX2Ryb3BDbHVlLnN0eWxlLmhlaWdodD0iMXB4IjsKdGhpcy5fZHJvcENsdWUuY2xhc3NOYW1lPSJHcmlkSXRlbURyb3BJbmRpY2F0b3IiOwp9dGhpcy5fZHJhZ2dpbmdQb3NpdGlvbj0iYWJvdmUiOwp9ZWxzZXt0aGlzLl9kcm9wQ2x1ZS5zdHlsZS50b3A9KGQueStnLm9mZnNldEhlaWdodCkrInB4IjsKaWYodGhpcy5Ta2luIT0iIil7dGhpcy5fZHJvcENsdWUuY2xhc3NOYW1lPVN0cmluZy5mb3JtYXQoIkdyaWRJdGVtRHJvcEluZGljYXRvciBHcmlkSXRlbURyb3BJbmRpY2F0b3JfezB9Iix0aGlzLlNraW4pOwp9ZWxzZXt0aGlzLl9kcm9wQ2x1ZS5zdHlsZS5ib3JkZXJUb3A9IjFweCBkb3R0ZWQgYmxhY2siOwp0aGlzLl9kcm9wQ2x1ZS5zdHlsZVsiZm9udC1zaXplIl09IjNweCI7CnRoaXMuX2Ryb3BDbHVlLnN0eWxlWyJsaW5lLWhlaWdodCJdPSIzcHgiOwp0aGlzLl9kcm9wQ2x1ZS5zdHlsZS5oZWlnaHQ9IjFweCI7CnRoaXMuX2Ryb3BDbHVlLmNsYXNzTmFtZT0iR3JpZEl0ZW1Ecm9wSW5kaWNhdG9yIjsKfXRoaXMuX2RyYWdnaW5nUG9zaXRpb249ImJlbG93IjsKfX0sX2dldE1vdXNlUG9zaXRpb246ZnVuY3Rpb24oYSl7dmFyIGQ9JHRlbGVyaWsuZ2V0U2Nyb2xsT2Zmc2V0KGRvY3VtZW50LmJvZHksdHJ1ZSk7CnZhciBiPWEuY2xpZW50WDsKdmFyIGM9YS5jbGllbnRZOwpiKz1kLng7CmMrPWQueTsKcmV0dXJue3g6Yix5OmN9Owp9LF9tb3VzZVVwOmZ1bmN0aW9uKG0pe3RoaXMuX2Nhbk1vdmVSb3c9ZmFsc2U7CnZhciBxOwp2YXIgdDsKdmFyIHc7CnZhciBhPW51bGw7CnZhciBoOwppZih0aGlzLl9kcmFnZ2VkUm93KXtpZighdGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkpe3RoaXMuX2NsZWFyRHJhZygpOwpyZXR1cm47Cn10aGlzLl9kcmFnZ2VkUm93LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fZHJhZ2dlZFJvdyk7CnRoaXMuX2RyYWdnZWRSb3c9bnVsbDsKdmFyIGM7CmlmKCR0ZWxlcmlrLmlzVG91Y2hEZXZpY2Upe2M9JHRlbGVyaWsuZ2V0VG91Y2hUYXJnZXQobSk7Cn1lbHNle2M9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRDdXJyZW50RWxlbWVudChtKTsKfWlmKGMpe2lmKGM9PXRoaXMuX2Ryb3BDbHVlKXtjPXRoaXMuX2Ryb3BDbHVlLnJvdzsKfWVsc2V7aWYoYy5pZCYmYy5pZC5pbmRleE9mKCJfR3JpZERhdGEiKSE9LTEpe3ZhciBGPSRmaW5kKGMuaWQucmVwbGFjZSgiX0dyaWREYXRhIiwiIikpOwppZihGJiZPYmplY3QuZ2V0VHlwZShGKS5nZXROYW1lKCk9PSJUZWxlcmlrLldlYi5VSS5SYWRHcmlkIil7dmFyIHg9Ri5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X2VsZW1lbnQoKS5yb3dzOwppZih4Lmxlbmd0aD4wKXtjPXhbeC5sZW5ndGgtMV0uY2VsbHNbMF07CnRoaXMuX2RyYWdnaW5nUG9zaXRpb249ImJlbG93IjsKfX19fWg9dGhpcy5fZHJhZ2dlZEl0ZW1zOwp2YXIgQz1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKGMsInRyIik7CnZhciBCPXRoaXMuX2RyYWdnaW5nUG9zaXRpb247CmlmKEMmJkMuaWQ9PSIiKXtDPW51bGw7CkI9bnVsbDsKfXZhciBvPW5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRHJhZ0Ryb3BDYW5jZWxFdmVudEFyZ3MoQyxtLGgsYyxudWxsLEIpOwp0aGlzLnJhaXNlX3Jvd0Ryb3BwaW5nKG8pOwppZighby5nZXRfY2FuY2VsKCkpe2lmKEM9PXRoaXMuX29yaWdpbmFsRHJhZ0l0ZW0pe2lmKHRoaXMuZ2V0X2VuYWJsZUFyaWFTdXBwb3J0KCkpe2Zvcih0PTA7CnQ8aC5sZW5ndGg7CnQrKyl7dmFyIGw9aFt0XS5nZXRfZWxlbWVudCgpOwpsLnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1ncmFiYmVkIik7Cmwuc2V0QXR0cmlidXRlKCJhcmlhLWRyb3BlZmZlY3QiLCJtb3ZlIik7Cn19dGhpcy5fY2xlYXJEcmFnKCk7CnRoaXMucmFpc2Vfcm93RHJvcHBlZChvKTsKcmV0dXJuOwp9dmFyIGI7CnZhciBBPXRoaXMuX2dldFBhcmVudFJhZEdyaWRDb250cm9sKGMpOwppZihBKXt2YXIgRD1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKGMsInRyIik7CmlmKCFEfHxEPT10aGlzLl9vcmlnaW5hbERyYWdJdGVtfHwhQS5nZXRfbWFzdGVyVGFibGVWaWV3KCkpe3RoaXMuX2NsZWFyRHJhZygpOwpyZXR1cm47Cn12YXIgZD1EOwp2YXIgeT1BLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5fZGF0YS5VbmlxdWVJRDsKaWYoRC5pZCE9IiIpe2Q9QS5nZXRfbWFzdGVyVGFibGVWaWV3KCkuX2dldFJvd0J5SW5kZXhPckl0ZW1JbmRleEhpZXJhcmNoaWNhbChEKTsKdmFyIGc9JGZpbmQoZC5pZC5zcGxpdCgiX18iKVswXSk7CmlmKGcpe3k9Zy5fZGF0YS5VbmlxdWVJRDsKfX1lbHNle3ZhciBuPWZhbHNlOwppZihBLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfZWxlbWVudCgpLnRCb2RpZXMubGVuZ3RoPjApe2Zvcih0PTAsdz1BLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfZWxlbWVudCgpLnRCb2RpZXNbMF0ucm93cy5sZW5ndGg7CnQ8dzsKdCsrKXtpZihEPT1BLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfZWxlbWVudCgpLnRCb2RpZXNbMF0ucm93c1t0XSl7bj10cnVlOwpicmVhazsKfXZhciBzPUEuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9lbGVtZW50KCkudEJvZGllc1swXS5yb3dzW3RdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0YWJsZSIpOwpmb3IodmFyIHU9MCx2PXMubGVuZ3RoOwp1PHY7CnUrKyl7aWYoc1t1XSYmdGhpcy5faXNDaGlsZFJvd0VsZW1lbnQoRCxzW3VdKSl7dmFyIEU9JGZpbmQoc1t1XS5pZCk7CmlmKEUpe3k9RS5fZGF0YS5VbmlxdWVJRDsKfW49dHJ1ZTsKYnJlYWs7Cn19aWYobil7YnJlYWs7Cn19fWlmKCFuKXtyZXR1cm47Cn19aD10aGlzLl9kcmFnZ2VkSXRlbXM7CmE9bnVsbDsKaWYoZC5pZCE9IiIpe2E9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREcmFnRHJvcENhbmNlbEV2ZW50QXJncyhkLG0saCxudWxsLEEsdGhpcy5fZHJhZ2dpbmdQb3NpdGlvbik7Cn1lbHNle3ZhciB6PVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Rmlyc3RQYXJlbnRSb3dXaXRoSUQoZCk7CmlmKHohPW51bGwmJnouaWQhPSIiKXtkPXo7CmE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREcmFnRHJvcENhbmNlbEV2ZW50QXJncyhkLG0saCxudWxsLEEsdGhpcy5fZHJhZ2dpbmdQb3NpdGlvbik7Cn1lbHNle2E9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREcmFnRHJvcENhbmNlbEV2ZW50QXJncyhudWxsLG0saCxudWxsLEEsdGhpcy5fZHJhZ2dpbmdQb3NpdGlvbik7Cn19dGhpcy5yYWlzZV9yb3dEcm9wcGVkKGEpOwp0aGlzLl9kcmFnZ2VkSXRlbXNJbmRleGVzPVtdOwpmb3IocT0wOwpxPGgubGVuZ3RoOwpxKyspe0FycmF5LmFkZCh0aGlzLl9kcmFnZ2VkSXRlbXNJbmRleGVzLGhbcV0uX2l0ZW1JbmRleEhpZXJhcmNoaWNhbCk7Cn10aGlzLnVwZGF0ZUNsaWVudFN0YXRlKCk7CnZhciBmPWQuaWQuc3BsaXQoIl9fIilbMV07CmI9U3RyaW5nLmZvcm1hdCgiezB9LHsxfSx7Mn0sezN9IixmLEEuVW5pcXVlSUQsdGhpcy5fZHJhZ2dpbmdQb3NpdGlvbix5KTsKdGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZmlyZUNvbW1hbmQoIlJvd0Ryb3BwZWQiLGIpOwp9ZWxzZXt2YXIgcD1vLmdldF9kZXN0aW5hdGlvbkh0bWxFbGVtZW50KCk7Cmg9dGhpcy5fZHJhZ2dlZEl0ZW1zOwphPW5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRHJhZ0Ryb3BDYW5jZWxFdmVudEFyZ3MobnVsbCxtLGgscCxudWxsLG51bGwpOwp0aGlzLnJhaXNlX3Jvd0Ryb3BwZWQoYSk7CnRoaXMuX2RyYWdnZWRJdGVtc0luZGV4ZXM9W107CmZvcihxPTA7CnE8aC5sZW5ndGg7CnErKyl7QXJyYXkuYWRkKHRoaXMuX2RyYWdnZWRJdGVtc0luZGV4ZXMsaFtxXS5faXRlbUluZGV4SGllcmFyY2hpY2FsKTsKfXRoaXMudXBkYXRlQ2xpZW50U3RhdGUoKTsKaWYocC5pZCl7Yj1TdHJpbmcuZm9ybWF0KCJ7MH0sezF9LHsyfSx7M30iLHAuaWQsIiIsIiIsIiIpOwp9dGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZmlyZUNvbW1hbmQoIlJvd0Ryb3BwZWRIdG1sIixiKTsKfX19VGVsZXJpay5XZWIuVUkuR3JpZC5SZXN0b3JlRG9jdW1lbnRFdmVudHMoKTsKfXRoaXMuX2NsZWFyRHJhZygpOwp9LF9jbGVhckRyYWc6ZnVuY3Rpb24oKXtpZih0aGlzLl9kcm9wQ2x1ZSl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLl9kcm9wQ2x1ZSk7CnRoaXMuX2Ryb3BDbHVlPW51bGw7Cn1pZih0aGlzLl9kcmFnZ2VkSXRlbXMpe3RoaXMuX2RyYWdnZWRJdGVtcz1bXTsKfXRoaXMuX2RyYWdnaW5nUG9zaXRpb249ImFib3ZlIjsKVGVsZXJpay5XZWIuVUkuR3JpZC5SZXN0b3JlRG9jdW1lbnRFdmVudHMoKTsKfSxfaXNDaGlsZFJvd0VsZW1lbnQ6ZnVuY3Rpb24oYyxkKXtmb3IodmFyIGE9MCxiPWQudEJvZGllc1swXS5yb3dzLmxlbmd0aDsKYTxiOwphKyspe2lmKGM9PWQudEJvZGllc1swXS5yb3dzW2FdKXtyZXR1cm4gdHJ1ZTsKfX1yZXR1cm4gZmFsc2U7Cn0sX2dldFBhcmVudFJhZEdyaWRDb250cm9sOmZ1bmN0aW9uKGIpe3doaWxlKGIpe2lmKGIuaWQmJmIuaWQhPSIiKXt0cnl7dmFyIGM9JGZpbmQoYi5pZCk7CmlmKGMmJk9iamVjdC5nZXRUeXBlKGMpLmdldE5hbWUoKT09IlRlbGVyaWsuV2ViLlVJLlJhZEdyaWQiKXtyZXR1cm4gYzsKfX1jYXRjaChhKXt9fWI9Yi5wYXJlbnROb2RlOwp9cmV0dXJuIG51bGw7Cn0sX2NhbmNlbEV2ZW50OmZ1bmN0aW9uKGEpe3JldHVybiBmYWxzZTsKfSxfbW91c2VNb3ZlOmZ1bmN0aW9uKGIpe2lmKHRoaXMuX2Nhbk1vdmVSb3cmJnRoaXMuX2RyYWdnZWRSb3cpe3ZhciBhPW5ldyBTeXMuRXZlbnRBcmdzKCk7CmEuZ2V0X2RvbUV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGI7Cn07CnRoaXMucmFpc2Vfcm93RHJhZ2dpbmcoYSk7CnRoaXMuX2RyYWdnZWRSb3cuc3R5bGUuZGlzcGxheT0iIjsKdGhpcy5fZHJhZ2dlZFJvdy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiOwpUZWxlcmlrLldlYi5VSS5HcmlkLlBvc2l0aW9uRHJhZ0VsZW1lbnQodGhpcy5fZHJhZ2dlZFJvdyxiKTsKdGhpcy5fcG9zaXRpb25Ecm9wQ2x1ZShiKTsKaWYodGhpcy5DbGllbnRTZXR0aW5ncy5TY3JvbGxpbmcuQWxsb3dTY3JvbGwmJnRoaXMuR3JpZERhdGFEaXYmJnRoaXMuQ2xpZW50U2V0dGluZ3MuQWxsb3dBdXRvU2Nyb2xsT25EcmFnRHJvcCl7dGhpcy5fYXV0b1Njcm9sbCgpOwp9aWYoJHRlbGVyaWsuaXNUb3VjaERldmljZSl7JHRlbGVyaWsuY2FuY2VsUmF3RXZlbnQoYik7Cn1yZXR1cm4gZmFsc2U7Cn19LF9hdXRvU2Nyb2xsOmZ1bmN0aW9uKCl7dmFyIGosYTsKdmFyIGQ9dGhpcy5HcmlkRGF0YURpdjsKaWYoIXRoaXMuX2RyYWdnZWRSb3d8fCF0aGlzLkdyaWREYXRhRGl2KXtyZXR1cm47Cn12YXIgYj0kdGVsZXJpay5nZXRMb2NhdGlvbih0aGlzLl9kcmFnZ2VkUm93KTsKaj0kdGVsZXJpay5nZXRMb2NhdGlvbihkKS55OwphPWorZC5vZmZzZXRIZWlnaHQ7CnZhciBoPWQuc2Nyb2xsVG9wPD0wOwp2YXIgZz1kLnNjcm9sbFRvcD49KGQuc2Nyb2xsSGVpZ2h0LWQub2Zmc2V0SGVpZ2h0KzE2KTsKdmFyIGY9Yi55LWo7CnZhciBlPWEtYi55Owp2YXIgYz10aGlzOwp2YXIgaTsKaWYoZjw1MCYmIWgpe2k9KDEwLShmLzUpKTsKZC5zY3JvbGxUb3A9ZC5zY3JvbGxUb3AtaTsKd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLl9hdXRvU2Nyb2xsKCk7Cn0sMTAwKTsKfWVsc2V7aWYoZTw1MCYmIWcpe2k9KDEwLShlLzUpKTsKZC5zY3JvbGxUb3A9ZC5zY3JvbGxUb3AraTsKd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLl9hdXRvU2Nyb2xsKHRoaXMuX21vdXNlUG9zKTsKfSwxMDApOwp9fX0sX2ZpbGxTZWxlY3RlZENlbGxzSW5kZXhlczpmdW5jdGlvbigpe2lmKHRoaXMuX3NlbGVjdGVkQ2VsbHNJbnRlcm5hbC5sZW5ndGg+MCl7dmFyIGE9bnVsbDsKZm9yKHZhciBiPTA7CmI8dGhpcy5fc2VsZWN0ZWRDZWxsc0ludGVybmFsLmxlbmd0aDsKYisrKXthPXRoaXMuX3NlbGVjdGVkQ2VsbHNJbnRlcm5hbFtiXS5jZWxsSW5kZXg7CmlmKCFBcnJheS5jb250YWlucyh0aGlzLl9zZWxlY3RlZENlbGxzSW5kZXhlcyxhKSl7QXJyYXkuYWRkKHRoaXMuX3NlbGVjdGVkQ2VsbHNJbmRleGVzLGEpOwp9fX19LF9maWxsVW5zZWxlY3RhYmxlSXRlbXNJbmRleGVzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5fdW5zZWxlY3RhYmxlSXRlbXNJbnRlcm5hbDsKaWYoYy5sZW5ndGg+MCl7dmFyIGE9bnVsbDsKZm9yKHZhciBiPTAsZD1jLmxlbmd0aDsKYjxkOwpiKyspe2E9Y1tiXS5pdGVtSW5kZXg7CmlmKCFBcnJheS5jb250YWlucyhjLGEpKXtBcnJheS5hZGQodGhpcy5fdW5zZWxlY3RhYmxlSXRlbXNJbmRleGVzLGEpOwp9fX19LGRpc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgaz0kZ2V0KFN0cmluZy5mb3JtYXQoIm1vZGFsRGl2SWRfezB9Iix0aGlzLmdldF9pZCgpKSk7CnZhciBqPWZhbHNlOwppZihrKXtqPXRydWU7CmsucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChrKTsKfWlmKHRoaXMuX29uUmVzaXplRGVsZWdhdGUpe3RyeXt3aW5kb3cuJHJlbW92ZUhhbmRsZXIod2luZG93LCJyZXNpemUiLHRoaXMuX29uUmVzaXplRGVsZWdhdGUpOwp0aGlzLl9vblJlc2l6ZURlbGVnYXRlPW51bGw7Cn1jYXRjaChkKXt9fWlmKHRoaXMuX2lzQmF0Y2hFZGl0aW5nRW5hYmxlZCYmdGhpcy5fcm93SGlnaGxpZ2h0aW5nRm9yRGVsZXRlZFJvd3MmJnRoaXMuX29uQmF0Y2hSb3dEZWxldGVEZWxlZ2F0ZSl7d2luZG93LiRyZW1vdmVIYW5kbGVyKHdpbmRvdywicmVzaXplIix0aGlzLl9vbkJhdGNoUm93RGVsZXRlRGVsZWdhdGUpOwp0aGlzLl9vbkJhdGNoUm93RGVsZXRlRGVsZWdhdGU9bnVsbDsKfWlmKHRoaXMuX2dyaWRJdGVtUmVzaXplcil7dGhpcy5fZ3JpZEl0ZW1SZXNpemVyLmRpc3Bvc2UoKTsKfWlmKHRoaXMuX3BvcFVwSWRzJiZ0aGlzLl9wb3BVcElkcyE9IiIpe3ZhciBhPWV2YWwodGhpcy5fcG9wVXBJZHMpOwpmb3IodmFyIGg9MDsKaDxhLmxlbmd0aDsKaCsrKXt2YXIgZj0kZ2V0KGFbaF0pOwppZihmKXtpZih0aGlzLmdldF9lbmFibGVBcmlhU3VwcG9ydCgpJiZqKXt2YXIgYz0iX3ByZXZlbnREZWZhdWx0QnV0dG9uXyIrdGhpcy5nZXRfaWQoKTsKaWYodGhlRm9ybS5maXJzdENoaWxkLm5hbWU9PWMpe3dpbmRvdy50aGVGb3JtLnJlbW92ZUNoaWxkKHRoZUZvcm0uZmlyc3RDaGlsZCk7Cn1mLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX21vZGFsUG9wdXBFZGl0Rm9ybUJsdXJIYW5kbGVyLHRydWUpOwp9dmFyIGI9Zi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2Iik7CmlmKGIubGVuZ3RoPjApe3dpbmRvdy4kY2xlYXJIYW5kbGVycyhiWzBdKTsKfX19fXRoaXMucmFpc2VfZ3JpZERlc3Ryb3lpbmcobmV3IFN5cy5FdmVudEFyZ3MoKSk7CmlmKHRoaXMuX2ZpbHRlckNoZWNrTGlzdENsaWVudElEJiZ0aGlzLl9jaGVja0xpc3RJdGVtc1JlcXVlc3RlZERlbGVnYXRlKXt2YXIgZz0kZmluZCh0aGlzLl9maWx0ZXJDaGVja0xpc3RDbGllbnRJRCk7CmlmKGcpe2cucmVtb3ZlX2l0ZW1zUmVxdWVzdGVkKHRoaXMuX2NoZWNrTGlzdEl0ZW1zUmVxdWVzdGVkRGVsZWdhdGUpOwp0aGlzLl9jaGVja0xpc3RJdGVtc1JlcXVlc3RlZERlbGVnYXRlPW51bGw7Cn19dGhpcy5fZGV0YWNoRG9tRXZlbnRzKCk7CndpbmRvdy4kY2xlYXJIYW5kbGVycyh0aGlzLmdldF9lbGVtZW50KCkpOwp0aGlzLl9ldmVudHM9bnVsbDsKaWYodGhpcy5fYmF0Y2hFZGl0aW5nKXt0aGlzLl9iYXRjaEVkaXRpbmcuZGlzcG9zZSgpOwp9aWYodGhpcy5fc2VsZWN0aW9uKXt0aGlzLl9zZWxlY3Rpb24uZGlzcG9zZSgpOwp9aWYodGhpcy5fc2Nyb2xsaW5nKXt0aGlzLl9zY3JvbGxpbmcuZGlzcG9zZSgpOwp9aWYodGhpcy5fY2xpZW50U2lkZUJpbmRpbmcpe3RoaXMuX2NsaWVudFNpZGVCaW5kaW5nLmRpc3Bvc2UoKTsKdGhpcy5fY2xpZW50U2lkZUJpbmRpbmc9bnVsbDsKfWlmKHRoaXMuX2ZpbHRlck1lbnUpe2lmKHRoaXMuX29uRmlsdGVyTWVudUNsaWNrKXt0aGlzLl9maWx0ZXJNZW51LnJlbW92ZV9pdGVtQ2xpY2tlZCh0aGlzLl9vbkZpbHRlck1lbnVDbGlja2luZyk7CnRoaXMuX2ZpbHRlck1lbnUucmVtb3ZlX2l0ZW1DbGlja2VkKHRoaXMuX29uRmlsdGVyTWVudUNsaWNrKTsKdGhpcy5fZmlsdGVyTWVudS5yZW1vdmVfaGlkZGVuKHRoaXMuX29uRmlsdGVyTWVudUhpZGRlbkRlbGVnYXRlKTsKdGhpcy5fb25GaWx0ZXJNZW51SGlkZGVuRGVsZWdhdGU9bnVsbDsKfXRoaXMuX2ZpbHRlck1lbnU9bnVsbDsKfWlmKHRoaXMuX2hlYWRlckNvbnRleHRNZW51KXt0aGlzLl9oZWFkZXJDb250ZXh0TWVudT1udWxsOwp9aWYoU3lzLldlYkZvcm1zJiZTeXMuV2ViRm9ybXMuUGFnZVJlcXVlc3RNYW5hZ2VyKXt2YXIgbD1TeXMuV2ViRm9ybXMuUGFnZVJlcXVlc3RNYW5hZ2VyLmdldEluc3RhbmNlKCk7CmlmKGwmJnRoaXMuX2luaXRpYWxpemVSZXF1ZXN0SGFuZGxlcil7bC5yZW1vdmVfaW5pdGlhbGl6ZVJlcXVlc3QodGhpcy5faW5pdGlhbGl6ZVJlcXVlc3RIYW5kbGVyKTsKfX10aGlzLl9pbml0aWFsaXplUmVxdWVzdEhhbmRsZXI9bnVsbDsKaWYodGhpcy5HcmlkRGF0YURpdil7d2luZG93LiRjbGVhckhhbmRsZXJzKHRoaXMuR3JpZERhdGFEaXYpOwp9aWYodGhpcy5HcmlkSGVhZGVyRGl2KXt3aW5kb3cuJGNsZWFySGFuZGxlcnModGhpcy5HcmlkSGVhZGVyRGl2KTsKfWlmKHRoaXMuR3JpZEZvb3RlckRpdil7d2luZG93LiRjbGVhckhhbmRsZXJzKHRoaXMuR3JpZEZvb3RlckRpdik7Cn1pZih0aGlzLl9ncm91cFBhbmVsJiZ0aGlzLl9ncm91cFBhbmVsLmdldF9lbGVtZW50KCkpe3dpbmRvdy4kY2xlYXJIYW5kbGVycyh0aGlzLl9ncm91cFBhbmVsLmdldF9lbGVtZW50KCkpOwp9dGhpcy5fZHJhZ2dlZEl0ZW1zPW51bGw7CnRoaXMuQ29udHJvbD1udWxsOwp0aGlzLkdyaWREYXRhRGl2PW51bGw7CnRoaXMuR3JpZEhlYWRlckRpdj1udWxsOwp0aGlzLkdyaWRGb290ZXJEaXY9bnVsbDsKdGhpcy5QYWdlckNvbnRyb2w9bnVsbDsKdGhpcy5Ub3BQYWdlckNvbnRyb2w9bnVsbDsKdGhpcy5NYXN0ZXJUYWJsZVZpZXc9bnVsbDsKdGhpcy5NYXN0ZXJUYWJsZVZpZXdIZWFkZXI9bnVsbDsKdGhpcy5NYXN0ZXJUYWJsZVZpZXdGb290ZXI9bnVsbDsKdGhpcy5faGlkZWRDb2x1bW5zPVtdOwp0aGlzLl9zaG93ZWRDb2x1bW5zPVtdOwppZih0aGlzLmdldF9pc1VzaW5nT0RhdGFTb3VyY2UoKSl7dGhpcy5fZmxhdEJpbmRlci5fc291cmNlLnJlbW92ZV9yZXF1ZXN0U3VjY2VlZGVkKHRoaXMuX29EYXRhUmVxdWVzdFN1Y2NlZWRlZERlbGVnYXRlKTsKdGhpcy5fb0RhdGFSZXF1ZXN0U3VjY2VlZGVkRGVsZWdhdGU9bnVsbDsKfWlmKHRoaXMuQ2xpZW50U2V0dGluZ3MuQWxsb3dLZXlib2FyZE5hdmlnYXRpb24mJnRoaXMuX2RvY3VtZW50S2V5RG93bkRlbGVnYXRlKXskdGVsZXJpay5yZW1vdmVFeHRlcm5hbEhhbmRsZXIoZG9jdW1lbnQsImtleWRvd24iLHRoaXMuX2RvY3VtZW50S2V5RG93bkRlbGVnYXRlKTsKdGhpcy5fZG9jdW1lbnRLZXlEb3duRGVsZWdhdGU9bnVsbDsKfWlmKHRoaXMuQ2xpZW50U2V0dGluZ3MuQWxsb3dSb3dzRHJhZ0Ryb3Ape2lmKCR0ZWxlcmlrLmlzVG91Y2hEZXZpY2UpeyR0ZWxlcmlrLnJlbW92ZU1vYmlsZUhhbmRsZXIodGhpcy5nZXRfZWxlbWVudCgpLCJtb3VzZWRvd24iLHRoaXMuX29uTW91c2VEb3duRGVsZWdhdGUpOwp0aGlzLl9vbk1vdXNlRG93bkRlbGVnYXRlPW51bGw7Cn0kdGVsZXJpay5yZW1vdmVNb2JpbGVIYW5kbGVyKGRvY3VtZW50LCJtb3VzZXVwIix0aGlzLl9kb2N1bWVudE1vdXNlVXBEZWxlZ2F0ZSxudWxsLHRydWUpOwp0aGlzLl9kb2N1bWVudE1vdXNlVXBEZWxlZ2F0ZT1udWxsOwokdGVsZXJpay5yZW1vdmVNb2JpbGVIYW5kbGVyKGRvY3VtZW50LCJtb3VzZW1vdmUiLHRoaXMuX2RvY3VtZW50TW91c2VNb3ZlRGVsZWdhdGUsbnVsbCx0cnVlKTsKdGhpcy5fZG9jdW1lbnRNb3VzZU1vdmVEZWxlZ2F0ZT1udWxsOwp9aWYoIXRoaXMuQ2xpZW50U2V0dGluZ3MuQWxsb3dSb3dzRHJhZ0Ryb3AmJih0aGlzLl9kb2N1bWVudE1vdXNlVXBEZWxlZ2F0ZSYmJHRlbGVyaWsuaXNUb3VjaERldmljZSkpeyR0ZWxlcmlrLnJlbW92ZU1vYmlsZUhhbmRsZXIoZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuX2RvY3VtZW50TW91c2VVcERlbGVnYXRlLG51bGwsdHJ1ZSk7CnRoaXMuX2RvY3VtZW50TW91c2VVcERlbGVnYXRlPW51bGw7Cn1pZih0aGlzLkNsaWVudFNldHRpbmdzLlNjcm9sbGluZy5BbGxvd1Njcm9sbCYmJHRlbGVyaWsuaXNUb3VjaERldmljZSl7JHRlbGVyaWsucmVtb3ZlTW9iaWxlSGFuZGxlcih0aGlzLkdyaWREYXRhRGl2LCJtb3VzZWRvd24iLHRoaXMuX2RhdGFEaXZNb3VzZURvd25EZWxlZ2F0ZSk7CnRoaXMuX2RhdGFEaXZNb3VzZURvd25EZWxlZ2F0ZT1udWxsOwokdGVsZXJpay5yZW1vdmVNb2JpbGVIYW5kbGVyKHRoaXMuR3JpZERhdGFEaXYsIm1vdXNldXAiLHRoaXMuX2RhdGFEaXZNb3VzZVVwRGVsZWdhdGUpOwp0aGlzLl9kYXRhRGl2TW91c2VVcERlbGVnYXRlPW51bGw7CiR0ZWxlcmlrLnJlbW92ZU1vYmlsZUhhbmRsZXIodGhpcy5HcmlkRGF0YURpdiwibW91c2Vtb3ZlIix0aGlzLl9kYXRhRGl2TW91c2VNb3ZlRGVsZWdhdGUpOwp0aGlzLl9kYXRhRGl2TW91c2VNb3ZlRGVsZWdhdGU9bnVsbDsKfWlmKCR0ZWxlcmlrLmlzVG91Y2hEZXZpY2UpeyR0ZWxlcmlrLnJlbW92ZU1vYmlsZUhhbmRsZXIodGhpcy5HcmlkRGF0YURpdiwibW91c2Vkb3duIix0aGlzLl9zd2lwZVN0YXJ0RGVsZWdhdGUpOwp0aGlzLl9zd2lwZVN0YXJ0RGVsZWdhdGU9bnVsbDsKJHRlbGVyaWsucmVtb3ZlTW9iaWxlSGFuZGxlcih0aGlzLkdyaWREYXRhRGl2LCJtb3VzZXVwIix0aGlzLl9zd2lwZUVuZERlbGVnYXRlKTsKdGhpcy5fc3dpcGVFbmREZWxlZ2F0ZT1udWxsOwokdGVsZXJpay5yZW1vdmVNb2JpbGVIYW5kbGVyKHRoaXMuR3JpZERhdGFEaXYsIm1vdXNlbW92ZSIsdGhpcy5fc3dpcGVNb3ZlRGVsZWdhdGUpOwp0aGlzLl9zd2lwZU1vdmVEZWxlZ2F0ZT1udWxsOwp9d2luZG93W3RoaXMuQ2xpZW50SURdPW51bGw7ClRlbGVyaWsuV2ViLlVJLlJhZEdyaWQuY2FsbEJhc2VNZXRob2QodGhpcywiZGlzcG9zZSIpOwp9LF9pbml0aWFsaXplUmVxdWVzdDpmdW5jdGlvbihnLGEpe3ZhciBmPWEuZ2V0X3Bvc3RCYWNrRWxlbWVudCgpOwppZihhLmdldF9wb3N0QmFja0VsZW1lbnQoKT09dGhpcy5nZXRfZWxlbWVudCgpfHxUZWxlcmlrLldlYi5VSS5HcmlkLklzQ2hpbGRPZihmLHRoaXMuZ2V0X2VsZW1lbnQoKSkpe2lmKHRoaXMuX3N0YXR1c0xhYmVsSUQpe3ZhciBqPVsicmdFeHBYTFMiLCJyZ0V4cERPQyIsInJnRXhwUERGIiwicmdFeHBDU1YiXTsKdmFyIGg9dHJ1ZTsKdmFyIGI9Zi5jbGFzc05hbWU7CmZvcih2YXIgYz0wLGU9ai5sZW5ndGg7CmM8ZTsKYysrKXtpZihiLmluZGV4T2YoaltjXSkhPS0xKXtoPWZhbHNlOwpicmVhazsKfX1pZihoKXt2YXIgZD0kZ2V0KHRoaXMuX3N0YXR1c0xhYmVsSUQpOwppZihkKXtkLnRpdGxlPXRoaXMuX2xvYWRpbmdUZXh0OwpkLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiOwp9fX10aGlzLl9pc0FqYXhSZXF1ZXN0PXRydWU7Cn19LF9pbml0aWFsaXplT0RhdGFTb3VyY2VCaW5kZXI6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGI9ZC5nZXRfb2RhdGFDbGllbnRTZXR0aW5ncygpLk9EYXRhU291cmNlSUQsYT0kZmluZChiKTsKaWYoIWEpe3ZhciBjPVN0cmluZy5mb3JtYXQoIkRhdGFTb3VyY2Ugd2l0aCBpZCB7MH0gd2FzIG5vdCBmb3VuZCBvbiB0aGUgcGFnZSIsYik7CmFsZXJ0KGMpOwp9ZWxzZXtkLl9mbGF0QmluZGVyPW5ldyBUZWxlcmlrLldlYi5VSS5SYWRPRGF0YURhdGFTb3VyY2UuQmluZGVyLkZsYXQoYSxkKTsKZC5fZmxhdEJpbmRlci5pbml0aWFsaXplKCk7CmQuX29EYXRhUmVxdWVzdFN1Y2NlZWRlZERlbGVnYXRlPUZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKGQsZC5fb25PRGF0YVJlcXVlc3RTdWNjZWVkZWQpOwphLmFkZF9yZXF1ZXN0U3VjY2VlZGVkKGQuX29EYXRhUmVxdWVzdFN1Y2NlZWRlZERlbGVnYXRlKTsKZC5fb25EYXRhTmVlZGVkKCk7Cn19LF9vbkRhdGFOZWVkZWQ6ZnVuY3Rpb24oZil7dmFyIGU9e2V2ZW50czp7ZmFpbDpmdW5jdGlvbihpKXt0aGlzLl9vbkZhaWwoaSk7Cn19fTsKdmFyIGE9e307CmEuZmlsdGVyPXt9OwphLmZpbHRlci5maWx0ZXJzPVtdOwp2YXIgYz10aGlzLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfZmlsdGVyRXhwcmVzc2lvbnMoKTsKdmFyIGI7CnZhciBkOwpmb3IoZD0wOwpkPGMuZ2V0X2NvdW50KCk7CmQrKyl7Yj1jLmdldEl0ZW0oZCk7CnZhciBoPWIuZ2V0X2ZpZWxkVmFsdWUoKTsKdmFyIGo9W107CmlmKGguc3BsaXQpe2o9aC5zcGxpdCgiICIpOwp9aWYoYi5GaWx0ZXJGdW5jdGlvbj09IkJldHdlZW4iKXtiLnNldF9maWx0ZXJGdW5jdGlvbigiR3JlYXRlclRoYW5PckVxdWFsVG8iKTsKYi5zZXRfZmllbGRWYWx1ZShqWzBdKTsKYS5maWx0ZXIuZmlsdGVycy5wdXNoKHRoaXMuX2NvbnZlcnRUb09EYXRhRmlsdGVyRXhwckpzb24oYikpOwpiLnNldF9maWx0ZXJGdW5jdGlvbigiTGVzc1RoYW5PckVxdWFsVG8iKTsKYi5zZXRfZmllbGRWYWx1ZShqWzFdKTsKYS5maWx0ZXIuZmlsdGVycy5wdXNoKHRoaXMuX2NvbnZlcnRUb09EYXRhRmlsdGVyRXhwckpzb24oYikpOwp9ZWxzZXtpZihiLkZpbHRlckZ1bmN0aW9uPT0iTm90QmV0d2VlbiIpe2Iuc2V0X2ZpbHRlckZ1bmN0aW9uKCJMZXNzVGhhbk9yRXF1YWxUbyIpOwpiLnNldF9maWVsZFZhbHVlKGpbMF0pOwphLmZpbHRlci5maWx0ZXJzLnB1c2godGhpcy5fY29udmVydFRvT0RhdGFGaWx0ZXJFeHBySnNvbihiKSk7CmIuc2V0X2ZpbHRlckZ1bmN0aW9uKCJHcmVhdGVyVGhhbk9yRXF1YWxUbyIpOwpiLnNldF9maWVsZFZhbHVlKGpbMV0pOwphLmZpbHRlci5maWx0ZXJzLnB1c2godGhpcy5fY29udmVydFRvT0RhdGFGaWx0ZXJFeHBySnNvbihiKSk7CmEuZmlsdGVyLmxvZ2ljPSJvciI7Cn1lbHNle2lmKGIuRmlsdGVyRnVuY3Rpb249PSJEb2VzTm90Q29udGFpbiIpe3JldHVybjsKfWVsc2V7YS5maWx0ZXIuZmlsdGVycy5wdXNoKHRoaXMuX2NvbnZlcnRUb09EYXRhRmlsdGVyRXhwckpzb24oYikpOwp9fX19dmFyIGc9dGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkuZ2V0X3NvcnRFeHByZXNzaW9ucygpOwphLnNvcnQ9W107CmZvcihkPTA7CmQ8Zy5nZXRfY291bnQoKTsKZCsrKXtiPWcuZ2V0SXRlbShkKTsKYS5zb3J0LnB1c2goe2ZpZWxkOmIuRmllbGROYW1lLGRpcjpiLlNvcnRPcmRlcj09MT8iYXNjIjoiZGVzYyJ9KTsKfWEucGFnZT10aGlzLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5nZXRfY3VycmVudFBhZ2VJbmRleCgpOwphLnBhZ2VTaXplPXRoaXMuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9wYWdlU2l6ZSgpOwppZihlIT11bmRlZmluZWQpe2UuZGF0YT1hOwp0aGlzLl9mbGF0QmluZGVyLmZldGNoKGUpOwp9ZWxzZXt0aGlzLl9mbGF0QmluZGVyLmZldGNoKCk7Cn19LF9vbk9EYXRhUmVxdWVzdFN1Y2NlZWRlZDpmdW5jdGlvbihlLGIpe3ZhciBnPXRoaXMuZ2V0X21hc3RlclRhYmxlVmlldygpOwppZih0aGlzLkNsaWVudFNldHRpbmdzLkRhdGFCaW5kaW5nLkVuYWJsZUNhY2hpbmcpe3ZhciBmPXRoaXMuX2dldENhY2hlS2V5KGcpOwppZighdGhpcy5fY2FjaGUpe3RoaXMuX2NhY2hlPXt9Owp9aWYoIXRoaXMuX2NhY2hlW2ZdKXt0aGlzLl9jYWNoZVtmXT1iOwp9fXZhciBkPWIuZ2V0X2RhdGEoKTsKdmFyIGM9Yi5nZXRfY291bnQoKTsKdmFyIGE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREYXRhU291cmNlUmVzb2x2ZWRFdmVudEFyZ3MoZCk7Cmcuc2V0X3ZpcnR1YWxJdGVtQ291bnQoYyk7CnRoaXMucmFpc2VfZGF0YVNvdXJjZVJlc29sdmVkKGEpOwppZihnLmdldF92aXJ0dWFsSXRlbUNvdW50KCk9PTApe2cuX3VwZGF0ZVBhZ2VyKCk7Cn1nLnNldF9kYXRhU291cmNlKGQpOwpnLmRhdGFCaW5kKCk7Cn0sX2NvbnZlcnRUb09EYXRhRmlsdGVyRXhwckpzb246ZnVuY3Rpb24oYSl7dmFyIGM9e30sYj1hLmdldF9maWVsZE5hbWUoKTsKc3dpdGNoKGEuRmlsdGVyRnVuY3Rpb24pe2Nhc2UiRXF1YWxUbyI6Yz10aGlzLl9nZXRPRGF0YUZpbHRlckV4cHJlc3Npb25Kc29uKGIsImVxIixhLkZpZWxkVmFsdWUpOwpicmVhazsKY2FzZSJOb3RFcXVhbFRvIjpjPXRoaXMuX2dldE9EYXRhRmlsdGVyRXhwcmVzc2lvbkpzb24oYiwibmVxIixhLkZpZWxkVmFsdWUpOwpicmVhazsKY2FzZSJHcmVhdGVyVGhhbiI6Yz10aGlzLl9nZXRPRGF0YUZpbHRlckV4cHJlc3Npb25Kc29uKGIsImd0IixhLkZpZWxkVmFsdWUpOwpicmVhazsKY2FzZSJMZXNzVGhhbiI6Yz10aGlzLl9nZXRPRGF0YUZpbHRlckV4cHJlc3Npb25Kc29uKGIsImx0IixhLkZpZWxkVmFsdWUpOwpicmVhazsKY2FzZSJHcmVhdGVyVGhhbk9yRXF1YWxUbyI6Yz10aGlzLl9nZXRPRGF0YUZpbHRlckV4cHJlc3Npb25Kc29uKGIsImd0ZSIsYS5GaWVsZFZhbHVlKTsKYnJlYWs7CmNhc2UiTGVzc1RoYW5PckVxdWFsVG8iOmM9dGhpcy5fZ2V0T0RhdGFGaWx0ZXJFeHByZXNzaW9uSnNvbihiLCJsdGUiLGEuRmllbGRWYWx1ZSk7CmJyZWFrOwpjYXNlIlN0YXJ0c1dpdGgiOmM9dGhpcy5fZ2V0T0RhdGFGaWx0ZXJFeHByZXNzaW9uSnNvbihiLCJzdGFydHN3aXRoIixhLkZpZWxkVmFsdWUpOwpicmVhazsKY2FzZSJFbmRzV2l0aCI6Yz10aGlzLl9nZXRPRGF0YUZpbHRlckV4cHJlc3Npb25Kc29uKGIsImVuZHN3aXRoIixhLkZpZWxkVmFsdWUpOwpicmVhazsKY2FzZSJDb250YWlucyI6Yz10aGlzLl9nZXRPRGF0YUZpbHRlckV4cHJlc3Npb25Kc29uKGIsImNvbnRhaW5zIixhLkZpZWxkVmFsdWUpOwpicmVhazsKY2FzZSJCZXR3ZWVuIjpjPXRoaXMuX2dldE9EYXRhRmlsdGVyRXhwcmVzc2lvbkpzb24oYiwiY29udGFpbnMiLGEuRmllbGRWYWx1ZSk7CmJyZWFrOwpjYXNlIklzRW1wdHkiOmM9dGhpcy5fZ2V0T0RhdGFGaWx0ZXJFeHByZXNzaW9uSnNvbihiLCJlcSIsIiIpOwpicmVhazsKY2FzZSJOb3RJc0VtcHR5IjpjPXRoaXMuX2dldE9EYXRhRmlsdGVyRXhwcmVzc2lvbkpzb24oYiwibmVxIiwiIik7CmJyZWFrOwpjYXNlIklzTnVsbCI6Yz10aGlzLl9nZXRPRGF0YUZpbHRlckV4cHJlc3Npb25Kc29uKGIsImVxIixudWxsKTsKYnJlYWs7CmNhc2UiTm90SXNOdWxsIjpjPXRoaXMuX2dldE9EYXRhRmlsdGVyRXhwcmVzc2lvbkpzb24oYiwibmVxIixudWxsKTsKYnJlYWs7Cn1yZXR1cm4gYzsKfSxfZ2V0T0RhdGFGaWx0ZXJFeHByZXNzaW9uSnNvbjpmdW5jdGlvbihiLGEsYyl7cmV0dXJue2ZpZWxkOmIsb3BlcmF0b3I6YSx2YWx1ZTpjfTsKfSxnZXRfZmxhdE1vZGVsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXRfb2RhdGFDbGllbnRTZXR0aW5ncygpOwp2YXIgYT1UZWxlcmlrLldlYi5VSS5SYWRPRGF0YURhdGFTb3VyY2UuQmluZGVyLkZsYXQuTW9kZWwoYik7CmEucGFyc2U9ZnVuY3Rpb24oYyl7cmV0dXJuIGM7Cn07CnJldHVybiBhOwp9LGdldF9hbGxvd0FjdGl2ZVJvd0N5Y2xlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuQWxsb3dBY3RpdmVSb3dDeWNsZTsKfSxzZXRfYWxsb3dBY3RpdmVSb3dDeWNsZTpmdW5jdGlvbihhKXt0aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLkFsbG93QWN0aXZlUm93Q3ljbGU9YTsKfSxnZXRfb2RhdGFDbGllbnRTZXR0aW5nczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vZGF0YUNsaWVudFNldHRpbmdzOwp9LHNldF9vZGF0YUNsaWVudFNldHRpbmdzOmZ1bmN0aW9uKGEpe3RoaXMuX29kYXRhQ2xpZW50U2V0dGluZ3M9YTsKfSxnZXRfaXNVc2luZ09EYXRhU291cmNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29kYXRhQ2xpZW50U2V0dGluZ3MhPW51bGw7Cn0sZ2V0X3NlbGVjdGVkQ2VsbHNJbmRleGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkQ2VsbHNJbmRleGVzOwp9LGdldF9zZWxlY3RlZEl0ZW1zSW50ZXJuYWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0ZWRJdGVtc0ludGVybmFsOwp9LHNldF9zZWxlY3RlZEl0ZW1zSW50ZXJuYWw6ZnVuY3Rpb24oYSl7aWYodGhpcy5fc2VsZWN0ZWRJdGVtc0ludGVybmFsIT1hKXt0aGlzLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWw9YTsKfX0sZ2V0X2V4cGFuZEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4cGFuZEl0ZW1zOwp9LHNldF9leHBhbmRJdGVtczpmdW5jdGlvbihhKXtpZih0aGlzLl9leHBhbmRJdGVtcyE9YSl7dGhpcy5fZXhwYW5kSXRlbXM9YTsKfX0sZ2V0X2hpZGVkQ29sdW1uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaWRlZENvbHVtbnM7Cn0sc2V0X2hpZGVkQ29sdW1uczpmdW5jdGlvbihhKXtpZih0aGlzLl9oaWRlZENvbHVtbnMhPWEpe3RoaXMuX2hpZGVkQ29sdW1ucz1hOwp0aGlzLnVwZGF0ZUNsaWVudFN0YXRlKCk7Cn19LGdldF9zaG93ZWRDb2x1bW5zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nob3dlZENvbHVtbnM7Cn0sc2V0X3Nob3dlZENvbHVtbnM6ZnVuY3Rpb24oYSl7aWYodGhpcy5fc2hvd2VkQ29sdW1ucyE9YSl7dGhpcy5fc2hvd2VkQ29sdW1ucz1hOwp0aGlzLnVwZGF0ZUNsaWVudFN0YXRlKCk7Cn19LGdldF9ncm91cENvbHNTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ncm91cENvbHNTdGF0ZTsKfSxzZXRfZ3JvdXBDb2xzU3RhdGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5fZ3JvdXBDb2xzU3RhdGUhPWEpe3RoaXMuX2dyb3VwQ29sc1N0YXRlPWE7CnRoaXMudXBkYXRlQ2xpZW50U3RhdGUoKTsKfX0sZ2V0X2hpZXJhcmNoeUNvbHNFeHBhbmRlZFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZXJhcmNoeUNvbHNFeHBhbmRlZFN0YXRlOwp9LHNldF9oaWVyYXJjaHlDb2xzRXhwYW5kZWRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLl9oaWVyYXJjaHlDb2xzRXhwYW5kZWRTdGF0ZSE9YSl7dGhpcy5faGllcmFyY2h5Q29sc0V4cGFuZGVkU3RhdGU9YTsKdGhpcy51cGRhdGVDbGllbnRTdGF0ZSgpOwp9fSxnZXRfc2VsZWN0ZWRDZWxsc0ludGVybmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkQ2VsbHNJbnRlcm5hbDsKfSxzZXRfc2VsZWN0ZWRDZWxsc0ludGVybmFsOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX3NlbGVjdGVkQ2VsbHNJbnRlcm5hbCE9YSl7dGhpcy5fc2VsZWN0ZWRDZWxsc0ludGVybmFsPWE7Cn19LGdldF91bnNlbGVjdGFibGVJdGVtc0ludGVybmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Vuc2VsZWN0YWJsZUl0ZW1zSW50ZXJuYWw7Cn0sc2V0X3Vuc2VsZWN0YWJsZUl0ZW1zSW50ZXJuYWw6ZnVuY3Rpb24oYSl7aWYodGhpcy5fdW5zZWxlY3RhYmxlSXRlbXNJbnRlcm5hbCE9YSl7dGhpcy5fdW5zZWxlY3RhYmxlSXRlbXNJbnRlcm5hbD1hOwp9fSxnZXRfYWxsb3dDZWxsU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ2xpZW50U2V0dGluZ3MuU2VsZWN0aW5nLkNlbGxTZWxlY3Rpb25Nb2RlPlRlbGVyaWsuV2ViLlVJLkdyaWRDZWxsU2VsZWN0aW9uTW9kZS5Ob25lOwp9LGdldF9hbGxvd011dGxpQ2VsbFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLkNsaWVudFNldHRpbmdzLlNlbGVjdGluZy5DZWxsU2VsZWN0aW9uTW9kZT5UZWxlcmlrLldlYi5VSS5HcmlkQ2VsbFNlbGVjdGlvbk1vZGUuU2luZ2xlQ2VsbDsKfSxnZXRfYWxsb3dDb2x1bW5TZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DbGllbnRTZXR0aW5ncy5TZWxlY3RpbmcuQ2VsbFNlbGVjdGlvbk1vZGU+VGVsZXJpay5XZWIuVUkuR3JpZENlbGxTZWxlY3Rpb25Nb2RlLk11bHRpQ2VsbDsKfSxnZXRfYWxsb3dNdWx0aUNvbHVtblNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLkNsaWVudFNldHRpbmdzLlNlbGVjdGluZy5DZWxsU2VsZWN0aW9uTW9kZT5UZWxlcmlrLldlYi5VSS5HcmlkQ2VsbFNlbGVjdGlvbk1vZGUuQ29sdW1uOwp9LGdldF9hbGxvd011bHRpUm93U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQWxsb3dNdWx0aVJvd1NlbGVjdGlvbjsKfSxzZXRfYWxsb3dNdWx0aVJvd1NlbGVjdGlvbjpmdW5jdGlvbihhKXtpZih0aGlzLkFsbG93TXVsdGlSb3dTZWxlY3Rpb24hPWEpe3RoaXMuQWxsb3dNdWx0aVJvd1NlbGVjdGlvbj1hOwp9fSxnZXRfbWFzdGVyVGFibGVWaWV3OmZ1bmN0aW9uKCl7cmV0dXJuICRmaW5kKHRoaXMuX21hc3RlckNsaWVudElEKTsKfSxnZXRfbWFzdGVyVGFibGVWaWV3SGVhZGVyOmZ1bmN0aW9uKCl7cmV0dXJuICRmaW5kKHRoaXMuX21hc3RlckNsaWVudElEKyJfSGVhZGVyIik7Cn0sZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcjpmdW5jdGlvbigpe3JldHVybiAkZmluZCh0aGlzLl9tYXN0ZXJDbGllbnRJRCsiX0Zvb3RlciIpOwp9LGdldF9zZWxlY3RlZEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGI9W107CmZvcih2YXIgYT0wOwphPHRoaXMuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbC5sZW5ndGg7CmErKyl7QXJyYXkuYWRkKGIsdGhpcy5fZ2V0Um93KHRoaXMuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbFthXS5pZCkpOwp9cmV0dXJuIGI7Cn0sZ2V0X2VkaXRJbmRleGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VkaXRJbmRleGVzOwp9LGdldF9lZGl0SXRlbXM6ZnVuY3Rpb24oKXt2YXIgYT1bXTsKdmFyIGg9dGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCk7CmZ1bmN0aW9uIGIoayxpKXt2YXIgaj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChrLmdldF9pZCgpKyJfXyIraSk7CmlmKGope2suZ2V0X2RhdGFJdGVtcygpOwpyZXR1cm4gJGZpbmQoai5pZCk7Cn1yZXR1cm4gbnVsbDsKfXZhciBlOwpmb3IodmFyIGM9MCxnPXRoaXMuX2VkaXRJbmRleGVzLmxlbmd0aDsKYzxnOwpjKyspe3ZhciBkPXRoaXMuX2VkaXRJbmRleGVzW2NdOwppZihkLmluZGV4T2YoIjoiKT4tMSl7Zm9yKHZhciBmPTA7CmY8dGhpcy5fZGV0YWlsVGFibGVzLmxlbmd0aDsKZisrKXtlPWIodGhpcy5fZGV0YWlsVGFibGVzW2ZdLGQpOwppZihlKXthW2EubGVuZ3RoXT1lOwpicmVhazsKfX19ZWxzZXtlPWIoaCxkKTsKaWYoZSl7YVthLmxlbmd0aF09ZTsKfX19cmV0dXJuIGE7Cn0sZ2V0X2JhdGNoRWRpdGluZ01hbmFnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmF0Y2hFZGl0aW5nOwp9LGNsZWFyU2VsZWN0ZWRJdGVtczpmdW5jdGlvbigpe3ZhciBnPXRoaXMsZj1nLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWwsZD1nLl9zZWxlY3RlZEluZGV4ZXM7CmlmKGYubGVuZ3RoPjApe3ZhciBhPWYubGVuZ3RoLTE7CndoaWxlKGE+PTApe3ZhciBlPWZbYV0sYj0kZmluZChlLmlkKTsKaWYoYil7Yi5zZXRfc2VsZWN0ZWQoZmFsc2UpOwp9ZWxzZXt2YXIgYz0kZ2V0KGUuaWQpOwppZihjKXtnLl9zZWxlY3Rpb24uX3NlbGVjdFJvd0ludGVybmFsKGMse2N0cmxLZXk6ZmFsc2V9LHRydWUsdHJ1ZSx0cnVlKTsKfWVsc2V7QXJyYXkucmVtb3ZlKGYsZSk7CkFycmF5LnJlbW92ZShkLGRbYV0pOwpnLnVwZGF0ZUNsaWVudFN0YXRlKCk7Cn19YS0tOwp9fX0sY2xlYXJTZWxlY3RlZENlbGxzOmZ1bmN0aW9uKCl7aWYodGhpcy5fY2VsbFNlbGVjdGlvbiE9bnVsbCl7dGhpcy5fY2VsbFNlbGVjdGlvbi5fY2xlYXIoKTsKfX0sX2luaXRpYWxpemVUYWJsZVZpZXdzOmZ1bmN0aW9uKCl7dmFyIGE9ZXZhbCh0aGlzLl9ncmlkVGFibGVWaWV3c0RhdGEpOwpmb3IodmFyIGQ9MDsKZDxhLmxlbmd0aDsKZCsrKXt2YXIgYz1hW2RdOwppZighYy5DbGllbnRJRCl7Y29udGludWU7Cn1pZigkZmluZChjLkNsaWVudElEKSE9bnVsbCl7Y29udGludWU7Cn1pZigkZ2V0KGMuQ2xpZW50SUQpPT1udWxsKXtjb250aW51ZTsKfWlmKHRoaXMuX21hc3RlckNsaWVudElEIT1jLkNsaWVudElEKXt0aGlzLnJhaXNlX3RhYmxlQ3JlYXRpbmcobmV3IFN5cy5FdmVudEFyZ3MoKSk7Cn12YXIgZT0kY3JlYXRlKFRlbGVyaWsuV2ViLlVJLkdyaWRUYWJsZVZpZXcse19vd25lcjp0aGlzLF9kYXRhOmN9LG51bGwsbnVsbCwkZ2V0KGMuQ2xpZW50SUQpKTsKaWYodGhpcy5fbWFzdGVyQ2xpZW50SUQhPWMuQ2xpZW50SUQpe3ZhciBiPW5ldyBTeXMuRXZlbnRBcmdzKCk7CmIuZ2V0X3RhYmxlVmlldz1mdW5jdGlvbigpe3JldHVybiBlOwp9OwpBcnJheS5hZGQodGhpcy5fZGV0YWlsVGFibGVzLGUpOwp0aGlzLnJhaXNlX3RhYmxlQ3JlYXRlZChiKTsKfWlmKHRoaXMuX21hc3RlckNsaWVudElEPT1jLkNsaWVudElEKXt0aGlzLnJhaXNlX21hc3RlclRhYmxlVmlld0NyZWF0aW5nKG5ldyBTeXMuRXZlbnRBcmdzKCkpOwp0aGlzLk1hc3RlclRhYmxlVmlldz1lOwp0aGlzLnJhaXNlX21hc3RlclRhYmxlVmlld0NyZWF0ZWQobmV3IFN5cy5FdmVudEFyZ3MoKSk7CmlmKCRnZXQoYy5DbGllbnRJRCsiX0hlYWRlciIpKXt0aGlzLk1hc3RlclRhYmxlVmlld0hlYWRlcj0kY3JlYXRlKFRlbGVyaWsuV2ViLlVJLkdyaWRUYWJsZVZpZXcse19vd25lcjp0aGlzLF9kYXRhOmN9LG51bGwsbnVsbCwkZ2V0KGMuQ2xpZW50SUQrIl9IZWFkZXIiKSk7CnRoaXMuTWFzdGVyVGFibGVWaWV3Ll9jb2x1bW5zSW50ZXJuYWw9dGhpcy5NYXN0ZXJUYWJsZVZpZXdIZWFkZXIuX2NvbHVtbnNJbnRlcm5hbDsKfWlmKCRnZXQoYy5DbGllbnRJRCsiX0Zvb3RlciIpKXt0aGlzLk1hc3RlclRhYmxlVmlld0Zvb3Rlcj0kY3JlYXRlKFRlbGVyaWsuV2ViLlVJLkdyaWRUYWJsZVZpZXcse19vd25lcjp0aGlzLF9kYXRhOmN9LG51bGwsbnVsbCwkZ2V0KGMuQ2xpZW50SUQrIl9Gb290ZXIiKSk7Cn19fX0sZ2V0X2RldGFpbFRhYmxlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXRhaWxUYWJsZXM7Cn0sZ2V0X2VuYWJsZUFyaWFTdXBwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZUFyaWFTdXBwb3J0Owp9LF9pbml0aWFsaXplQXJpYVN1cHBvcnQ6ZnVuY3Rpb24oKXt2YXIgej10aGlzLmdldF9lbGVtZW50KCk7CnZhciByPXRoaXMuX3JlbmRlck1vZGU9PT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLkxpdGU7CnZhciBlPXRoaXMuQ2xpZW50U2V0dGluZ3M7CmlmKGUuU2VsZWN0aW5nLkFsbG93Um93U2VsZWN0JiZ0aGlzLmdldF9hbGxvd011bHRpUm93U2VsZWN0aW9uKCkpe3ouc2V0QXR0cmlidXRlKCJhcmlhLW11bHRpc2VsZWN0YWJsZSIsInRydWUiKTsKfXZhciBuOwp2YXIgczsKdmFyIHQ7CnZhciB3Owp2YXIgYjsKdmFyIG07CnZhciBhPWZhbHNlOwp2YXIgbz1mdW5jdGlvbihpKXtpLnNldEF0dHJpYnV0ZSgicm9sZSIsImNvbHVtbmhlYWRlciIpOwppZighaS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgicm9sZSIpKXtpLnBhcmVudE5vZGUuc2V0QXR0cmlidXRlKCJyb2xlIiwicm93Iik7Cn12YXIgQT1pLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF07CmlmKEEpe3ZhciBqPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF07CmlmKGope2lmKGouY2xhc3NOYW1lLmluZGV4T2YoInJnU29ydEFzYyIpPi0xKXtpLnNldEF0dHJpYnV0ZSgiYXJpYS1zb3J0IiwiYXNjZW5kaW5nIik7Cn1lbHNle2lmKGouY2xhc3NOYW1lLmluZGV4T2YoInJnU29ydERlc2MiKT4tMSl7aS5zZXRBdHRyaWJ1dGUoImFyaWEtc29ydCIsImRlc2NlbmRpbmciKTsKfX19ZWxzZXtpLnNldEF0dHJpYnV0ZSgiYXJpYS1zb3J0Iiwibm9uZSIpOwp9fX07CmlmKHoucXVlcnlTZWxlY3RvckFsbCl7bT16LnF1ZXJ5U2VsZWN0b3JBbGwoInRoLnJnSGVhZGVyIik7CmZvcihuPTAsdD1tLmxlbmd0aDsKbjx0OwpuKyspe28obVtuXSk7Cn19ZWxzZXttPXouZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRoIik7CmZvcihuPTAsdD1tLmxlbmd0aDsKbjx0OwpuKyspe3ZhciBsPW1bbl07CmlmKGwuY2xhc3NOYW1lLmluZGV4T2YoInJnSGVhZGVyIik+LTEpe28obCk7Cn19fXZhciBjPXouZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIik7CmZvcihuPTAsdD1jLmxlbmd0aDsKbjx0OwpuKyspe2I9Y1tuXTsKdz1iLnBhcmVudE5vZGU7CnZhciB4PXcuY2xhc3NOYW1lOwppZihiLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0V4cGFuZENvbCIpPi0xfHxiLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0dyb3VwQ29sIik+LTEpe2Iuc2V0QXR0cmlidXRlKCJyb2xlIiwicHJlc2VudGF0aW9uIik7CmlmKHguaW5kZXhPZigicmdHcm91cEhlYWRlciIpPi0xfHx3LmlkKXt2YXIgaz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKHI/ImJ1dHRvbiI6ImlucHV0IilbMF07CmlmKGspe2lmKCFyKXtrLnNldEF0dHJpYnV0ZSgicm9sZSIsImJ1dHRvbiIpOwp9aWYoay5jbGFzc05hbWUuaW5kZXhPZigicmdDb2xsYXBzZSIpPi0xKXt3LnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsInRydWUiKTsKay5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIik7Cn1lbHNle2lmKGsuY2xhc3NOYW1lLmluZGV4T2YoInJnRXhwYW5kIik+LTEpe3cuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwiZmFsc2UiKTsKay5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpOwp9fX1pZih4LmluZGV4T2YoInJnR3JvdXBIZWFkZXIiKT4tMSYmIXcuZ2V0QXR0cmlidXRlKCJyb2xlIikpe3cuc2V0QXR0cmlidXRlKCJyb2xlIiwicm93Z3JvdXAiKTsKfX19ZWxzZXtpZih4LmluZGV4T2YoInJnUm93Iik+LTF8fHguaW5kZXhPZigicmdBbHRSb3ciKT4tMXx8eC5pbmRleE9mKCJyZ0Zvb3RlciIpPi0xKXtiLnNldEF0dHJpYnV0ZSgicm9sZSIsImdyaWRjZWxsIik7CmlmKCF3LmdldEF0dHJpYnV0ZSgicm9sZSIpKXt3LnNldEF0dHJpYnV0ZSgicm9sZSIsInJvdyIpOwppZih4LmluZGV4T2YoInJnU2VsZWN0ZWRSb3ciKT4tMSl7dy5zZXRBdHRyaWJ1dGUoImFyaWEtc2VsZWN0ZWQiLCJ0cnVlIik7CncudGFiSW5kZXg9MTsKfX19ZWxzZXtpZihiLmNsYXNzTmFtZS5pbmRleE9mKCJyZ0NvbW1hbmRDZWxsIik+LTEmJiF3LmdldEF0dHJpYnV0ZSgicm9sZSIpKXtiLnNldEF0dHJpYnV0ZSgicm9sZSIsInByZXNlbnRhdGlvbiIpOwp3LnNldEF0dHJpYnV0ZSgicm9sZSIsInByZXNlbnRhdGlvbiIpOwp9ZWxzZXtpZih3LmNsYXNzTmFtZS5pbmRleE9mKCJyZ1BhZ2VyIik+LTEmJiF3LmdldEF0dHJpYnV0ZSgicm9sZSIpKXt3LnNldEF0dHJpYnV0ZSgicm9sZSIsInByZXNlbnRhdGlvbiIpOwp2YXIgaD13LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTsKdmFyIHU9dy5xdWVyeVNlbGVjdG9yKCIucmdQYWdlciAuUmFkQ29tYm9Cb3ggLnJjYklubmVyIGJ1dHRvbiIpOwppZih1KXt2YXIgdj0kdGVsZXJpay5maW5kRWxlbWVudCh1LnBhcmVudE5vZGUsIlBhZ2VTaXplQ29tYm9Cb3hfSW5wdXQiKTsKdS52YWx1ZT12LnRpdGxlOwp9Zm9yKHZhciBmPTA7CmY8aC5sZW5ndGg7CmYrKyl7dmFyIGc9aFtmXTsKaWYoZy5jbGFzc05hbWUmJmcuY2xhc3NOYW1lLmluZGV4T2YoInJnV3JhcCIpPi0xKXt2YXIgcT1nLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpOwpmb3Iocz0wOwpzPHEubGVuZ3RoOwpzKyspe3ZhciBwPXFbc107CnZhciBkPXAuY2xhc3NOYW1lOwppZihwLnR5cGU9PSJzdWJtaXQiJiZkJiYoZC5pbmRleE9mKCJQYWdlUHJldiIpPi0xfHxkLmluZGV4T2YoIlBhZ2VGaXJzdCIpPi0xfHxkLmluZGV4T2YoIlBhZ2VOZXh0Iik+LTF8fGQuaW5kZXhPZigiUGFnZUxhc3QiKT4tMXx8ZC5pbmRleE9mKCJQYWdlckJ1dHRvbiIpPi0xKSl7cC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJidXR0b24iKTsKfX19fX1lbHNle2lmKHcuY2xhc3NOYW1lLmluZGV4T2YoInJnRWRpdFJvdyIpPi0xJiYhdy5nZXRBdHRyaWJ1dGUoInJvbGUiKSl7dy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJyb3ciKTsKdy5zZXRBdHRyaWJ1dGUoImFyaWEtcmVhZG9ubHkiLCJmYWxzZSIpOwphPXRydWU7Cn1lbHNle2lmKCF3LmlkKXt2YXIgeT13LnBhcmVudE5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09InRhYmxlIj93LnBhcmVudE5vZGU6dy5wYXJlbnROb2RlLnBhcmVudE5vZGU7CmlmKHkmJnkuY2xhc3NOYW1lLmluZGV4T2YoInJnTWFzdGVyVGFibGUiKT4tMXx8eS5jbGFzc05hbWUuaW5kZXhPZigicmdEZXRhaWxUYWJsZSIpPi0xKXtpZighdy5nZXRBdHRyaWJ1dGUoInJvbGUiKSl7dy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJwcmVzZW50YXRpb24iKTsKfX19fX19fX19aWYodGhpcy5fZ3JvdXBQYW5lbCl7dGhpcy5fZ3JvdXBQYW5lbC5nZXRfZWxlbWVudCgpLnNldEF0dHJpYnV0ZSgicm9sZSIsInByZXNlbnRhdGlvbiIpOwp9ei5zZXRBdHRyaWJ1dGUoInJvbGUiLGE/ImZvcm0iOih0aGlzLl9kZXRhaWxUYWJsZXMubGVuZ3RoPyJ0cmVlZ3JpZCI6ImdyaWQiKSk7Cnouc2V0QXR0cmlidXRlKCJhcmlhLXJlYWRvbmx5IiwhYSk7Cn0sX2luaXRpYWxpemVFdmVudHM6ZnVuY3Rpb24oYSl7aWYoYSl7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aDsKYjxjOwpiKyspe3ZhciBkPWFbYl07CnRoaXNbImFkZF8iK2RdPShmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZil7dGhpcy5nZXRfZXZlbnRzKCkuYWRkSGFuZGxlcihlLGYpOwp9Owp9KGQpKTsKdGhpc1sicmVtb3ZlXyIrZF09KGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihmKXt0aGlzLmdldF9ldmVudHMoKS5yZW1vdmVIYW5kbGVyKGUsZik7Cn07Cn0oZCkpOwp0aGlzWyJyYWlzZV8iK2RdPShmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZil7dGhpcy5yYWlzZUV2ZW50KGUsZik7Cn07Cn0oZCkpOwp9fX0sX3NlbGVjdEFsbFJvd3M6ZnVuY3Rpb24obCxkLGEpe3ZhciBiPShhLnNyY0VsZW1lbnQpP2Euc3JjRWxlbWVudDphLnRhcmdldDsKdmFyIGs9JGZpbmQobCk7CnZhciBqPWsuZ2V0X2VsZW1lbnQoKTsKdmFyIGg9KGIuY2hlY2tlZCk/dHJ1ZTpmYWxzZTsKZm9yKHZhciBjPTAsZj1qLnJvd3MubGVuZ3RoOwpjPGY7CmMrKyl7dmFyIGc9ai5yb3dzW2NdOwppZighZy5pZHx8Zy5zdHlsZS5kaXNwbGF5PT0ibm9uZSIpe2NvbnRpbnVlOwp9dGhpcy5fc2VsZWN0aW9uLl9zZWxlY3RSb3dJbnRlcm5hbChnLGEsdHJ1ZSxmYWxzZSxmYWxzZSxoKTsKfWlmKGoucm93cy5sZW5ndGg+MCl7dGhpcy51cGRhdGVDbGllbnRTdGF0ZSgpOwp9fSxfc2hvd0ZpbHRlck1lbnU6ZnVuY3Rpb24obixwLGYpe3ZhciBtPSRmaW5kKG4pOwp2YXIgZD1tLmdldENvbHVtbkJ5VW5pcXVlTmFtZShwKTsKdmFyIGw9dGhpcy5fZ2V0RmlsdGVyTWVudSgpOwppZihsKXtsLmhpZGUoKTsKdmFyIGI9bmV3IFN5cy5DYW5jZWxFdmVudEFyZ3MoKTsKYi5nZXRfbWVudT1mdW5jdGlvbigpe3JldHVybiBsOwp9OwpiLmdldF90YWJsZVZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gbTsKfTsKYi5nZXRfY29sdW1uPWZ1bmN0aW9uKCl7cmV0dXJuIGQ7Cn07CmIuZ2V0X2RvbUV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGY7Cn07CnRoaXMucmFpc2VfZmlsdGVyTWVudVNob3dpbmcoYik7CmlmKGIuZ2V0X2NhbmNlbCgpKXtyZXR1cm47Cn12YXIgaT10aGlzLl9maWx0ZXJNZW51Owp0aGlzLl9idWlsZEZpbHRlck1lbnVJdGVtTGlzdChpLGQuX2RhdGEuRmlsdGVyTGlzdE9wdGlvbnMsZC5fZGF0YS5EYXRhVHlwZU5hbWUsZC5fZGF0YS5DdXJyZW50RmlsdGVyRnVuY3Rpb24sZCk7CnRoaXMuX29uRmlsdGVyTWVudUNsaWNraW5nPUZ1bmN0aW9uLmNyZWF0ZURlbGVnYXRlKHRoaXMsdGhpcy5fZmlsdGVyTWVudUNsaWNraW5nSGFuZGxlcik7CmkuYWRkX2l0ZW1DbGlja2luZyh0aGlzLl9vbkZpbHRlck1lbnVDbGlja2luZyk7CnZhciBnPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Q3VycmVudEVsZW1lbnQoZik7CmlmKGcpeyR0ZWxlcmlrLmFkZENzc0NsYXNzZXMoZyxbInJnRmlsdGVyQWN0aXZlIl0pOwp9dGhpcy5fb25GaWx0ZXJNZW51SGlkZGVuRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUoe29wZW5lcjpnLGNvbnRleHQ6dGhpc30sdGhpcy5fb25GaWx0ZXJNZW51SGlkZGVuKTsKaS5hZGRfaGlkZGVuKHRoaXMuX29uRmlsdGVyTWVudUhpZGRlbkRlbGVnYXRlKTsKaWYoJHRlbGVyaWsuaXNUb3VjaERldmljZSl7dmFyIGs9JHRlbGVyaWsuZ2V0VG91Y2hFdmVudExvY2F0aW9uKGYpLng7CnZhciBvPSR0ZWxlcmlrLmdldFRvdWNoRXZlbnRMb2NhdGlvbihmKS55OwppLnNob3dBdChrLG8pOwokdGVsZXJpay5wcmV2ZW50RGVmYXVsdChmKTsKfWVsc2V7dmFyIGg9JHRlbGVyaWsuZ2V0TG9jYXRpb24oZyk7Cmkuc2hvd0F0KGgueCsoZy5vZmZzZXRXaWR0aC8yKSxoLnkrKGcub2Zmc2V0SGVpZ2h0LzIpKTsKJHRlbGVyaWsucHJldmVudERlZmF1bHQoZik7CnZhciBqPWkuZ2V0X2ZvY3VzZWRJdGVtKCl8fGkuZ2V0X2l0ZW1zKCkuZ2V0SXRlbSgwKTsKaWYoai5fbGlua0VsZW1lbnQpe2ouX2xpbmtFbGVtZW50LmZvY3VzKCk7Cn1lbHNle2lmKGouX3RlbXBsYXRlRWxlbWVudCl7ai5fdGVtcGxhdGVFbGVtZW50LmZvY3VzKCk7Cn19fWkuX3Nob3duPWZhbHNlOwp3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2kuX3Nob3duPXRydWU7Cn0pOwppZihtLl9vd25lci5fZW5hYmxlUmlwcGxlRWZmZWN0KXt2YXIgYT0kdGVsZXJpay4kKGkuZ2V0X2NvbnRleHRNZW51RWxlbWVudCgpKS5maW5kKCIucmdGaWx0ZXJBcHBseSIpWzBdOwp2YXIgYz0kdGVsZXJpay4kKGkuZ2V0X2NvbnRleHRNZW51RWxlbWVudCgpKS5maW5kKCIucmdGaWx0ZXJDYW5jZWwiKVswXTsKaWYoYSl7VGVsZXJpay5XZWIuVUkuTWF0ZXJpYWxSaXBwbGVNYW5hZ2VyLmdldEluc3RhbmNlKCkuaW5pdGlhbGl6ZVJpcHBsZShhKTsKfWlmKGMpe1RlbGVyaWsuV2ViLlVJLk1hdGVyaWFsUmlwcGxlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmluaXRpYWxpemVSaXBwbGUoYyk7Cn19fX0sX29uRmlsdGVyTWVudUhpZGRlbjpmdW5jdGlvbihiLGEpe2lmKHRoaXMub3BlbmVyKXskdGVsZXJpay5yZW1vdmVDc3NDbGFzc2VzKHRoaXMub3BlbmVyLFsicmdGaWx0ZXJBY3RpdmUiXSk7CnRoaXMub3BlbmVyPW51bGw7Cn1pZih0aGlzLmNvbnRleHQmJnRoaXMuY29udGV4dC5fZmlsdGVyTWVudSl7aWYodGhpcy5jb250ZXh0Ll9vbkZpbHRlck1lbnVDbGlja2luZyl7dGhpcy5jb250ZXh0Ll9maWx0ZXJNZW51LnJlbW92ZV9pdGVtQ2xpY2tpbmcodGhpcy5jb250ZXh0Ll9vbkZpbHRlck1lbnVDbGlja2luZyk7Cn1pZih0aGlzLmNvbnRleHQuX29uRmlsdGVyTWVudUhpZGRlbkRlbGVnYXRlKXt0aGlzLmNvbnRleHQuX2ZpbHRlck1lbnUucmVtb3ZlX2hpZGRlbih0aGlzLmNvbnRleHQuX29uRmlsdGVyTWVudUhpZGRlbkRlbGVnYXRlKTsKfXRoaXMuY29udGV4dC5fb25GaWx0ZXJNZW51SGlkZGVuRGVsZWdhdGU9bnVsbDsKfX0sX2dldEZpbHRlck1lbnU6ZnVuY3Rpb24oKXtpZihUZWxlcmlrLldlYi5VSS5SYWRDb250ZXh0TWVudSYmIXRoaXMuX2ZpbHRlck1lbnUpe3RoaXMuX2ZpbHRlck1lbnU9JGZpbmQodGhpcy5DbGllbnRJRCsiX3JmbHRNZW51Iik7Cn1yZXR1cm4gdGhpcy5fZmlsdGVyTWVudTsKfSxnZXRfaGVhZGVyTWVudTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRIZWFkZXJDb250ZXh0TWVudSgpOwp9LF9nZXRIZWFkZXJDb250ZXh0TWVudTpmdW5jdGlvbigpe2lmKFRlbGVyaWsuV2ViLlVJLlJhZENvbnRleHRNZW51JiYhdGhpcy5faGVhZGVyQ29udGV4dE1lbnUpe3RoaXMuX2hlYWRlckNvbnRleHRNZW51PSRmaW5kKHRoaXMuQ2xpZW50SUQrIl9yZ2hjTWVudSIpOwp9cmV0dXJuIHRoaXMuX2hlYWRlckNvbnRleHRNZW51Owp9LF9maWx0ZXJNZW51Q2xpY2tpbmdIYW5kbGVyOmZ1bmN0aW9uKGcsYyl7dmFyIGk9Yy5nZXRfaXRlbSgpLl9maWx0ZXJNZW51X3RhYmxlSUQ7CmlmKCFpKXtjLnNldF9jYW5jZWwodHJ1ZSk7CnJldHVybjsKfXZhciBoPSRmaW5kKGkpOwppZighaCl7Yy5zZXRfY2FuY2VsKHRydWUpOwpyZXR1cm47Cn12YXIgZD1jLmdldF9pdGVtKCkuZ2V0X3ZhbHVlKCk7CnZhciBiPWMuZ2V0X2l0ZW0oKS5fZmlsdGVyTWVudV9jb2x1bW5fdW5pcXVlTmFtZTsKdmFyIGU9aC5fZ2V0RmlsdGVyQ29udHJvbFZhbHVlKGIpOwp2YXIgYT1oLl9yYWlzZUFjdGlvbigiRmlsdGVyIix7ZmlsdGVyRnVuY3Rpb246ZCxjb2x1bW5VbmlxdWVOYW1lOmIsZmlsdGVyVmFsdWU6ZX0pOwppZihhLmdldF9jYW5jZWwoKSl7Yy5nZXRfaXRlbSgpLnNldF9mb2N1c2VkKGZhbHNlKTsKYy5zZXRfY2FuY2VsKHRydWUpOwpyZXR1cm47Cn1kPWEuZ2V0X2ZpbHRlckZ1bmN0aW9uKCk7CmI9YS5nZXRfY29sdW1uVW5pcXVlTmFtZSgpOwplPWEuZ2V0X2ZpbHRlclZhbHVlKCk7CmlmKGQ9PSJOb0ZpbHRlciIpe2guX3VwZGF0ZUZpbHRlckNvbnRyb2xWYWx1ZShlLGIsZCk7Cn1lbHNle2lmKChlPT1udWxsfHxlPT09IiIpJiZkIT0iSXNFbXB0eSImJmQhPSJOb3RJc0VtcHR5IiYmZCE9IklzTnVsbCImJmQhPSJOb3RJc051bGwiKXtnLmhpZGUoKTsKcmV0dXJuOwp9fWlmKCFoLmZpbHRlcihiLGUsZCkpe3ZhciBmPXRoaXMuZ2V0X21hc3RlclRhYmxlVmlldygpOwppZihmKXtmLl9fc2hvdWxkUGVyZm9ybUZpbHRlcmluZz1mYWxzZTsKfWMuc2V0X2NhbmNlbCh0cnVlKTsKdGhpcy5fZmlsdGVyTWVudS5yZW1vdmVfaXRlbUNsaWNraW5nKHRoaXMuX29uRmlsdGVyTWVudUNsaWNraW5nKTsKfWcuaGlkZSgpOwp9LF9jaGVja0xpc3RJdGVtc1JlcXVlc3RlZEhhbmRsZXI6ZnVuY3Rpb24oKXtpZih0aGlzLl9jaGVja0xpc3RGaWx0ZXJBY3RpdmVDb2x1bW4mJnRoaXMuX2NoZWNrTGlzdEZpbHRlckFjdGl2ZUNvbHVtbil7dmFyIGU9JGZpbmQodGhpcy5fZmlsdGVyQ2hlY2tMaXN0Q2xpZW50SUQpOwplLnNldF92aXNpYmxlKHRydWUpOwp2YXIgYz10aGlzLl9jaGVja0xpc3RGaWx0ZXJBY3RpdmVDb2x1bW4uZ2V0X293bmVyKCkuX2RhdGEuVW5pcXVlSUQrIiwiK3RoaXMuX2NoZWNrTGlzdEZpbHRlckFjdGl2ZUNvbHVtbi5nZXRfdW5pcXVlTmFtZSgpOwp2YXIgYj0tMTsKdmFyIGY7CmZvcihmPTA7CmY8dGhpcy5fY2hlY2tMaXN0RmlsdGVyS2V5cy5sZW5ndGg7CmYrKyl7aWYodGhpcy5fY2hlY2tMaXN0RmlsdGVyS2V5c1tmXT09Yyl7Yj1mOwpicmVhazsKfX12YXIgaDsKdmFyIGc7CnZhciBkOwppZihiPj0wJiZiPHRoaXMuX2NoZWNrTGlzdEZpbHRlclZhbHVlcy5sZW5ndGgmJnRoaXMuX2NoZWNrTGlzdEZpbHRlclZhbHVlc1tiXSYmdGhpcy5fY2hlY2tMaXN0RmlsdGVyVmFsdWVzW2JdLmxlbmd0aD4wKXt2YXIgaj17fTsKZm9yKGY9MDsKZjx0aGlzLl9jaGVja0xpc3RGaWx0ZXJWYWx1ZXNbYl0ubGVuZ3RoOwpmKyspe2pbdGhpcy5fY2hlY2tMaXN0RmlsdGVyVmFsdWVzW2JdW2ZdXT10cnVlOwp9ZD1lLmdldF9pdGVtcygpLmdldF9jb3VudCgpOwpmb3IoZz0wOwpnPGQ7CmcrKyl7aD1lLmdldF9pdGVtcygpLmdldEl0ZW0oZyk7CmlmKGpbaC5nZXRfdmFsdWUoKV0pe2guY2hlY2soKTsKfX19ZD1lLmdldF9pdGVtcygpLmdldF9jb3VudCgpOwpmb3IoZz0wOwpnPGQ7CmcrKyl7aD1lLmdldF9pdGVtcygpLmdldEl0ZW0oZyk7CmlmKGguZ2V0X3RleHQoKT09PSIiKXtoLnNldF90ZXh0KCIobnVsbCkiKTsKfWguZ2V0X2VsZW1lbnQoKS50aXRsZT1oLmdldF90ZXh0KCk7Cn19fSxfY2hlY2tMaXN0RmlsdGVyQ2FuY2VsQnV0dG9uSGFuZGxlcjpmdW5jdGlvbigpe3RoaXMuX2ZpbHRlck1lbnUuaGlkZSgpOwp9LF9yZXNldENoZWNrTGlzdEZpbHRlck9mQ29sdW1uOmZ1bmN0aW9uKGIpe3ZhciBkPWIuZ2V0X293bmVyKCkuX2RhdGEuVW5pcXVlSUQrIiwiK2IuZ2V0X3VuaXF1ZU5hbWUoKTsKdmFyIGM9dGhpcy5fY2hlY2tMaXN0RmlsdGVyS2V5cy5sZW5ndGg7CmZvcih2YXIgYT0wOwphPHRoaXMuX2NoZWNrTGlzdEZpbHRlcktleXMubGVuZ3RoOwphKyspe2lmKHRoaXMuX2NoZWNrTGlzdEZpbHRlcktleXNbYV09PWQpe2M9YTsKYnJlYWs7Cn19dGhpcy5fY2hlY2tMaXN0RmlsdGVyS2V5c1tjXT1kOwp0aGlzLl9jaGVja0xpc3RGaWx0ZXJWYWx1ZXNbY109W107CnJldHVybiBjOwp9LF9jaGVja0xpc3RGaWx0ZXJBcHBseUJ1dHRvbkhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgZj0kZmluZCh0aGlzLl9maWx0ZXJDaGVja0xpc3RDbGllbnRJRCk7CnZhciBiPXRoaXMuX2NoZWNrTGlzdEZpbHRlckFjdGl2ZUNvbHVtbjsKdmFyIGM9dGhpcy5fcmVzZXRDaGVja0xpc3RGaWx0ZXJPZkNvbHVtbihiKTsKdmFyIGw9JGZpbmQoYi5nZXRfb3duZXIoKS5nZXRfaWQoKS5yZXBsYWNlKCJfSGVhZGVyIiwiIikpOwp2YXIgZz0icmdGaWx0ZXJlZCI7CnZhciBlPWwuX2dldEZpbHRlckNlbGxCeUNvbHVtblVuaXF1ZU5hbWUoYi5nZXRfdW5pcXVlTmFtZSgpKTsKdmFyIGQ9ZT8kdGVsZXJpay5nZXRFbGVtZW50QnlDbGFzc05hbWUoZSwicmdGaWx0ZXIiKTpudWxsOwp2YXIgYT1mLmdldF9pdGVtcygpLl9hcnJheTsKaWYoIWYuX2FsbENoZWNrZWQpe2Zvcih2YXIgaz0wOwprPGEubGVuZ3RoOwprKyspe2lmKGFba10uZ2V0X2NoZWNrQm94RWxlbWVudCgpLmNoZWNrZWQpe3ZhciBqPWFba10uZ2V0X3ZhbHVlKCk7CmlmKGo9PT0iKG51bGwpIil7aj0iIjsKfXRoaXMuX2NoZWNrTGlzdEZpbHRlclZhbHVlc1tjXVt0aGlzLl9jaGVja0xpc3RGaWx0ZXJWYWx1ZXNbY10ubGVuZ3RoXT1qOwp9fX12YXIgaD1sLl9maWx0ZXJFeHByZXNzaW9ucy5maW5kKGIuZ2V0X3VuaXF1ZU5hbWUoKSk7CmlmKHRoaXMuX2NoZWNrTGlzdEZpbHRlclZhbHVlc1tjXS5sZW5ndGg+MCl7aWYoIWgpe2g9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJFeHByZXNzaW9uKCk7Cmguc2V0X2ZpZWxkTmFtZShiLl9kYXRhLkRhdGFGaWVsZCk7Cmguc2V0X2RhdGFUeXBlTmFtZShiLl9kYXRhLkRhdGFUeXBlTmFtZSk7Cmguc2V0X2NvbHVtblVuaXF1ZU5hbWUoYi5nZXRfdW5pcXVlTmFtZSgpKTsKbC5fZmlsdGVyRXhwcmVzc2lvbnMuYWRkKGgpOwp9aWYoZCl7U3lzLlVJLkRvbUVsZW1lbnQuYWRkQ3NzQ2xhc3MoZCxnKTsKfWguc2V0X2ZpbHRlckZ1bmN0aW9uKFRlbGVyaWsuV2ViLlVJLkdyaWRGaWx0ZXJGdW5jdGlvbi5FcXVhbFRvKTsKaC5fY2hlY2tMaXN0RmlsdGVyVmFsdWVzPXRoaXMuX2NoZWNrTGlzdEZpbHRlclZhbHVlc1tjXTsKfWVsc2V7aWYoaCl7aC5zZXRfZmlsdGVyRnVuY3Rpb24oVGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vRmlsdGVyKTsKaC5fY2hlY2tMaXN0RmlsdGVyVmFsdWVzPXRoaXMuX2NoZWNrTGlzdEZpbHRlclZhbHVlc1tjXTsKbC5fZmlsdGVyRXhwcmVzc2lvbnMucmVtb3ZlKGgpOwp9aWYoZCl7U3lzLlVJLkRvbUVsZW1lbnQucmVtb3ZlQ3NzQ2xhc3MoZCxnKTsKfX10aGlzLl9maWx0ZXJNZW51LmhpZGUoKTsKdGhpcy51cGRhdGVDbGllbnRTdGF0ZSgpOwppZighdGhpcy5fY2hlY2tMaXN0SXNJbkhlYWRlckNvbnRleHRNZW51KXtsLmZpcmVDb21tYW5kKCJGaWx0ZXIiLGIuZ2V0X3VuaXF1ZU5hbWUoKSsifD98PyIrKGg/VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLkVxdWFsVG86VGVsZXJpay5XZWIuVUkuR3JpZEZpbHRlckZ1bmN0aW9uLk5vRmlsdGVyKSk7Cn19LF9idWlsZEZpbHRlck1lbnVJdGVtTGlzdDpmdW5jdGlvbihwLGwsaCxmLGIpe3ZhciBjPWIuX2RhdGEuQ29sdW1uVHlwZTsKdmFyIGo9Yi5fZGF0YS5FbmFibGVSYW5nZUZpbHRlcmluZzsKdmFyIG89bnVsbDsKdmFyIGs9JGZpbmQodGhpcy5fZmlsdGVyQ2hlY2tMaXN0Q2xpZW50SUR8fCIiKTsKaWYoayl7dGhpcy5fY2hlY2tMaXN0RmlsdGVyQWN0aXZlQ29sdW1uPWI7CmsuZ2V0X2l0ZW1zKCkuY2xlYXIoKTsKdmFyIGE9IiI7CmlmKGIuX293bmVyLl9kYXRhLkNoZWNrTGlzdFdlYlNlcnZpY2VQYXRoJiZiLl9kYXRhLkZpbHRlckNoZWNrTGlzdFdlYlNlcnZpY2VNZXRob2Qpe2suc2V0X3Zpc2libGUodHJ1ZSk7CmsuZ2V0X3dlYlNlcnZpY2VTZXR0aW5ncygpLnNldF9wYXRoKGIuX293bmVyLl9kYXRhLkNoZWNrTGlzdFdlYlNlcnZpY2VQYXRoKTsKay5nZXRfd2ViU2VydmljZVNldHRpbmdzKCkuc2V0X21ldGhvZChiLl9kYXRhLkZpbHRlckNoZWNrTGlzdFdlYlNlcnZpY2VNZXRob2QpOwprLnJlcXVlc3RJdGVtcygpOwp9ZWxzZXtpZihiLl9kYXRhLkZpbHRlckNoZWNrTGlzdEVuYWJsZUxvYWRPbkRlbWFuZCl7ay5zZXRfdmlzaWJsZSh0cnVlKTsKdmFyIGc9e3N0YXJ0SW5kZXg6MCxjb3VudDowfTsKdmFyIGQ9Yi5nZXRfdW5pcXVlTmFtZSgpOwp2YXIgZT17Y29sdW1uVW5pcXVlTmFtZTpkLHRhYmxlVmlld1VuaXF1ZUlkOmIuX293bmVyLl9kYXRhLlVuaXF1ZUlEfTsKay5fZG9Mb2FkT25EZW1hbmRXaXRoQ2FsbEJhY2soZSxnKTsKfWVsc2V7ay5zZXRfdmlzaWJsZShmYWxzZSk7CmE9Ik5vbmUiOwp9fXRoaXMuX2ZpbHRlckFwcGx5QnV0dG9uLnN0eWxlLmRpc3BsYXk9YTsKdGhpcy5fZmlsdGVyQ2FuY2VsQnV0dG9uLnN0eWxlLmRpc3BsYXk9YTsKfWlmKHAuZ2V0X2l0ZW1zKCkuZ2V0X2NvdW50KCk+MCYmcC5nZXRfaXRlbXMoKS5nZXRJdGVtKDApLmdldF9pdGVtcygpLmdldF9jb3VudCgpPjApe3A9cC5nZXRfaXRlbXMoKS5nZXRJdGVtKDApOwp9Zm9yKHZhciBtPTA7Cm08cC5nZXRfaXRlbXMoKS5nZXRfY291bnQoKTsKbSsrKXt2YXIgbj1wLmdldF9pdGVtcygpLmdldEl0ZW0obSk7Cm89bi5nZXRfdmFsdWUoKTsKbi5fZmlsdGVyTWVudV9jb2x1bW5fdW5pcXVlTmFtZT1iLmdldF91bmlxdWVOYW1lKCk7Cm4uX2ZpbHRlck1lbnVfdGFibGVJRD1iLl9vd25lci5fZGF0YS5DbGllbnRJRDsKaWYodGhpcy5fY2xpZW50U2lkZUJpbmRpbmcmJnRoaXMuX2NsaWVudFNpZGVCaW5kaW5nLl9jbGllbnREYXRhU291cmNlKXtpZihvPT0iRG9lc05vdENvbnRhaW4ifHxvPT0iSXNFbXB0eSJ8fG89PSJOb3RJc0VtcHR5Inx8bz09IklzTnVsbCJ8fG89PSJOb3RJc051bGwifHwobz09IkJldHdlZW4iJiYoYyE9IkdyaWREYXRlVGltZUNvbHVtbiJ8fCFqKSl8fG89PSJOb3RCZXR3ZWVuIiYmKGMhPSJHcmlkRGF0ZVRpbWVDb2x1bW4ifHwhaikpe24uc2V0X3Zpc2libGUoZmFsc2UpOwpjb250aW51ZTsKfX1pZihoPT0iU3lzdGVtLkJvb2xlYW4iKXtpZigobz09IkdyZWF0ZXJUaGFuIil8fChvPT0iTGVzc1RoYW4iKXx8KG89PSJHcmVhdGVyVGhhbk9yRXF1YWxUbyIpfHwobz09Ikxlc3NUaGFuT3JFcXVhbFRvIil8fChvPT0iQmV0d2VlbiIpfHwobz09Ik5vdEJldHdlZW4iKSl7bi5zZXRfdmlzaWJsZShmYWxzZSk7CmNvbnRpbnVlOwp9fWlmKGghPSJTeXN0ZW0uU3RyaW5nIil7aWYoKG89PSJTdGFydHNXaXRoIil8fChvPT0iRW5kc1dpdGgiKXx8KG89PSJDb250YWlucyIpfHwobz09IkRvZXNOb3RDb250YWluIil8fChvPT0iSXNFbXB0eSIpfHwobz09Ik5vdElzRW1wdHkiKSl7bi5zZXRfdmlzaWJsZShmYWxzZSk7CmNvbnRpbnVlOwp9fWlmKGw9PTApe2lmKG89PSJDdXN0b20iKXtuLnNldF92aXNpYmxlKGZhbHNlKTsKY29udGludWU7Cn19aWYoYz09IkdyaWREYXRlVGltZUNvbHVtbiImJmomJihvPT0iRXF1YWxUbyJ8fG89PSJHcmVhdGVyVGhhbiJ8fG89PSJHcmVhdGVyVGhhbk9yRXF1YWxUbyJ8fG89PSJMZXNzVGhhbiJ8fG89PSJMZXNzVGhhbk9yRXF1YWxUbyJ8fG89PSJOb3RFcXVhbFRvIikpe24uc2V0X3Zpc2libGUoZmFsc2UpOwpjb250aW51ZTsKfWlmKCgoYz09IkdyaWREYXRlVGltZUNvbHVtbiImJiFqKXx8Yz09IkdyaWRNYXNrZWRDb2x1bW4ifHxjPT0iR3JpZE51bWVyaWNDb2x1bW4ifHxjPT0iR3JpZFJhdGluZ0NvbHVtbiIpJiYoKG89PSJCZXR3ZWVuIil8fChvPT0iTm90QmV0d2VlbiIpKSl7bi5zZXRfdmlzaWJsZShmYWxzZSk7CmNvbnRpbnVlOwp9aWYobz09Yi5fZGF0YS5DdXJyZW50RmlsdGVyRnVuY3Rpb25OYW1lKXtuLl9mb2N1c2VkPXRydWU7CnAuX2ZvY3VzZWRJdGVtPW47Cm4uX3VwZGF0ZUxpbmtDbGFzcygpOwp9ZWxzZXtuLl9mb2N1c2VkPWZhbHNlOwpuLl91cGRhdGVMaW5rQ2xhc3MoKTsKfW4uc2V0X3Zpc2libGUodHJ1ZSk7Cn19LHNhdmVDbGllbnRTdGF0ZTpmdW5jdGlvbigpe3ZhciBkPXt9OwpkLnNlbGVjdGVkSW5kZXhlcz10aGlzLl9zZWxlY3RlZEluZGV4ZXM7CmQuc2VsZWN0ZWRDZWxsc0luZGV4ZXM9dGhpcy5fc2VsZWN0ZWRDZWxsc0luZGV4ZXM7CmQudW5zZWxlY3RhYmxlSXRlbXNJbmRleGVzPXRoaXMuX3Vuc2VsZWN0YWJsZUl0ZW1zSW5kZXhlczsKZC5yZW9yZGVyZWRDb2x1bW5zPXRoaXMuX3Jlb3JkZXJlZENvbHVtbnM7CmQuZXhwYW5kZWRJdGVtcz10aGlzLl9leHBhbmRlZEl0ZW1zOwpkLmV4cGFuZGVkR3JvdXBJdGVtcz10aGlzLl9leHBhbmRlZEdyb3VwSXRlbXM7CmlmKHRoaXMuX2V4cGFuZGVkRmlsdGVySXRlbXMpe2QuZXhwYW5kZWRGaWx0ZXJJdGVtcz10aGlzLl9leHBhbmRlZEZpbHRlckl0ZW1zOwp9ZC5kZWxldGVkSXRlbXM9dGhpcy5fZGVsZXRlZEl0ZW1zOwppZih0aGlzLl9yZXNpemVkQ29sdW1ucyE9IiIpe2QucmVzaXplZENvbHVtbnM9dGhpcy5fcmVzaXplZENvbHVtbnM7Cn1pZih0aGlzLl9yZXNpemVkQ29udHJvbCE9IiIpe2QucmVzaXplZENvbnRyb2w9dGhpcy5fcmVzaXplZENvbnRyb2w7Cn1pZih0aGlzLl9yZXNpemVkSXRlbXMhPSIiKXtkLnJlc2l6ZWRJdGVtcz10aGlzLl9yZXNpemVkSXRlbXM7Cn1pZih0aGlzLl9oaWRlZEl0ZW1zIT0iIil7ZC5oaWRlZEl0ZW1zPXRoaXMuX2hpZGVkSXRlbXM7Cn1pZih0aGlzLl9zaG93ZWRJdGVtcyE9IiIpe2Quc2hvd2VkSXRlbXM9dGhpcy5fc2hvd2VkSXRlbXM7Cn1pZih0aGlzLl9oaWRlZENvbHVtbnMpe2QuaGlkZWRDb2x1bW5zPXRoaXMuX2hpZGVkQ29sdW1uczsKfWlmKHRoaXMuX3Nob3dlZENvbHVtbnMpe2Quc2hvd2VkQ29sdW1ucz10aGlzLl9zaG93ZWRDb2x1bW5zOwp9aWYodGhpcy5fZ3JvdXBDb2xzU3RhdGUpe2QuZ3JvdXBDb2xzU3RhdGU9dGhpcy5fZ3JvdXBDb2xzU3RhdGU7Cn1pZih0aGlzLl9oaWVyYXJjaHlDb2xzRXhwYW5kZWRTdGF0ZSl7ZC5oaWVyYXJjaHlTdGF0ZT10aGlzLl9oaWVyYXJjaHlDb2xzRXhwYW5kZWRTdGF0ZTsKfWlmKHRoaXMuX2FjdGl2ZVJvdyl7ZC5hY3RpdmVSb3dJbmRleD10aGlzLl9hY3RpdmVSb3cuaWQ7Cn1pZih0aGlzLl9ncmlkRGF0YURpdil7dmFyIGE9dGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCksZT1hLl92aXJ0dWFsaXphdGlvbjsKdmFyIGI9ZSYmZS5faGF2ZUN1c3RvbVNjcm9sbGJhciYmZS5fc2Nyb2xsYmFyP2UuX3Njcm9sbGJhci5zY3JvbGxUb3A6dGhpcy5fZ3JpZERhdGFEaXYuc2Nyb2xsVG9wOwppZigkZ2V0KHRoaXMuQ2xpZW50SUQrIl9Gcm96ZW4iKSl7ZC5zY3JvbGxlZFBvc2l0aW9uPWIrIiwiKyRnZXQodGhpcy5DbGllbnRJRCsiX0Zyb3plbiIpLnNjcm9sbExlZnQ7Cn1lbHNle2Quc2Nyb2xsZWRQb3NpdGlvbj1iKyIsIit0aGlzLl9ncmlkRGF0YURpdi5zY3JvbGxMZWZ0Owp9aWYoZSYmYS5nZXRfYWxsb3dQYWdpbmcoKSYmYS5nZXRfY3VycmVudFBhZ2VJbmRleCgpPjApe2QuY3VycmVudFBhZ2VJbmRleD1hLmdldF9jdXJyZW50UGFnZUluZGV4KCk7Cn1pZihlJiZlLl9pdGVtQXRUb3Ape2QuaXRlbUF0VG9wPWUuX2l0ZW1BdFRvcDsKZC5zdGFydEluZGV4PWUuX3N0YXJ0SW5kZXg7Cn19aWYodGhpcy5fcG9wVXBMb2NhdGlvbnMpe2QucG9wVXBMb2NhdGlvbnM9dGhpcy5fcG9wVXBMb2NhdGlvbnM7Cn1pZih0aGlzLl9kcmFnZ2VkSXRlbXNJbmRleGVzKXtkLmRyYWdnZWRJdGVtc0luZGV4ZXM9dGhpcy5fZHJhZ2dlZEl0ZW1zSW5kZXhlczsKfWlmKHRoaXMuX3Nob3VsZEZvY3VzT25QYWdlKXtkLnNob3VsZEZvY3VzT25QYWdlPXRoaXMuX3Nob3VsZEZvY3VzT25QYWdlOwp9dmFyIGM9dGhpcy5fc2VsZWN0aW9uOwppZihjJiZjLl9sYXN0U2VsZWN0ZWRJdGVtSW5kZXghPW51bGwpe2QubGFzdFNlbGVjdGVkSXRlbUluZGV4PWMuX2xhc3RTZWxlY3RlZEl0ZW1JbmRleDsKfWlmKHRoaXMuX2NoZWNrTGlzdEZpbHRlcktleXMmJnRoaXMuX2NoZWNrTGlzdEZpbHRlcktleXMubGVuZ3RoPjApe2QuY2hlY2tMaXN0RmlsdGVyS2V5cz10aGlzLl9jaGVja0xpc3RGaWx0ZXJLZXlzOwpkLmNoZWNrTGlzdEZpbHRlclZhbHVlcz10aGlzLl9jaGVja0xpc3RGaWx0ZXJWYWx1ZXM7Cn1yZXR1cm4gU3lzLlNlcmlhbGl6YXRpb24uSmF2YVNjcmlwdFNlcmlhbGl6ZXIuc2VyaWFsaXplKGQpOwp9LF9hdHRhY2hEb21FdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbktleURvd25EZWxlZ2F0ZT1GdW5jdGlvbi5jcmVhdGVEZWxlZ2F0ZSh0aGlzLHRoaXMuX29uS2V5RG93bkhhbmRsZXIpOwp0aGlzLl9vbktleVByZXNzRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9vbktleVByZXNzSGFuZGxlcik7CnRoaXMuX29uTW91c2VNb3ZlRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9vbk1vdXNlTW92ZUhhbmRsZXIpOwp3aW5kb3cuJGFkZEhhbmRsZXIodGhpcy5nZXRfZWxlbWVudCgpLCJrZXlkb3duIix0aGlzLl9vbktleURvd25EZWxlZ2F0ZSk7CndpbmRvdy4kYWRkSGFuZGxlcih0aGlzLmdldF9lbGVtZW50KCksImtleXByZXNzIix0aGlzLl9vbktleVByZXNzRGVsZWdhdGUpOwp3aW5kb3cuJGFkZEhhbmRsZXIodGhpcy5nZXRfZWxlbWVudCgpLCJtb3VzZW1vdmUiLHRoaXMuX29uTW91c2VNb3ZlRGVsZWdhdGUpOwp9LF9kZXRhY2hEb21FdmVudHM6ZnVuY3Rpb24oKXtpZih0aGlzLl9vbktleURvd25EZWxlZ2F0ZSl7d2luZG93LiRyZW1vdmVIYW5kbGVyKHRoaXMuZ2V0X2VsZW1lbnQoKSwia2V5ZG93biIsdGhpcy5fb25LZXlEb3duRGVsZWdhdGUpOwp0aGlzLl9vbktleURvd25EZWxlZ2F0ZT1udWxsOwp9aWYodGhpcy5fb25LZXlQcmVzc0RlbGVnYXRlKXt3aW5kb3cuJHJlbW92ZUhhbmRsZXIodGhpcy5nZXRfZWxlbWVudCgpLCJrZXlwcmVzcyIsdGhpcy5fb25LZXlQcmVzc0RlbGVnYXRlKTsKdGhpcy5fb25LZXlQcmVzc0RlbGVnYXRlPW51bGw7Cn1pZih0aGlzLl9vbk1vdXNlTW92ZURlbGVnYXRlKXt3aW5kb3cuJHJlbW92ZUhhbmRsZXIodGhpcy5nZXRfZWxlbWVudCgpLCJtb3VzZW1vdmUiLHRoaXMuX29uTW91c2VNb3ZlRGVsZWdhdGUpOwp0aGlzLl9vbk1vdXNlTW92ZURlbGVnYXRlPW51bGw7Cn19LF9vbk1vdXNlTW92ZUhhbmRsZXI6ZnVuY3Rpb24oYil7dmFyIGE9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRDdXJyZW50RWxlbWVudChiKTsKaWYodGhpcy5DbGllbnRTZXR0aW5ncyYmdGhpcy5DbGllbnRTZXR0aW5ncy5SZXNpemluZy5BbGxvd1Jvd1Jlc2l6ZSl7aWYodGhpcy5fZ3JpZEl0ZW1SZXNpemVyPT1udWxsKXt0aGlzLl9ncmlkSXRlbVJlc2l6ZXI9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWRJdGVtUmVzaXplcih0aGlzKTsKfXRoaXMuX2dyaWRJdGVtUmVzaXplci5fZGV0ZWN0UmVzaXplQ3Vyc29yc09uSXRlbXMoYixhKTsKdGhpcy5fZ3JpZEl0ZW1SZXNpemVyLl9tb3ZlSXRlbVJlc2l6ZXIoYik7Cn19LF9vbktleURvd25IYW5kbGVyOmZ1bmN0aW9uKGMpe3ZhciBkPWMua2V5Q29kZXx8Yy5jaGFyQ29kZTsKaWYoYy5jaGFyQ29kZSl7ZD1TdHJpbmcuZnJvbUNoYXJDb2RlKGMuY2hhckNvZGUpLnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKTsKfWlmKHRoaXMuX2lzU2hvcnRDdXRLZXlQcmVzc2VkKGMpKXt0aGlzLl9yYWlzZUtleVByZXNzSW50ZXJuYWwoYyk7Cn12YXIgYj1kPT10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLkRlbGV0ZUFjdGl2ZVJvdzsKaWYoYil7dGhpcy5fcmFpc2VLZXlQcmVzc0ludGVybmFsKGMpOwp9dmFyIGE9KGQ+PTM3JiZkPD00MCk7CnZhciBmPShkPT0zM3x8ZD09MzQpOwppZigoKFRlbGVyaWsuV2ViLkJyb3dzZXIuZWRnZXx8JHRlbGVyaWsuaXNJRXx8JHRlbGVyaWsuaXNDaHJvbWV8fCR0ZWxlcmlrLmlzU2FmYXJpfHwkdGVsZXJpay5pc09wZXJhKSYmKGF8fGYpKXx8KCgkdGVsZXJpay5pc0Nocm9tZXx8JHRlbGVyaWsuaXNTYWZhcml8fCR0ZWxlcmlrLmlzT3BlcmEpJiZkPT10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLkV4aXRFZGl0SW5zZXJ0TW9kZUtleSkpe3RoaXMuX3JhaXNlS2V5UHJlc3NJbnRlcm5hbChjKTsKfWlmKHRoaXMuQ2xpZW50U2V0dGluZ3MmJnRoaXMuQ2xpZW50U2V0dGluZ3MuQWxsb3dLZXlib2FyZE5hdmlnYXRpb24mJnRoaXMuZ2V0X2JhdGNoRWRpdGluZ01hbmFnZXIoKSl7dGhpcy5nZXRfYmF0Y2hFZGl0aW5nTWFuYWdlcigpLl9oYW5kbGVLZXlib2FyZE5hdmlnYXRpb24oYyk7Cn19LF9vbktleVByZXNzSGFuZGxlcjpmdW5jdGlvbihhKXt0aGlzLl9yYWlzZUtleVByZXNzSW50ZXJuYWwoYSk7Cn0sX3JhaXNlS2V5UHJlc3NJbnRlcm5hbDpmdW5jdGlvbihiKXt2YXIgYT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZEtleVByZXNzRXZlbnRBcmdzKGIpOwp0aGlzLnJhaXNlX2tleVByZXNzKGEpOwppZihhLmdldF9jYW5jZWwoKSl7cmV0dXJuOwp9dGhpcy5faGFuZGxlR3JpZEtleWJvYXJkQWN0aW9uKGIpOwp9LF92YWxpZGF0ZUVkaXRJbnNlcnRGb3JtOmZ1bmN0aW9uKGEpe2lmKHRoaXMuVmFsaWRhdGlvblNldHRpbmdzLkVuYWJsZVZhbGlkYXRpb24pe3ZhciBiPXRoaXMuVmFsaWRhdGlvblNldHRpbmdzLkNvbW1hbmRzVG9WYWxpZGF0ZTsKaWYoYi50b1N0cmluZygpLmluZGV4T2YoYSk+LTEpe3ZhciBjPXRoaXMuX3ZhbGlkYXRpb25Hcm91cDsKaWYodHlwZW9mKFBhZ2VfQ2xpZW50VmFsaWRhdGUpPT0iZnVuY3Rpb24iKXt2YXIgZD1QYWdlX0NsaWVudFZhbGlkYXRlKGMpOwppZihkIT10cnVlKXtyZXR1cm4gZmFsc2U7Cn19fX1yZXR1cm4gdHJ1ZTsKfSxfZ2V0VGFibGVWaWV3QnlDb250cm9sSW50b0l0OmZ1bmN0aW9uKGEpe3ZhciBoPWEuaWQuc3BsaXQoIl8iKTsKdmFyIGY9MDsKdmFyIGU7CmZvcihlPTA7CmU8aC5sZW5ndGg7CmUrKyl7aWYoaFtlXS5pbmRleE9mKCJEZXRhaWwiKT4tMSl7Zj1lOwp9fXZhciBjPSIiOwp2YXIgZD1bXTsKaWYoZj4wKXtmb3IoZT0wOwplPGYrMTsKZSsrKXtkLnB1c2goaFtlXSk7Cn1jPWQuam9pbigiXyIpOwp9aWYoIWMpe3ZhciBnPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Rmlyc3RQYXJlbnRCeVRhZ05hbWUoYSwidGFibGUiKTsKd2hpbGUoZyYmZy5pZC5pbmRleE9mKHRoaXMuQ2xpZW50SUQpPT0tMSl7Zz1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKGcucGFyZW50Tm9kZSwidGFibGUiKTsKfWlmKGcpe2M9Zy5pZDsKfX12YXIgYj0kZmluZChjKTsKaWYoIWIpe2I9dGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCk7Cn1yZXR1cm4gYjsKfSxfY2FuY2VsRGVmYXVsdEFjdGlvbjpmdW5jdGlvbihhKXtpZihhLnByZXZlbnREZWZhdWx0KXthLnByZXZlbnREZWZhdWx0KCk7Cn1hLnJldHVyblZhbHVlPWZhbHNlOwppZihhLnN0b3BQcm9wYWdhdGlvbil7YS5zdG9wUHJvcGFnYXRpb24oKTsKYS5jYW5jZWxCdWJibGU9dHJ1ZTsKfX0sX2hhbmRsZUdyaWRLZXlib2FyZEFjdGlvbjpmdW5jdGlvbihmKXt2YXIgbD1mLmtleUNvZGV8fGYuY2hhckNvZGU7CmlmKGYuY2hhckNvZGUpe2w9U3RyaW5nLmZyb21DaGFyQ29kZShmLmNoYXJDb2RlKS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCk7Cn1pZih0aGlzLkNsaWVudFNldHRpbmdzJiZ0aGlzLkNsaWVudFNldHRpbmdzLkFsbG93S2V5Ym9hcmROYXZpZ2F0aW9uJiZ0aGlzLkNsaWVudFNldHRpbmdzLlNlbGVjdGluZy5DZWxsU2VsZWN0aW9uTW9kZT09VGVsZXJpay5XZWIuVUkuR3JpZENlbGxTZWxlY3Rpb25Nb2RlLk5vbmUpe3ZhciBwPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Q3VycmVudEVsZW1lbnQoZik7CnZhciBhPXRoaXMuX2FsbG93U3VibWl0T25FbnRlcjsKdmFyIGI9dGhpcy5fY2FuSGFuZGxlS2V5Ym9hcmRBY3Rpb24oZik7CmlmKCFiJiYhYSl7cmV0dXJuOwp9ZWxzZXtpZigoYSkmJihsPT0xMykpe2lmKHAudHlwZSYmcC50eXBlLnRvTG93ZXJDYXNlKCk9PSJ0ZXh0YXJlYSIpe3JldHVybjsKfXZhciBqPWZhbHNlOwpmb3IodmFyIGs9MDsKazx0aGlzLl9zdWJtaXRDb250cm9scy5sZW5ndGg7CmsrKyl7aWYoKHAudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT10aGlzLl9zdWJtaXRDb250cm9sc1trXS5OYW1lKSYmKHAudHlwZS50b0xvd2VyQ2FzZSgpPT10aGlzLl9zdWJtaXRDb250cm9sc1trXS5UeXBlKSl7aj10cnVlOwp9fWlmKHAudHlwZSYmIWomJnAudHlwZS50b0xvd2VyQ2FzZSgpPT0iY2hlY2tib3giKXt0aGlzLl9jYW5jZWxEZWZhdWx0QWN0aW9uKGYpOwpyZXR1cm47Cn1pZighaiYmKHRoaXMuX2VkaXRJbmRleGVzLmxlbmd0aD4wKSl7cmV0dXJuOwp9dmFyIGQ9dGhpcy5fZ2V0VGFibGVWaWV3QnlDb250cm9sSW50b0l0KHApOwppZihqJiZkLmdldF9pc0l0ZW1JbnNlcnRlZCgpKXtpZih0aGlzLl92YWxpZGF0ZUVkaXRJbnNlcnRGb3JtKCJQZXJmb3JtSW5zZXJ0Iikpe2QuaW5zZXJ0SXRlbSgpOwp0aGlzLl9jYW5jZWxEZWZhdWx0QWN0aW9uKGYpOwpyZXR1cm47Cn19fX12YXIgbj0obD09dGhpcy5DbGllbnRTZXR0aW5ncy5LZXlib2FyZE5hdmlnYXRpb25TZXR0aW5ncy5Nb3ZlVXBLZXl8fGw9PXRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuTW92ZURvd25LZXkpOwp2YXIgbz10aGlzLl9zaG91bGRTZWxlY3RPblNwYWNlKGYsbCk7CnZhciBoPShsPT10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLkV4cGFuZERldGFpbFRhYmxlS2V5fHxsPT10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLkNvbGxhcHNlRGV0YWlsVGFibGVLZXkpOwp2YXIgbT0obD09MzN8fGw9PTM0KSYmYjsKdmFyIGc9dGhpcy5DbGllbnRTZXR0aW5ncy5LZXlib2FyZE5hdmlnYXRpb25TZXR0aW5ncy5FbmFibGVLZXlib2FyZFNob3J0Y3V0cyYmKGw9PXRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuRXhpdEVkaXRJbnNlcnRNb2RlS2V5fHxsPT10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLlVwZGF0ZUluc2VydEl0ZW1LZXkpOwp2YXIgYz10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLkVuYWJsZUtleWJvYXJkU2hvcnRjdXRzJiYobD09dGhpcy5DbGllbnRTZXR0aW5ncy5LZXlib2FyZE5hdmlnYXRpb25TZXR0aW5ncy5EZWxldGVBY3RpdmVSb3cpOwppZihuKXt0aGlzLl9oYW5kbGVBY3RpdmVSb3dOYXZpZ2F0aW9uKGYpOwp9ZWxzZXtpZihoKXtpZih0aGlzLmdldF9pZCgpPT09Zi50YXJnZXQuaWR8fCh0aGlzLmdldF9lbmFibGVBcmlhU3VwcG9ydCgpJiZ0aGlzLl9hY3RpdmVSb3cmJnRoaXMuX2FjdGl2ZVJvdy5pZD09PWYudGFyZ2V0LmlkKSl7dGhpcy5faGFuZGxlQWN0aXZlUm93RXhwYW5kQ29sbGFwc2UoZik7Cn19ZWxzZXtpZihvKXt0aGlzLl9oYW5kbGVBY3RpdmVSb3dTZWxlY3Rpb24oZik7Cn1lbHNle2lmKGcpe3RoaXMuX2hhbmRsZUV4aXRFZGl0TW9kZU9yVXBkYXRlSXRlbShmLGwpOwppZigodHlwZW9mKGYucmF3RXZlbnQucmV0dXJuVmFsdWUpPT0idW5kZWZpbmVkInx8KHR5cGVvZihmLnJhd0V2ZW50LnJldHVyblZhbHVlKT09ImJvb2xlYW4iJiZmLnJhd0V2ZW50LnJldHVyblZhbHVlKSkmJmw9PXRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuVXBkYXRlSW5zZXJ0SXRlbUtleSl7dGhpcy5faGFuZGxlQWN0aXZlUm93RWRpdChmKTsKdGhpcy5fY2FuY2VsRGVmYXVsdEFjdGlvbihmKTsKfX1lbHNle2lmKGMpe2lmKHAudHlwZSYmKHAudHlwZS50b0xvd2VyQ2FzZSgpPT0idGV4dCJ8fHAudHlwZS50b0xvd2VyQ2FzZSgpPT0idGV4dGFyZWEiKSl7cmV0dXJuOwp9dGhpcy5faGFuZGxlRGVsZXRlQWN0aXZlUm93KCk7Cn1lbHNle2lmKG0pe3RoaXMuX2hhbmRsZVBhZ2luZyhmKTsKfWVsc2V7aWYoZi5jdHJsS2V5KXt0aGlzLl9oYW5kbGVTaG9ydEN1dEtleShmKTsKfX19fX19fX19LF9zaG91bGRTZWxlY3RPblNwYWNlOmZ1bmN0aW9uKGEsYil7dmFyIGQ9YS50YXJnZXQudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwp2YXIgYz10aGlzLkNsaWVudFNldHRpbmdzLlNlbGVjdGluZzsKaWYoYj09MzImJmMmJmMuQWxsb3dSb3dTZWxlY3QmJmQhPSJJTlBVVCImJmQhPSJURVhUQVJFQSIpe3JldHVybiB0cnVlOwp9cmV0dXJuIGZhbHNlOwp9LF9jYW5IYW5kbGVLZXlib2FyZEFjdGlvbjpmdW5jdGlvbihhKXt2YXIgYz1hLmtleUNvZGV8fGEuY2hhckNvZGU7CmlmKChjPT0zMnx8Yz09MTN8fGM9PTMzfHxjPT0zNHx8Yz09MTI3KSYmdGhpcy5DbGllbnRTZXR0aW5ncy5LZXlib2FyZE5hdmlnYXRpb25TZXR0aW5ncy5FbmFibGVLZXlib2FyZFNob3J0Y3V0cyl7dmFyIGQ9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRDdXJyZW50RWxlbWVudChhKTsKdmFyIGI9KGQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iaW5wdXQiJiZkLnR5cGUudG9Mb3dlckNhc2UoKT09ImNoZWNrYm94IiYmKGQuaWQmJmQuaWQuaW5kZXhPZigiU2VsZWN0Q2hlY2tCb3giKSE9LTEpKTsKaWYoYz09MTI3JiZkLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09ImlucHV0IiYmZC50eXBlPT0idGV4dCIpe3JldHVybiBmYWxzZTsKfWlmKGM9PTMzfHxjPT0zNCl7aWYoZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJpbnB1dCJ8fGQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0idGV4dGFyZWEiKXtyZXR1cm4gZmFsc2U7Cn19ZWxzZXtpZigoZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJpbnB1dCImJiFiKXx8ZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJzZWxlY3QifHxkLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09Im9wdGlvbiJ8fGQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iYnV0dG9uInx8ZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJhInx8ZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0ZXh0YXJlYSJ8fGQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iaW1nIil7cmV0dXJuIGZhbHNlOwp9fX1yZXR1cm4gdHJ1ZTsKfSxfaGFuZGxlU2hvcnRDdXRLZXk6ZnVuY3Rpb24oYSl7dmFyIGI9YS5rZXlDb2RlfHxhLmNoYXJDb2RlOwppZihhLmNoYXJDb2RlKXtiPVN0cmluZy5mcm9tQ2hhckNvZGUoYS5jaGFyQ29kZSkudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApOwp9c3dpdGNoKGIpe2Nhc2UgdGhpcy5DbGllbnRTZXR0aW5ncy5LZXlib2FyZE5hdmlnYXRpb25TZXR0aW5ncy5Jbml0SW5zZXJ0S2V5OmlmKHRoaXMuX2FjdGl2ZVJvdyl7dGhpcy5fZ2V0Um93KHRoaXMuX2FjdGl2ZVJvdy5pZCkuZ2V0X293bmVyKCkuc2hvd0luc2VydEl0ZW0oKTsKYS5wcmV2ZW50RGVmYXVsdCgpOwp9YnJlYWs7CmNhc2UgdGhpcy5DbGllbnRTZXR0aW5ncy5LZXlib2FyZE5hdmlnYXRpb25TZXR0aW5ncy5SZWJpbmRLZXk6aWYodGhpcy5fYWN0aXZlUm93KXt0aGlzLl9nZXRSb3codGhpcy5fYWN0aXZlUm93LmlkKS5nZXRfb3duZXIoKS5yZWJpbmQoKTsKYS5wcmV2ZW50RGVmYXVsdCgpOwp9YnJlYWs7CmRlZmF1bHQ6YnJlYWs7Cn19LF9pc1Nob3J0Q3V0S2V5UHJlc3NlZDpmdW5jdGlvbihhKXt2YXIgYj1hLmtleUNvZGV8fGEuY2hhckNvZGU7CmlmKGEuY2hhckNvZGUpe2I9U3RyaW5nLmZyb21DaGFyQ29kZShhLmNoYXJDb2RlKS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCk7Cn1pZihhLmN0cmxLZXkpe3N3aXRjaChiKXtjYXNlIHRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuSW5pdEluc2VydEtleTpyZXR1cm4gdHJ1ZTsKY2FzZSB0aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLlJlYmluZEtleTpyZXR1cm4gdHJ1ZTsKZGVmYXVsdDpyZXR1cm4gZmFsc2U7Cn19fSxfaGFuZGxlRGVsZXRlQWN0aXZlUm93OmZ1bmN0aW9uKCl7aWYodGhpcy5fYWN0aXZlUm93KXt2YXIgYT0kZmluZCh0aGlzLl9hY3RpdmVSb3cuaWQuc3BsaXQoIl9fIilbMF0pOwppZihhKXthLmRlbGV0ZUl0ZW0odGhpcy5fYWN0aXZlUm93KTsKfX19LF9nZXRSb3c6ZnVuY3Rpb24oYil7dmFyIGE9JGZpbmQoYik7CmlmKCFhKXt2YXIgZD1iLnNwbGl0KCJfXyIpWzBdOwp2YXIgYz0kZmluZChkKTsKdGhpcy5fZW5zdXJlRGF0YUl0ZW1zQ3JlYXRlZChjKTsKYT0kZmluZChiKTsKfXJldHVybiBhOwp9LF9oYW5kbGVQYWdpbmc6ZnVuY3Rpb24oYSl7dmFyIGM9bnVsbDsKdmFyIGQ9bnVsbDsKdmFyIGI9YS5rZXlDb2RlfHxhLmNoYXJDb2RlOwp2YXIgZj1udWxsOwppZih0aGlzLl9hY3RpdmVSb3cpe2Y9dGhpcy5fZ2V0Um93KHRoaXMuX2FjdGl2ZVJvdy5pZCkuZ2V0X293bmVyKCk7CmM9Zi5nZXRfY3VycmVudFBhZ2VJbmRleCgpOwpkPWYuZ2V0X3BhZ2VDb3VudCgpOwp9aWYoYj09MzMpe2MrKzsKaWYoYzxkKXt0aGlzLl9zaG91bGRGb2N1c09uUGFnZT10cnVlOwp0aGlzLnVwZGF0ZUNsaWVudFN0YXRlKCk7CmlmKHRoaXMuX2FjdGl2ZVJvdyl7Zi5wYWdlKCJOZXh0Iik7Cn19fWVsc2V7Yy0tOwppZihjPi0xKXt0aGlzLl9zaG91bGRGb2N1c09uUGFnZT10cnVlOwp0aGlzLnVwZGF0ZUNsaWVudFN0YXRlKCk7CmlmKHRoaXMuX2FjdGl2ZVJvdyl7Zi5wYWdlKCJQcmV2Iik7Cn19fWEucmF3RXZlbnQucmV0dXJuVmFsdWU9ZmFsc2U7CmEucmF3RXZlbnQuY2FuY2VsQnViYmxlPXRydWU7CmlmKGEuc3RvcFByb3BhZ2F0aW9uKXthLnByZXZlbnREZWZhdWx0KCk7CmEuc3RvcFByb3BhZ2F0aW9uKCk7Cn19LF9oYW5kbGVFeGl0RWRpdE1vZGVPclVwZGF0ZUl0ZW06ZnVuY3Rpb24oZixoKXt2YXIgZD1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEN1cnJlbnRFbGVtZW50KGYpOwp2YXIgbj1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKGQsInRyIik7CmlmKG4mJiF0aGlzLmlzR3JpZERhdGFSb3cobikmJm4ucGFyZW50Tm9kZSl7dmFyIGo9bjsKbj1UZWxlcmlrLldlYi5VSS5HcmlkLkdldEZpcnN0UGFyZW50QnlUYWdOYW1lKG4ucGFyZW50Tm9kZSwidHIiKTsKaWYoIW4pe249ajsKfX1pZihoPT10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLkV4aXRFZGl0SW5zZXJ0TW9kZUtleSYmdGhpcy5fYWN0aXZlUm93JiZ0aGlzLl9nZXRSb3codGhpcy5fYWN0aXZlUm93LmlkKS5fb3duZXIuZ2V0X2lzSXRlbUluc2VydGVkKCkpe3RoaXMuX2dldFJvdyh0aGlzLl9hY3RpdmVSb3cuaWQpLl9vd25lci5jYW5jZWxJbnNlcnQoKTsKZi5yYXdFdmVudC5yZXR1cm5WYWx1ZT1mYWxzZTsKZi5yYXdFdmVudC5jYW5jZWxCdWJibGU9dHJ1ZTsKaWYoZi5zdG9wUHJvcGFnYXRpb24pe2YucHJldmVudERlZmF1bHQoKTsKZi5zdG9wUHJvcGFnYXRpb24oKTsKfXJldHVybiBmYWxzZTsKfWlmKGg9PXRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuRXhpdEVkaXRJbnNlcnRNb2RlS2V5KXtpZih0aGlzLl9hY3RpdmVSb3cpe3ZhciBjPXRoaXMuX2FjdGl2ZVJvdy5pZDsKdmFyIGE9JGZpbmQoYyk7CmlmKCFhKXt2YXIgcD0kZmluZChjLnNwbGl0KCJfXyIpWzBdKTsKdGhpcy5fb3duZXIuX2Vuc3VyZURhdGFJdGVtc0NyZWF0ZWQocCk7CmE9JGZpbmQoYyk7Cn1pZihhLmdldF9pc0luRWRpdE1vZGUoKSl7dmFyIGI9YS5nZXRfZWxlbWVudCgpOwp2YXIgaz10aGlzLmlzR3JpZERhdGFSb3coYik7CmsuY2FuY2VsVXBkYXRlKGIpOwpmLnJhd0V2ZW50LnJldHVyblZhbHVlPWZhbHNlOwpmLnJhd0V2ZW50LmNhbmNlbEJ1YmJsZT10cnVlOwppZihmLnN0b3BQcm9wYWdhdGlvbil7Zi5wcmV2ZW50RGVmYXVsdCgpOwpmLnN0b3BQcm9wYWdhdGlvbigpOwp9fX1yZXR1cm4gZmFsc2U7Cn1pZihuPT1udWxsfHx0eXBlb2Yobik9PSJ1bmRlZmluZWQiKXtyZXR1cm4gZmFsc2U7Cn12YXIgbz10aGlzLmlzR3JpZERhdGFSb3cobik7CmlmKG8hPW51bGwmJnR5cGVvZihvKSE9InVuZGVmaW5lZCIpe2lmKHRoaXMuaXNJbkVkaXRNb2RlQnlIaWVyYXJjaGljYWxJbmRleChuLmlkLnNwbGl0KCJfXyIpWzFdKSl7aWYoaD09dGhpcy5DbGllbnRTZXR0aW5ncy5LZXlib2FyZE5hdmlnYXRpb25TZXR0aW5ncy5FeGl0RWRpdEluc2VydE1vZGVLZXkpe28uY2FuY2VsVXBkYXRlKG4pOwp9ZWxzZXtpZihoPT10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLlVwZGF0ZUluc2VydEl0ZW1LZXkpe2lmKHRoaXMuX3ZhbGlkYXRlRWRpdEluc2VydEZvcm0oIlVwZGF0ZSIpKXtvLnVwZGF0ZUl0ZW0obik7Cn19fWYucmF3RXZlbnQucmV0dXJuVmFsdWU9ZmFsc2U7CmYucmF3RXZlbnQuY2FuY2VsQnViYmxlPXRydWU7CmlmKGYuc3RvcFByb3BhZ2F0aW9uKXtmLnByZXZlbnREZWZhdWx0KCk7CmYuc3RvcFByb3BhZ2F0aW9uKCk7Cn1yZXR1cm4gZmFsc2U7Cn19ZWxzZXt2YXIgbD0kdGVsZXJpay4kKGQpLnBhcmVudHMoInRyIik7CnZhciBtOwpmb3IodmFyIGc9MDsKZzxsLmxlbmd0aDsKZysrKXttPWxbZ10ucHJldmlvdXNTaWJsaW5nOwppZihtIT1udWxsJiZ0eXBlb2YobSkhPSJ1bmRlZmluZWQiJiZtLnRhZ05hbWU9PSJUUiIpe289dGhpcy5pc0dyaWREYXRhUm93KG0pOwppZihvIT1udWxsJiZ0eXBlb2YobykhPSJ1bmRlZmluZWQiKXtpZihoPT10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLkV4aXRFZGl0SW5zZXJ0TW9kZUtleSl7by5jYW5jZWxVcGRhdGUobSk7Cn1lbHNle2lmKGg9PXRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuVXBkYXRlSW5zZXJ0SXRlbUtleSl7aWYodGhpcy5fdmFsaWRhdGVFZGl0SW5zZXJ0Rm9ybSgiVXBkYXRlIikpe28udXBkYXRlSXRlbShtKTsKfX19Zi5yYXdFdmVudC5yZXR1cm5WYWx1ZT1mYWxzZTsKZi5yYXdFdmVudC5jYW5jZWxCdWJibGU9dHJ1ZTsKaWYoZi5zdG9wUHJvcGFnYXRpb24pe2YucHJldmVudERlZmF1bHQoKTsKZi5zdG9wUHJvcGFnYXRpb24oKTsKfWJyZWFrOwp9fX1yZXR1cm4gZmFsc2U7Cn19LGlzR3JpZERhdGFSb3c6ZnVuY3Rpb24oZCl7aWYoZC5pZD09IiIpe3JldHVybjsKfXZhciBhPXRoaXMuZ2V0X21hc3RlclRhYmxlVmlldygpLl9nZXRSb3dCeUluZGV4T3JJdGVtSW5kZXhIaWVyYXJjaGljYWwoZCk7CnZhciBjPWEuaWQuc3BsaXQoIl9fIilbMF07CnZhciBiPSRmaW5kKGMpOwppZihiIT1udWxsJiZ0eXBlb2YoYikhPSJ1bmRlZmluZWQiKXtyZXR1cm4gYjsKfWVsc2V7cmV0dXJuOwp9fSxpc0luRWRpdE1vZGVCeUhpZXJhcmNoaWNhbEluZGV4OmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2VkaXRJbmRleGVzIT1udWxsJiZ0eXBlb2YodGhpcy5fZWRpdEluZGV4ZXMpIT0idW5kZWZpbmVkIil7Zm9yKHZhciBiPTA7CmI8dGhpcy5fZWRpdEluZGV4ZXMubGVuZ3RoOwpiKyspe2lmKHRoaXMuX2VkaXRJbmRleGVzW2JdPT1hKXtyZXR1cm4gdHJ1ZTsKfX1yZXR1cm4gZmFsc2U7Cn1lbHNle3JldHVybiBmYWxzZTsKfX0sX3Nob3VsZFNraXBOYXZpZ2F0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPShhLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09ImlucHV0IiYmYS50eXBlLnRvTG93ZXJDYXNlKCk9PSJjaGVja2JveCImJihhLmlkJiZhLmlkLmluZGV4T2YoIlNlbGVjdENoZWNrQm94IikhPS0xKSk7CnZhciBjPWEmJmEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZS5pbmRleE9mKCJSYWREcm9wRG93bkxpc3QiKSE9LTE7CmlmKGEhPW51bGwmJmEudGFnTmFtZSYmIWImJihhLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09ImlucHV0Inx8YS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0ZXh0YXJlYSJ8fGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0ic2VsZWN0Inx8Yykpe3JldHVybiB0cnVlOwp9cmV0dXJuIGZhbHNlOwp9LF9oYW5kbGVBY3RpdmVSb3dOYXZpZ2F0aW9uOmZ1bmN0aW9uKG0pe3ZhciBxPW0ua2V5Q29kZXx8bS5jaGFyQ29kZTsKaWYobS5jaGFyQ29kZSl7cT1TdHJpbmcuZnJvbUNoYXJDb2RlKG0uY2hhckNvZGUpLnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKTsKfXZhciBjPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Q3VycmVudEVsZW1lbnQobSk7CmlmKHRoaXMuX3Nob3VsZFNraXBOYXZpZ2F0aW9uKGMpKXtyZXR1cm47Cn12YXIgQT10aGlzLl9nZXRQb3NpdGlvbmVkRGF0YUl0ZW1zKCk7CmlmKEEubGVuZ3RoPD0wKXtyZXR1cm47Cn12YXIgej10aGlzLl9rZXlib2FyZE5hdmlnYXRpb25Qcm9wZXJ0aWVzOwp2YXIgRj10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLk1vdmVVcEtleTsKdmFyIGs9dGhpcy5DbGllbnRTZXR0aW5ncy5LZXlib2FyZE5hdmlnYXRpb25TZXR0aW5ncy5Nb3ZlRG93bktleTsKdmFyIGg9dGhpcy5nZXRfYWxsb3dBY3RpdmVSb3dDeWNsZSgpOwp2YXIgYT10aGlzLl9hY3RpdmVSb3c7CnZhciBiPXRoaXMuQ2xpZW50U2V0dGluZ3M7CmlmKGEmJmIuU2VsZWN0aW5nJiYhYi5TZWxlY3RpbmcuQWxsb3dSb3dTZWxlY3Qpe3ouY3VycmVudFNlbGVjdGVkSW5kZXg9dGhpcy5fc2VhcmNoUm93SW5kZXgoYS5pZCk7Cn12YXIgRDsKdmFyIHk7CnZhciB4Owp2YXIgajsKdmFyIEM9W107CnZhciB3PW51bGw7CmlmKGIuU2VsZWN0aW5nJiZiLlNlbGVjdGluZy5BbGxvd1Jvd1NlbGVjdCl7dGhpcy5fc2VsZWN0aW9uLl9zZWxlY3Rpb25JblByb2dyZXNzPXRydWU7CkQ9dGhpcy5fc2VsZWN0aW9uOwp2YXIgRT1mYWxzZTsKaj10cnVlOwpmb3IodmFyIG89MCx0PUEubGVuZ3RoOwpvPHQ7Cm8rKyl7aWYoQVtvXS5nZXRfc2VsZWN0ZWQoKSl7Q1tDLmxlbmd0aF09QVtvXTsKfX1pZih6LmZpcnN0U2VsZWN0aW9uKXtpZihhKXt6LmN1cnJlbnRTZWxlY3RlZEluZGV4PXRoaXMuX3NlYXJjaFJvd0luZGV4KGEuaWQpOwp0aGlzLl9jbGVhclNlbGVjdGVkSXRlbXNFeGNsdWRpbmdJbnRlcnZhbCh6LmN1cnJlbnRTZWxlY3RlZEluZGV4LHouY3VycmVudFNlbGVjdGVkSW5kZXgpOwp6Lmxhc3RTZWxlY3RlZFJvd0luZGV4PXouY3VycmVudFNlbGVjdGVkSW5kZXg7CnRoaXMuX3NlbGVjdGlvbi5fbGFzdFNlbGVjdGVkSXRlbUluZGV4PXouY3VycmVudFNlbGVjdGVkSW5kZXg7Cn1lbHNle2lmKEMubGVuZ3RoPjApe3ouY3VycmVudFNlbGVjdGVkSW5kZXg9dGhpcy5fc2VhcmNoUm93SW5kZXgoQ1swXS5nZXRfaWQoKSk7CnoubGFzdFNlbGVjdGVkUm93SW5kZXg9ei5jdXJyZW50U2VsZWN0ZWRJbmRleDsKdGhpcy5fc2VsZWN0aW9uLl9sYXN0U2VsZWN0ZWRJdGVtSW5kZXg9ei5jdXJyZW50U2VsZWN0ZWRJbmRleDsKfX16LnNldEluaXRpYWxTdGF0ZSgpOwp9aWYoQy5sZW5ndGg+MSYmei5jdXJyZW50U2VsZWN0ZWRJbmRleCE9PXVuZGVmaW5lZCl7aWYoei5sYXN0Q2xpY2tTZWxlY3RlZEl0ZW0pe3ZhciBzPXRoaXMuX3NlYXJjaFJvd0luZGV4KHoubGFzdENsaWNrU2VsZWN0ZWRJdGVtLmlkKTsKaWYocyl7ei5jdXJyZW50U2VsZWN0ZWRJbmRleD1zOwp9fX1lbHNle2lmKEMubGVuZ3RoPjAmJnoubGFzdENsaWNrU2VsZWN0ZWRJdGVtKXt6LmN1cnJlbnRTZWxlY3RlZEluZGV4PXRoaXMuX3NlYXJjaFJvd0luZGV4KHoubGFzdENsaWNrU2VsZWN0ZWRJdGVtLmlkKTsKei5zZXRJbml0aWFsU3RhdGUoKTsKfWVsc2V7aWYoIWEpe2lmKHE9PUYpe3ouY3VycmVudFNlbGVjdGVkSW5kZXg9MTsKfX19fWlmKHouY3VycmVudFNlbGVjdGVkSW5kZXg9PSJ1bmRlZmluZWQifHxpc05hTih6LmN1cnJlbnRTZWxlY3RlZEluZGV4KXx8ei5jdXJyZW50U2VsZWN0ZWRJbmRleD09bnVsbCl7aWYocT09Ril7ei5jdXJyZW50U2VsZWN0ZWRJbmRleD0xOwp9ZWxzZXtpZihxPT1rKXt6LmN1cnJlbnRTZWxlY3RlZEluZGV4PTA7Cn19fXoubGFzdENsaWNrU2VsZWN0ZWRJdGVtPW51bGw7CmlmKCh6LmhvbGRpbmdDdHJsJiZtLnNoaWZ0S2V5JiYhbS5jdHJsS2V5JiYhRSkpe3ouc2V0SW5pdGlhbFN0YXRlKCk7CmlmKGEmJiRmaW5kKGEuaWQpLmdldF9zZWxlY3RlZCgpfHxDLmxlbmd0aD4xJiYhei5ob2xkaW5nQ3RybCl7dGhpcy5fY2xlYXJTZWxlY3RlZEl0ZW1zRXhjbHVkaW5nSW50ZXJ2YWwoei5pbml0aWFsUm93SW5kZXgsei5pbml0aWFsUm93SW5kZXgpOwppZighQVt6LmluaXRpYWxSb3dJbmRleF0uZ2V0X3NlbGVjdGVkKCkpe0QuX3NlbGVjdFJvd0ludGVybmFsKEFbei5pbml0aWFsUm93SW5kZXhdLmdldF9lbGVtZW50KCksbSx0cnVlLHRydWUsZmFsc2UpOwp9fWVsc2V7dmFyIHI9ei5sYXN0U2VsZWN0ZWRSb3dJbmRleDsKei5pbml0aWFsUm93SW5kZXg9cjsKaWYoKHouY3VycmVudFNlbGVjdGVkSW5kZXg8cnx8aCkmJihxPT1GfHwhaCYmcT09aykpe2lmKHI+ei5jdXJyZW50U2VsZWN0ZWRJbmRleCl7dGhpcy5fY2xlYXJTZWxlY3RlZEl0ZW1zRXhjbHVkaW5nSW50ZXJ2YWwoei5jdXJyZW50U2VsZWN0ZWRJbmRleCxyKTsKfWVsc2V7dGhpcy5fY2xlYXJTZWxlY3RlZEl0ZW1zSW5JbnRlcnZhbChyLHouY3VycmVudFNlbGVjdGVkSW5kZXgpOwp9dGhpcy5fc2VsZWN0SXRlbXNJbkludGVydmFsKHIsei5jdXJyZW50U2VsZWN0ZWRJbmRleCwtMSk7Cn1lbHNle2lmKHE9PWt8fCFoKXtpZih6LmN1cnJlbnRTZWxlY3RlZEluZGV4PnIpe3RoaXMuX2NsZWFyU2VsZWN0ZWRJdGVtc0V4Y2x1ZGluZ0ludGVydmFsKHIsei5jdXJyZW50U2VsZWN0ZWRJbmRleCk7Cn1lbHNle3RoaXMuX2NsZWFyU2VsZWN0ZWRJdGVtc0luSW50ZXJ2YWwoei5jdXJyZW50U2VsZWN0ZWRJbmRleCxyKTsKfXRoaXMuX3NlbGVjdEl0ZW1zSW5JbnRlcnZhbChyLHouY3VycmVudFNlbGVjdGVkSW5kZXgsMSk7Cn19fX15PUFbei5jdXJyZW50U2VsZWN0ZWRJbmRleF07Cnc9ei5kaXJlY3Rpb25JbmRleDsKeD16LmN1cnJlbnRTZWxlY3RlZEluZGV4Owp2YXIgZj1xOwppZihmPT1GKXtmPWs7Cn1lbHNle2Y9RjsKfXdoaWxlKHkmJiF5LmdldF9zZWxlY3RhYmxlKCkpe3g9dGhpcy5fZ2V0TmV4dEluZGV4KGYsZmFsc2UseCk7Cnk9QVt4XTsKfXZhciB2PSh6LmRpcmVjdGlvbkluZGV4PjAmJnE9PWspfHwoei5kaXJlY3Rpb25JbmRleDwwJiZxPT1GKTsKaWYoei5jdXJyZW50U2VsZWN0ZWRJbmRleD09PXouaW5pdGlhbFJvd0luZGV4JiZ2JiZBLmxlbmd0aC16LnVuc2VsZWN0YWJsZUl0ZW1zQ291bnQ9PT1DLmxlbmd0aCl7aj1mYWxzZTsKfX16LmN1cnJlbnRTZWxlY3RlZEluZGV4PXRoaXMuX2dldE5leHRJbmRleChxLHRydWUpOwppZihiLlNlbGVjdGluZyYmYi5TZWxlY3RpbmcuQWxsb3dSb3dTZWxlY3Qpe2lmKCghbS5zaGlmdEtleXx8Qy5sZW5ndGg9PT0wKSl7aWYoQVt6LmN1cnJlbnRTZWxlY3RlZEluZGV4XS5nZXRfc2VsZWN0YWJsZSgpKXt6LnNldEluaXRpYWxTdGF0ZSgpOwp9fXZhciBHPXouZGlyZWN0aW9uSW5kZXg+MCYmcT09RjsKdmFyIGw9ei5kaXJlY3Rpb25JbmRleDwwJiZxPT1rOwp2YXIgdT16LmN1cnJlbnRTZWxlY3RlZEluZGV4Owp2YXIgbjsKd2hpbGUoIUFbdV0uZ2V0X3NlbGVjdGFibGUoKSl7dT10aGlzLl9nZXROZXh0SW5kZXgocSxmYWxzZSx1KTsKfWlmKHU9PT16LmluaXRpYWxSb3dJbmRleCYmKEd8fGx8fCh3IT09MCYmei5kaXJlY3Rpb25JbmRleD09PTApKSl7aWYoQS5sZW5ndGgtei51bnNlbGVjdGFibGVJdGVtc0NvdW50PT09Qy5sZW5ndGgpe2o9ZmFsc2U7Cn1lbHNle2lmKHkuZ2V0X3NlbGVjdGVkKCkmJkFbei5jdXJyZW50U2VsZWN0ZWRJbmRleF0uZ2V0X3NlbGVjdGFibGUoKSYmIW0uY3RybEtleSl7bj17Y3RybEtleTpmYWxzZX07CkQuX3NlbGVjdFJvd0ludGVybmFsKHkuZ2V0X2VsZW1lbnQoKSxuLHRydWUsdHJ1ZSxmYWxzZSk7Cn12YXIgcD16LmN1cnJlbnRTZWxlY3RlZEluZGV4Owp6LmN1cnJlbnRTZWxlY3RlZEluZGV4PXU7Cnouc2V0SW5pdGlhbFN0YXRlKCk7CnouY3VycmVudFNlbGVjdGVkSW5kZXg9cDsKfX1pZih5JiZ5LmdldF9zZWxlY3RlZCgpJiZBW3ouY3VycmVudFNlbGVjdGVkSW5kZXhdLmdldF9zZWxlY3RlZCgpJiZqKXt2YXIgZD16LmN1cnJlbnRTZWxlY3RlZEluZGV4Owp3aGlsZShBW2RdJiYhQVtkXS5nZXRfc2VsZWN0YWJsZSgpKXtkPXRoaXMuX2dldE5leHRJbmRleChxLGZhbHNlLGQpOwp9aWYoIW0uY3RybEtleSYmbS5zaGlmdEtleSYmQVtkXSYmQVtkXS5nZXRfc2VsZWN0ZWQoKSYmQVtkXS5nZXRfc2VsZWN0YWJsZSgpKXtpZih5LmdldF9zZWxlY3RlZCgpKXtuPXtjdHJsS2V5OmZhbHNlfTsKRC5fc2VsZWN0Um93SW50ZXJuYWwoeS5nZXRfZWxlbWVudCgpLG4sdHJ1ZSx0cnVlLGZhbHNlKTsKfX19ZWxzZXtpZih5JiYheS5nZXRfc2VsZWN0ZWQoKSYmbS5jdHJsS2V5JiZtLnNoaWZ0S2V5KXtuPXtjdHJsS2V5Om0uY3RybEtleX07CkQuX3NlbGVjdFJvd0ludGVybmFsKHkuZ2V0X2VsZW1lbnQoKSxuLHRydWUsdHJ1ZSxmYWxzZSk7Cn1lbHNle2lmKG0uc2hpZnRLZXkmJmEmJnouZmlyc3RTZWxlY3Rpb24pe3ZhciBnPXouY3VycmVudFNlbGVjdGVkSW5kZXg7CnouY3VycmVudFNlbGVjdGVkSW5kZXg9eDsKei5zZXRJbml0aWFsU3RhdGUoKTsKei5jdXJyZW50U2VsZWN0ZWRJbmRleD1nOwppZigheS5nZXRfc2VsZWN0ZWQoKSl7bj17Y3RybEtleTpmYWxzZX07CkQuX3NlbGVjdFJvd0ludGVybmFsKGEsbix0cnVlLHRydWUsZmFsc2UpOwp9fX19aWYobS5jdHJsS2V5KXt6LmhvbGRpbmdDdHJsPXRydWU7Cn1lbHNle3ouaG9sZGluZ0N0cmw9ZmFsc2U7Cn10aGlzLl9zZWxlY3Rpb24uX3NlbGVjdGlvbkluUHJvZ3Jlc3M9ZmFsc2U7CmlmKCFtLnNoaWZ0S2V5JiYhbS5jdHJsS2V5KXt0aGlzLl9zZWxlY3Rpb24uX2xhc3RTZWxlY3RlZEl0ZW1JbmRleD16LmN1cnJlbnRTZWxlY3RlZEluZGV4Owp9fXRoaXMuX3NldEFjdGl2ZVJvdyhBW3ouY3VycmVudFNlbGVjdGVkSW5kZXhdLmdldF9lbGVtZW50KCksbSk7CnZhciBCPWZhbHNlOwppZihiLlNlbGVjdGluZyYmYi5TZWxlY3RpbmcuQWxsb3dSb3dTZWxlY3Qpe2lmKCFtLmN0cmxLZXl8fG0uY3RybEtleSYmbS5zaGlmdEtleSl7Qj10cnVlOwpELl9zZWxlY3RSb3dJbnRlcm5hbChBW3ouY3VycmVudFNlbGVjdGVkSW5kZXhdLmdldF9lbGVtZW50KCksbSxmYWxzZSx0cnVlLHRydWUsZmFsc2UpOwp9aWYoIUIpe3RoaXMudXBkYXRlQ2xpZW50U3RhdGUoKTsKfWlmKGEmJiRmaW5kKGEuaWQpJiYkZmluZChhLmlkKS5nZXRfc2VsZWN0ZWQoKSYmIW0uc2hpZnRLZXkmJm0uY3RybEtleSYmQil7ei5sYXN0U2VsZWN0ZWRSb3dJbmRleD16LmN1cnJlbnRTZWxlY3RlZEluZGV4Owp9fXouZmlyc3RTZWxlY3Rpb249ZmFsc2U7Cm0ucHJldmVudERlZmF1bHQoKTsKfSxfZ2V0TmV4dEluZGV4OmZ1bmN0aW9uKGcsYixmKXt2YXIgaj10aGlzLl9nZXRQb3NpdGlvbmVkRGF0YUl0ZW1zKCksaT10aGlzLl9rZXlib2FyZE5hdmlnYXRpb25Qcm9wZXJ0aWVzLGQ9dGhpcy5nZXRfYWxsb3dBY3RpdmVSb3dDeWNsZSgpLGw9dGhpcy5DbGllbnRTZXR0aW5ncy5LZXlib2FyZE5hdmlnYXRpb25TZXR0aW5ncy5Nb3ZlVXBLZXksZT10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLk1vdmVEb3duS2V5LGM9aS5jdXJyZW50U2VsZWN0ZWRJbmRleCxoPXRoaXMuZ2V0X21hc3RlclRhYmxlVmlldygpLG09aC5fdmlydHVhbGl6YXRpb24saz1tJiZtLl9oYXZlQ3VzdG9tU2Nyb2xsYmFyP20uX2dldFNjcm9sbEluZm8oKTpudWxsLGE9MDsKaWYoZil7Yz1mOwp9aWYoZz09bCl7Yy0tOwppZihjPDApe2lmKGspe20uc2VsZWN0KE1hdGgubWF4KG0uZ2V0X3N0YXJ0SW5kZXgoKS1qLmxlbmd0aCtNYXRoLmZsb29yKGsuaXRlbUF0Qm90dG9tLWsuaXRlbUF0VG9wKSwwKSk7CmM9TWF0aC5mbG9vcihrLml0ZW1BdFRvcCktbS5nZXRfc3RhcnRJbmRleCgpLTE7Cn1lbHNle2lmKGQpe2M9ai5sZW5ndGgtMTsKfWVsc2V7Yz0wOwp9fX1pZihrJiZtLmdldF9zdGFydEluZGV4KCkrYzxoLmdldF9jdXJyZW50UGFnZUluZGV4KCkqaC5nZXRfcGFnZVNpemUoKSl7YysrOwp9ZWxzZXtpZihrJiZtLmdldF9zdGFydEluZGV4KCkrYzw9TWF0aC5mbG9vcihrLml0ZW1BdFRvcCkpe20uc2Nyb2xsVG9JbmRleChtLmdldF9zdGFydEluZGV4KCkrYyk7Cn19aWYoYil7aS5kaXJlY3Rpb25JbmRleCsrOwp9fWVsc2V7aWYoZz09ZSl7YysrOwppZihjPmoubGVuZ3RoLTEpe2lmKGspe2M9TWF0aC5taW4oTWF0aC5mbG9vcihrLml0ZW1BdEJvdHRvbS1rLml0ZW1BdFRvcCksbS5nZXRfdmlydHVhbEl0ZW1Db3VudCgpKTsKYT1qLmxlbmd0aC1NYXRoLmZsb29yKGsuaXRlbUF0Qm90dG9tLWsuaXRlbUF0VG9wKTsKfWVsc2V7aWYoZCl7Yz0wOwp9ZWxzZXtjPWoubGVuZ3RoLTE7Cn19fWlmKGsmJm0uZ2V0X3N0YXJ0SW5kZXgoKStjPj0oaC5nZXRfY3VycmVudFBhZ2VJbmRleCgpKzEpKmguZ2V0X3BhZ2VTaXplKCkpe2MtLTsKfWVsc2V7aWYoayYmKG0uZ2V0X3N0YXJ0SW5kZXgoKStjPj1NYXRoLmZsb29yKGsuaXRlbUF0Qm90dG9tKXx8YT4wKSl7bS5zY3JvbGxUb0luZGV4KG0uZ2V0X3N0YXJ0SW5kZXgoKStjK2EsdHJ1ZSk7Cn19aWYoYil7aS5kaXJlY3Rpb25JbmRleC0tOwp9fX1yZXR1cm4gYzsKfSxfY2xlYXJTZWxlY3RlZEl0ZW1zRXhjbHVkaW5nSW50ZXJ2YWw6ZnVuY3Rpb24oZSxjKXt2YXIgYT0wOwp2YXIgYj1bXTsKdmFyIGQ7CmZvcihkPTA7CmQ8dGhpcy5fc2VsZWN0ZWRJdGVtc0ludGVybmFsLmxlbmd0aDsKZCsrKXthPXRoaXMuX3NlYXJjaFJvd0luZGV4KHRoaXMuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbFtkXS5pZCk7CmlmKGE8ZXx8YT5jKXtiLnB1c2goYSk7Cn19Zm9yKGQ9MDsKZDxiLmxlbmd0aDsKZCsrKXt0aGlzLl9wb3NpdGlvbmVkRGF0YUl0ZW1zW2JbZF1dLnNldF9zZWxlY3RlZChmYWxzZSk7Cn19LF9jbGVhclNlbGVjdGVkSXRlbXNJbkludGVydmFsOmZ1bmN0aW9uKGUsYyl7dmFyIGE9MDsKdmFyIGI9W107CnZhciBkOwpmb3IoZD0wOwpkPHRoaXMuX3NlbGVjdGVkSXRlbXNJbnRlcm5hbC5sZW5ndGg7CmQrKyl7YT10aGlzLl9zZWFyY2hSb3dJbmRleCh0aGlzLl9zZWxlY3RlZEl0ZW1zSW50ZXJuYWxbZF0uaWQpOwppZihhPmUmJmE8Yyl7Yi5wdXNoKGEpOwp9fWZvcihkPTA7CmQ8Yi5sZW5ndGg7CmQrKyl7dGhpcy5fcG9zaXRpb25lZERhdGFJdGVtc1tiW2RdXS5zZXRfc2VsZWN0ZWQoZmFsc2UpOwp9fSxfc2VsZWN0SXRlbXNJbkludGVydmFsOmZ1bmN0aW9uKGYsYyxiKXt2YXIgZT10aGlzLl9nZXRQb3NpdGlvbmVkRGF0YUl0ZW1zKCk7CnZhciBhPWY7CmMrPWI7CmRve2lmKGE8MCl7YT1lLmxlbmd0aC0xOwp9ZWxzZXtpZihhPmUubGVuZ3RoLTEpe2E9MDsKfX1pZihlW2FdJiYhZVthXS5nZXRfc2VsZWN0ZWQoKSl7dmFyIGQ9e2N0cmxLZXk6ZmFsc2V9Owp0aGlzLl9zZWxlY3Rpb24uX3NlbGVjdFJvd0ludGVybmFsKGVbYV0uZ2V0X2VsZW1lbnQoKSxkLHRydWUsdHJ1ZSxmYWxzZSk7Cn1hKz1iOwp9d2hpbGUoYSE9PWMpOwp9LF9nZXRQb3NpdGlvbmVkRGF0YUl0ZW1zOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuX3Bvc2l0aW9uZWREYXRhSXRlbXM7CmlmKGEmJmEubGVuZ3RoPjAmJiFiKXtyZXR1cm4gYTsKfXRoaXMuX2tleWJvYXJkTmF2aWdhdGlvblByb3BlcnRpZXMudW5zZWxlY3RhYmxlSXRlbXNDb3VudD0wOwphPXRoaXMuX2dldEFsbENoaWxkSXRlbXNSZWN1cnNpdmUodGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkpOwp0aGlzLl9wb3NpdGlvbmVkRGF0YUl0ZW1zSW5kZXhlcz17fTsKZm9yKHZhciBjPTAsZD1hLmxlbmd0aDsKYzxkOwpjKyspe3RoaXMuX3Bvc2l0aW9uZWREYXRhSXRlbXNJbmRleGVzW2FbY10uZ2V0X2lkKCldPWM7Cn10aGlzLl9rZXlib2FyZE5hdmlnYXRpb25Qcm9wZXJ0aWVzLmZpcnN0U2VsZWN0aW9uPXRydWU7CnRoaXMuX3Bvc2l0aW9uZWREYXRhSXRlbXM9YTsKcmV0dXJuIGE7Cn0sX2dldEFsbENoaWxkSXRlbXNSZWN1cnNpdmU6ZnVuY3Rpb24obSl7aWYoIW18fChtJiYobS5nZXRfZWxlbWVudCgpLnBhcmVudE5vZGUucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5PT09Im5vbmUiKSkpe3JldHVybltdOwp9dmFyIGE9W107CnZhciBmPW0uZ2V0X2RhdGFJdGVtcygpOwpmb3IodmFyIGQ9MCxoPWYubGVuZ3RoOwpkPGg7CmQrKyl7dmFyIGU9ZltkXTsKaWYoZS5nZXRfZWxlbWVudCgpLnN0eWxlLmRpc3BsYXk9PT0ibm9uZSIpe2NvbnRpbnVlOwp9aWYoIWUuZ2V0X3NlbGVjdGFibGUoKSYmIWUuZ2V0X3NlbGVjdGVkKCkpe3RoaXMuX2tleWJvYXJkTmF2aWdhdGlvblByb3BlcnRpZXMudW5zZWxlY3RhYmxlSXRlbXNDb3VudCsrOwp9YVthLmxlbmd0aF09ZTsKdmFyIGw9ZS5nZXRfbmVzdGVkVmlld3MoKTsKaWYobC5sZW5ndGgpe2Zvcih2YXIgZz0wLGs9bC5sZW5ndGg7Cmc8azsKZysrKXt2YXIgYz1sW2ddOwp2YXIgYj10aGlzLl9nZXRBbGxDaGlsZEl0ZW1zUmVjdXJzaXZlKGMpOwppZihiLmxlbmd0aCl7QXJyYXkuYWRkUmFuZ2UoYSxiKTsKfX19fXJldHVybiBhOwp9LF9zZWFyY2hSb3dJbmRleDpmdW5jdGlvbihhKXt0aGlzLl9nZXRQb3NpdGlvbmVkRGF0YUl0ZW1zKCk7CnJldHVybiB0aGlzLl9wb3NpdGlvbmVkRGF0YUl0ZW1zSW5kZXhlc1thXTsKfSxfc2V0QWN0aXZlUm93OmZ1bmN0aW9uKGYsYil7aWYoZiYmdGhpcy5DbGllbnRTZXR0aW5ncyYmdGhpcy5DbGllbnRTZXR0aW5ncy5BbGxvd0tleWJvYXJkTmF2aWdhdGlvbil7dmFyIGE9bmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUNhbmNlbEV2ZW50QXJncyh0aGlzLl9hY3RpdmVSb3d8fGYsYik7CnRoaXMucmFpc2VfYWN0aXZlUm93Q2hhbmdpbmcoYSk7CmlmKGEuZ2V0X2NhbmNlbCgpKXtyZXR1cm47Cn1pZih0aGlzLl9hY3RpdmVSb3cpe3ZhciBlPSRmaW5kKHRoaXMuX2FjdGl2ZVJvdy5pZC5zcGxpdCgiX18iKVswXSk7ClRlbGVyaWsuV2ViLlVJLkdyaWQuQ2xlYXJJdGVtU3R5bGUodGhpcy5fYWN0aXZlUm93LGUuX2RhdGEuX3JlbmRlckFjdGl2ZUl0ZW1TdHlsZSxlLl9kYXRhLl9yZW5kZXJBY3RpdmVJdGVtU3R5bGVDbGFzcyk7Cn10aGlzLl9hY3RpdmVSb3c9ZjsKdmFyIGM9JGZpbmQoZi5pZC5zcGxpdCgiX18iKVswXSk7ClRlbGVyaWsuV2ViLlVJLkdyaWQuU2V0SXRlbVN0eWxlKGYsYy5fZGF0YS5fcmVuZGVyQWN0aXZlSXRlbVN0eWxlLGMuX2RhdGEuX3JlbmRlckFjdGl2ZUl0ZW1TdHlsZUNsYXNzKTsKVGVsZXJpay5XZWIuVUkuR3JpZC5TY3JvbGxJbnRvVmlldyhmKTsKdGhpcy51cGRhdGVDbGllbnRTdGF0ZSgpOwppZih0aGlzLmdldF9lbmFibGVBcmlhU3VwcG9ydCgpKXt2YXIgZD1mLnRhYkluZGV4OwpmLnRhYkluZGV4PTE7CmYuZm9jdXMoKTsKZi50YWJJbmRleD1kOwp9dGhpcy5yYWlzZV9hY3RpdmVSb3dDaGFuZ2VkKG5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1FdmVudEFyZ3ModGhpcy5fYWN0aXZlUm93LGIpKTsKfX0sY2xlYXJBY3RpdmVSb3c6ZnVuY3Rpb24oKXtpZih0aGlzLl9hY3RpdmVSb3cpe3ZhciBhPSRmaW5kKHRoaXMuX2FjdGl2ZVJvdy5pZC5zcGxpdCgiX18iKVswXSk7ClRlbGVyaWsuV2ViLlVJLkdyaWQuQ2xlYXJJdGVtU3R5bGUodGhpcy5fYWN0aXZlUm93LGEuX2RhdGEuX3JlbmRlckFjdGl2ZUl0ZW1TdHlsZSxhLl9kYXRhLl9yZW5kZXJBY3RpdmVJdGVtU3R5bGVDbGFzcyk7CnRoaXMuX2FjdGl2ZVJvdz1udWxsOwp0aGlzLnVwZGF0ZUNsaWVudFN0YXRlKCk7Cn19LHNldF9hY3RpdmVSb3c6ZnVuY3Rpb24oYSl7dGhpcy5fc2V0QWN0aXZlUm93KGEsbnVsbCk7Cn0sX2Vuc3VyZURhdGFJdGVtc0NyZWF0ZWQ6ZnVuY3Rpb24oYSl7aWYoYS5fZGF0YUl0ZW1zLmxlbmd0aD09MCl7YS5nZXRfZGF0YUl0ZW1zKCk7Cn19LF9pc0NsaWVudFNpZGVFeHBhbmRDb2xsYXBzZTpmdW5jdGlvbihnKXt2YXIgYj1nLmNlbGxzOwpmb3IodmFyIGQ9MCxmPWIubGVuZ3RoOwpkPGY7CmQrKyl7dmFyIGE9YltkXSxjPWEuY2xhc3NOYW1lOwppZihjJiZjLmluZGV4T2YoInJnRXhwYW5kQ29sIik+LTEpe3ZhciBlPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF07CmlmKGUmJmUub25jbGljayYmZS5vbmNsaWNrLnRvU3RyaW5nKCkuaW5kZXhPZigiX3RvZ2dsZUV4cGFuZCIpPi0xKXtyZXR1cm4gdHJ1ZTsKfX19cmV0dXJuIGZhbHNlOwp9LF9oYW5kbGVBY3RpdmVSb3dFeHBhbmRDb2xsYXBzZTpmdW5jdGlvbihkKXt2YXIgaT1kLmtleUNvZGV8fGQuY2hhckNvZGU7CmlmKGQuY2hhckNvZGUpe2k9U3RyaW5nLmZyb21DaGFyQ29kZShkLmNoYXJDb2RlKS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCk7Cn1pZighdGhpcy5fYWN0aXZlUm93KXtyZXR1cm47Cn12YXIgbj0kZmluZCh0aGlzLl9hY3RpdmVSb3cuaWQuc3BsaXQoIl9fIilbMF0pOwp0aGlzLl9lbnN1cmVEYXRhSXRlbXNDcmVhdGVkKG4pOwp2YXIgaj1uLl9oaWVyYXJjaHlMb2FkTW9kZTsKdmFyIGg9aj09IlNlcnZlck9uRGVtYW5kInx8aj09IlNlcnZlckJpbmQiOwp2YXIgZz1qPT0iQ29uZGl0aW9uYWwiOwp2YXIgZj1nJiZ0aGlzLl9pc0NsaWVudFNpZGVFeHBhbmRDb2xsYXBzZSh0aGlzLl9hY3RpdmVSb3cpOwp2YXIgYz0iIjsKaWYoaT09dGhpcy5DbGllbnRTZXR0aW5ncy5LZXlib2FyZE5hdmlnYXRpb25TZXR0aW5ncy5Db2xsYXBzZURldGFpbFRhYmxlS2V5KXt2YXIgaz1uLl9nZXROZXh0TmVzdGVkRGF0YVJvdyh0aGlzLl9hY3RpdmVSb3cpOwppZigoaCYma3x8IWYpJiZqIT0iQ2xpZW50Iil7dGhpcy5fc2hvdWxkRm9jdXNPblBhZ2U9dHJ1ZTsKYz10aGlzLl9hY3RpdmVSb3cuaWQrIiMjIjsKbi5maXJlQ29tbWFuZCgiRXhwYW5kQ29sbGFwc2UiLGMpOwp9aWYoayYmay5wYXJlbnROb2RlLnN0eWxlLmRpc3BsYXkhPSJub25lInx8ayYmJGZpbmQodGhpcy5fYWN0aXZlUm93LmlkKS5nZXRfaXNJbkVkaXRNb2RlKCkmJmsucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5IT0ibm9uZSIpe24uX3BlcmZvcm1Db2xsYXBzZUl0ZW0odGhpcy5fYWN0aXZlUm93KTsKdGhpcy5fZ2V0UG9zaXRpb25lZERhdGFJdGVtcyh0cnVlKTsKfX1lbHNle2lmKGk9PXRoaXMuQ2xpZW50U2V0dGluZ3MuS2V5Ym9hcmROYXZpZ2F0aW9uU2V0dGluZ3MuRXhwYW5kRGV0YWlsVGFibGVLZXkpe3ZhciBtPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Tm9kZU5leHRTaWJsaW5nQnlUYWdOYW1lKHRoaXMuX2FjdGl2ZVJvdywidHIiKTsKaWYoJGZpbmQodGhpcy5fYWN0aXZlUm93LmlkKS5nZXRfaXNJbkVkaXRNb2RlKCkpe209VGVsZXJpay5XZWIuVUkuR3JpZC5HZXROb2RlTmV4dFNpYmxpbmdCeVRhZ05hbWUobSwidHIiKTsKfWlmKCFuLl9pc0RhdGFJdGVtRWxlbWVudChtKSYmbi5fZGF0YS5oYXNEZXRhaWxJdGVtVGVtcGxhdGUpe209VGVsZXJpay5XZWIuVUkuR3JpZC5HZXROb2RlTmV4dFNpYmxpbmdCeVRhZ05hbWUobSwidHIiKTsKfWlmKG0mJm0uc3R5bGUuZGlzcGxheT09Im5vbmUiJiZtLmNsYXNzTmFtZS5pbmRleE9mKCJyZ05vUmVjb3JkcyIpPT09LTEpe24uZXhwYW5kSXRlbSh0aGlzLl9hY3RpdmVSb3cpOwp0aGlzLl9nZXRQb3NpdGlvbmVkRGF0YUl0ZW1zKHRydWUpOwp0aGlzLmdldF9lbGVtZW50KCkuZm9jdXMoKTsKfWVsc2V7aWYobi5faGFzRGV0YWlsVGFibGVzJiYoaHx8IWYpKXt2YXIgYT0kZmluZCh0aGlzLl9hY3RpdmVSb3cuaWQpOwp2YXIgbD1hLmdldF9uZXN0ZWRWaWV3cygpWzBdOwp2YXIgYj10aGlzLl9hY3RpdmVSb3cuaWQ7CmlmKGEpe249JGZpbmQoYi5zcGxpdCgiX18iKVswXSk7CnRoaXMuX2Vuc3VyZURhdGFJdGVtc0NyZWF0ZWQobik7Cn1pZigobCYmaT09dGhpcy5DbGllbnRTZXR0aW5ncy5LZXlib2FyZE5hdmlnYXRpb25TZXR0aW5ncy5Db2xsYXBzZURldGFpbFRhYmxlS2V5KXx8KCFsJiZpPT10aGlzLkNsaWVudFNldHRpbmdzLktleWJvYXJkTmF2aWdhdGlvblNldHRpbmdzLkV4cGFuZERldGFpbFRhYmxlS2V5KSl7dGhpcy5fc2hvdWxkRm9jdXNPblBhZ2U9dHJ1ZTsKYz10aGlzLl9hY3RpdmVSb3cuaWQrIiMjIjsKbi5maXJlQ29tbWFuZCgiRXhwYW5kQ29sbGFwc2UiLGMpOwp9fX19fX0sX2hhbmRsZUFjdGl2ZVJvd1NlbGVjdGlvbjpmdW5jdGlvbihiKXtpZih0aGlzLl9hY3RpdmVSb3cpe3RoaXMuX3NlbGVjdGlvbi5fc2VsZWN0Um93SW50ZXJuYWwodGhpcy5fYWN0aXZlUm93LHtjdHJsS2V5Oih0aGlzLmdldF9hbGxvd011bHRpUm93U2VsZWN0aW9uKCkmJmIuY3RybEtleSl9LGZhbHNlLHRydWUsdHJ1ZSk7CmlmKHRoaXMuQ2xpZW50U2V0dGluZ3MuQWxsb3dLZXlib2FyZE5hdmlnYXRpb24pe3ZhciBjPXRoaXMuX2tleWJvYXJkTmF2aWdhdGlvblByb3BlcnRpZXM7CnZhciBhPXRoaXMuX2dldFBvc2l0aW9uZWREYXRhSXRlbXMoKVtjLmN1cnJlbnRTZWxlY3RlZEluZGV4XTsKaWYoYSYmYS5nZXRfc2VsZWN0ZWQoKSl7Yy5sYXN0U2VsZWN0ZWRSb3dJbmRleD1jLmN1cnJlbnRTZWxlY3RlZEluZGV4Owp9Yy5sYXN0Q2xpY2tTZWxlY3RlZEl0ZW09dGhpcy5fZ2V0UG9zaXRpb25lZERhdGFJdGVtcygpW2MuY3VycmVudFNlbGVjdGVkSW5kZXhdLmdldF9lbGVtZW50KCk7CnRoaXMuX3NldEFjdGl2ZVJvdyh0aGlzLl9hY3RpdmVSb3csYik7Cn1iLnByZXZlbnREZWZhdWx0KCk7Cn19LF9oYW5kbGVBY3RpdmVSb3dFZGl0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2FjdGl2ZVJvdyl7YS5wcmV2ZW50RGVmYXVsdCgpOwp2YXIgYj0kZmluZCh0aGlzLl9hY3RpdmVSb3cuaWQuc3BsaXQoIl9fIilbMF0pOwppZihiKXtiLmVkaXRJdGVtKHRoaXMuX2FjdGl2ZVJvdyk7Cn19fSxfYWRqdXN0QmF0Y2hEZWxldGVkUm93czpmdW5jdGlvbigpe3RoaXMuZ2V0X2JhdGNoRWRpdGluZ01hbmFnZXIoKS5fYWRqdXN0QmF0Y2hEZWxldGVkUm93cygpOwp9LF9nZXRHcmlkUm93OmZ1bmN0aW9uKGEpe3ZhciBjPVRlbGVyaWsuV2ViLlVJLkdyaWQuR2V0Rmlyc3RQYXJlbnRCeVRhZ05hbWUoVGVsZXJpay5XZWIuVUkuR3JpZC5HZXRDdXJyZW50RWxlbWVudChhKSwidHIiKSxiPWM7CmlmKGMmJmMuaWQhPSIiJiZjLmlkLnNwbGl0KCJfXyIpLmxlbmd0aD09Mil7ZG97aWYoVGVsZXJpay5XZWIuVUkuUmFkR3JpZC5pc0luc3RhbmNlT2ZUeXBlKCRmaW5kKGIuaWQpKSl7YnJlYWs7Cn1iPWIucGFyZW50Tm9kZTsKfXdoaWxlKGIpOwppZihiJiYkZmluZChiLmlkKT09PXRoaXMpe3JldHVybiBjOwp9fXJldHVybiBmYWxzZTsKfSxfY2xpY2s6ZnVuY3Rpb24oYil7aWYoIXRoaXMuX2NhblJpc2VSb3dFdmVudChiKSl7cmV0dXJuOwp9dmFyIGE9Yi50YXJnZXQuY2xhc3NOYW1lOwppZih0aGlzLl9yZW5kZXJNb2RlPT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlJiZhLmluZGV4T2YmJihhLmluZGV4T2YoInJnRXhwYW5kSWNvbiIpPi0xfHxhLmluZGV4T2YoInJnQ29sbGFwc2VJY29uIik+LTEpKXtyZXR1cm47Cn1pZighdGhpcy5nZXRfZW5hYmxlQXJpYVN1cHBvcnQoKSYmKCEhdGhpcy5DbGllbnRTZXR0aW5ncy5BbGxvd0tleWJvYXJkTmF2aWdhdGlvbiYmdGhpcy5DbGllbnRTZXR0aW5ncy5TZWxlY3RpbmcuQ2VsbFNlbGVjdGlvbk1vZGU9PVRlbGVyaWsuV2ViLlVJLkdyaWRDZWxsU2VsZWN0aW9uTW9kZS5Ob25lKSl7aWYoJHRlbGVyaWsuaXNJRSl7aWYodGhpcy5nZXRfZWxlbWVudCgpLnNldEFjdGl2ZSl7dHJ5e3RoaXMuZ2V0X2VsZW1lbnQoKS5zZXRBY3RpdmUoKTsKfWNhdGNoKGMpe319fWVsc2V7aWYodGhpcy5nZXRfZWxlbWVudCgpLmZvY3VzKXt0aGlzLmdldF9lbGVtZW50KCkuZm9jdXMoKTsKfX19dmFyIGQ9dGhpcy5fZ2V0R3JpZFJvdyhiKTsKaWYoZCl7dGhpcy5yYWlzZV9yb3dDbGljayhuZXcgVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtRXZlbnRBcmdzKGQsYikpOwp9fSxfZGJsY2xpY2s6ZnVuY3Rpb24oYSl7aWYoJHRlbGVyaWsuaXNUb3VjaERldmljZSl7JHRlbGVyaWsuY2FuY2VsUmF3RXZlbnQoYSk7Cn1pZighdGhpcy5fY2FuUmlzZVJvd0V2ZW50KGEpKXtyZXR1cm47Cn12YXIgYj10aGlzLl9nZXRHcmlkUm93KGEpOwppZihiKXt0aGlzLnJhaXNlX3Jvd0RibENsaWNrKG5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1FdmVudEFyZ3MoYixhKSk7Cn19LF9jb250ZXh0bWVudTpmdW5jdGlvbihiKXtpZigkdGVsZXJpay5pc09wZXJhJiZiLmJ1dHRvbiE9Mil7cmV0dXJuOwp9dmFyIGM9dGhpcy5fZ2V0R3JpZFJvdyhiKTsKdmFyIGE9bnVsbDsKaWYoYyl7YT1uZXcgVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtQ2FuY2VsRXZlbnRBcmdzKGMsYik7CnRoaXMucmFpc2Vfcm93Q29udGV4dE1lbnUoYSk7Cn1pZigoYSYmIWEuZ2V0X2NhbmNlbCgpKSYmdGhpcy5nZXRfZXZlbnRzKCkuZ2V0SGFuZGxlcigicm93Q29udGV4dE1lbnUiKSl7aWYoYi5wcmV2ZW50RGVmYXVsdCl7Yi5wcmV2ZW50RGVmYXVsdCgpOwp9ZWxzZXtiLnJldHVyblZhbHVlPWZhbHNlOwpyZXR1cm4gZmFsc2U7Cn19fSxfbW91c2VvdmVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX292ZXJSb3cpe3RoaXMucmFpc2Vfcm93TW91c2VPdXQobmV3IFRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUV2ZW50QXJncyh0aGlzLl9vdmVyUm93LGEpKTsKaWYodGhpcy5Ta2luIT0iIiYmdGhpcy5DbGllbnRTZXR0aW5ncy5FbmFibGVSb3dIb3ZlclN0eWxlKXtTeXMuVUkuRG9tRWxlbWVudC5yZW1vdmVDc3NDbGFzcyh0aGlzLl9vdmVyUm93LCJyZ0hvdmVyZWRSb3ciKTsKfX12YXIgYj10aGlzLl9nZXRHcmlkUm93KGEpOwppZihiKXt0aGlzLnJhaXNlX3Jvd01vdXNlT3ZlcihuZXcgVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtRXZlbnRBcmdzKGIsYSkpOwppZih0aGlzLlNraW4hPSIiJiZ0aGlzLkNsaWVudFNldHRpbmdzLkVuYWJsZVJvd0hvdmVyU3R5bGUpe1N5cy5VSS5Eb21FbGVtZW50LmFkZENzc0NsYXNzKGIsInJnSG92ZXJlZFJvdyIpOwp9dGhpcy5fb3ZlclJvdz1iOwp9fSxfbW91c2VvdXQ6ZnVuY3Rpb24oYSl7aWYodGhpcy5fb3ZlclJvdyYmKCghJHRlbGVyaWsuaXNJRTgmJiFkb2N1bWVudC5kb2N1bWVudE1vZGUpfHwhJHRlbGVyaWsuaXNNb3VzZU92ZXJFbGVtZW50KHRoaXMuX292ZXJSb3csYSkpKXt0aGlzLnJhaXNlX3Jvd01vdXNlT3V0KG5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1FdmVudEFyZ3ModGhpcy5fb3ZlclJvdyxhKSk7CmlmKHRoaXMuU2tpbiE9IiImJnRoaXMuQ2xpZW50U2V0dGluZ3MuRW5hYmxlUm93SG92ZXJTdHlsZSl7U3lzLlVJLkRvbUVsZW1lbnQucmVtb3ZlQ3NzQ2xhc3ModGhpcy5fb3ZlclJvdywicmdIb3ZlcmVkUm93Iik7Cn10aGlzLl9vdmVyUm93PW51bGw7Cn19LF9jYW5SaXNlUm93RXZlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI7CmlmKCR0ZWxlcmlrLmlzVG91Y2hEZXZpY2Upe2I9JHRlbGVyaWsuZ2V0VG91Y2hUYXJnZXQoYSk7Cn1lbHNle2I9VGVsZXJpay5XZWIuVUkuR3JpZC5HZXRDdXJyZW50RWxlbWVudChhKTsKfWlmKCFifHwhYi50YWdOYW1lfHxiLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09ImlucHV0Inx8Yi50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJzZWxlY3QifHxiLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09Im9wdGlvbiJ8fGIudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iYnV0dG9uInx8Yi50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJhInx8Yi50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJ0ZXh0YXJlYSJ8fGIudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iaW1nInx8KCR0ZWxlcmlrLmlzQ2hyb21lJiZiLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InNwYW4iJiZiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJidXR0b24iKSl7cmV0dXJuIGZhbHNlOwp9aWYodGhpcy5nZXRfbWFzdGVyVGFibGVWaWV3KCkmJiFUZWxlcmlrLldlYi5VSS5HcmlkLklzQ2hpbGRPZihiLHRoaXMuZ2V0X21hc3RlclRhYmxlVmlldygpLmdldF9lbGVtZW50KCkpKXtyZXR1cm4gZmFsc2U7Cn1yZXR1cm4gdHJ1ZTsKfSxjb25maXJtOmZ1bmN0aW9uKGosYixmLGssbCxnKXtpZih3aW5kb3cuY29uZmlybVJlc3VsdCl7d2luZG93LmNvbmZpcm1SZXN1bHQ9ZmFsc2U7CnJldHVybiB0cnVlOwp9aWYodHlwZW9mKHdpbmRvdy5HZXRSYWRXaW5kb3dNYW5hZ2VyKT09InVuZGVmaW5lZCIpe3JldHVybiB3aW5kb3cuY29uZmlybShqKTsKfXZhciBpPXdpbmRvdy5HZXRSYWRXaW5kb3dNYW5hZ2VyKCk7CmlmKCFpKXtyZXR1cm4gd2luZG93LmNvbmZpcm0oaik7Cn12YXIgZD0kZmluZChmKTsKdmFyIGM9Yi5zcmNFbGVtZW50P2Iuc3JjRWxlbWVudDpiLnRhcmdldDsKaWYoYy50YWdOYW1lLnRvTG93ZXJDYXNlKCkhPT0iaW5wdXQiJiZjLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9PSJhIiYmYy50YWdOYW1lLnRvTG93ZXJDYXNlKCkhPT0iYnV0dG9uIil7Yz1jLnBhcmVudE5vZGU7Cn12YXIgaD1kLmdldF9tYXN0ZXJUYWJsZVZpZXcoKTsKZnVuY3Rpb24gYShlKXtpZihlKXtpZighJHRlbGVyaWsuaXNJRSl7aWYoYy5vbmNsaWNrLnRvU3RyaW5nKCkuaW5kZXhPZigiX2NsaWVudERlbGV0ZShldmVudCkiKT4tMSl7aC5fY2xpZW50RGVsZXRlKGIpOwpyZXR1cm4gZmFsc2U7Cn19d2luZG93LmNvbmZpcm1SZXN1bHQ9dHJ1ZTsKaWYoYy5ocmVmJiYhYy5vbmNsaWNrJiYod2luZG93Lm5ldHNjYXBlfHwkdGVsZXJpay5pc1NhZmFyaSkpe2V2YWwoYy5ocmVmKTsKd2luZG93LmNvbmZpcm1SZXN1bHQ9ZmFsc2U7CnJldHVybjsKfWlmKHdpbmRvdy5uZXRzY2FwZSYmYy50eXBlJiYoYy50eXBlLnRvTG93ZXJDYXNlKCk9PSJpbWFnZSJ8fGMudHlwZS50b0xvd2VyQ2FzZSgpPT0ic3VibWl0Inx8Yy50eXBlLnRvTG93ZXJDYXNlKCk9PSJidXR0b24iKSYmIWMuY2xpY2spe19fZG9Qb3N0QmFjayhjLm5hbWUsIiIpOwp3aW5kb3cuY29uZmlybVJlc3VsdD1mYWxzZTsKcmV0dXJuOwp9aWYoYy5jbGljayl7Yy5jbGljayhiKTsKfX1yZXR1cm4gZmFsc2U7Cn13aW5kb3cucmFkY29uZmlybShqLGEsKHR5cGVvZihsKSE9InVuZGVmaW5lZCIpP2w6MjgwLCh0eXBlb2YoZykhPSJ1bmRlZmluZWQiKT9nOjIwMCx0aGlzLCh0eXBlb2YoaykhPSJ1bmRlZmluZWQiKT9rOiJDb25maXJtIik7CnJldHVybiBmYWxzZTsKfX07ClRlbGVyaWsuV2ViLlVJLlJhZEdyaWQucmVnaXN0ZXJDbGFzcygiVGVsZXJpay5XZWIuVUkuUmFkR3JpZCIsVGVsZXJpay5XZWIuVUkuUmFkV2ViQ29udHJvbCk7ClRlbGVyaWsuV2ViLlVJLkdyaWRLZXlQcmVzc0V2ZW50QXJncz1mdW5jdGlvbihhKXtUZWxlcmlrLldlYi5VSS5HcmlkS2V5UHJlc3NFdmVudEFyZ3MuaW5pdGlhbGl6ZUJhc2UodGhpcyk7CnRoaXMuX2tleUNvZGU9YS5rZXlDb2RlfHxhLmNoYXJDb2RlOwp0aGlzLl9pc1NoaWZ0UHJlc3NlZD1hLnNoaWZ0S2V5Owp0aGlzLl9pc0N0cmxQcmVzc2VkPWEuY3RybEtleTsKdGhpcy5faXNBbHRQcmVzc2VkPWEuYWx0S2V5Owp0aGlzLl9kb21FdmVudD1hOwp9OwpUZWxlcmlrLldlYi5VSS5HcmlkS2V5UHJlc3NFdmVudEFyZ3MucHJvdG90eXBlPXtnZXRfa2V5Q29kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXlDb2RlOwp9LGdldF9pc1NoaWZ0UHJlc3NlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1NoaWZ0UHJlc3NlZDsKfSxnZXRfaXNDdHJsUHJlc3NlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0N0cmxQcmVzc2VkOwp9LGdldF9pc0FsdFByZXNzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNBbHRQcmVzc2VkOwp9LGdldF9kb21FdmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb21FdmVudDsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWRLZXlQcmVzc0V2ZW50QXJncy5yZWdpc3RlckNsYXNzKCJUZWxlcmlrLldlYi5VSS5HcmlkS2V5UHJlc3NFdmVudEFyZ3MiLFN5cy5DYW5jZWxFdmVudEFyZ3MpOwpUZWxlcmlrLldlYi5VSS5HcmlkRHJhZ0Ryb3BDYW5jZWxFdmVudEFyZ3M9ZnVuY3Rpb24oZSxhLGIsZCxmLGMpe1RlbGVyaWsuV2ViLlVJLkdyaWREcmFnRHJvcENhbmNlbEV2ZW50QXJncy5pbml0aWFsaXplQmFzZSh0aGlzKTsKdGhpcy5fdGFyZ2V0SXRlbUlkPSIiOwp0aGlzLl90YXJnZXRJdGVtSW5kZXhIaWVyYXJjaGljYWw9IiI7CnRoaXMuX3RhcmdldEdyaWREYXRhSXRlbT1udWxsOwp0aGlzLl90YXJnZXRJdGVtVGFibGVWaWV3PW51bGw7CnRoaXMuX3RhcmdldEl0ZW1EYXRhS2V5VmFsdWVzPW51bGw7CmlmKGUpe3RoaXMuX3RhcmdldEl0ZW1JZD1lLmlkOwp0aGlzLl90YXJnZXRJdGVtSW5kZXhIaWVyYXJjaGljYWw9dGhpcy5fdGFyZ2V0SXRlbUlkLnNwbGl0KCJfXyIpWzFdOwp0aGlzLl90YXJnZXRJdGVtVGFibGVWaWV3PSRmaW5kKHRoaXMuX3RhcmdldEl0ZW1JZC5zcGxpdCgiX18iKVswXSk7CmlmKHRoaXMuX3RhcmdldEl0ZW1UYWJsZVZpZXcmJnRoaXMuX3RhcmdldEl0ZW1UYWJsZVZpZXcuX293bmVyLl9jbGllbnRLZXlWYWx1ZXMmJnRoaXMuX3RhcmdldEl0ZW1UYWJsZVZpZXcuX293bmVyLl9jbGllbnRLZXlWYWx1ZXNbdGhpcy5fdGFyZ2V0SXRlbUluZGV4SGllcmFyY2hpY2FsXSl7dGhpcy5fdGFyZ2V0SXRlbURhdGFLZXlWYWx1ZXM9dGhpcy5fdGFyZ2V0SXRlbVRhYmxlVmlldy5fb3duZXIuX2NsaWVudEtleVZhbHVlc1t0aGlzLl90YXJnZXRJdGVtSW5kZXhIaWVyYXJjaGljYWxdOwp9fXRoaXMuX2RvbUV2ZW50PWE7CnRoaXMuX2RyYWdlZEl0ZW1zPWI7CnRoaXMuX2h0bWxFbGVtZW50PWQ7CnRoaXMuX3RhcmdldFJhZEdyaWQ9ZjsKdGhpcy5fZHJvcFBvc2l0aW9uPWM7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWREcmFnRHJvcENhbmNlbEV2ZW50QXJncy5wcm90b3R5cGU9e2dldF90YXJnZXRHcmlkRGF0YUl0ZW06ZnVuY3Rpb24oKXtpZih0aGlzLl90YXJnZXRJdGVtVGFibGVWaWV3JiYhdGhpcy5fdGFyZ2V0R3JpZERhdGFJdGVtKXt0aGlzLl90YXJnZXRJdGVtVGFibGVWaWV3LmdldF9kYXRhSXRlbXMoKTsKdGhpcy5fdGFyZ2V0R3JpZERhdGFJdGVtPSRmaW5kKHRoaXMuX3RhcmdldEl0ZW1JZCk7Cn1yZXR1cm4gdGhpcy5fdGFyZ2V0R3JpZERhdGFJdGVtOwp9LGdldF90YXJnZXRJdGVtSW5kZXhIaWVyYXJjaGljYWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFyZ2V0SXRlbUluZGV4SGllcmFyY2hpY2FsOwp9LGdldF90YXJnZXRJdGVtSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFyZ2V0SXRlbUlkOwp9LGdldF90YXJnZXRJdGVtVGFibGVWaWV3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhcmdldEl0ZW1UYWJsZVZpZXc7Cn0sZ2V0X2RvbUV2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvbUV2ZW50Owp9LGdldF9UYXJnZXREYXRhS2V5VmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuKHRoaXMuX3RhcmdldEl0ZW1EYXRhS2V5VmFsdWVzKT90aGlzLl90YXJnZXRJdGVtRGF0YUtleVZhbHVlc1thXTpudWxsOwp9LGdldF9kcmFnZ2VkSXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhZ2VkSXRlbXM7Cn0sZ2V0X2Rlc3RpbmF0aW9uSHRtbEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faHRtbEVsZW1lbnQ7Cn0sc2V0X2Rlc3RpbmF0aW9uSHRtbEVsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5faHRtbEVsZW1lbnQ9YTsKfSxnZXRfdGFyZ2V0UmFkR3JpZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YXJnZXRSYWRHcmlkOwp9LGdldF9kcm9wUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJvcFBvc2l0aW9uOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZERyYWdEcm9wQ2FuY2VsRXZlbnRBcmdzLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWREcmFnRHJvcENhbmNlbEV2ZW50QXJncyIsU3lzLkNhbmNlbEV2ZW50QXJncyk7ClRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUV2ZW50QXJncz1mdW5jdGlvbihiLGEpe1RlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUV2ZW50QXJncy5pbml0aWFsaXplQmFzZSh0aGlzKTsKdGhpcy5faWQ9IiI7CnRoaXMuX2l0ZW1JbmRleEhpZXJhcmNoaWNhbD0iIjsKdGhpcy5fZ3JpZERhdGFJdGVtPW51bGw7CnRoaXMuX3RhYmxlVmlldz1udWxsOwp0aGlzLl9kYXRhS2V5VmFsdWVzPW51bGw7CmlmKGIpe3RoaXMuX2lkPWIuaWQ7CnRoaXMuX2l0ZW1JbmRleEhpZXJhcmNoaWNhbD10aGlzLl9pZC5zcGxpdCgiX18iKVsxXTsKdGhpcy5fdGFibGVWaWV3PSRmaW5kKHRoaXMuX2lkLnNwbGl0KCJfXyIpWzBdKTsKaWYodGhpcy5fdGFibGVWaWV3JiZ0aGlzLl90YWJsZVZpZXcuX293bmVyLl9jbGllbnRLZXlWYWx1ZXMmJnRoaXMuX3RhYmxlVmlldy5fb3duZXIuX2NsaWVudEtleVZhbHVlc1t0aGlzLl9pdGVtSW5kZXhIaWVyYXJjaGljYWxdKXt0aGlzLl9kYXRhS2V5VmFsdWVzPXRoaXMuX3RhYmxlVmlldy5fb3duZXIuX2NsaWVudEtleVZhbHVlc1t0aGlzLl9pdGVtSW5kZXhIaWVyYXJjaGljYWxdOwp9fXRoaXMuX2RvbUV2ZW50PWE7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUV2ZW50QXJncy5wcm90b3R5cGU9e2dldF9pdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0X2dyaWREYXRhSXRlbSgpOwp9LGdldF9ncmlkRGF0YUl0ZW06ZnVuY3Rpb24oKXtpZih0aGlzLl90YWJsZVZpZXcmJiF0aGlzLl9ncmlkRGF0YUl0ZW0pe3RoaXMuX2dyaWREYXRhSXRlbT0kZmluZCh0aGlzLl9pZCk7CmlmKCF0aGlzLl9ncmlkRGF0YUl0ZW0pe3RoaXMuX3RhYmxlVmlldy5nZXRfZGF0YUl0ZW1zKCk7CnRoaXMuX2dyaWREYXRhSXRlbT0kZmluZCh0aGlzLl9pZCk7Cn19cmV0dXJuIHRoaXMuX2dyaWREYXRhSXRlbTsKfSxnZXRfaXRlbUluZGV4SGllcmFyY2hpY2FsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2l0ZW1JbmRleEhpZXJhcmNoaWNhbDsKfSxnZXRfaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWQ7Cn0sZ2V0X3RhYmxlVmlldzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YWJsZVZpZXc7Cn0sZ2V0X2RvbUV2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvbUV2ZW50Owp9LGdldERhdGFLZXlWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4odGhpcy5fZGF0YUtleVZhbHVlcyk/dGhpcy5fZGF0YUtleVZhbHVlc1thXTpudWxsOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtRXZlbnRBcmdzLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUV2ZW50QXJncyIsU3lzLkV2ZW50QXJncyk7ClRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUNhbmNlbEV2ZW50QXJncz1mdW5jdGlvbihiLGEpe1RlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUNhbmNlbEV2ZW50QXJncy5pbml0aWFsaXplQmFzZSh0aGlzKTsKdGhpcy5faWQ9IiI7CnRoaXMuX2l0ZW1JbmRleEhpZXJhcmNoaWNhbD0iIjsKdGhpcy5fZ3JpZERhdGFJdGVtPW51bGw7CnRoaXMuX3RhYmxlVmlldz1udWxsOwp0aGlzLl9kYXRhS2V5VmFsdWVzPW51bGw7CmlmKGIpe3RoaXMuX2lkPWIuaWQ7CnRoaXMuX2l0ZW1JbmRleEhpZXJhcmNoaWNhbD10aGlzLl9pZC5zcGxpdCgiX18iKVsxXTsKdGhpcy5fdGFibGVWaWV3PSRmaW5kKHRoaXMuX2lkLnNwbGl0KCJfXyIpWzBdKTsKaWYodGhpcy5fdGFibGVWaWV3JiZ0aGlzLl90YWJsZVZpZXcuX293bmVyLl9jbGllbnRLZXlWYWx1ZXMmJnRoaXMuX3RhYmxlVmlldy5fb3duZXIuX2NsaWVudEtleVZhbHVlc1t0aGlzLl9pdGVtSW5kZXhIaWVyYXJjaGljYWxdKXt0aGlzLl9kYXRhS2V5VmFsdWVzPXRoaXMuX3RhYmxlVmlldy5fb3duZXIuX2NsaWVudEtleVZhbHVlc1t0aGlzLl9pdGVtSW5kZXhIaWVyYXJjaGljYWxdOwp9fXRoaXMuX2RvbUV2ZW50PWE7Cn07ClRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbUNhbmNlbEV2ZW50QXJncy5wcm90b3R5cGU9e2dldF9ncmlkRGF0YUl0ZW06ZnVuY3Rpb24oKXtpZih0aGlzLl90YWJsZVZpZXcmJiF0aGlzLl9ncmlkRGF0YUl0ZW0pe3RoaXMuX3RhYmxlVmlldy5nZXRfZGF0YUl0ZW1zKCk7CnRoaXMuX2dyaWREYXRhSXRlbT0kZmluZCh0aGlzLl9pZCk7Cn1yZXR1cm4gdGhpcy5fZ3JpZERhdGFJdGVtOwp9LGdldF9pdGVtSW5kZXhIaWVyYXJjaGljYWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlbUluZGV4SGllcmFyY2hpY2FsOwp9LGdldF9pZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZDsKfSxnZXRfdGFibGVWaWV3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhYmxlVmlldzsKfSxnZXRfZG9tRXZlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9tRXZlbnQ7Cn0sZ2V0RGF0YUtleVZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybih0aGlzLl9kYXRhS2V5VmFsdWVzKT90aGlzLl9kYXRhS2V5VmFsdWVzW2FdOm51bGw7Cn19OwpUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1DYW5jZWxFdmVudEFyZ3MucmVnaXN0ZXJDbGFzcygiVGVsZXJpay5XZWIuVUkuR3JpZERhdGFJdGVtQ2FuY2VsRXZlbnRBcmdzIixTeXMuQ2FuY2VsRXZlbnRBcmdzKTsKVGVsZXJpay5XZWIuVUkuR3JpZENsaWVudERhdGFCaW5kaW5nUGFyYW1ldGVyVHlwZT1mdW5jdGlvbigpe307ClRlbGVyaWsuV2ViLlVJLkdyaWRDbGllbnREYXRhQmluZGluZ1BhcmFtZXRlclR5cGUucHJvdG90eXBlPXtTdHJpbmc6MCxMaXN0OjEsTGlucToyLE9xbDozfTsKVGVsZXJpay5XZWIuVUkuR3JpZENsaWVudERhdGFCaW5kaW5nUGFyYW1ldGVyVHlwZS5yZWdpc3RlckVudW0oIlRlbGVyaWsuV2ViLlVJLkdyaWRDbGllbnREYXRhQmluZGluZ1BhcmFtZXRlclR5cGUiLGZhbHNlKTsKVGVsZXJpay5XZWIuVUkuR3JpZENsaWVudERhdGFSZXNwb25zZVR5cGU9ZnVuY3Rpb24oKXt9OwpUZWxlcmlrLldlYi5VSS5HcmlkQ2xpZW50RGF0YVJlc3BvbnNlVHlwZS5wcm90b3R5cGU9e0pTT046MCxKU09OUDoxfTsKVGVsZXJpay5XZWIuVUkuR3JpZENsaWVudERhdGFSZXNwb25zZVR5cGUucmVnaXN0ZXJFbnVtKCJUZWxlcmlrLldlYi5VSS5HcmlkQ2xpZW50RGF0YVJlc3BvbnNlVHlwZSIpOwpUZWxlcmlrLldlYi5VSS5HcmlkQ2xpZW50RGF0YVNlcnZpY2VUeXBlPWZ1bmN0aW9uKCl7fTsKVGVsZXJpay5XZWIuVUkuR3JpZENsaWVudERhdGFTZXJ2aWNlVHlwZS5wcm90b3R5cGU9e0FET05ldDowLE9EYXRhOjF9OwpUZWxlcmlrLldlYi5VSS5HcmlkQ2xpZW50RGF0YVNlcnZpY2VUeXBlLnJlZ2lzdGVyRW51bSgiVGVsZXJpay5XZWIuVUkuR3JpZENsaWVudERhdGFTZXJ2aWNlVHlwZSIpOwpUZWxlcmlrLldlYi5VSS5HcmlkRGF0YVNvdXJjZVJlc29sdmVkRXZlbnRBcmdzPWZ1bmN0aW9uKGEpe1RlbGVyaWsuV2ViLlVJLkdyaWREYXRhU291cmNlUmVzb2x2ZWRFdmVudEFyZ3MuaW5pdGlhbGl6ZUJhc2UodGhpcyk7CnRoaXMuX2RhdGE9YTsKfTsKVGVsZXJpay5XZWIuVUkuR3JpZERhdGFTb3VyY2VSZXNvbHZlZEV2ZW50QXJncy5wcm90b3R5cGU9e2dldF9kYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGE7Cn0sc2V0X2RhdGE6ZnVuY3Rpb24oYSl7dGhpcy5fZGF0YT1hOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZERhdGFTb3VyY2VSZXNvbHZlZEV2ZW50QXJncy5yZWdpc3RlckNsYXNzKCJUZWxlcmlrLldlYi5VSS5HcmlkRGF0YVNvdXJjZVJlc29sdmVkRXZlbnRBcmdzIixTeXMuRXZlbnRBcmdzKTsKVGVsZXJpay5XZWIuVUkuR3JpZENlbGxTZWxlY3RFdmVudEFyZ3M9ZnVuY3Rpb24oYixhKXtUZWxlcmlrLldlYi5VSS5HcmlkQ2VsbFNlbGVjdEV2ZW50QXJncy5pbml0aWFsaXplQmFzZSh0aGlzKTsKdGhpcy5yb3c9YShiKS5wYXJlbnQoInRyW2lkXSIpOwp0aGlzLnJvd0VsZW1lbnQ9dGhpcy5yb3dbMF07CnRoaXMuX2lkPSIiOwp0aGlzLl90YWJsZVZpZXc9bnVsbDsKdGhpcy5fY29sPW51bGw7CmlmKHRoaXMucm93RWxlbWVudCl7dGhpcy5faXRlbUluZGV4SGllcmFyY2hpY2FsPXRoaXMucm93RWxlbWVudC5pZC5zcGxpdCgiX18iKVsxXTsKdGhpcy5faWQ9dGhpcy5yb3dFbGVtZW50LmlkOwp0aGlzLl90YWJsZVZpZXc9JGZpbmQodGhpcy5faWQuc3BsaXQoIl9fIilbMF0pOwp9dmFyIGM9dGhpcy5fdGFibGVWaWV3LmdldF9jb2x1bW5zKCk7CmZvcih2YXIgZD0wLGU9MDsKZDxjLmxlbmd0aDsKZCsrKXtpZihlPT1hKGIpLmluZGV4KCkpe3RoaXMuX2NvbD1jW2RdOwp9ZSsrOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZENlbGxTZWxlY3RFdmVudEFyZ3MucHJvdG90eXBlPXtnZXRfcm93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm93RWxlbWVudDsKfSxnZXRfY29sdW1uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbDsKfSxnZXRfZ3JpZERhdGFJdGVtOmZ1bmN0aW9uKCl7aWYodGhpcy5fdGFibGVWaWV3JiYhdGhpcy5fZ3JpZERhdGFJdGVtKXt0aGlzLl90YWJsZVZpZXcuZ2V0X2RhdGFJdGVtcygpOwp0aGlzLl9ncmlkRGF0YUl0ZW09JGZpbmQodGhpcy5faWQpOwp9cmV0dXJuIHRoaXMuX2dyaWREYXRhSXRlbTsKfSxnZXRfdGFibGVWaWV3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhYmxlVmlldzsKfSxnZXRfY2VsbEluZGV4SGllcmFyY2hpY2FsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2l0ZW1JbmRleEhpZXJhcmNoaWNhbCsiJiIrdGhpcy5nZXRfY29sdW1uKCkuZ2V0X3VuaXF1ZU5hbWUoKTsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWRDZWxsU2VsZWN0RXZlbnRBcmdzLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRDZWxsU2VsZWN0RXZlbnRBcmdzIixTeXMuRXZlbnRBcmdzKTsKVGVsZXJpay5XZWIuVUkuR3JpZENlbGxTZWxlY3RDYW5jZWxFdmVudEFyZ3M9ZnVuY3Rpb24oYixhKXtUZWxlcmlrLldlYi5VSS5HcmlkQ2VsbFNlbGVjdENhbmNlbEV2ZW50QXJncy5pbml0aWFsaXplQmFzZSh0aGlzKTsKdGhpcy5yb3c9YShiKS5wYXJlbnQoInRyW2lkXSIpOwp0aGlzLnJvd0VsZW1lbnQ9dGhpcy5yb3dbMF07CnRoaXMuX2lkPSIiOwp0aGlzLl90YWJsZVZpZXc9bnVsbDsKdGhpcy5fY29sPW51bGw7CmlmKHRoaXMucm93RWxlbWVudCl7dGhpcy5faWQ9dGhpcy5yb3dFbGVtZW50LmlkOwp0aGlzLl90YWJsZVZpZXc9JGZpbmQodGhpcy5faWQuc3BsaXQoIl9fIilbMF0pOwp9dmFyIGM9dGhpcy5fdGFibGVWaWV3LmdldF9jb2x1bW5zKCk7CmZvcih2YXIgZD0wLGU9MDsKZDxjLmxlbmd0aDsKZCsrKXtpZihlPT1hKGIpLmluZGV4KCkpe3RoaXMuX2NvbD1jW2RdOwp9ZSsrOwp9fTsKVGVsZXJpay5XZWIuVUkuR3JpZENlbGxTZWxlY3RDYW5jZWxFdmVudEFyZ3MucHJvdG90eXBlPXtnZXRfcm93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm93RWxlbWVudDsKfSxnZXRfY29sdW1uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbDsKfSxnZXRfZ3JpZERhdGFJdGVtOmZ1bmN0aW9uKCl7aWYodGhpcy5fdGFibGVWaWV3JiYhdGhpcy5fZ3JpZERhdGFJdGVtKXt0aGlzLl90YWJsZVZpZXcuZ2V0X2RhdGFJdGVtcygpOwp0aGlzLl9ncmlkRGF0YUl0ZW09JGZpbmQodGhpcy5faWQpOwp9cmV0dXJuIHRoaXMuX2dyaWREYXRhSXRlbTsKfX07ClRlbGVyaWsuV2ViLlVJLkdyaWRDZWxsU2VsZWN0Q2FuY2VsRXZlbnRBcmdzLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRDZWxsU2VsZWN0Q2FuY2VsRXZlbnRBcmdzIixTeXMuQ2FuY2VsRXZlbnRBcmdzKTsKVGVsZXJpay5XZWIuVUkuR3JpZENlbGxTZWxlY3Rpb25Nb2RlPWZ1bmN0aW9uKCl7fTsKVGVsZXJpay5XZWIuVUkuR3JpZENlbGxTZWxlY3Rpb25Nb2RlLnByb3RvdHlwZT17Tm9uZTowLFNpbmdsZUNlbGw6MSxNdWx0aUNlbGw6MixDb2x1bW46MyxNdWx0aUNvbHVtbjo0fTsKVGVsZXJpay5XZWIuVUkuR3JpZENlbGxTZWxlY3Rpb25Nb2RlLnJlZ2lzdGVyRW51bSgiVGVsZXJpay5XZWIuVUkuR3JpZENlbGxTZWxlY3Rpb25Nb2RlIixmYWxzZSk7ClR5cGUucmVnaXN0ZXJOYW1lc3BhY2UoIlRlbGVyaWsuV2ViLlVJIik7CihmdW5jdGlvbihhKXthLkdyaWRDbGllbnRTaWRlQmluZGluZz1mdW5jdGlvbihkKXt0aGlzLl9ncmlkPWQ7CnRoaXMuX21hc3RlclRhYmxlVmlldz1kLmdldF9tYXN0ZXJUYWJsZVZpZXcoKTsKdGhpcy5fZ3JvdXBFeHByZXNzaW9ucz10aGlzLl9tYXN0ZXJUYWJsZVZpZXcuX2RhdGEuR3JvdXBCeUV4cHJlc3Npb25zOwp0aGlzLl9kYXRhRmllbGRIZWFkZXJUZXh0TWFwPXRoaXMuX21hc3RlclRhYmxlVmlldy5fZGF0YS5EYXRhRmllbGRIZWFkZXJUZXh0Owp0aGlzLl9zdXByZXNzQ2hhbmdlPWZhbHNlOwp0aGlzLl9pbml0aWFsQmluZGluZz1mYWxzZTsKdGhpcy5fY2hhbmdlRGVsZWdhdGU9bnVsbDsKdGhpcy5pbml0aWFsaXplKCk7Cn07CmEuR3JpZENsaWVudFNpZGVCaW5kaW5nLnByb3RvdHlwZT17aW5pdGlhbGl6ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7CmUuX2NsaWVudERhdGFTb3VyY2U9JGZpbmQoZS5fZ3JpZC5fY2xpZW50RGF0YVNvdXJjZUlEKTsKdmFyIGQ9ZnVuY3Rpb24oKXtlLl9jbGllbnREYXRhU291cmNlPSRmaW5kKGUuX2dyaWQuX2NsaWVudERhdGFTb3VyY2VJRCk7CmUuX2luaXREYXRhU291cmNlKCk7ClN5cy5BcHBsaWNhdGlvbi5yZW1vdmVfbG9hZChkKTsKfTsKU3lzLkFwcGxpY2F0aW9uLmFkZF9sb2FkKGQpOwp9LGRpc3Bvc2U6ZnVuY3Rpb24oKXtpZih0aGlzLl9jaGFuZ2VEZWxlZ2F0ZSYmdGhpcy5fY2xpZW50RGF0YVNvdXJjZSl7dGhpcy5fY2xpZW50RGF0YVNvdXJjZS5yZW1vdmVfY2hhbmdlKHRoaXMuX2NoYW5nZURlbGVnYXRlKTsKdGhpcy5fY2xpZW50RGF0YVNvdXJjZS5yZW1vdmVfc3luYyh0aGlzLl9jaGFuZ2VEZWxlZ2F0ZSk7Cn10aGlzLl9jaGFuZ2VEZWxlZ2F0ZT1udWxsOwp0aGlzLl9jbGllbnREYXRhU291cmNlPW51bGw7Cn0sZ2V0X2NsaWVudERhdGFTb3VyY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xpZW50RGF0YVNvdXJjZTsKfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fY2hhbmdlKCk7Cn0sX2luaXREYXRhU291cmNlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5fZ3JpZC5nZXRfbWFzdGVyVGFibGVWaWV3KCk7CnRoaXMuX2dyaWQuYWRkX2NvbW1hbmQoRnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9vbkNvbW1hbmQpKTsKdGhpcy5fY2hhbmdlRGVsZWdhdGU9RnVuY3Rpb24uY3JlYXRlRGVsZWdhdGUodGhpcyx0aGlzLl9jaGFuZ2UpOwp0aGlzLl9jbGllbnREYXRhU291cmNlLmFkZF9jaGFuZ2UodGhpcy5fY2hhbmdlRGVsZWdhdGUpOwp0aGlzLl9jbGllbnREYXRhU291cmNlLmFkZF9zeW5jKHRoaXMuX2NoYW5nZURlbGVnYXRlKTsKaWYoZC5fdmlydHVhbGl6YXRpb24pe2QuX3ZpcnR1YWxpemF0aW9uLnNlbGVjdCgpOwp9ZWxzZXt0aGlzLl9pbml0aWFsQmluZGluZz10cnVlOwp0aGlzLl9jbGllbnREYXRhU291cmNlLmZldGNoKCk7Cn19LF9vbkNvbW1hbmQ6ZnVuY3Rpb24ocixkKXt2YXIgZj1kLmdldF9jb21tYW5kTmFtZSgpOwp2YXIgZT1kLmdldF9jb21tYW5kQXJndW1lbnQoKTsKdmFyIHU9ZS50b1N0cmluZygpLnNwbGl0KCI6Iik7CnZhciBpPXBhcnNlSW50KHVbdS5sZW5ndGgtMV0sMTApOwp2YXIgbT1mYWxzZTsKc3dpdGNoKGYpe2Nhc2UiVW5Hcm91cEJ5RXhwcmVzc2lvbiI6dGhpcy5fdXBkYXRlR3JvdXBFeHByZXNzaW9ucyh7dHlwZToicmVtb3ZlIixpbmRleDppfSk7Cm09dHJ1ZTsKYnJlYWs7CmNhc2UiUmVvcmRlckdyb3VwQnlFeHByZXNzaW9uIjp2YXIgbj1lLnRvU3RyaW5nKCkuc3BsaXQoIiwiKTsKdmFyIHM9cGFyc2VJbnQoblswXS5zcGxpdCgiOiIpWzFdLDEwKTsKdmFyIHc9cGFyc2VJbnQoblsxXS5zcGxpdCgiOiIpWzFdLDEwKTsKdmFyIHE9VGVsZXJpay5XZWIuVUkuR3JpZC5yZW9yZGVyQXJyYXkodGhpcy5fZ3JvdXBFeHByZXNzaW9ucyxzLHcpOwppZih0aGlzLl9ncmlkLl9yZW5kZXJNb2RlIT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLk1vYmlsZSl7dmFyIHA9dGhpcy5fZ3JvdXBFeHByZXNzaW9ucy5sZW5ndGg7CnZhciBrPXRoaXMuX2dyaWQuX2dyb3VwUGFuZWw7CnZhciBsPXRoaXMuX2dyaWQuX2dyb3VwUGFuZWwuX2l0ZW1zOwpmb3IodmFyIG89MDsKbzxwOwpvKyspe3ZhciBoPWxbMF07CmsuX3VuZ3JvdXAoaC5nZXRfZWxlbWVudCgpLmNoaWxkTm9kZXNbMF0pOwp9dGhpcy5fZ3JpZC5fZ3JvdXBQYW5lbC5faXRlbXM9W107CmZvcih2YXIgdj0wOwp2PHA7CnYrKyl7dmFyIGc9cVt2XTsKdGhpcy5fdXBkYXRlR3JvdXBFeHByZXNzaW9ucyh7dHlwZToiYWRkIixmaWVsZDpnLmZpZWxkfSk7Cn19dGhpcy5fZ3JvdXBFeHByZXNzaW9ucz10aGlzLl9ncmlkLmdldF9tYXN0ZXJUYWJsZVZpZXcoKS5fZGF0YS5Hcm91cEJ5RXhwcmVzc2lvbnM9cTsKbT10cnVlOwpicmVhazsKY2FzZSJHcm91cEJ5Q29sdW1uIjp0aGlzLl91cGRhdGVHcm91cEV4cHJlc3Npb25zKHt0eXBlOiJhZGQiLGZpZWxkOmV9KTsKbT10cnVlOwpicmVhazsKY2FzZSJVbkdyb3VwQnlDb2x1bW4iOnRoaXMuX3VwZGF0ZUdyb3VwRXhwcmVzc2lvbnMoe3R5cGU6InJlbW92ZSIsZmllbGQ6ZX0pOwptPXRydWU7CmJyZWFrOwpjYXNlIlNvcnRHcm91cCI6dGhpcy5fdXBkYXRlR3JvdXBFeHByZXNzaW9ucyh7dHlwZToic29ydCIsZmllbGQ6ZX0pOwptPXRydWU7CmJyZWFrOwpjYXNlIlBhZ2UiOmNhc2UiRGVsZXRlIjpjYXNlIlBhZ2VTaXplIjpjYXNlIlNvcnQiOmNhc2UiQ2xlYXJTb3J0IjpjYXNlIkZpbHRlciI6Y2FzZSJIZWFkZXJTb3J0IjpjYXNlIkhlYWRlckNvbnRleHRNZW51RmlsdGVyIjpjYXNlIlJlYmluZEdyaWQiOm09dHJ1ZTsKYnJlYWs7Cn1pZihtKXtkLnNldF9jYW5jZWwodHJ1ZSk7CnRoaXMuX2NoYW5nZSgpOwp9fSxfdXBkYXRlR3JvdXBFeHByZXNzaW9uczpmdW5jdGlvbihyKXt2YXIgcz1yLnR5cGUsZz10aGlzLl9ncm91cEV4cHJlc3Npb25zLHE9Zy5sZW5ndGgsbixmLGQ9JHRlbGVyaWsuJDsKdmFyIHQ7CnZhciBtOwp2YXIgZTsKdmFyIGg9dGhpcy5fZ3JpZC5fZ3JvdXBQYW5lbDsKaWYocz09ImFkZCIpe2Zvcih2YXIgbz0wOwpvPHE7Cm8rKyl7aWYoZ1tvXS5maWVsZD09ci5maWVsZCl7cmV0dXJuOwp9fWcucHVzaCh7ZmllbGQ6ci5maWVsZCxkaXI6ImFzYyIsYWdncmVnYXRlczp0aGlzLl9tYXN0ZXJUYWJsZVZpZXcuX2RhdGEuQWdncmVnYXRlc30pOwppZihoKXtpZih0aGlzLl9ncmlkLl9yZW5kZXJNb2RlPT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLk1vYmlsZSl7ZT1kKGguY2VsbHNbMF0pOwppZihlLmZpbmQoImxhYmVsIikubGVuZ3RoPT0wKXttPWUuZmluZCgic3BhbiIpWzBdOwptLmlubmVySFRNTD0iVmlldyBHcm91cHMiOwptLmNsYXNzTmFtZT0icmdHcm91cFBhbmVsQ29sbGFwc2UiOwp0aGlzLl9tYXN0ZXJUYWJsZVZpZXcuX2luaXRpYWxpemVHcm91cFBhbmVsRXZlbnRzKCk7Cn10PXRoaXMuX21hc3RlclRhYmxlVmlldy5fZ2V0Vmlld0J5VHlwZShhLkdyaWQuTW9iaWxlVmlld1R5cGUuR3JvdXApOwp0Ll9ncm91cEZpZWxkTmFtZXMucHVzaChyLmZpZWxkKTsKdC5fY3JlYXRlR3JvdXBJdGVtKHRoaXMuX2RhdGFGaWVsZEhlYWRlclRleHRNYXBbci5maWVsZF18fHIuZmllbGQpOwp0Ll8kZWxlbWVudC5maW5kKCIucmdVbmdyb3VwIikub2ZmRXZlbnQoYS5FdmVudE5hbWVzTWFwLnVwKS5vbkV2ZW50KGEuRXZlbnROYW1lc01hcC51cCxkLnByb3h5KHQuX2hhbmRsZUNsb3NlVXAsdCkpLm9uKCJjbGljayIsJHRlbGVyaWsucHJldmVudERlZmF1bHQpOwp0Ll8kZWxlbWVudC5maW5kKCJbY2xhc3MgKj0gJ3JnU29ydCddIikub2ZmRXZlbnQoYS5FdmVudE5hbWVzTWFwLnVwKS5vbkV2ZW50KGEuRXZlbnROYW1lc01hcC51cCxkLnByb3h5KHQuX2hhbmRsZVNvcnRVcCx0KSkub24oImNsaWNrIiwkdGVsZXJpay5wcmV2ZW50RGVmYXVsdCk7Cn1lbHNle2lmKHRoaXMuX2dyaWQuX3JlbmRlck1vZGU9PVRlbGVyaWsuV2ViLlVJLlJlbmRlck1vZGUuTGl0ZSl7aC5fY3JlYXRlTGlnaHRJdGVtcyh0aGlzLl9kYXRhRmllbGRIZWFkZXJUZXh0TWFwW3IuZmllbGRdfHxyLmZpZWxkLHIuZmllbGQpOwp9ZWxzZXtoLl9jcmVhdGUodGhpcy5fZGF0YUZpZWxkSGVhZGVyVGV4dE1hcFtyLmZpZWxkXXx8ci5maWVsZCxyLmZpZWxkKTsKfX19fWZvcihuPTA7Cm48cTsKbisrKXtmPWdbbl07CmlmKHM9PSJyZW1vdmUiJiYoZi5maWVsZD09ci5maWVsZHx8bj09PXIuaW5kZXgpKXt0aGlzLl9tYXN0ZXJUYWJsZVZpZXcuX3JlbW92ZUdyb3VwQ29sdW1uKCk7Cmcuc3BsaWNlKG4sMSk7CmlmKGgpe2lmKHRoaXMuX2dyaWQuX3JlbmRlck1vZGUhPVRlbGVyaWsuV2ViLlVJLlJlbmRlck1vZGUuTW9iaWxlKXt2YXIgbD1oLl9pdGVtczsKbC5zcGxpY2UobiwxKTsKZm9yKHZhciBwPTA7CnA8bC5sZW5ndGg7CnArKyl7bFtwXS5faGllcmFyY2hpY2FsSW5kZXg9IjA6IitwOwp9fWVsc2V7ZT1kKGguY2VsbHNbMF0pOwppZihlLmZpbmQoImxhYmVsIikubGVuZ3RoPT0wKXttPWUuZmluZCgic3BhbiIpWzBdOwptLmNsYXNzTmFtZT0icmdHcm91cFBhbmVsQ29sbGFwc2UiOwptLmlubmVySFRNTD10aGlzLl9ncmlkLl9ncm91cFBhbmVsVGV4dDsKbS5jbGFzc05hbWU9IiI7CnQ9dGhpcy5fbWFzdGVyVGFibGVWaWV3Ll9nZXRWaWV3QnlUeXBlKGEuR3JpZC5Nb2JpbGVWaWV3VHlwZS5Hcm91cCk7CnQuaGlkZSgpOwp9fX1icmVhazsKfWVsc2V7aWYocz09InNvcnQiJiZmLmZpZWxkPT1yLmZpZWxkKXtmLmRpcj1mLmRpcj09ImFzYyI/ImRlc2MiOiJhc2MiOwp9fX19LF9zZXRBZ2dyZWdhdGVzVG9DbGllbnREYXRhU291cmNlOmZ1bmN0aW9uKGYsail7dmFyIGU9WyIiLCJzdW0iLCJtaW4iLCJtYXgiLCJsYXN0IiwiZmlyc3QiLCJjb3VudCIsImF2ZXJhZ2UiLCJjb3VudERpc3RpbmN0IiwiY3VzdG9tIl07CmYuZ2V0X2FnZ3JlZ2F0ZXMoKS5jbGVhcigpOwp2YXIgZz1qLmdldF9jb2x1bW5zKCk7CmZvcih2YXIgaD0wOwpoPGcubGVuZ3RoOwpoKyspe2lmKGdbaF0uX2RhdGEuQWdncmVnYXRlKXt2YXIgZD1uZXcgVGVsZXJpay5XZWIuVUkuQ2xpZW50RGF0YVNvdXJjZS5BZ2dyZWdhdGUoKTsKZC5zZXRfZmllbGQoZ1toXS5fZGF0YS5EYXRhRmllbGQpOwpkLnNldF9hZ2dyZWdhdGUoZVtnW2hdLl9kYXRhLkFnZ3JlZ2F0ZV0pOwpmLmdldF9hZ2dyZWdhdGVzKCkuYWRkKGQpOwp9fX0sX2NoYW5nZTpmdW5jdGlvbigpe2lmKHRoaXMuX3N1cHJlc3NDaGFuZ2Upe3JldHVybjsKfXZhciBlPXRoaXMuX2NsaWVudERhdGFTb3VyY2UsZz10aGlzLl9ncmlkLmdldF9tYXN0ZXJUYWJsZVZpZXcoKSxoPXRoaXMuX2dyaWQsZD1oP2guZ2V0X2JhdGNoRWRpdGluZ01hbmFnZXIoKTpudWxsOwp2YXIgZj1nLl9mb3JjZVJlYmluZHx8ZmFsc2U7CmcuX2ZvcmNlUmViaW5kPW51bGw7CmlmKCFnLl92aXJ0dWFsaXphdGlvbnx8KGcuX3ZpcnR1YWxpemF0aW9uJiZnLl92aXJ0dWFsaXphdGlvbi5faXNEYXRhQmluZGluZykpe2lmKCFmKXtlLmdldF9zb3J0RXhwcmVzc2lvbnMoKS5jbGVhcigpOwplLmdldF9zb3J0RXhwcmVzc2lvbnMoKS5hZGQoZy5nZXRfc29ydEV4cHJlc3Npb25zKCkudG9DbGllbnREYXRhU291cmNlTGlzdCgpKTsKZS5nZXRfZmlsdGVyRXhwcmVzc2lvbnMoKS5jbGVhcigpOwplLmdldF9maWx0ZXJFeHByZXNzaW9ucygpLmFkZChnLmdldF9maWx0ZXJFeHByZXNzaW9ucygpLnRvQ2xpZW50RGF0YVNvdXJjZUxpc3QoKSk7CmUuZ2V0X2dyb3VwRXhwcmVzc2lvbnMoKS5jbGVhcigpOwplLnNldF9fZ3JvdXBFeHByZXNzaW9ucyh0aGlzLl9ncm91cEV4cHJlc3Npb25zKTsKdGhpcy5fc2V0QWdncmVnYXRlc1RvQ2xpZW50RGF0YVNvdXJjZShlLGcpOwppZighZy5fdmlydHVhbGl6YXRpb24pe2Uuc2V0X2FsbG93UGFnaW5nKGcuZ2V0X2FsbG93UGFnaW5nKCkpOwppZihnLmdldF9hbGxvd1BhZ2luZygpKXtpZihnLmdldF9wYWdlU2l6ZSgpIT1lLmdldF9wYWdlU2l6ZSgpKXtlLnNldF9wYWdlU2l6ZShnLmdldF9wYWdlU2l6ZSgpKTsKfWlmKGcuZ2V0X2N1cnJlbnRQYWdlSW5kZXgoKSE9ZS5nZXRfY3VycmVudFBhZ2VJbmRleCgpKXtlLnNldF9jdXJyZW50UGFnZUluZGV4KGcuZ2V0X2N1cnJlbnRQYWdlSW5kZXgoKSk7Cn19fX1pZighdGhpcy5fZGF0YWJpbmRpbmdJblByb2dyZXNzKXtpZighdGhpcy5faW5pdGlhbEJpbmRpbmcpe3ZhciBpPXRoaXM7CnRoaXMuX2RhdGFiaW5kaW5nSW5Qcm9ncmVzcz10cnVlOwplLmZldGNoKGZ1bmN0aW9uKCl7Zy5zZXRfZGF0YVNvdXJjZShmP2UucmVjcmVhdGVWaWV3KCk6ZS52aWV3KCkpOwpnLnNldF92aXJ0dWFsSXRlbUNvdW50KGUuZ2V0X3RvdGFsSXRlbXNDb3VudCgpKTsKaS5fZGF0YWJpbmRpbmdJblByb2dyZXNzPWZhbHNlOwpnLmRhdGFCaW5kKCk7CmcudXBkYXRlQWdncmVnYXRlcyhlLl9rZW5kb0RhdGFTb3VyY2UuYWdncmVnYXRlcygpKTsKaWYoZCl7ZC5fcmVtb3ZlQ2hhbmdlcygpOwp9fSk7Cn1lbHNle3RoaXMuX2luaXRpYWxCaW5kaW5nPWZhbHNlOwp0aGlzLl9kYXRhYmluZGluZ0luUHJvZ3Jlc3M9dHJ1ZTsKZy5zZXRfZGF0YVNvdXJjZShmP2UucmVjcmVhdGVWaWV3KCk6ZS52aWV3KCkpOwpnLnNldF92aXJ0dWFsSXRlbUNvdW50KGUuZ2V0X3RvdGFsSXRlbXNDb3VudCgpKTsKdGhpcy5fZGF0YWJpbmRpbmdJblByb2dyZXNzPWZhbHNlOwpnLmRhdGFCaW5kKCk7CmcudXBkYXRlQWdncmVnYXRlcyhlLl9rZW5kb0RhdGFTb3VyY2UuYWdncmVnYXRlcygpKTsKaWYoZCl7ZC5fcmVtb3ZlQ2hhbmdlcygpOwp9fX19fX07CmEuR3JpZENsaWVudFNpZGVCaW5kaW5nLnJlZ2lzdGVyQ2xhc3MoIlRlbGVyaWsuV2ViLlVJLkdyaWRDbGllbnRTaWRlQmluZGluZyIsbnVsbCk7CnZhciBiPXt1cGRhdGVBZ2dyZWdhdGVzOmZ1bmN0aW9uKGQpe3ZhciBlPW51bGw7CmlmKHRoaXMuZ2V0X2VsZW1lbnQoKS50Rm9vdCl7ZT10aGlzLmdldF9lbGVtZW50KCkudEZvb3Qucm93c1swXTsKfWlmKCFlJiZ0aGlzLl9vd25lci5HcmlkRm9vdGVyRGl2JiZ0aGlzLl9vd25lci5HcmlkRm9vdGVyRGl2LmNoaWxkcmVuWzBdKXtlPXRoaXMuX293bmVyLkdyaWRGb290ZXJEaXYuY2hpbGRyZW5bMF0ucm93c1sxXTsKfWlmKGUmJmUuY2xhc3NOYW1lPT0icmdGb290ZXIiKXt0aGlzLl91cGRhdGVBZ2dyZWdhdGVzKGUsZCk7Cn19LGRhdGFCaW5kOmZ1bmN0aW9uKCl7aWYodGhpcy5fdmlydHVhbGl6YXRpb24mJiF0aGlzLl92aXJ0dWFsaXphdGlvbi5faXNEYXRhQmluZGluZyYmKCh0aGlzLmdldF9hbGxvd1BhZ2luZygpJiZ0aGlzLl9kYXRhU291cmNlLmxlbmd0aD50aGlzLmdldF9wYWdlU2l6ZSgpKXx8KCF0aGlzLmdldF9hbGxvd1BhZ2luZygpJiZ0aGlzLl9kYXRhU291cmNlLmxlbmd0aD50aGlzLl92aXJ0dWFsaXphdGlvbi5faXRlbXNQZXJWaWV3KSkpe3RoaXMuX3ZpcnR1YWxpemF0aW9uLl9zdGFydEluZGV4PW51bGw7CnRoaXMuX3ZpcnR1YWxpemF0aW9uLnNldF9iaW5kaW5nVHlwZSgiQ2xpZW50Iik7CnRoaXMuX3ZpcnR1YWxpemF0aW9uLnNldF9jYWNoZWREYXRhKHRoaXMuX2RhdGFTb3VyY2UpOwp0aGlzLl92aXJ0dWFsaXphdGlvbi5zZXRfdmlydHVhbEl0ZW1Db3VudCh0aGlzLl9kYXRhU291cmNlLmxlbmd0aCk7CnRoaXMuX3ZpcnR1YWxpemF0aW9uLnNlbGVjdCgpOwpyZXR1cm47Cn1BcnJheS5mb3JFYWNoKCR0ZWxlcmlrLmdldEVsZW1lbnRzQnlDbGFzc05hbWUodGhpcy5nZXRfZWxlbWVudCgpLnRCb2RpZXNbMF0sInJnR3JvdXBIZWFkZXIiKSxmdW5jdGlvbihpKXtpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSk7Cn0pOwpBcnJheS5mb3JFYWNoKCR0ZWxlcmlrLmdldEVsZW1lbnRzQnlDbGFzc05hbWUodGhpcy5nZXRfZWxlbWVudCgpLnRCb2RpZXNbMF0sInJnRm9vdGVyIiksZnVuY3Rpb24oaSl7aS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpOwp9KTsKdmFyIG09JHRlbGVyaWsuZ2V0RWxlbWVudEJ5Q2xhc3NOYW1lKHRoaXMuZ2V0X2VsZW1lbnQoKSwicmdOb1JlY29yZHMiKTsKaWYobSl7aWYodGhpcy5fZGF0YVNvdXJjZS5sZW5ndGg+MCl7bS5zdHlsZS5kaXNwbGF5PSJub25lIjsKfWVsc2V7bS5zdHlsZS5kaXNwbGF5PSIiOwp0aGlzLl9zZXRQYWdlclZpc2liaWxpdHkodGhpcy5fZGF0YS5QYWdlckFsd2F5c1Zpc2libGUpOwp9fXZhciBlPXRoaXMuZ2V0X2RhdGFJdGVtcygpOwp2YXIgZD10aGlzLmdldF9jb2x1bW5zKCk7CnZhciBoLGssbDsKdmFyIG89KCR0ZWxlcmlrLmlzT3BlcmEpP3RoaXMuZ2V0X2VsZW1lbnQoKTp0aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXTsKaWYodGhpcy5fZGF0YVNvdXJjZS5sZW5ndGg8ZS5sZW5ndGh8fG8ucm93cy5sZW5ndGg9PTEpe2ZvcihoPTAsaz1lLmxlbmd0aDsKaDxrOwpoKyspe2VbaF0uc2V0X3Zpc2libGUoZmFsc2UpOwplW2hdLmdldF9lbGVtZW50KCkuc3R5bGUuZGlzcGxheT0ibm9uZSI7Cn10aGlzLl9jYWNoZURhdGFJdGVtcygpOwp9dGhpcy5fZGF0YUJpbmQodGhpcy5fZGF0YVNvdXJjZSk7CnZhciBmPXRydWU7CmlmKHRoaXMuX293bmVyLl9rZXlib2FyZE5hdmlnYXRpb25Qcm9wZXJ0aWVzKXtmPXRoaXMuX293bmVyLl9rZXlib2FyZE5hdmlnYXRpb25Qcm9wZXJ0aWVzLmZpcnN0U2VsZWN0aW9uOwp9dmFyIG49JGZpbmQodGhpcy5fb3duZXIuZ2V0X2lkKCkpOwppZihuLl9nZXRQb3NpdGlvbmVkRGF0YUl0ZW1zKXtuLl9nZXRQb3NpdGlvbmVkRGF0YUl0ZW1zKHRydWUpOwp9aWYodGhpcy5fb3duZXIuX2tleWJvYXJkTmF2aWdhdGlvblByb3BlcnRpZXMpe3RoaXMuX293bmVyLl9rZXlib2FyZE5hdmlnYXRpb25Qcm9wZXJ0aWVzLmZpcnN0U2VsZWN0aW9uPWY7Cn10aGlzLl9maXhSb3dzQ2xhc3NOYW1lcygpOwp0aGlzLl9vd25lci5yYWlzZV9kYXRhQm91bmQoU3lzLkV2ZW50QXJncy5FbXB0eSk7CmZvcihoPTAsbD1kLmxlbmd0aDsKaDxsOwpoKyspe3ZhciBqPWZhbHNlOwppZihkW2hdLmdldF9lbGVtZW50KCkuc3R5bGUudmlzaWJpbGl0eSE9ImhpZGRlbiImJihkW2hdLkRpc3BsYXk9PW51bGx8fGRbaF0uRGlzcGxheT09dHJ1ZSkmJihkW2hdLl9kYXRhLkRpc3BsYXk9PW51bGx8fGRbaF0uX2RhdGEuRGlzcGxheSkpe2o9dHJ1ZTsKfWlmKCFqKXt0aGlzLmhpZGVDb2x1bW4oaCk7Cn19aWYodGhpcy5nZXRfaWQoKT09dGhpcy5fb3duZXIuX21hc3RlckNsaWVudElEKXt2YXIgZz0kZmluZCh0aGlzLl9vd25lci5nZXRfaWQoKSk7CmlmKGcuX3Njcm9sbGluZyl7dGhpcy5fb3duZXIuX3Njcm9sbGluZy5zZXRIZWFkZXJBbmRGb290ZXJEaXZzV2lkdGgoKTsKZy5fc2Nyb2xsaW5nLl9pbml0aWFsaXplVmlydHVhbFNjcm9sbFBhZ2luZyh0cnVlKTsKfX19LGNyZWF0ZUl0ZW06ZnVuY3Rpb24ocCxsLGUpe3ZhciB1PXRoaXM7CnZhciBrPXUuZ2V0X2RhdGFJdGVtcygpOwpwPXA9PTA/MDpwfHxrLmxlbmd0aDsKdmFyIHQ9KCR0ZWxlcmlrLmlzT3BlcmEpP3RoaXMuZ2V0X2VsZW1lbnQoKTp0aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXTsKdmFyIHM7CmlmKHA8ay5sZW5ndGgmJmsubGVuZ3RoPjApe3M9dC5wYXJlbnROb2RlLmluc2VydFJvdyhrW3BdLmdldF9lbGVtZW50KCkucm93SW5kZXgpOwp9ZWxzZXtpZihwPT09ay5sZW5ndGgmJmsubGVuZ3RoPjApe3M9dC5pbnNlcnRSb3coLTEpOwp9ZWxzZXtzPXQuaW5zZXJ0Um93KHApOwp9fXZhciBkPW5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1DYW5jZWxFdmVudEFyZ3MocyxudWxsKTsKdGhpcy5fb3duZXIucmFpc2Vfcm93Q3JlYXRpbmcoZCk7CmlmKGQuZ2V0X2NhbmNlbCgpKXtyZXR1cm4gbnVsbDsKfXZhciBtPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKdmFyIGY7CnZhciBqOwp2YXIgcTsKdmFyIGg7CnZhciB2OwppZihrLmxlbmd0aD4wKXt2YXIgbz1wPT0wP2tbMF0uZ2V0X2lkKCk6a1twLTFdLmdldF9pZCgpOwpxPW8uc3BsaXQoIl9fIilbMV07CmlmKHEuaW5kZXhPZigiXyIpPT09LTEpe3E9cGFyc2VJbnQoby5zcGxpdCgiX18iKVsxXSwxMCkrKHA9PTA/LTE6MSk7Cn1lbHNle3E9Ii0xIjsKfWlmKGwmJnBhcnNlSW50KGwsMTApPDAmJnBhcnNlSW50KHEsMTApPnBhcnNlSW50KGwsMTApKXtxPWw7Cn1zLmlkPVN0cmluZy5mb3JtYXQoInswfV9fezF9IixvLnNwbGl0KCJfXyIpWzBdLHEpOwp9ZWxzZXtxPXR5cGVvZiBsPT09InVuZGVmaW5lZCI/IjAiOmw7CnMuaWQ9U3RyaW5nLmZvcm1hdCgiezB9X197MX0iLHRoaXMuZ2V0X2lkKCkscSk7CnUuX2hpZGVSZ05vUmVjb3Jkc1Jvdyh0KTsKfXMuY2xhc3NOYW1lPSJyZ1JvdyI7CmlmKGtbay5sZW5ndGgtMl0pe3ZhciBnPWtbay5sZW5ndGgtMl0uZ2V0X2VsZW1lbnQoKS5jbGFzc05hbWU7Cmc9Zy5yZXBsYWNlKCIgcmdBY3RpdmVSb3ciLCIiKS5yZXBsYWNlKCIgcmdTZWxlY3RlZFJvdyIsIiIpOwpzLmNsYXNzTmFtZT1nOwp9aj0kY3JlYXRlKFRlbGVyaWsuV2ViLlVJLkdyaWREYXRhSXRlbSx7X293bmVyOnUsX2RhdGE6e30sX2l0ZW1JbmRleEhpZXJhcmNoaWNhbDoiIitxfSxudWxsLG51bGwscyk7CmZvcih2YXIgbj0wLHI9dS5nZXRfY29sdW1ucygpLmxlbmd0aDsKbjxyOwpuKyspe2g9dS5nZXRfY29sdW1ucygpW25dOwpmPXUuX2NyZWF0ZUNlbGwoaCk7Cm0uYXBwZW5kQ2hpbGQoZik7CmlmKCFoLkRpc3BsYXkpe2Yuc3R5bGUuZGlzcGxheT0ibm9uZSI7Cn1pZih1Ll9kYXRhLkVkaXRNb2RlPT0iQmF0Y2giKXtpZih1Ll9pc0NvbHVtbkVkaXRhYmxlKGgscykpe3Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CnYuaW5uZXJIVE1MPSImbmJzcDsiOwpmLmFwcGVuZENoaWxkKHYpOwpmPXY7Cn19aC5pbml0aWFsaXplQ2VsbChmLGopOwppZihmLmNoaWxkTm9kZXMubGVuZ3RoPT0wKXtmLmlubmVySFRNTD0iJm5ic3A7IjsKfX1zLmFwcGVuZENoaWxkKG0pOwp1Ll9jbGVhclJvd0NsYXNzU3R5bGVzKGouZ2V0X2VsZW1lbnQoKSk7CmlmKGUpe2Uoaik7Cn11Ll9vd25lci5yYWlzZV9yb3dDcmVhdGVkKG5ldyBUZWxlcmlrLldlYi5VSS5HcmlkRGF0YUl0ZW1FdmVudEFyZ3MocyxudWxsKSk7CkFycmF5Lmluc2VydChrLHAsaik7CnJldHVybiBqOwp9LF9jcmVhdGVDZWxsOmZ1bmN0aW9uKGcpe3ZhciBoPXRoaXMuZ2V0X2RhdGFJdGVtcygpWzBdLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKSxmPXRoaXMuX2NlbGxBdHRyaWJ1dGVzLGQsaTsKaWYoZiYmaCl7ZD1mW2cuZ2V0X3VuaXF1ZU5hbWUoKV07CmZvcihpIGluIGQpe2Uuc2V0QXR0cmlidXRlKGksZFtpXSk7Cn19cmV0dXJuIGU7Cn0sX3NhdmVDZWxsQXR0cmlidXRlczpmdW5jdGlvbihoKXt2YXIgZj10aGlzLl9jZWxsQXR0cmlidXRlcz17fSxnPXRoaXMuZ2V0X2NvbHVtbnMoKSxvPWcubGVuZ3RoLG0sZCxrLGU7CmZvcihtPTA7Cm08bzsKbSsrKXtkPWZbZ1ttXS5nZXRfdW5pcXVlTmFtZSgpXT17fTsKZT1oLmdldF9jZWxsKGdbbV0uZ2V0X3VuaXF1ZU5hbWUoKSk7CmlmKGUpe3ZhciBsPWUuYXR0cmlidXRlczsKZm9yKHZhciBuPTA7Cm48bC5sZW5ndGg7Cm4rKyl7az1sW25dOwppZihrLm5vZGVOYW1lIT09InN0eWxlIiYmKCR0ZWxlcmlrLmlzQ2hyb21lfHxrLnNwZWNpZmllZHx8KGsubm9kZU5hbWU9PSJ2YWx1ZSImJmsubm9kZVZhbHVlKSkpe2Rbay5ub2RlTmFtZV09ay5ub2RlVmFsdWU7Cn19aWYoZS5zdHlsZS5jc3NUZXh0KXtkLnN0eWxlPWUuc3R5bGUuY3NzVGV4dDsKfX19fSxfaXNHcm91cDpmdW5jdGlvbihkKXtyZXR1cm4gISEoZCYmZC5oYXNPd25Qcm9wZXJ0eSgiaGFzU3ViZ3JvdXBzIikmJmQuaXRlbXMmJnR5cGVvZiBkLml0ZW1zLmxlbmd0aD09Im51bWJlciIpOwp9LF9nZXRHcm91cExldmVsczpmdW5jdGlvbihkKXt2YXIgZT0wOwp3aGlsZSh0aGlzLl9pc0dyb3VwKGRbMF0pKXtlKys7CmQ9ZFswXS5pdGVtczsKfXJldHVybiBlOwp9LF9kYXRhQmluZDpmdW5jdGlvbihnLG8pe289b3x8e2RhdGFJdGVtSW5kZXg6MCxncm91cExldmVsOjAsZ3JvdXBSb3dJbmRleDowLGdyb3VwTGV2ZWxzOnRoaXMuX2dldEdyb3VwTGV2ZWxzKGcpfTsKdmFyIGU9dGhpcy5faXNHcm91cChnWzBdKSxmPXRoaXMuZ2V0X2RhdGFJdGVtcygpLG49Zy5sZW5ndGgsbD0wOwppZihlKXt2YXIgaz10aGlzLl9kYXRhLkdyb3VwQnlFeHByZXNzaW9uczsKaWYoayl7dmFyIGQ9e307CmZvcih2YXIgbT0wOwptPGsubGVuZ3RoOwptKyspe3ZhciBoPWtbbV07CmRbaC5maWVsZF09aC5hbGlhczsKfW8uYWxpYXNGaWVsZE1hcD1kOwp9aWYodGhpcy5nZXRfY29sdW1ucygpW28uZ3JvdXBMZXZlbF0uX2RhdGEuQ29sdW1uVHlwZSE9IkdyaWRHcm91cFNwbGl0dGVyQ29sdW1uIil7dGhpcy5fY3JlYXRlR3JvdXBDb2x1bW4oKTsKfW8uZ3JvdXBMZXZlbCsrOwp9dGhpcy5fZGF0YUl0ZW1zQnlHbG9iYWxJbmRleD17fTsKZm9yKDsKbDxuOwpsKyspe2lmKGUpe3RoaXMuX2NyZWF0ZUdyb3VwKGdbbF0sbyk7Cn1lbHNle2lmKCFvLmlzRW1wdHlEYXRhR3JvdXApe3RoaXMuX2FwcGVuZEl0ZW0oZltvLmRhdGFJdGVtSW5kZXgrK10sZ1tsXSxsKTsKfX19aWYoZSl7by5ncm91cExldmVsLS07Cn19LF9jcmVhdGVHcm91cDpmdW5jdGlvbihkLGYpe3RoaXMuX2NyZWF0ZUdyb3VwUm93KGQsZik7CnRoaXMuX2RhdGFCaW5kKGQuaXRlbXMsZik7CmlmKHRoaXMuX2RhdGEuU2hvd0dyb3VwRm9vdGVyKXtmb3IodmFyIGUgaW4gZC5hZ2dyZWdhdGVzKXt0aGlzLl9jcmVhdGVBZ2dyZWdhdGVSb3coZCxmLGUpOwpicmVhazsKfX19LF9jcmVhdGVHcm91cFJvdzpmdW5jdGlvbihmLGspe3ZhciBuPXRoaXMsbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpLGg9ay5ncm91cExldmVsLGo9MCxlLGQ7CmsuZ3JvdXBSb3dJbmRleCs9MjsKbC5jbGFzc05hbWU9InJnR3JvdXBIZWFkZXIiOwpmb3IoOwpqPGg7CmorKyl7ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwplLmNsYXNzTmFtZT0icmdHcm91cENvbCI7CmwuYXBwZW5kQ2hpbGQoZSk7Cn1pZih0aGlzLmdldF9vd25lcigpLl9yZW5kZXJNb2RlPT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLk1vYmlsZXx8dGhpcy5nZXRfb3duZXIoKS5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlKXtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwpkLmNsYXNzTmFtZT0idC1idXR0b24gcmdBY3Rpb25CdXR0b24gIjsKZC50aXRsZT0iQ29sbGFwc2UgIjsKdmFyIG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwptLmNsYXNzTmFtZT0idC1mb250LWljb24gcmdJY29uIHJnQ29sbGFwc2VJY29uIjsKZC5hcHBlbmRDaGlsZChtKTsKfWVsc2V7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwp9ZC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJzdWJtaXQiKTsKZC5zZXRBdHRyaWJ1dGUoInRpdGxlIix0aGlzLl9vd25lci5fZ3JvdXBpbmdTZXR0aW5ncy5Db2xsYXBzZVRvb2x0aXApOwpkLmlkPXRoaXMuZ2V0X2lkKCkrIl9fIitrLmdyb3VwUm93SW5kZXgrIl9fIisoay5ncm91cExldmVsLTEpOwpkLmNsYXNzTmFtZSs9InJnQ29sbGFwc2UiOwpkLnZhbHVlPSIgIjsKZC5vbmNsaWNrPWZ1bmN0aW9uKGkpe2k9aT9pOndpbmRvdy5ldmVudDsKbi5fdG9nZ2xlR3JvdXBzRXhwYW5kKGQsaSk7CnJldHVybiBmYWxzZTsKfTsKZS5hcHBlbmRDaGlsZChkKTsKZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwppZih0aGlzLmdldF9vd25lcigpLl9yZW5kZXJNb2RlPT1UZWxlcmlrLldlYi5VSS5SZW5kZXJNb2RlLkxpdGUpe2UuaW5uZXJIVE1MPSI8c3BhbiBjbGFzcz0ncmdHcm91cEhlYWRlclRleHQnPiIrKGsuYWxpYXNGaWVsZE1hcFtmLmZpZWxkXXx8dGhpcy5fZGF0YS5EYXRhRmllbGRIZWFkZXJUZXh0W2YuZmllbGRdfHxmLmZpZWxkKSsiOiAiK2YudmFsdWUrIjwvc3Bhbj4iOwp9ZWxzZXtlLmlubmVySFRNTD0iPHA+PHNwYW4gY2xhc3M9J3JnR3JvdXBIZWFkZXJUZXh0Jz4iKyhrLmFsaWFzRmllbGRNYXBbZi5maWVsZF18fHRoaXMuX2RhdGEuRGF0YUZpZWxkSGVhZGVyVGV4dFtmLmZpZWxkXXx8Zi5maWVsZCkrIjogPC9zcGFuPiIrZi52YWx1ZSsiPC9wPiI7Cn1lLnNldEF0dHJpYnV0ZSgiY29sU3BhbiIsdGhpcy5fZ2V0VmlzaWJsZUNvbHVtbnMoKS5sZW5ndGgtaCk7CmwuYXBwZW5kQ2hpbGQoZSk7CmlmKGsuaXNFbXB0eURhdGFHcm91cCl7dmFyIGc9JHRlbGVyaWsuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXSwicmdHcm91cEhlYWRlciIpOwppZihnLmxlbmd0aD4wKXt0aGlzLmdldF9lbGVtZW50KCkudEJvZGllc1swXS5pbnNlcnRCZWZvcmUobCxnW2suZ3JvdXBMZXZlbC0xXSk7Cn19ZWxzZXtpZihrLmRhdGFJdGVtSW5kZXg8dGhpcy5nZXRfZGF0YUl0ZW1zKCkuY29uY2F0KHRoaXMuX2NhY2hlZEl0ZW1zKS5sZW5ndGgpe3RoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdLmluc2VydEJlZm9yZShsLHRoaXMuZ2V0X2RhdGFJdGVtcygpLmNvbmNhdCh0aGlzLl9jYWNoZWRJdGVtcylbay5kYXRhSXRlbUluZGV4XS5nZXRfZWxlbWVudCgpKTsKfX19LF9jcmVhdGVBZ2dyZWdhdGVSb3c6ZnVuY3Rpb24oZyxrKXt2YXIgZj10aGlzLmdldF9jb2x1bW5zKCksZD1nLmFnZ3JlZ2F0ZXMsbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpLGg9ay5ncm91cExldmVsczsKbC5jbGFzc05hbWU9InJnRm9vdGVyIjsKdmFyIGU7CnZhciBqOwpmb3Ioaj0wOwpqPGg7CmorKyl7ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwplLmNsYXNzTmFtZT0icmdHcm91cENvbCI7CmwuYXBwZW5kQ2hpbGQoZSk7Cn1mb3Ioaj0wOwpqPGYubGVuZ3RoLWg7CmorKyl7ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwpsLmFwcGVuZENoaWxkKGUpOwp9dGhpcy5fdXBkYXRlQWdncmVnYXRlcyhsLGQpOwppZih0aGlzLmdldF9kYXRhSXRlbXMoKS5jb25jYXQodGhpcy5fY2FjaGVkSXRlbXMpW2suZGF0YUl0ZW1JbmRleF0pe3RoaXMuZ2V0X2VsZW1lbnQoKS50Qm9kaWVzWzBdLmluc2VydEJlZm9yZShsLHRoaXMuZ2V0X2RhdGFJdGVtcygpLmNvbmNhdCh0aGlzLl9jYWNoZWRJdGVtcylbay5kYXRhSXRlbUluZGV4XS5nZXRfZWxlbWVudCgpKTsKfX0sX3VwZGF0ZUFnZ3JlZ2F0ZXM6ZnVuY3Rpb24oaixpKXt2YXIgZD1bIiIsInN1bSIsIm1pbiIsIm1heCIsImxhc3QiLCJmaXJzdCIsImNvdW50IiwiYXZlcmFnZSIsImNvdW50RGlzdGluY3QiLCJjdXN0b20iXTsKdmFyIGg9dGhpcy5nZXRfY29sdW1ucygpOwpmb3IodmFyIGU9MDsKZTxoLmxlbmd0aDsKZSsrKXt2YXIgZz1oW2VdOwppZihnLl9kYXRhLkFnZ3JlZ2F0ZSYmZy5fZGF0YS5EYXRhRmllbGQpe3ZhciBmPXRoaXMuX2dldENlbGxCeUNvbHVtblVuaXF1ZU5hbWVGcm9tVGFibGVSb3dFbGVtZW50KGosZy5fZGF0YS5VbmlxdWVOYW1lKTsKaWYoaVtnLl9kYXRhLkRhdGFGaWVsZF0pe2lmKGcuX2RhdGEuQWdncmVnYXRlQ2xpZW50Rm9ybWF0U3RyaW5nLmluZGV4T2YoInswfSIpKXtmLmlubmVySFRNTD1nLl9kYXRhLkFnZ3JlZ2F0ZUNsaWVudEZvcm1hdFN0cmluZy5yZXBsYWNlKCJ7MH0iLGlbZy5fZGF0YS5EYXRhRmllbGRdW2RbZy5fZGF0YS5BZ2dyZWdhdGVdXSk7Cn1lbHNle2YuaW5uZXJIVE1MPWlbZy5fZGF0YS5EYXRhRmllbGRdW2RbZy5fZGF0YS5BZ2dyZWdhdGVdXTsKfX1lbHNle2YuaW5uZXJIVE1MPSIiOwp9fX19LF9hcHBlbmRJdGVtOmZ1bmN0aW9uKGwsbSxvKXt2YXIgaT10aGlzLmdldF9jb2x1bW5zKCk7CmlmKGw9PW51bGwpe2w9dGhpcy5fZ2V0TmV4dENhY2hlZEl0ZW0oKTsKaWYobCl7QXJyYXkuYWRkKHRoaXMuX2RhdGFJdGVtcyxsKTsKfX1pZih0aGlzLl92aXJ0dWFsaXphdGlvbil7dGhpcy5fZGF0YUl0ZW1zQnlHbG9iYWxJbmRleFt0aGlzLl92aXJ0dWFsaXphdGlvbi5nZXRfc3RhcnRJbmRleCgpK29dPWw7CmlmKHRoaXMuX3ZpcnR1YWxpemF0aW9uLl9zaG91bGRMb2FkU3RhdGUpe3RoaXMuX3ZpcnR1YWxpemF0aW9uLmxvYWRTdGF0ZShsKTsKfWVsc2V7dGhpcy5fdmlydHVhbGl6YXRpb24uaGlkZUVkaXRGb3JtSXRlbShsLmdldF9lZGl0Rm9ybUl0ZW0oKSxsLmdldF9lbGVtZW50KCkpOwp0aGlzLl92aXJ0dWFsaXphdGlvbi51cGRhdGVJdGVtU3RhdGUobCk7Cn19aWYobD09bnVsbCl7bD10aGlzLmNyZWF0ZUl0ZW0oKTsKaWYoIWwpe3JldHVybjsKfX12YXIgcD1sLmdldF9lbGVtZW50KCkuY2xhc3NOYW1lLmluZGV4T2YoInJnRWRpdFJvdyIpIT09LTE7CmlmKGwuZ2V0X2VsZW1lbnQoKS5zdHlsZS5kaXNwbGF5PT0ibm9uZSJ8fGwuZ2V0X2VsZW1lbnQoKS5zdHlsZS52aXNpYmlsaXR5PT0iaGlkZGVuIil7bC5zZXRfdmlzaWJsZSh0cnVlKTsKbC5nZXRfZWxlbWVudCgpLnN0eWxlLmRpc3BsYXk9KCR0ZWxlcmlrLmlzSUUpPyIiOiJ0YWJsZS1yb3ciOwp9aWYodGhpcy5fb3duZXIuX2NsaWVudEtleVZhbHVlcyYmdGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5jbGllbnREYXRhS2V5TmFtZXMpe2Zvcih2YXIgcj0wLHQ9dGhpcy5fZGF0YS5jbGllbnREYXRhS2V5TmFtZXMubGVuZ3RoOwpyPHQ7CnIrKyl7dmFyIGY9dGhpcy5fZGF0YS5jbGllbnREYXRhS2V5TmFtZXNbcl07CnZhciBnPShtKT9tW2ZdOm51bGw7CmlmKHRoaXMuX293bmVyLl9jbGllbnRLZXlWYWx1ZXNbbC5faXRlbUluZGV4SGllcmFyY2hpY2FsXSl7dGhpcy5fb3duZXIuX2NsaWVudEtleVZhbHVlc1tsLl9pdGVtSW5kZXhIaWVyYXJjaGljYWxdW2ZdPWc7Cn1lbHNle3ZhciB1PXt9OwppZih0aGlzLl9vd25lci5fY2xpZW50S2V5VmFsdWVzW2wuX2l0ZW1JbmRleEhpZXJhcmNoaWNhbF0hPW51bGwpe3U9dGhpcy5fb3duZXIuX2NsaWVudEtleVZhbHVlc1tsLl9pdGVtSW5kZXhIaWVyYXJjaGljYWxdOwp1W2ZdPWc7CnRoaXMuX293bmVyLl9jbGllbnRLZXlWYWx1ZXNbbC5faXRlbUluZGV4SGllcmFyY2hpY2FsXT11Owp9ZWxzZXt1PXt9Owp1W2ZdPWc7CnRoaXMuX293bmVyLl9jbGllbnRLZXlWYWx1ZXNbbC5faXRlbUluZGV4SGllcmFyY2hpY2FsXT11Owp9fX19aWYodGhpcy5fZGF0YS5fZGF0YUJpbmRUZW1wbGF0ZXMmJnApe3RoaXMuX2ZpbGxUZW1wbGF0ZUVkaXRvcnNEYXRhKGwsbSk7Cn1mb3IodmFyIHE9MCxzPWkubGVuZ3RoOwpxPHM7CnErKyl7dmFyIHc9aVtxXS5nZXRfdW5pcXVlTmFtZSgpOwp2YXIgZT10aGlzLl9nZXRDZWxsQnlDb2x1bW5VbmlxdWVOYW1lRnJvbVRhYmxlUm93RWxlbWVudChsLmdldF9lbGVtZW50KCksdyk7CmlmKCFlKXtjb250aW51ZTsKfWlmKHRoaXMuX3ZpcnR1YWxpemF0aW9uKXt0aGlzLl92aXJ0dWFsaXphdGlvbi5sb2FkQ2VsbFNlbGVjdGlvbihsLGUsdyk7Cn1pZih0aGlzLl9kYXRhLkVkaXRNb2RlPT09IkJhdGNoIiYmdGhpcy5faXNDb2x1bW5FZGl0YWJsZShpW3FdLGwuZ2V0X2VsZW1lbnQoKSkpe2U9ZS5jaGlsZHJlblswXTsKfXZhciBuPWlbcV0uX2RhdGEuRGF0YUZpZWxkOwppZihpW3FdLl9kYXRhLkNvbHVtblR5cGU9PSJHcmlkQXR0YWNobWVudENvbHVtbiIpe249aVtxXS5fZGF0YS5EYXRhVGV4dEZpZWxkOwp9aWYodHlwZW9mKG4pPT0idW5kZWZpbmVkIil7bj13Owp9dmFyIHg9bVtuXTsKaWYoeD09bnVsbCl7eD0iIjsKfWlmKHR5cGVvZih4KSE9InVuZGVmaW5lZCIpe3ZhciBoPWlbcV07CmlmKHApe2gucG9wdWxhdGVFZGl0Q2VsbChlLG0seCxsKTsKfWVsc2V7aC5wb3B1bGF0ZUNlbGwoZSxtLHgsbCk7Cn19fXZhciBkPXt9Owp2YXIgdj1tOwpkLmdldF9kYXRhSXRlbT1mdW5jdGlvbigpe3JldHVybiB2Owp9OwpkLmdldF9pdGVtPWZ1bmN0aW9uKCl7cmV0dXJuIGw7Cn07CmwuX2RhdGFJdGVtPXY7CnRoaXMuX293bmVyLnJhaXNlX3Jvd0RhdGFCb3VuZChkKTsKfSxfZ2V0SGVhZGVyUm93OmZ1bmN0aW9uKCl7dmFyIGQ7CmlmKHRoaXMuX2hhc011bHRpSGVhZGVycyl7dmFyIGY9dGhpcy5fb3duZXIuQ2xpZW50U2V0dGluZ3MuU2Nyb2xsaW5nOwp2YXIgZT1mJiZmLkFsbG93U2Nyb2xsJiZmLlVzZVN0YXRpY0hlYWRlcnM7CnZhciBnPWU/dGhpcy5fb3duZXIuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpLmdldF9lbGVtZW50KCk6dGhpcy5nZXRfZWxlbWVudCgpOwpkPSR0ZWxlcmlrLmdldEVsZW1lbnRCeUNsYXNzTmFtZShnLnRIZWFkLCJyZ011bHRpSGVhZGVyUm93Iik7Cn1lbHNle2Q9dGhpcy5IZWFkZXJSb3d8fHRoaXMuX293bmVyLmdldF9tYXN0ZXJUYWJsZVZpZXdIZWFkZXIoKS5IZWFkZXJSb3c7Cn1yZXR1cm4gZDsKfSxfY3JlYXRlR3JvdXBDb2x1bW46ZnVuY3Rpb24oKXt0aGlzLl9vd25lci5yYWlzZV9jb2x1bW5DcmVhdGluZyhuZXcgU3lzLkV2ZW50QXJncygpKTsKdmFyIGc9dGhpcy5fZ2V0SGVhZGVyUm93KCksZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0aCIpOwppZihnKXtlLmNsYXNzTmFtZT0icmdIZWFkZXIgcmdHcm91cENvbCI7CmUuc2V0QXR0cmlidXRlKCJzY29wZSIsImNvbCIpOwplLmlubmVySFRNTD0iJm5ic3AiOwppZih0aGlzLl9oYXNNdWx0aUhlYWRlcnMpe2UuaWQ9dGhpcy5nZXRfaWQoKSsiR3JvdXBDb2x1bW4iK2cuY2VsbHMubGVuZ3RoKyJfTXVsdGlIZWFkZXItMSI7CmUucm93U3Bhbj0kdGVsZXJpay5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGcucGFyZW50Tm9kZSwicmdNdWx0aUhlYWRlclJvdyIpLmxlbmd0aDsKfWcuaW5zZXJ0QmVmb3JlKGUsZy5jZWxsc1swXSk7Cn10aGlzLl91cGRhdGVDb2xHcm91cHModHJ1ZSk7CnZhciBmPSRjcmVhdGUoVGVsZXJpay5XZWIuVUkuR3JpZENvbHVtbix7X293bmVyOnRoaXMsX2RhdGE6e1VuaXF1ZU5hbWU6Ikdyb3VwQ29sdW1uQ2xpZW50Iit0aGlzLl9ncm91cENvbHVtbkluZGV4KyssQ29sdW1uVHlwZToiR3JpZEdyb3VwU3BsaXR0ZXJDb2x1bW4ifX0sbnVsbCxudWxsLGUpOwp2YXIgZD1uZXcgU3lzLkV2ZW50QXJncygpOwpkLmdldF9jb2x1bW49ZnVuY3Rpb24oKXtyZXR1cm4gZjsKfTsKZi5EaXNwbGF5PXRydWU7CkFycmF5LmZvckVhY2godGhpcy5nZXRfZGF0YUl0ZW1zKCkuY29uY2F0KHRoaXMuX2NhY2hlZEl0ZW1zKSxmdW5jdGlvbihoKXtoLmdldF9lbGVtZW50KCkuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIiksaC5nZXRfZWxlbWVudCgpLmNlbGxzWzBdKTsKfSk7CnRoaXMuX3VwZGF0ZVJvd3ModHJ1ZSk7CnRoaXMuX2NvbHVtbnNJbnRlcm5hbC51bnNoaWZ0KGYpOwp0aGlzLl9jcmVhdGVDb2x1bW5zQnlVbmlxdWVOYW1lSGFzaCgpOwp0aGlzLl9vd25lci5yYWlzZV9jb2x1bW5DcmVhdGVkKGQpOwp9LF9yZW1vdmVHcm91cENvbHVtbjpmdW5jdGlvbigpe3ZhciBkPXRoaXMuX2dldEhlYWRlclJvdygpOwpkLnJlbW92ZUNoaWxkKGQuY2VsbHNbMF0pOwp0aGlzLl91cGRhdGVDb2xHcm91cHMoZmFsc2UpOwp0aGlzLl91cGRhdGVSb3dzKGZhbHNlKTsKQXJyYXkuZm9yRWFjaCh0aGlzLmdldF9kYXRhSXRlbXMoKS5jb25jYXQodGhpcy5fY2FjaGVkSXRlbXMpLGZ1bmN0aW9uKGUpe2UuZ2V0X2VsZW1lbnQoKS5yZW1vdmVDaGlsZChlLmdldF9lbGVtZW50KCkuY2VsbHNbMF0pOwp9KTsKdGhpcy5fY29sdW1uc0ludGVybmFsLnNoaWZ0KCkuZGlzcG9zZSgpOwp0aGlzLl9jcmVhdGVDb2x1bW5zQnlVbmlxdWVOYW1lSGFzaCgpOwp9LF91cGRhdGVDb2xHcm91cHM6ZnVuY3Rpb24oZCl7dmFyIGU9dGhpcy5fb3duZXI7CnRoaXMuX3VwZGF0ZUNvbEdyb3VwKHRoaXMsZCk7CmlmKGUuZ2V0X21hc3RlclRhYmxlVmlld0hlYWRlcigpKXt0aGlzLl91cGRhdGVDb2xHcm91cChlLmdldF9tYXN0ZXJUYWJsZVZpZXdIZWFkZXIoKSxkKTsKfWlmKGUuZ2V0X21hc3RlclRhYmxlVmlld0Zvb3RlcigpKXt0aGlzLl91cGRhdGVDb2xHcm91cChlLmdldF9tYXN0ZXJUYWJsZVZpZXdGb290ZXIoKSxkKTsKfX0sX3VwZGF0ZUNvbEdyb3VwOmZ1bmN0aW9uKGYsZCl7aWYoZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY29sIik7CmUuc3R5bGUud2lkdGg9dGhpcy5nZXRfb3duZXIoKS5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5Nb2JpbGU/IjQxcHgiOiIyMHB4IjsKZi5Db2xHcm91cC5pbnNlcnRCZWZvcmUoZSxmLkNvbEdyb3VwLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJjb2wiKVswXSk7CmYuQ29sR3JvdXAuQ29scy51bnNoaWZ0KGUpOwp9ZWxzZXtmLkNvbEdyb3VwLnJlbW92ZUNoaWxkKGYuQ29sR3JvdXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImNvbCIpWzBdKTsKZi5Db2xHcm91cC5Db2xzLnNoaWZ0KCk7Cn19LF91cGRhdGVSb3dzOmZ1bmN0aW9uKGQpe3ZhciBnPXRoaXMuX293bmVyLmdldF9lbGVtZW50KCksZj0kdGVsZXJpay5nZXRFbGVtZW50QnlDbGFzc05hbWUoZywicmdDb21tYW5kQ2VsbCIpLGo9JHRlbGVyaWsuZ2V0RWxlbWVudEJ5Q2xhc3NOYW1lKGcsInJnR3JvdXBQYW5lbENlbGwiKSxoPSR0ZWxlcmlrLmdldEVsZW1lbnRCeUNsYXNzTmFtZShnLCJyZ0ZpbHRlclJvdyIpLGk9JHRlbGVyaWsuZ2V0RWxlbWVudEJ5Q2xhc3NOYW1lKGcsInJnRm9vdGVyIiksaz0kdGVsZXJpay5nZXRFbGVtZW50QnlDbGFzc05hbWUoZywicmdQYWdlciIpLGU9ZD8xOi0xOwppZih0aGlzLl9vd25lci5fcmVuZGVyTW9kZT09VGVsZXJpay5XZWIuVUkuUmVuZGVyTW9kZS5MaXRlKXtqPSR0ZWxlcmlrLmdldEVsZW1lbnRCeUNsYXNzTmFtZShnLCJyZ0dyb3VwUGFuZWwiKS5wYXJlbnROb2RlOwp9aWYoZil7Zi5jb2xTcGFuKz1lOwp9aWYoail7ai5jb2xTcGFuKz1lOwp9aWYoayl7ay5jZWxsc1swXS5jb2xTcGFuKz1lOwp9aWYoaCl7aWYoZCl7dGhpcy5fcHJlcGVuZENlbGwoaCk7Cn1lbHNle2gucmVtb3ZlQ2hpbGQoaC5jZWxsc1swXSk7Cn19aWYoaSl7aWYoZCl7dGhpcy5fcHJlcGVuZENlbGwoaSk7Cn1lbHNle2kucmVtb3ZlQ2hpbGQoaS5jZWxsc1swXSk7Cn19fSxfcHJlcGVuZENlbGw6ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKZC5pbm5lckhUTUw9IiZuYnNwOyI7CmUuaW5zZXJ0QmVmb3JlKGQsZS5jZWxsc1swXSk7CnJldHVybiBkOwp9cmV0dXJue307Cn0sX2lzQ29sdW1uRWRpdGFibGU6ZnVuY3Rpb24oZCxnKXtpZighZCl7cmV0dXJuOwp9dmFyIGU9ZC5fZGF0YSxmPWcmJmcuaWQuc3BsaXQoIl9fIilbMV0uY2hhckF0KDApPT09Ii0iOwppZihmJiZlLkluc2VydFZpc2libGl0eU1vZGU9PT0iQWx3YXlzSGlkZGVuIil7cmV0dXJuIGZhbHNlOwp9cmV0dXJuIGUuRWRpdGFibGV8fChmJiZlLkluc2VydFZpc2libGl0eU1vZGU9PT0iQWx3YXlzVmlzaWJsZSIpOwp9LF9oaWRlUmdOb1JlY29yZHNSb3c6ZnVuY3Rpb24oZyl7dmFyIGY9Zy5yb3dzLGU7CmZvcih2YXIgZD0wOwpkPGYubGVuZ3RoOwpkKyspe2U9ZltmLmxlbmd0aC1kLTFdOwppZihlLmNsYXNzTmFtZSYmZS5jbGFzc05hbWUuaW5kZXhPZigicmdOb1JlY29yZHMiKSE9PS0xKXtlLnN0eWxlLmRpc3BsYXk9Im5vbmUiOwpicmVhazsKfX19LF9jbGVhclJvd0NsYXNzU3R5bGVzOmZ1bmN0aW9uKGcpe3ZhciBoPVsicmdTZWxlY3RlZFJvdyJdOwp2YXIgZD1bInJnU2VsZWN0ZWRDZWxsIl07CnZhciBlOwpmb3IoZT0wOwplPGgubGVuZ3RoOwplKyspe1N5cy5VSS5Eb21FbGVtZW50LnJlbW92ZUNzc0NsYXNzKGcsaFtlXSk7Cn1mb3IoZT0wOwplPGQubGVuZ3RoOwplKyspe3ZhciBrPWcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIik7CmZvcih2YXIgZj0wOwprLmxlbmd0aDxlOwplKyspe1N5cy5VSS5Eb21FbGVtZW50LnJlbW92ZUNzc0NsYXNzKGtbZl0sZFtlXSk7Cn19fSxfZ2V0QmluZGluZ0NvbnRleHQ6ZnVuY3Rpb24oZCxlKXtyZXR1cm4gdGhpcy5fZXh0ZW5kKHt9LGQse2l0ZW06ZCxpbmRleDplLGRhdGFJbmRleDp0eXBlb2YoZSkhPT0idW5kZWZpbmVkIj8odGhpcy5nZXRfY3VycmVudFBhZ2VJbmRleCgpKnRoaXMuZ2V0X3BhZ2VTaXplKCkpK2U6bnVsbCxpc1NlbGVjdGVkOnR5cGVvZihlKSE9PSJ1bmRlZmluZWQiJiZBcnJheS5jb250YWlucyh0aGlzLl9vd25lci5fc2VsZWN0ZWRJbmRleGVzLGUrIiIpLG93bmVyOnRoaXMsZm9ybWF0OnRoaXMuX2Zvcm1hdFZhbHVlfSk7Cn0sX2Zvcm1hdFZhbHVlOmZ1bmN0aW9uKGUsZCl7aWYodHlwZW9mKGUpPT09InVuZGVmaW5lZCJ8fGU9PT1udWxsKXtyZXR1cm4iIjsKfWlmKGUudG9TdHJpbmcoKS5pbmRleE9mKCIvRGF0ZSgiKSE9LTEpe2U9bmV3IERhdGUocGFyc2VJbnQoZS5yZXBsYWNlKCIvRGF0ZSgiLCIiKS5yZXBsYWNlKCIpLyIsIiIpLDEwKSk7Cn1pZihkKXtpZihkLmluZGV4T2YoInswOiIpPDApe2Q9InswOiIrZCsifSI7Cn19ZWxzZXtkPSJ7MH0iOwp9cmV0dXJuIFN0cmluZy5sb2NhbGVGb3JtYXQoZCxlKTsKfSxfZXh0ZW5kOmZ1bmN0aW9uKGcsZSl7aWYoYXJndW1lbnRzLmxlbmd0aD4yKXtmb3IodmFyIGQ9MTsKZDxhcmd1bWVudHMubGVuZ3RoOwpkKyspe3RoaXMuX2V4dGVuZChnLGFyZ3VtZW50c1tkXSk7Cn19ZWxzZXtmb3IodmFyIGYgaW4gZSl7Z1tmXT1lW2ZdOwp9fXJldHVybiBnOwp9LF9jYWNoZURhdGFJdGVtczpmdW5jdGlvbigpe3ZhciBkPXRoaXMuZ2V0X2RhdGFJdGVtcygpOwppZih0aGlzLl9jYWNoZWRJdGVtcyYmdGhpcy5fY2FjaGVkSXRlbXMubGVuZ3RoPjApe3ZhciBmPXRoaXMuX2NhY2hlZEl0ZW1zOwp0aGlzLl9jYWNoZWRJdGVtcz1kLnNwbGljZSh0aGlzLl9kYXRhU291cmNlLmxlbmd0aCxkLmxlbmd0aC10aGlzLl9kYXRhU291cmNlLmxlbmd0aCk7CmZvcih2YXIgZT0wOwplPGYubGVuZ3RoOwplKyspe3RoaXMuX2NhY2hlZEl0ZW1zW3RoaXMuX2NhY2hlZEl0ZW1zLmxlbmd0aF09ZltlXTsKfWY9bnVsbDsKfWVsc2V7dGhpcy5fY2FjaGVkSXRlbXM9ZC5zcGxpY2UodGhpcy5fZGF0YVNvdXJjZS5sZW5ndGgsZC5sZW5ndGgtdGhpcy5fZGF0YVNvdXJjZS5sZW5ndGgpOwp9fSxfZ2V0TmV4dENhY2hlZEl0ZW06ZnVuY3Rpb24oKXtpZih0aGlzLl9jYWNoZWRJdGVtcyYmdGhpcy5fY2FjaGVkSXRlbXMubGVuZ3RoPjApe3JldHVybiB0aGlzLl9jYWNoZWRJdGVtcy5zcGxpY2UoMCwxKVswXTsKfX0sX2ZpbGxUZW1wbGF0ZUVkaXRvcnNEYXRhOmZ1bmN0aW9uKGgsZixkKXt2YXIgbj1udWxsOwppZih0aGlzLl9vd25lci5fZWRpdEluZGV4ZXMubGVuZ3RoPjAmJkFycmF5LmNvbnRhaW5zKHRoaXMuX293bmVyLl9lZGl0SW5kZXhlcyxmLl9pdGVtSW5kZXhIaWVyYXJjaGljYWwpKXtpZihkPT1udWxsKXtpZihoLl9vd25lci5fZGF0YS5FZGl0TW9kZT09IkluUGxhY2UiKXtuPWguZ2V0X2VsZW1lbnQoKTsKfWVsc2V7bj1oLmdldF9lbGVtZW50KCkubmV4dFNpYmxpbmc7Cn19fWVsc2V7bj1oLmdldF9lbGVtZW50KCk7Cn1pZighbiYmIWQpe3JldHVybjsKfWlmKCFkKXtpZighbi50YWdOYW1lKXtyZXR1cm47Cn1pZihuLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9InRyIil7cmV0dXJuOwp9fWZvcih2YXIgbSBpbiBmKXt2YXIgZT0kdGVsZXJpay5maW5kQ29udHJvbCgoZCE9bnVsbCk/ZDpuLG0pOwppZihlIT1udWxsKXt2YXIgbz1PYmplY3QuZ2V0VHlwZShlKS5nZXROYW1lKCk7CmlmKG89PSJUZWxlcmlrLldlYi5VSS5SYWRUZXh0Qm94Inx8bz09IlRlbGVyaWsuV2ViLlVJLlJhZE51bWVyaWNUZXh0Qm94Inx8bz09IlRlbGVyaWsuV2ViLlVJLlJhZE1hc2tlZFRleHRCb3giKXtlLnNldF92YWx1ZShmW21dKTsKY29udGludWU7Cn1pZihvPT0iVGVsZXJpay5XZWIuVUkuUmFkRGF0ZUlucHV0Iil7ZS5zZXRfc2VsZWN0ZWREYXRlKGZbbV0pOwpjb250aW51ZTsKfWlmKG89PSJUZWxlcmlrLldlYi5VSS5SYWREYXRlUGlja2VyIil7ZS5zZXRfc2VsZWN0ZWREYXRlKGZbbV0pOwpjb250aW51ZTsKfWlmKG89PSJUZWxlcmlrLldlYi5VSS5SYWRFZGl0b3IiKXtlLnNldF9odG1sKGZbbV0pOwpjb250aW51ZTsKfWlmKG89PSJUZWxlcmlrLldlYi5VSS5SYWRDb21ib0JveCIpe3ZhciBpPWUuZmluZEl0ZW1CeVZhbHVlKGZbbV0pOwppZihpKXtpLnNlbGVjdCgpOwp9ZWxzZXtlLnNldF92YWx1ZShmW21dKTsKfWNvbnRpbnVlOwp9fXZhciBnPSR0ZWxlcmlrLmZpbmRFbGVtZW50KChkIT1udWxsKT9kOm4sbSk7CmlmKGchPW51bGwpe2lmKGcudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iaW5wdXQiKXtpZihnLnR5cGUhPSJjaGVja2JveCImJmcudHlwZSE9InJhZGlvIil7Zy52YWx1ZT1mW21dOwpjb250aW51ZTsKfWVsc2V7Zy5jaGVja2VkPWZbbV07CmNvbnRpbnVlOwp9fWVsc2V7aWYoZy50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJzcGFuIil7Zy5pbm5lckhUTUw9ZlttXTsKY29udGludWU7Cn1lbHNle2lmKGcudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0idGV4dGFyZWEiKXtnLmlubmVySFRNTD1mW21dOwpjb250aW51ZTsKfWVsc2V7aWYoZy50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJzZWxlY3QiKXt2YXIgbD1nLm9wdGlvbnM7CmZvcih2YXIgaj0wOwpqPGwubGVuZ3RoOwpqKyspe2lmKGxbal0udmFsdWU9PWZbbV0pe2xbal0uc2VsZWN0ZWQ9dHJ1ZTsKfX19fX19fX19LF9nZXRFZGl0Rm9ybUNlbGxCeVVuaXF1ZU5hbWU6ZnVuY3Rpb24oaCxmKXt2YXIgZD1udWxsOwp2YXIgaj1oLmdldF9lbGVtZW50KCkubmV4dFNpYmxpbmc7CmlmKGo9PW51bGwpe3JldHVybjsKfWlmKCFqLnRhZ05hbWUpe3JldHVybjsKfWlmKGoudGFnTmFtZS50b0xvd2VyQ2FzZSgpIT0idHIiKXtyZXR1cm47Cn12YXIgZT1qLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpOwpmb3IodmFyIGs9MCxtPWUubGVuZ3RoOwprPG07CmsrKyl7aWYoIWVba10uaWR8fGVba10uaWQ9PSIiKXtjb250aW51ZTsKfXZhciBnPWVba10uaWQuc3BsaXQoIl9fIik7CmlmKGdbZy5sZW5ndGgtMV0mJmdbZy5sZW5ndGgtMV09PWYuZ2V0X3VuaXF1ZU5hbWUoKSl7ZD1lW2tdOwpicmVhazsKfX1yZXR1cm4gZDsKfSxfZmlsbEVkaXRvcnNEYXRhOmZ1bmN0aW9uKGYsZSxvKXt2YXIgbj1lLl9kYXRhLkNvbHVtblR5cGU7CnZhciBkPW51bGw7CmlmKGUuX293bmVyLl9kYXRhLkVkaXRNb2RlPT0iSW5QbGFjZSIpe2Q9dGhpcy5nZXRDZWxsQnlDb2x1bW5VbmlxdWVOYW1lKGYsZS5nZXRfdW5pcXVlTmFtZSgpKTsKfWVsc2V7ZD10aGlzLl9nZXRFZGl0Rm9ybUNlbGxCeVVuaXF1ZU5hbWUoZixlKTsKfWlmKGQ9PW51bGwpe3JldHVybjsKfXZhciBpLGgsbDsKaWYobj09IkdyaWRCb3VuZENvbHVtbiIpe2k9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKTsKaWYoaS5sZW5ndGg+MCl7aVswXS52YWx1ZT1vOwp9fWlmKG49PSJHcmlkRGF0ZVRpbWVDb2x1bW4iKXtpPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0Iik7CmZvcihsPTA7Cmw8aS5sZW5ndGg7CmwrKyl7dmFyIGc9JGZpbmQoaVtsXS5pZCk7CmlmKGchPW51bGwpe2cuc2V0X3NlbGVjdGVkRGF0ZShvKTsKfX19aWYobj09IkdyaWROdW1lcmljQ29sdW1uIil7aT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpOwpmb3IobD0wOwpsPGkubGVuZ3RoOwpsKyspe2g9JGZpbmQoaVtsXS5pZCk7CmlmKGghPW51bGwpe2guc2V0X3ZhbHVlKG8pOwp9fX1pZihuPT0iR3JpZEhUTUxFZGl0b3JDb2x1bW4iKXtpPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRleHRhcmVhIik7CmZvcihsPTA7Cmw8aS5sZW5ndGg7CmwrKyl7aD0kZmluZChpW2xdLmlkKTsKaWYoaCE9bnVsbCl7aC5zZXRfaHRtbChvKTsKfX19aWYobj09IkdyaWREcm9wRG93bkNvbHVtbiIpe2k9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKTsKZm9yKGw9MDsKbDxpLmxlbmd0aDsKbCsrKXtoPSRmaW5kKGlbbF0uaWQucmVwbGFjZSgiX0lucHV0IiwiIikpOwppZihoIT1udWxsKXt2YXIgaj1oLmZpbmRJdGVtQnlWYWx1ZShvKTsKaWYoail7ai5zZWxlY3QoKTsKfX19dmFyIG09ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgib3B0aW9uIik7CmZvcihsPTA7Cmw8bS5sZW5ndGg7CmwrKyl7aWYobVtsXS52YWx1ZT09byl7bVtsXS5zZWxlY3RlZD10cnVlOwp9fX1pZihuPT0iR3JpZENoZWNrQm94Q29sdW1uIil7aT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpOwppZihpLmxlbmd0aD09MSYmaVswXS50eXBlPT0iY2hlY2tib3giKXtpWzBdLmNoZWNrZWQ9bzsKfX19LGV4dHJhY3RWYWx1ZXNGcm9tSXRlbTpmdW5jdGlvbih3KXt3PXRoaXMuX2dldFJvd0J5SW5kZXhPckl0ZW1JbmRleEhpZXJhcmNoaWNhbCh3KTsKaWYoVGVsZXJpay5XZWIuVUkuR3JpZC5HZXRGaXJzdFBhcmVudEJ5VGFnTmFtZSh3LCJ0YWJsZSIpIT09dGhpcy5nZXRfZWxlbWVudCgpKXtyZXR1cm4gbnVsbDsKfXRoaXMuZ2V0X2RhdGFJdGVtcygpOwp2YXIgZz10aGlzLmdldF9jb2x1bW5zKCk7CnZhciB2PXt9Owpmb3IodmFyIHA9MCx1PWcubGVuZ3RoOwpwPHU7CnArKyl7dmFyIGY9Z1twXTsKdmFyIEE9Zi5nZXRfdW5pcXVlTmFtZSgpOwp2YXIgej1mLl9kYXRhLkNvbHVtblR5cGU7CnZhciBtPWYuX2RhdGEuRGF0YUZpZWxkOwp2YXIgZDsKdmFyIHI7CnZhciBxOwp2YXIgcyx0OwppZih0aGlzLl9kYXRhLkVkaXRNb2RlIT0iSW5QbGFjZSIpe3ZhciBvPXcuaWQuaW5kZXhPZigiX18iKT4tMT93Lm5leHRTaWJsaW5nOnc7CnZhciBlPW8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIik7CmZvcihzPTAsdD1lLmxlbmd0aDsKczx0OwpzKyspe2lmKCFlW3NdLmlkfHxlW3NdLmlkLmluZGV4T2YoIl9fIik8MCl7Y29udGludWU7Cn12YXIgaD1lW3NdLmlkLnNwbGl0KCJfXyIpOwppZihoW2gubGVuZ3RoLTFdPT1mLmdldF91bmlxdWVOYW1lKCkpe2Q9ZVtzXTsKYnJlYWs7Cn19fWVsc2V7ZD10aGlzLl9nZXRDZWxsQnlDb2x1bW5VbmlxdWVOYW1lRnJvbVRhYmxlUm93RWxlbWVudCh3LEEpOwp9aWYoIWQpe2NvbnRpbnVlOwp9aWYoej09IkdyaWRCb3VuZENvbHVtbiIpe3I9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKTsKaWYoci5sZW5ndGg9PTEpe3ZbbV09clswXS52YWx1ZTsKfX1pZih6PT0iR3JpZERhdGVUaW1lQ29sdW1uIil7cj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpOwpmb3IodD0wOwp0PHIubGVuZ3RoOwp0Kyspe3ZhciBuPSRmaW5kKHJbdF0uaWQpOwppZihuIT1udWxsKXt2W21dPW4uZ2V0X3NlbGVjdGVkRGF0ZSgpOwp9fX1pZih6PT0iR3JpZE51bWVyaWNDb2x1bW4iKXtyPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0Iik7CmZvcih0PTA7CnQ8ci5sZW5ndGg7CnQrKyl7cT0kZmluZChyW3RdLmlkKTsKaWYocSE9bnVsbCl7dlttXT1xLmdldF92YWx1ZSgpOwp9fX1pZih6PT0iR3JpZEhUTUxFZGl0b3JDb2x1bW4iKXtyPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRleHRhcmVhIik7CmZvcih0PTA7CnQ8ci5sZW5ndGg7CnQrKyl7cT0kZmluZChyW3RdLm5hbWUucmVwbGFjZSgvXCQvZ2ksIl8iKSl8fCRmaW5kKHJbdF0uaWQpOwppZihxJiZxLmdldF9odG1sKXt2W21dPXEuZ2V0X2h0bWwoKTsKfX19aWYoej09IkdyaWREcm9wRG93bkNvbHVtbiIpe3I9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKTsKZm9yKHQ9MDsKdDxyLmxlbmd0aDsKdCsrKXtxPSRmaW5kKHJbdF0uaWQucmVwbGFjZSgiX0lucHV0IiwiIikpOwppZihxIT1udWxsKXt2W21dPXEuZ2V0X3ZhbHVlKCk7Cn19dmFyIHk9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2VsZWN0Iik7CmlmKHkubGVuZ3RoPjApe3ZhciB4PXlbMF07CnZbbV09eC5vcHRpb25zW3guc2VsZWN0ZWRJbmRleF0udmFsdWU7Cn19aWYoej09IkdyaWRDaGVja0JveENvbHVtbiIpe3I9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKTsKaWYoci5sZW5ndGg9PTEmJnJbMF0udHlwZT09ImNoZWNrYm94Iil7dlttXT1yWzBdLmNoZWNrZWQ7Cn19fXJldHVybiB2Owp9LGV4dHJhY3RPbGRWYWx1ZXNGcm9tSXRlbTpmdW5jdGlvbihmKXtmPXRoaXMuX2dldFJvd0J5SW5kZXhPckl0ZW1JbmRleEhpZXJhcmNoaWNhbChmKTsKdGhpcy5nZXRfZGF0YUl0ZW1zKCk7CnZhciBkPSRmaW5kKGYuaWQpOwp2YXIgZT17fTsKaWYoZCE9bnVsbCl7ZT1kLmdldF9kYXRhSXRlbSgpOwp9cmV0dXJuIGU7Cn0sZXh0cmFjdEtleXNGcm9tSXRlbTpmdW5jdGlvbihnKXt2YXIgZT17fTsKZz10aGlzLl9nZXRSb3dCeUluZGV4T3JJdGVtSW5kZXhIaWVyYXJjaGljYWwoZyk7CmlmKGcmJmcuaWQmJmcuaWQuaW5kZXhPZigiX18iKT4tMSl7dmFyIGQ9Zy5pZC5zcGxpdCgiX18iKVsxXTsKaWYodGhpcy5fb3duZXIuX2NsaWVudEtleVZhbHVlcyYmdGhpcy5fb3duZXIuX2NsaWVudEtleVZhbHVlc1tkXSl7dmFyIGg9dGhpcy5fb3duZXIuX2NsaWVudEtleVZhbHVlc1tkXTsKZm9yKHZhciBmIGluIGgpe2VbZl09aFtmXTsKfX19cmV0dXJuIGU7Cn0scHJlcGFyZVNvcnRRdWVyeU9wdGlvbjpmdW5jdGlvbihnLGope2lmKGohPW51bGwmJmohPSIiJiZnLmdldF9jb3VudCgpPjApe3ZhciBoPWouc3BsaXQoIiwiKTsKdmFyIGQ9IiI7CnZhciBsPXRydWU7CmZvcih2YXIgZj0wOwpmPGgubGVuZ3RoOwpmKyspe2Zvcih2YXIgZT0wOwplPGcuZ2V0X2NvdW50KCk7CmUrKyl7aWYoaFtmXS5pbmRleE9mKGcuZ2V0SXRlbShlKS5nZXRfZmllbGROYW1lKCkpPi0xKXtsPWZhbHNlOwpicmVhazsKfX1pZihsKXtkKz1oW2ZdKyIsICI7Cn1lbHNle2w9dHJ1ZTsKfX1yZXR1cm4gZC5zdWJzdHJpbmcoMCxkLmxhc3RJbmRleE9mKCIsIikpOwp9ZWxzZXtyZXR1cm4gajsKfX0sZ2V0RGF0YVNlcnZpY2VRdWVyeTpmdW5jdGlvbihuLGcsbSxkLGgpe209dGhpcy5wcmVwYXJlU29ydFF1ZXJ5T3B0aW9uKHRoaXMuZ2V0X3NvcnRFeHByZXNzaW9ucygpLG0pOwp2YXIgaz10aGlzLmdldF9zb3J0RXhwcmVzc2lvbnMoKS50b1N0cmluZygpLnJlcGxhY2UoLyBBU0MvZ20sIiBhc2MiKS5yZXBsYWNlKC8gREVTQy9nbSwiIGRlc2MiKTsKdmFyIGU9dGhpcy5nZXRfZmlsdGVyRXhwcmVzc2lvbnMoKS50b0RhdGFTZXJ2aWNlKCk7CmQ9dHlwZW9mIGQ9PT0idW5kZWZpbmVkIj90aGlzLmdldF9jdXJyZW50UGFnZUluZGV4KCk6ZDsKaD10eXBlb2YgaD09PSJ1bmRlZmluZWQiP3RoaXMuZ2V0X3BhZ2VTaXplKCk6aDsKdmFyIGo9bmV3IFN5cy5TdHJpbmdCdWlsZGVyKCk7CnZhciBsPSImJG9yZGVyYnk9ezB9IjsKaWYobSE9bnVsbCYmbSE9IiIpe2w9U3RyaW5nLmZvcm1hdChsLG0pOwppZihrIT0iIil7bCs9IiwgezB9IjsKai5hcHBlbmQoU3RyaW5nLmZvcm1hdChsLGspKTsKfWVsc2V7ai5hcHBlbmQobCk7Cn19ZWxzZXtpZihrIT0iIil7ai5hcHBlbmQoU3RyaW5nLmZvcm1hdChsLGspKTsKfX12YXIgZj0iJiRmaWx0ZXI9ezB9IjsKaWYoZyE9bnVsbCYmZyE9IiIpe2Y9U3RyaW5nLmZvcm1hdChmLGcpOwppZihlIT0iIil7Zis9IiBhbmQgezB9IjsKai5hcHBlbmQoU3RyaW5nLmZvcm1hdChmLGUpKTsKfWVsc2V7ai5hcHBlbmQoZik7Cn19ZWxzZXtpZihlIT0iIil7ai5hcHBlbmQoU3RyaW5nLmZvcm1hdChmLGUpKTsKfX1pZih0aGlzLl9vd25lci5faXNCb3VuZFRvU2VydmljZVR5cGUoVGVsZXJpay5XZWIuVUkuR3JpZENsaWVudERhdGFTZXJ2aWNlVHlwZS5PRGF0YSkpe2lmKHRoaXMuZ2V0X2FsbG93UGFnaW5nKCl8fHRoaXMuX3ZpcnR1YWxpemF0aW9uKXtqLmFwcGVuZCgiJiRpbmxpbmVjb3VudD1hbGxwYWdlcyIpOwp9aWYodGhpcy5fb3duZXIuX2dldERhdGFSZXNwb25zZVR5cGUoKT09PSJqc29ucCIpe2ouYXBwZW5kKCImJGZvcm1hdD1qc29uIik7Cn19aWYodGhpcy5nZXRfYWxsb3dQYWdpbmcoKXx8dGhpcy5fdmlydHVhbGl6YXRpb24pe2ouYXBwZW5kKFN0cmluZy5mb3JtYXQoIiYkdG9wPXswfSYkc2tpcD17MX0iLGgsZCpoKSk7Cn12YXIgaT1qLnRvU3RyaW5nKCk7CmlmKG4uaW5kZXhPZigiPyIpPi0xKXtyZXR1cm4gbitpOwp9cmV0dXJuIG4rIj8iK2kuc3Vic3RyKDEpOwp9fSxjOwpmb3IoYyBpbiBiKXthLkdyaWRUYWJsZVZpZXcucHJvdG90eXBlW2NdPWJbY107Cn19KShUZWxlcmlrLldlYi5VSSk7CmlmKHR5cGVvZihTeXMpIT09J3VuZGVmaW5lZCcpU3lzLkFwcGxpY2F0aW9uLm5vdGlmeVNjcmlwdExvYWRlZCgpOw==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="1236441070" offset="0" length="16384" />
        <PacketInfo time="1236441085" offset="16384" length="16384" />
        <PacketInfo time="1236441085" offset="32768" length="16384" />
        <PacketInfo time="1236441085" offset="49152" length="15820" />
        <PacketInfo time="1236441085" offset="64972" length="16384" />
        <PacketInfo time="1236441085" offset="81356" length="15002" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
  <HTTPTask id="938" hostname="es00vqweb15.qa.appdev" path="/ui/apps/sites/stars_classroom/images/grid_top_bkg.gif" url="https://es00vqweb15.qa.appdev/ui/apps/sites/stars_classroom/images/grid_top_bkg.gif" ip="10.2.55.154" port="443" connectionId="56" origin="ExtraRes" frame="1" startDateTime="2017-08-29T16:57:15.180-04:00" startTime="1236441413" endTime="1236441413">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9lczAwdnF3ZWIxNS5xYS5hcHBkZXYvc3RhcnNjbGFzc3Jvb20vU2Nob29sQWRtaW4vUElQT0xpc3QuYXNweA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS80LjAgKGNvbXBhdGlibGU7IE1TSUUgNy4wOyBXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IFRyaWRlbnQvNy4wOyBTTENDMjsgLk5FVCBDTFIgMi4wLjUwNzI3OyAuTkVUIENMUiAzLjUuMzA3Mjk7IC5ORVQgQ0xSIDMuMC4zMDcyOTsgTWVkaWEgQ2VudGVyIFBDIDYuMDsgLk5FVDQuMEM7IC5ORVQ0LjBFOyBJbmZvUGF0aC4zOyAuTkVUIENMUiAxLjEuNDMyMik=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZXMwMHZxd2ViMTUucWEuYXBwZGV2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="DNT" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LkFTUFhBVVRIPTFGOTcyMzE1MUFEMzQzNUU4M0QzNEYzNUE0MzI5M0Y0REE0QjVBRkI1QUZENzlGNTkwQTMxMTlFQzJBQjE0OEIxNkMwODI1MzNBMTNFN0NCOTk1RTkyOEM3RkZBM0QyNzMxMTU2MjI4Q0IzN0Y4MUU4RUEyRURDMEQwODhEMUI0NDg0QTgwMjEyQkIzRTY3QTgzNzc0OTAzMDc3Q0NGRTNCNEIzNjc5MUJBNzY2OTM5MEQ5RTY3MEZDODYxNkJGRDI5NjY3MENEQTY5QzM5QkZBNjRFODI3Mzg5QTFENzA0MkE3NTMzNDA3NUZFQkE3NzRDNjc1RDlBREMwNkM2OUI3RjNDOEFCMkE4MjYzOTIxNUExQjA2RkE1MDUwQjdCRTQxNDYwNTk4Qzc4Qzk0REVGMTgwNTI3NUFDQzJBQjM3NzM1MkNGMTIxQ0EzRjQzMThEMjcxRDFFMDMzODc0OUJFMTNBRDc2NDVBQjUyNjc2ODkxRUFEMzJEODRBMDUxQzZBRjgwMzI5NjJCQUVCOERGQ0ExOEUyMzlENENCMDdFRkJCQzMzMUIwQzU4MThBQjYwNUEwOThFNDAxMUUzNERCRjhEMEUxQTkyN0MwMjQ0NkM3Mjc3NjlBRDlEMjg2NzVERDZCOUREQjk1RjNBRDgxMjIwMTQ1NTExOTk4MjFGNDRDMTQ5MDUzMkQzOTFGQkIwRkYxRkUzNzc0Qzg0NzRDQjI5NzYzRTkyOUZEQTlCRTJGRTQ2M0IzQTU1ODY2M0IwMjg2RUFEQjlDMjkyRTZFMEE4OTREOEMxQUNFQjE4MzFFM0UxQzI5N0ZEMDY2MTIyMDI2MzJDM0IwMEI1OTY5NDM2N0EwOUE3MzBBRTlERjNEMkRBQ0E2OUE2Qzk1RkYwMjUyMkJCNjQzMjFGQkIxNkExNDVERjY0MTkxOTVFQTRCRTY0QkI1RDM0NTNDNjNDRUFGQjRCOEJFODJCOUUyODYxRkFGNDExN0M4Q0NEQTM2REE0QTEyRjUwQThBQTI2RkVDOUZDOEYzMTY3QTc5NzBCNzA3RDBGQjNGM0I4MzY5NTYxMUU5M0U4QzI0QzA5QTAxRTFCMUE0NjFBMjQ2RDUwMDk0MDU4MTQ0ODVCNTA2NEE1RTVFQ0Y5M0JDRDM4MkIzQTYyQzYzNzk5MzNGNTQ4REU3REFDNzRGN0U2MUI4RTE4QUY5NTRBNENFMTZFNURDOEI1Qzk0MUZBRUNCQUZERTZEQkQwNjhGQURGNEI2MDRFNjAzRjM3Q0Q0NDVGRUMwREE4Q0Q3QTk2MTY5MjgwREFCNTUzMDlCQTk4MEJCQjA1RDU2MDU1NzhEMzlCOTBCMzI3QkJDRDdCM0YzNEUxMEJGMTI2RjNGOUE1RkE1MkM5MzI3NDQ1NkI2M0ZGQTI2QkU1MjY1NEUyNEUyNjREQTY2NTg0NEU4RDJDM0I4M0UzMjg4RjI0ODZDQkU5QTk5MTY4QUZCM0REMDZCQUUwMEZFRDQwOEYwRTg1OTYxOTVBNURBQjA2REFFNUY2QkY0QTdBNDYzMDFFQzU2RjI2ODNEOERFRDhBQkRFQjYzOUJFMjg2REU1NkFBQzk4Q0UzQTFBM0E3MzgxMjgyNEMwNDQwNURFMzNEQkRFQzE2RUMyQTdBOEYzNzIyNURGNjM3NzVDOTVFRjQxMTVBQzI1OEFFQzVCRDhFMTRGNEEzRkM3NzI1NDQwNjY4RThBRENERjRFRUFCNzUxM0NGOTEyMUIxMzsgQVNQLk5FVF9TZXNzaW9uSWQ9ZHdyemVjMWxpZmx2M2lsd3dkdGlxNGN6</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC91aS9hcHBzL3NpdGVzL3N0YXJzX2NsYXNzcm9vbS9pbWFnZXMvZ3JpZF90b3BfYmtnLmdpZiBIVFRQLzEuMQ0KQWNjZXB0OiAqLyoNClJlZmVyZXI6IGh0dHBzOi8vZXMwMHZxd2ViMTUucWEuYXBwZGV2L3N0YXJzY2xhc3Nyb29tL1NjaG9vbEFkbWluL1BJUE9MaXN0LmFzcHgNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNClVzZXItQWdlbnQ6IE1vemlsbGEvNC4wIChjb21wYXRpYmxlOyBNU0lFIDcuMDsgV2luZG93cyBOVCA2LjE7IFdPVzY0OyBUcmlkZW50LzcuMDsgU0xDQzI7IC5ORVQgQ0xSIDIuMC41MDcyNzsgLk5FVCBDTFIgMy41LjMwNzI5OyAuTkVUIENMUiAzLjAuMzA3Mjk7IE1lZGlhIENlbnRlciBQQyA2LjA7IC5ORVQ0LjBDOyAuTkVUNC4wRTsgSW5mb1BhdGguMzsgLk5FVCBDTFIgMS4xLjQzMjIpDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IGVzMDB2cXdlYjE1LnFhLmFwcGRldg0KRE5UOiAxDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDb29raWU6IC5BU1BYQVVUSD0xRjk3MjMxNTFBRDM0MzVFODNEMzRGMzVBNDMyOTNGNERBNEI1QUZCNUFGRDc5RjU5MEEzMTE5RUMyQUIxNDhCMTZDMDgyNTMzQTEzRTdDQjk5NUU5MjhDN0ZGQTNEMjczMTE1NjIyOENCMzdGODFFOEVBMkVEQzBEMDg4RDFCNDQ4NEE4MDIxMkJCM0U2N0E4Mzc3NDkwMzA3N0NDRkUzQjRCMzY3OTFCQTc2NjkzOTBEOUU2NzBGQzg2MTZCRkQyOTY2NzBDREE2OUMzOUJGQTY0RTgyNzM4OUExRDcwNDJBNzUzMzQwNzVGRUJBNzc0QzY3NUQ5QURDMDZDNjlCN0YzQzhBQjJBODI2MzkyMTVBMUIwNkZBNTA1MEI3QkU0MTQ2MDU5OEM3OEM5NERFRjE4MDUyNzVBQ0MyQUIzNzczNTJDRjEyMUNBM0Y0MzE4RDI3MUQxRTAzMzg3NDlCRTEzQUQ3NjQ1QUI1MjY3Njg5MUVBRDMyRDg0QTA1MUM2QUY4MDMyOTYyQkFFQjhERkNBMThFMjM5RDRDQjA3RUZCQkMzMzFCMEM1ODE4QUI2MDVBMDk4RTQwMTFFMzREQkY4RDBFMUE5MjdDMDI0NDZDNzI3NzY5QUQ5RDI4Njc1REQ2QjlEREI5NUYzQUQ4MTIyMDE0NTUxMTk5ODIxRjQ0QzE0OTA1MzJEMzkxRkJCMEZGMUZFMzc3NEM4NDc0Q0IyOTc2M0U5MjlGREE5QkUyRkU0NjNCM0E1NTg2NjNCMDI4NkVBREI5QzI5MkU2RTBBODk0RDhDMUFDRUIxODMxRTNFMUMyOTdGRDA2NjEyMjAyNjMyQzNCMDBCNTk2OTQzNjdBMDlBNzMwQUU5REYzRDJEQUNBNjlBNkM5NUZGMDI1MjJCQjY0MzIxRkJCMTZBMTQ1REY2NDE5MTk1RUE0QkU2NEJCNUQzNDUzQzYzQ0VBRkI0QjhCRTgyQjlFMjg2MUZBRjQxMTdDOENDREEzNkRBNEExMkY1MEE4QUEyNkZFQzlGQzhGMzE2N0E3OTcwQjcwN0QwRkIzRjNCODM2OTU2MTFFOTNFOEMyNEMwOUEwMUUxQjFBNDYxQTI0NkQ1MDA5NDA1ODE0NDg1QjUwNjRBNUU1RUNGOTNCQ0QzODJCM0E2MkM2Mzc5OTMzRjU0OERFN0RBQzc0RjdFNjFCOEUxOEFGOTU0QTRDRTE2RTVEQzhCNUM5NDFGQUVDQkFGREU2REJEMDY4RkFERjRCNjA0RTYwM0YzN0NENDQ1RkVDMERBOENEN0E5NjE2OTI4MERBQjU1MzA5QkE5ODBCQkIwNUQ1NjA1NTc4RDM5QjkwQjMyN0JCQ0Q3QjNGMzRFMTBCRjEyNkYzRjlBNUZBNTJDOTMyNzQ0NTZCNjNGRkEyNkJFNTI2NTRFMjRFMjY0REE2NjU4NDRFOEQyQzNCODNFMzI4OEYyNDg2Q0JFOUE5OTE2OEFGQjNERDA2QkFFMDBGRUQ0MDhGMEU4NTk2MTk1QTVEQUIwNkRBRTVGNkJGNEE3QTQ2MzAxRUM1NkYyNjgzRDhERUQ4QUJERUI2MzlCRTI4NkRFNTZBQUM5OENFM0ExQTNBNzM4MTI4MjRDMDQ0MDVERTMzREJERUMxNkVDMkE3QThGMzcyMjVERjYzNzc1Qzk1RUY0MTE1QUMyNThBRUM1QkQ4RTE0RjRBM0ZDNzcyNTQ0MDY2OEU4QURDREY0RUVBQjc1MTNDRjkxMjFCMTM7IEFTUC5ORVRfU2Vzc2lvbklkPWR3cnplYzFsaWZsdjNpbHd3ZHRpcTRjeg0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name=".ASPXAUTH" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MUY5NzIzMTUxQUQzNDM1RTgzRDM0RjM1QTQzMjkzRjREQTRCNUFGQjVBRkQ3OUY1OTBBMzExOUVDMkFCMTQ4QjE2QzA4MjUzM0ExM0U3Q0I5OTVFOTI4QzdGRkEzRDI3MzExNTYyMjhDQjM3RjgxRThFQTJFREMwRDA4OEQxQjQ0ODRBODAyMTJCQjNFNjdBODM3NzQ5MDMwNzdDQ0ZFM0I0QjM2NzkxQkE3NjY5MzkwRDlFNjcwRkM4NjE2QkZEMjk2NjcwQ0RBNjlDMzlCRkE2NEU4MjczODlBMUQ3MDQyQTc1MzM0MDc1RkVCQTc3NEM2NzVEOUFEQzA2QzY5QjdGM0M4QUIyQTgyNjM5MjE1QTFCMDZGQTUwNTBCN0JFNDE0NjA1OThDNzhDOTRERUYxODA1Mjc1QUNDMkFCMzc3MzUyQ0YxMjFDQTNGNDMxOEQyNzFEMUUwMzM4NzQ5QkUxM0FENzY0NUFCNTI2NzY4OTFFQUQzMkQ4NEEwNTFDNkFGODAzMjk2MkJBRUI4REZDQTE4RTIzOUQ0Q0IwN0VGQkJDMzMxQjBDNTgxOEFCNjA1QTA5OEU0MDExRTM0REJGOEQwRTFBOTI3QzAyNDQ2QzcyNzc2OUFEOUQyODY3NURENkI5RERCOTVGM0FEODEyMjAxNDU1MTE5OTgyMUY0NEMxNDkwNTMyRDM5MUZCQjBGRjFGRTM3NzRDODQ3NENCMjk3NjNFOTI5RkRBOUJFMkZFNDYzQjNBNTU4NjYzQjAyODZFQURCOUMyOTJFNkUwQTg5NEQ4QzFBQ0VCMTgzMUUzRTFDMjk3RkQwNjYxMjIwMjYzMkMzQjAwQjU5Njk0MzY3QTA5QTczMEFFOURGM0QyREFDQTY5QTZDOTVGRjAyNTIyQkI2NDMyMUZCQjE2QTE0NURGNjQxOTE5NUVBNEJFNjRCQjVEMzQ1M0M2M0NFQUZCNEI4QkU4MkI5RTI4NjFGQUY0MTE3QzhDQ0RBMzZEQTRBMTJGNTBBOEFBMjZGRUM5RkM4RjMxNjdBNzk3MEI3MDdEMEZCM0YzQjgzNjk1NjExRTkzRThDMjRDMDlBMDFFMUIxQTQ2MUEyNDZENTAwOTQwNTgxNDQ4NUI1MDY0QTVFNUVDRjkzQkNEMzgyQjNBNjJDNjM3OTkzM0Y1NDhERTdEQUM3NEY3RTYxQjhFMThBRjk1NEE0Q0UxNkU1REM4QjVDOTQxRkFFQ0JBRkRFNkRCRDA2OEZBREY0QjYwNEU2MDNGMzdDRDQ0NUZFQzBEQThDRDdBOTYxNjkyODBEQUI1NTMwOUJBOTgwQkJCMDVENTYwNTU3OEQzOUI5MEIzMjdCQkNEN0IzRjM0RTEwQkYxMjZGM0Y5QTVGQTUyQzkzMjc0NDU2QjYzRkZBMjZCRTUyNjU0RTI0RTI2NERBNjY1ODQ0RThEMkMzQjgzRTMyODhGMjQ4NkNCRTlBOTkxNjhBRkIzREQwNkJBRTAwRkVENDA4RjBFODU5NjE5NUE1REFCMDZEQUU1RjZCRjRBN0E0NjMwMUVDNTZGMjY4M0Q4REVEOEFCREVCNjM5QkUyODZERTU2QUFDOThDRTNBMUEzQTczODEyODI0QzA0NDA1REUzM0RCREVDMTZFQzJBN0E4RjM3MjI1REY2Mzc3NUM5NUVGNDExNUFDMjU4QUVDNUJEOEUxNEY0QTNGQzc3MjU0NDA2NjhFOEFEQ0RGNEVFQUI3NTEzQ0Y5MTIxQjEz</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ASP.NET_SessionId" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZHdyemVjMWxpZmx2M2lsd3dkdGlxNGN6</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Content-Type" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1hZ2UvZ2lm</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyOSBKYW4gMjAxNCAxODozMzoxOSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjQ1NjVmNzk0MjAxZGNmMTowIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy84LjA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAyOSBBdWcgMjAxNyAyMDo1MDozNSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTIxMQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGltYWdlL2dpZg0KTGFzdC1Nb2RpZmllZDogV2VkLCAyOSBKYW4gMjAxNCAxODozMzoxOSBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiNDU2NWY3OTQyMDFkY2YxOjAiDQpTZXJ2ZXI6IE1pY3Jvc29mdC1JSVMvOC4wDQpYLVBvd2VyZWQtQnk6IEFTUC5ORVQNCkRhdGU6IFR1ZSwgMjkgQXVnIDIwMTcgMjA6NTA6MzUgR01UDQpDb250ZW50LUxlbmd0aDogMTIxMQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>R0lGODlhAQAjAMQAALPQ3rDQ3bHR3r7e673a6LnW5MPf67bT4bra57fX5LfU4rPT4LTR37HO3LvY5rXV4rXR3bjV47LS37XS4Lzc6bnZ5rzZ57bW477b6a/P3LLP3brX5b/c6gAAAAAAAAAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4zLWMwMTEgNjYuMTQ1NjYxLCAyMDEyLzAyLzA2LTE0OjU2OjI3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGODE3RDZDOEI3RTkxMUUyQTkxRjg5ODQwMEZDOTA3NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGODE3RDZDOUI3RTkxMUUyQTkxRjg5ODQwMEZDOTA3NyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkY4MTdENkM2QjdFOTExRTJBOTFGODk4NDAwRkM5MDc3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY4MTdENkM3QjdFOTExRTJBOTFGODk4NDAwRkM5MDc3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAAAAAAAsAAAAAAEAIwAABRygMXAkhlEEYlXOtiXFFT3KsUwSIwBaoGWZBiQEADs=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="1236441413" offset="0" length="1459" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>